/*!--------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/(function(){var ke=["exports","require","vs/base/common/uri","vs/platform/instantiation/common/instantiation","vs/base/common/event","vs/workbench/api/common/extHost.protocol","vs/base/common/lifecycle","vs/workbench/api/common/extHostTypes","vs/workbench/api/common/extHostTypeConverters","vs/base/common/types","vs/base/common/strings","vs/base/common/errors","vs/platform/log/common/log","vs/nls","vs/nls!vs/workbench/api/worker/extensionHostWorker","vs/base/common/network","vs/base/common/arrays","vs/base/common/async","vs/workbench/api/common/extHostRpcService","vs/base/common/path","vs/base/common/platform","vs/base/common/cancellation","vs/base/common/objects","vs/base/common/buffer","vs/base/common/resources","vs/workbench/services/extensions/common/extensions","vs/platform/extensions/common/extensions","vs/workbench/api/common/extHostInitDataService","vs/base/common/map","vs/base/common/severity","vs/platform/registry/common/platform","vs/workbench/api/common/extHostWorkspace","vs/workbench/api/common/extHostConfiguration","vs/workbench/api/common/extHostExtensionService","vs/base/common/uuid","vs/base/common/glob","vs/workbench/api/common/extHostFileSystemInfo","vs/workbench/api/common/extHostCommands","vs/base/common/themables","vs/base/common/errorMessage","vs/base/common/extpath","vs/platform/configuration/common/configuration","vs/platform/contextkey/common/contextkey","vs/platform/files/common/files","vs/editor/common/core/range","vs/workbench/contrib/testing/common/testId","vs/workbench/services/extensions/common/proxyIdentifier","vs/workbench/services/search/common/search","vs/base/common/ternarySearchTree","vs/base/common/assert","vs/platform/remote/common/remoteHosts","vs/base/common/process","vs/platform/telemetry/common/telemetryUtils","vs/platform/workspace/common/workspace","vs/workbench/api/common/cache","vs/workbench/api/common/extHostUriTransformerService","vs/workbench/contrib/testing/common/testTypes","vs/workbench/api/common/extHostTelemetry","vs/workbench/api/common/extHostDocumentsAndEditors","vs/workbench/api/common/extHostEditorTabs","vs/workbench/api/common/extHostFileSystemConsumer","vs/workbench/api/common/extHostTerminalService","vs/workbench/api/common/extHostWebview","vs/base/common/collections","vs/base/common/decorators","vs/base/common/mime","vs/base/common/marshalling","vs/platform/instantiation/common/extensions","vs/platform/instantiation/common/serviceCollection","vs/platform/jsonschemas/common/jsonContributionRegistry","vs/workbench/api/common/extHostTunnelService","vs/workbench/contrib/notebook/common/notebookCommon","vs/workbench/contrib/testing/common/testItemCollection","vs/workbench/contrib/webview/common/webview","vs/workbench/services/extensions/common/extensionHostProtocol","vs/editor/common/languages","vs/workbench/api/common/extHostApiDeprecationService","vs/base/common/stopwatch","vs/workbench/api/common/extHostLocalizationService","vs/workbench/api/common/extHostSecretState","vs/workbench/api/common/extHostStorage","vs/workbench/api/common/extHostStoragePaths","vs/base/common/performance","vs/base/common/idGenerator","vs/base/common/codicons","vs/base/common/lazy","vs/base/common/htmlContent","vs/base/common/labels","vs/editor/common/services/semanticTokensDto","vs/platform/instantiation/common/descriptors","vs/platform/extensionManagement/common/extensionManagement","vs/platform/markers/common/markers","vs/platform/opener/common/opener","vs/platform/configuration/common/configurationRegistry","vs/platform/remote/common/remoteAuthorityResolver","vs/workbench/common/editor","vs/workbench/api/common/extHostTestingPrivateApi","vs/workbench/services/editor/common/editorGroupsService","vs/workbench/services/extensions/common/extensionDescriptionRegistry","vs/workbench/api/common/extHostDocumentData","vs/workbench/api/common/extHostNotebookEditor","vs/workbench/api/common/extHostTestItem","vs/workbench/api/common/extHostTextEditor","vs/workbench/api/common/extHostDecorations","vs/workbench/api/common/extHostWindow","vs/workbench/api/common/extHostOutput","vs/workbench/services/search/common/searchExtTypes","vs/workbench/api/common/extHostTask","vs/workbench/api/common/extHostVariableResolverService","vs/workbench/api/common/extHostDebugService","vs/workbench/api/common/extHostSearch","vs/base/common/json","vs/base/common/marked/marked","vs/base/common/numbers","vs/base/common/stream","vs/base/common/symbols","vs/base/common/dataTransfer","vs/editor/common/core/textModelDefaults","vs/editor/common/languages/languageConfiguration","vs/nls!vs/base/common/actions","vs/nls!vs/base/common/date","vs/base/common/date","vs/nls!vs/base/common/errorMessage","vs/base/common/comparers","vs/base/common/actions","vs/base/common/filters","vs/base/common/iconLabels","vs/base/common/uriIpc","vs/editor/common/languageSelector","vs/nls!vs/editor/common/config/editorOptions","vs/editor/common/config/editorOptions","vs/editor/common/core/wordHelper","vs/nls!vs/platform/configuration/common/configurationRegistry","vs/nls!vs/platform/extensionManagement/common/extensionManagement","vs/nls!vs/platform/extensions/common/extensionValidator","vs/nls!vs/platform/files/common/files","vs/nls!vs/platform/markers/common/markers","vs/nls!vs/platform/theme/common/iconRegistry","vs/nls!vs/platform/workspace/common/workspace","vs/nls!vs/workbench/api/common/extHostDiagnostics","vs/nls!vs/workbench/api/common/extHostExtensionService","vs/nls!vs/workbench/api/common/extHostProgress","vs/nls!vs/workbench/api/common/extHostStatusBar","vs/nls!vs/workbench/api/common/extHostTelemetry","vs/nls!vs/workbench/api/common/extHostTerminalService","vs/nls!vs/workbench/api/common/extHostTreeViews","vs/nls!vs/workbench/api/common/extHostWorkspace","vs/nls!vs/workbench/common/editor","vs/nls!vs/workbench/common/views","vs/nls!vs/workbench/contrib/debug/common/abstractDebugAdapter","vs/nls!vs/workbench/contrib/debug/common/debug","vs/nls!vs/workbench/contrib/tasks/common/taskDefinitionRegistry","vs/nls!vs/workbench/contrib/tasks/common/tasks","vs/nls!vs/workbench/services/configurationResolver/common/variableResolver","vs/nls!vs/workbench/services/extensions/common/extensionsRegistry","vs/nls!vs/workbench/services/search/common/queryBuilder","vs/platform/contextkey/common/scanner","vs/platform/extensionManagement/common/implicitActivationEvents","vs/platform/extensions/common/extensionValidator","vs/platform/instantiation/common/graph","vs/platform/environment/common/environment","vs/platform/instantiation/common/instantiationService","vs/base/common/linkedList","vs/platform/log/common/logService","vs/platform/notification/common/notification","vs/platform/product/common/productService","vs/platform/progress/common/progress","vs/platform/configuration/common/configurationModels","vs/platform/telemetry/common/commonProperties","vs/platform/telemetry/common/telemetry","vs/platform/extensionManagement/common/extensionManagementUtil","vs/platform/terminal/common/environmentVariableShared","vs/platform/terminal/common/terminalDataBuffering","vs/platform/theme/common/iconRegistry","vs/platform/tunnel/common/tunnel","vs/platform/workspace/common/editSessions","vs/platform/workspace/common/virtualWorkspace","vs/workbench/api/common/extHostLogService","vs/workbench/api/common/extHostMemento","vs/workbench/api/common/extHostNotebookDocuments","vs/workbench/api/common/extHostSecrets","vs/workbench/api/common/extHostWebviewMessaging","vs/workbench/common/views","vs/workbench/contrib/debug/common/abstractDebugAdapter","vs/workbench/contrib/debug/common/debug","vs/workbench/contrib/debug/common/debugUtils","vs/base/common/iterator","vs/workbench/contrib/notebook/common/notebookExecutionService","vs/workbench/api/common/extHostCodeInsets","vs/workbench/services/configurationResolver/common/configurationResolver","vs/workbench/services/configurationResolver/common/variableResolver","vs/workbench/services/editor/common/editorService","vs/workbench/services/environment/common/environmentService","vs/workbench/api/common/extHostExtensionActivator","vs/workbench/api/common/extHostTheming","vs/base/common/functional","vs/workbench/api/common/extHostDocumentSaveParticipant","vs/workbench/api/common/extHostNotebookDocument","vs/workbench/api/common/extHostNotebookEditors","vs/workbench/api/common/extHostProgress","vs/workbench/services/extensions/common/extensionsApiProposals","vs/workbench/services/extensions/common/extensionsRegistry","vs/workbench/contrib/tasks/common/taskDefinitionRegistry","vs/workbench/contrib/tasks/common/tasks","vs/workbench/services/extensions/common/lazyPromise","vs/workbench/api/common/extHostAuthentication","vs/workbench/api/common/extHostBulkEdits","vs/workbench/api/common/extHostClipboard","vs/workbench/api/common/extHostApiCommands","vs/workbench/api/common/extHostComments","vs/workbench/api/common/extHostConsoleForwarder","vs/workbench/api/common/extHostDiagnostics","vs/workbench/api/common/extHostDialogs","vs/workbench/api/common/extHostDocumentContentProviders","vs/workbench/api/common/extHostDocuments","vs/workbench/api/common/extHostFileSystem","vs/workbench/api/common/extHostFileSystemEventService","vs/workbench/api/common/extHostInteractive","vs/workbench/api/common/extHostLabelService","vs/workbench/api/common/extHostLanguageFeatures","vs/workbench/api/common/extHostLanguages","vs/workbench/api/common/extHostLoggerService","vs/workbench/api/common/extHostMessageService","vs/workbench/api/common/extHostNotebook","vs/workbench/api/common/extHostNotebookKernels","vs/workbench/api/common/extHostNotebookRenderers","vs/workbench/api/common/extHostProfileContentHandler","vs/workbench/api/common/extHostQuickDiff","vs/workbench/api/common/extHostQuickOpen","vs/workbench/api/common/extHostSCM","vs/workbench/api/common/extHostStatusBar","vs/workbench/api/common/extHostTesting","vs/base/common/hash","vs/workbench/api/common/extHostTextEditors","vs/workbench/api/common/extHostTimeline","vs/workbench/api/common/extHostUriOpener","vs/workbench/api/common/extHostUrls","vs/workbench/api/common/extHostCustomEditors","vs/workbench/api/common/extHostWebviewPanels","vs/workbench/api/common/extHostWebviewView","vs/workbench/api/worker/extHostConsoleForwarder","vs/workbench/services/extensions/common/rpcProtocol","vs/workbench/services/extensions/worker/polyfillNestedWorker","vs/workbench/services/output/common/output","vs/workbench/services/remote/common/remoteAgentService","vs/workbench/services/path/common/pathService","vs/workbench/services/search/common/fileSearchManager","vs/workbench/services/search/common/queryBuilder","vs/workbench/services/extensions/common/workspaceContains","vs/workbench/api/common/extHostRequireInterceptor","vs/workbench/api/common/extensionHostMain","vs/workbench/services/search/common/textSearchManager","vs/workbench/api/common/extHost.common.services","vs/workbench/services/views/common/treeViewsService","vs/workbench/api/common/extHostTreeViews","vs/workbench/api/common/extHost.api.impl","vs/workbench/api/worker/extHostExtensionService","vs/workbench/api/worker/extHost.worker.services","vs/base/common/semver/semver","vs/editor/common/model/mirrorTextModel","vs/editor/common/core/position","vs/editor/common/languages/linkComputer","vs/editor/common/core/selection","vs/editor/common/model/textModelSearch","vs/editor/common/model","vs/workbench/api/worker/extensionHostWorker"],Te=function(ne){for(var e=[],i=0,T=ne.length;i<T;i++)e[i]=ke[ne[i]];return e};define(ke[63],Te([1,0]),function(ne,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SetMap=e.diffMaps=e.diffSets=e.groupBy=void 0;function i(E,R){const S=Object.create(null);for(const k of E){const M=R(k);let D=S[M];D||(D=S[M]=[]),D.push(k)}return S}e.groupBy=i;function T(E,R){const S=[],k=[];for(const M of E)R.has(M)||S.push(M);for(const M of R)E.has(M)||k.push(M);return{removed:S,added:k}}e.diffSets=T;function I(E,R){const S=[],k=[];for(const[M,D]of E)R.has(M)||S.push(D);for(const[M,D]of R)E.has(M)||k.push(D);return{removed:S,added:k}}e.diffMaps=I;class N{constructor(){this.a=new Map}add(R,S){let k=this.a.get(R);k||(k=new Set,this.a.set(R,k)),k.add(S)}delete(R,S){const k=this.a.get(R);!k||(k.delete(S),k.size===0&&this.a.delete(R))}forEach(R,S){const k=this.a.get(R);!k||k.forEach(S)}}e.SetMap=N}),define(ke[64],Te([1,0]),function(ne,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.throttle=e.debounce=e.memoize=void 0;function i(E){return(R,S,k)=>{let M=null,D=null;if(typeof k.value=="function"?(M="value",D=k.value):typeof k.get=="function"&&(M="get",D=k.get),!D)throw new Error("not supported");k[M]=E(D,S)}}function T(E,R,S){let k=null,M=null;if(typeof S.value=="function"?(k="value",M=S.value,M.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof S.get=="function"&&(k="get",M=S.get),!M)throw new Error("not supported");const D=`$memoize$${R}`;S[k]=function(...h){return this.hasOwnProperty(D)||Object.defineProperty(this,D,{configurable:!1,enumerable:!1,writable:!1,value:M.apply(this,h)}),this[D]}}e.memoize=T;function I(E,R,S){return i((k,M)=>{const D=`$debounce$${M}`,h=`$debounce$result$${M}`;return function(...b){this[h]||(this[h]=S?S():void 0),clearTimeout(this[D]),R&&(this[h]=R(this[h],...b),b=[this[h]]),this[D]=setTimeout(()=>{k.apply(this,b),this[h]=S?S():void 0},E)}})}e.debounce=I;function N(E,R,S){return i((k,M)=>{const D=`$throttle$timer$${M}`,h=`$throttle$result$${M}`,b=`$throttle$lastRun$${M}`,g=`$throttle$pending$${M}`;return function(...a){if(this[h]||(this[h]=S?S():void 0),(this[b]===null||this[b]===void 0)&&(this[b]=-Number.MAX_VALUE),R&&(this[h]=R(this[h],...a)),this[g])return;const o=this[b]+E;o<=Date.now()?(this[b]=Date.now(),k.apply(this,[this[h]]),this[h]=S?S():void 0):(this[g]=!0,this[D]=setTimeout(()=>{this[g]=!1,this[b]=Date.now(),k.apply(this,[this[h]]),this[h]=S?S():void 0},o-Date.now()))}})}e.throttle=N}),define(ke[83],Te([1,0]),function(ne,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultGenerator=e.IdGenerator=void 0;class i{constructor(I){this.a=I,this.b=0}nextId(){return this.a+ ++this.b}}e.IdGenerator=i,e.defaultGenerator=new i("id#")}),define(ke[111],Te([1,0]),function(ne,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getNodeType=e.stripComments=e.visit=e.findNodeAtOffset=e.contains=e.getNodeValue=e.getNodePath=e.findNodeAtLocation=e.parseTree=e.parse=e.getLocation=e.createScanner=e.ParseOptions=e.ParseErrorCode=e.SyntaxKind=e.ScanError=void 0;var i;(function(t){t[t.None=0]="None",t[t.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",t[t.UnexpectedEndOfString=2]="UnexpectedEndOfString",t[t.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",t[t.InvalidUnicode=4]="InvalidUnicode",t[t.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",t[t.InvalidCharacter=6]="InvalidCharacter"})(i=e.ScanError||(e.ScanError={}));var T;(function(t){t[t.OpenBraceToken=1]="OpenBraceToken",t[t.CloseBraceToken=2]="CloseBraceToken",t[t.OpenBracketToken=3]="OpenBracketToken",t[t.CloseBracketToken=4]="CloseBracketToken",t[t.CommaToken=5]="CommaToken",t[t.ColonToken=6]="ColonToken",t[t.NullKeyword=7]="NullKeyword",t[t.TrueKeyword=8]="TrueKeyword",t[t.FalseKeyword=9]="FalseKeyword",t[t.StringLiteral=10]="StringLiteral",t[t.NumericLiteral=11]="NumericLiteral",t[t.LineCommentTrivia=12]="LineCommentTrivia",t[t.BlockCommentTrivia=13]="BlockCommentTrivia",t[t.LineBreakTrivia=14]="LineBreakTrivia",t[t.Trivia=15]="Trivia",t[t.Unknown=16]="Unknown",t[t.EOF=17]="EOF"})(T=e.SyntaxKind||(e.SyntaxKind={}));var I;(function(t){t[t.InvalidSymbol=1]="InvalidSymbol",t[t.InvalidNumberFormat=2]="InvalidNumberFormat",t[t.PropertyNameExpected=3]="PropertyNameExpected",t[t.ValueExpected=4]="ValueExpected",t[t.ColonExpected=5]="ColonExpected",t[t.CommaExpected=6]="CommaExpected",t[t.CloseBraceExpected=7]="CloseBraceExpected",t[t.CloseBracketExpected=8]="CloseBracketExpected",t[t.EndOfFileExpected=9]="EndOfFileExpected",t[t.InvalidCommentToken=10]="InvalidCommentToken",t[t.UnexpectedEndOfComment=11]="UnexpectedEndOfComment",t[t.UnexpectedEndOfString=12]="UnexpectedEndOfString",t[t.UnexpectedEndOfNumber=13]="UnexpectedEndOfNumber",t[t.InvalidUnicode=14]="InvalidUnicode",t[t.InvalidEscapeCharacter=15]="InvalidEscapeCharacter",t[t.InvalidCharacter=16]="InvalidCharacter"})(I=e.ParseErrorCode||(e.ParseErrorCode={}));var N;(function(t){t.DEFAULT={allowTrailingComma:!0}})(N=e.ParseOptions||(e.ParseOptions={}));function E(t,d=!1){let r=0;const u=t.length;let c="",y=0,n=16,s=0;function f(j){let L=0,m=0;for(;L<j;){const F=t.charCodeAt(r);if(F>=48&&F<=57)m=m*16+F-48;else if(F>=65&&F<=70)m=m*16+F-65+10;else if(F>=97&&F<=102)m=m*16+F-97+10;else break;r++,L++}return L<j&&(m=-1),m}function A(j){r=j,c="",y=0,n=16,s=0}function P(){const j=r;if(t.charCodeAt(r)===48)r++;else for(r++;r<t.length&&k(t.charCodeAt(r));)r++;if(r<t.length&&t.charCodeAt(r)===46)if(r++,r<t.length&&k(t.charCodeAt(r)))for(r++;r<t.length&&k(t.charCodeAt(r));)r++;else return s=3,t.substring(j,r);let L=r;if(r<t.length&&(t.charCodeAt(r)===69||t.charCodeAt(r)===101))if(r++,(r<t.length&&t.charCodeAt(r)===43||t.charCodeAt(r)===45)&&r++,r<t.length&&k(t.charCodeAt(r))){for(r++;r<t.length&&k(t.charCodeAt(r));)r++;L=r}else s=3;return t.substring(j,L)}function H(){let j="",L=r;for(;;){if(r>=u){j+=t.substring(L,r),s=2;break}const m=t.charCodeAt(r);if(m===34){j+=t.substring(L,r),r++;break}if(m===92){if(j+=t.substring(L,r),r++,r>=u){s=2;break}switch(t.charCodeAt(r++)){case 34:j+='"';break;case 92:j+="\\";break;case 47:j+="/";break;case 98:j+="\b";break;case 102:j+="\f";break;case 110:j+=`
`;break;case 114:j+="\r";break;case 116:j+="	";break;case 117:{const B=f(4);B>=0?j+=String.fromCharCode(B):s=4;break}default:s=5}L=r;continue}if(m>=0&&m<=31)if(S(m)){j+=t.substring(L,r),s=2;break}else s=6;r++}return j}function Y(){if(c="",s=0,y=r,r>=u)return y=u,n=17;let j=t.charCodeAt(r);if(R(j)){do r++,c+=String.fromCharCode(j),j=t.charCodeAt(r);while(R(j));return n=15}if(S(j))return r++,c+=String.fromCharCode(j),j===13&&t.charCodeAt(r)===10&&(r++,c+=`
`),n=14;switch(j){case 123:return r++,n=1;case 125:return r++,n=2;case 91:return r++,n=3;case 93:return r++,n=4;case 58:return r++,n=6;case 44:return r++,n=5;case 34:return r++,c=H(),n=10;case 47:{const L=r-1;if(t.charCodeAt(r+1)===47){for(r+=2;r<u&&!S(t.charCodeAt(r));)r++;return c=t.substring(L,r),n=12}if(t.charCodeAt(r+1)===42){r+=2;const m=u-1;let F=!1;for(;r<m;){if(t.charCodeAt(r)===42&&t.charCodeAt(r+1)===47){r+=2,F=!0;break}r++}return F||(r++,s=1),c=t.substring(L,r),n=13}return c+=String.fromCharCode(j),r++,n=16}case 45:if(c+=String.fromCharCode(j),r++,r===u||!k(t.charCodeAt(r)))return n=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return c+=P(),n=11;default:for(;r<u&&Z(j);)r++,j=t.charCodeAt(r);if(y!==r){switch(c=t.substring(y,r),c){case"true":return n=8;case"false":return n=9;case"null":return n=7}return n=16}return c+=String.fromCharCode(j),r++,n=16}}function Z(j){if(R(j)||S(j))return!1;switch(j){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function _(){let j;do j=Y();while(j>=12&&j<=15);return j}return{setPosition:A,getPosition:()=>r,scan:d?_:Y,getToken:()=>n,getTokenValue:()=>c,getTokenOffset:()=>y,getTokenLength:()=>r-y,getTokenError:()=>s}}e.createScanner=E;function R(t){return t===32||t===9||t===11||t===12||t===160||t===5760||t>=8192&&t<=8203||t===8239||t===8287||t===12288||t===65279}function S(t){return t===10||t===13||t===8232||t===8233}function k(t){return t>=48&&t<=57}var M;(function(t){t[t.nullCharacter=0]="nullCharacter",t[t.maxAsciiCharacter=127]="maxAsciiCharacter",t[t.lineFeed=10]="lineFeed",t[t.carriageReturn=13]="carriageReturn",t[t.lineSeparator=8232]="lineSeparator",t[t.paragraphSeparator=8233]="paragraphSeparator",t[t.nextLine=133]="nextLine",t[t.space=32]="space",t[t.nonBreakingSpace=160]="nonBreakingSpace",t[t.enQuad=8192]="enQuad",t[t.emQuad=8193]="emQuad",t[t.enSpace=8194]="enSpace",t[t.emSpace=8195]="emSpace",t[t.threePerEmSpace=8196]="threePerEmSpace",t[t.fourPerEmSpace=8197]="fourPerEmSpace",t[t.sixPerEmSpace=8198]="sixPerEmSpace",t[t.figureSpace=8199]="figureSpace",t[t.punctuationSpace=8200]="punctuationSpace",t[t.thinSpace=8201]="thinSpace",t[t.hairSpace=8202]="hairSpace",t[t.zeroWidthSpace=8203]="zeroWidthSpace",t[t.narrowNoBreakSpace=8239]="narrowNoBreakSpace",t[t.ideographicSpace=12288]="ideographicSpace",t[t.mathematicalSpace=8287]="mathematicalSpace",t[t.ogham=5760]="ogham",t[t._=95]="_",t[t.$=36]="$",t[t._0=48]="_0",t[t._1=49]="_1",t[t._2=50]="_2",t[t._3=51]="_3",t[t._4=52]="_4",t[t._5=53]="_5",t[t._6=54]="_6",t[t._7=55]="_7",t[t._8=56]="_8",t[t._9=57]="_9",t[t.a=97]="a",t[t.b=98]="b",t[t.c=99]="c",t[t.d=100]="d",t[t.e=101]="e",t[t.f=102]="f",t[t.g=103]="g",t[t.h=104]="h",t[t.i=105]="i",t[t.j=106]="j",t[t.k=107]="k",t[t.l=108]="l",t[t.m=109]="m",t[t.n=110]="n",t[t.o=111]="o",t[t.p=112]="p",t[t.q=113]="q",t[t.r=114]="r",t[t.s=115]="s",t[t.t=116]="t",t[t.u=117]="u",t[t.v=118]="v",t[t.w=119]="w",t[t.x=120]="x",t[t.y=121]="y",t[t.z=122]="z",t[t.A=65]="A",t[t.B=66]="B",t[t.C=67]="C",t[t.D=68]="D",t[t.E=69]="E",t[t.F=70]="F",t[t.G=71]="G",t[t.H=72]="H",t[t.I=73]="I",t[t.J=74]="J",t[t.K=75]="K",t[t.L=76]="L",t[t.M=77]="M",t[t.N=78]="N",t[t.O=79]="O",t[t.P=80]="P",t[t.Q=81]="Q",t[t.R=82]="R",t[t.S=83]="S",t[t.T=84]="T",t[t.U=85]="U",t[t.V=86]="V",t[t.W=87]="W",t[t.X=88]="X",t[t.Y=89]="Y",t[t.Z=90]="Z",t[t.ampersand=38]="ampersand",t[t.asterisk=42]="asterisk",t[t.at=64]="at",t[t.backslash=92]="backslash",t[t.bar=124]="bar",t[t.caret=94]="caret",t[t.closeBrace=125]="closeBrace",t[t.closeBracket=93]="closeBracket",t[t.closeParen=41]="closeParen",t[t.colon=58]="colon",t[t.comma=44]="comma",t[t.dot=46]="dot",t[t.doubleQuote=34]="doubleQuote",t[t.equals=61]="equals",t[t.exclamation=33]="exclamation",t[t.greaterThan=62]="greaterThan",t[t.lessThan=60]="lessThan",t[t.minus=45]="minus",t[t.openBrace=123]="openBrace",t[t.openBracket=91]="openBracket",t[t.openParen=40]="openParen",t[t.percent=37]="percent",t[t.plus=43]="plus",t[t.question=63]="question",t[t.semicolon=59]="semicolon",t[t.singleQuote=39]="singleQuote",t[t.slash=47]="slash",t[t.tilde=126]="tilde",t[t.backspace=8]="backspace",t[t.formFeed=12]="formFeed",t[t.byteOrderMark=65279]="byteOrderMark",t[t.tab=9]="tab",t[t.verticalTab=11]="verticalTab"})(M||(M={}));function D(t,d){const r=[],u=new Object;let c;const y={value:{},offset:0,length:0,type:"object",parent:void 0};let n=!1;function s(f,A,P,H){y.value=f,y.offset=A,y.length=P,y.type=H,y.colonOffset=void 0,c=y}try{w(t,{onObjectBegin:(f,A)=>{if(d<=f)throw u;c=void 0,n=d>f,r.push("")},onObjectProperty:(f,A,P)=>{if(d<A||(s(f,A,P,"property"),r[r.length-1]=f,d<=A+P))throw u},onObjectEnd:(f,A)=>{if(d<=f)throw u;c=void 0,r.pop()},onArrayBegin:(f,A)=>{if(d<=f)throw u;c=void 0,r.push(0)},onArrayEnd:(f,A)=>{if(d<=f)throw u;c=void 0,r.pop()},onLiteralValue:(f,A,P)=>{if(d<A||(s(f,A,P,v(f)),d<=A+P))throw u},onSeparator:(f,A,P)=>{if(d<=A)throw u;if(f===":"&&c&&c.type==="property")c.colonOffset=A,n=!1,c=void 0;else if(f===","){const H=r[r.length-1];typeof H=="number"?r[r.length-1]=H+1:(n=!0,r[r.length-1]=""),c=void 0}}})}catch(f){if(f!==u)throw f}return{path:r,previousNode:c,isAtPropertyKey:n,matches:f=>{let A=0;for(let P=0;A<f.length&&P<r.length;P++)if(f[A]===r[P]||f[A]==="*")A++;else if(f[A]!=="**")return!1;return A===f.length}}}e.getLocation=D;function h(t,d=[],r=N.DEFAULT){let u=null,c=[];const y=[];function n(f){Array.isArray(c)?c.push(f):u!==null&&(c[u]=f)}return w(t,{onObjectBegin:()=>{const f={};n(f),y.push(c),c=f,u=null},onObjectProperty:f=>{u=f},onObjectEnd:()=>{c=y.pop()},onArrayBegin:()=>{const f=[];n(f),y.push(c),c=f,u=null},onArrayEnd:()=>{c=y.pop()},onLiteralValue:n,onError:(f,A,P)=>{d.push({error:f,offset:A,length:P})}},r),c[0]}e.parse=h;function b(t,d=[],r=N.DEFAULT){let u={type:"array",offset:-1,length:-1,children:[],parent:void 0};function c(f){u.type==="property"&&(u.length=f-u.offset,u=u.parent)}function y(f){return u.children.push(f),f}w(t,{onObjectBegin:f=>{u=y({type:"object",offset:f,length:-1,parent:u,children:[]})},onObjectProperty:(f,A,P)=>{u=y({type:"property",offset:A,length:-1,parent:u,children:[]}),u.children.push({type:"string",value:f,offset:A,length:P,parent:u})},onObjectEnd:(f,A)=>{u.length=f+A-u.offset,u=u.parent,c(f+A)},onArrayBegin:(f,A)=>{u=y({type:"array",offset:f,length:-1,parent:u,children:[]})},onArrayEnd:(f,A)=>{u.length=f+A-u.offset,u=u.parent,c(f+A)},onLiteralValue:(f,A,P)=>{y({type:v(f),offset:A,length:P,parent:u,value:f}),c(A+P)},onSeparator:(f,A,P)=>{u.type==="property"&&(f===":"?u.colonOffset=A:f===","&&c(A))},onError:(f,A,P)=>{d.push({error:f,offset:A,length:P})}},r);const s=u.children[0];return s&&delete s.parent,s}e.parseTree=b;function g(t,d){if(!t)return;let r=t;for(const u of d)if(typeof u=="string"){if(r.type!=="object"||!Array.isArray(r.children))return;let c=!1;for(const y of r.children)if(Array.isArray(y.children)&&y.children[0].value===u){r=y.children[1],c=!0;break}if(!c)return}else{const c=u;if(r.type!=="array"||c<0||!Array.isArray(r.children)||c>=r.children.length)return;r=r.children[c]}return r}e.findNodeAtLocation=g;function a(t){if(!t.parent||!t.parent.children)return[];const d=a(t.parent);if(t.parent.type==="property"){const r=t.parent.children[0].value;d.push(r)}else if(t.parent.type==="array"){const r=t.parent.children.indexOf(t);r!==-1&&d.push(r)}return d}e.getNodePath=a;function o(t){switch(t.type){case"array":return t.children.map(o);case"object":{const d=Object.create(null);for(const r of t.children){const u=r.children[1];u&&(d[r.children[0].value]=o(u))}return d}case"null":case"string":case"number":case"boolean":return t.value;default:return}}e.getNodeValue=o;function l(t,d,r=!1){return d>=t.offset&&d<t.offset+t.length||r&&d===t.offset+t.length}e.contains=l;function p(t,d,r=!1){if(l(t,d,r)){const u=t.children;if(Array.isArray(u))for(let c=0;c<u.length&&u[c].offset<=d;c++){const y=p(u[c],d,r);if(y)return y}return t}}e.findNodeAtOffset=p;function w(t,d,r=N.DEFAULT){const u=E(t,!1);function c(we){return we?()=>we(u.getTokenOffset(),u.getTokenLength()):()=>!0}function y(we){return we?q=>we(q,u.getTokenOffset(),u.getTokenLength()):()=>!0}const n=c(d.onObjectBegin),s=y(d.onObjectProperty),f=c(d.onObjectEnd),A=c(d.onArrayBegin),P=c(d.onArrayEnd),H=y(d.onLiteralValue),Y=y(d.onSeparator),Z=c(d.onComment),_=y(d.onError),j=r&&r.disallowComments,L=r&&r.allowTrailingComma;function m(){for(;;){const we=u.scan();switch(u.getTokenError()){case 4:F(14);break;case 5:F(15);break;case 3:F(13);break;case 1:j||F(11);break;case 2:F(12);break;case 6:F(16);break}switch(we){case 12:case 13:j?F(10):Z();break;case 16:F(1);break;case 15:case 14:break;default:return we}}}function F(we,q=[],K=[]){if(_(we),q.length+K.length>0){let X=u.getToken();for(;X!==17;){if(q.indexOf(X)!==-1){m();break}else if(K.indexOf(X)!==-1)break;X=m()}}}function B(we){const q=u.getTokenValue();return we?H(q):s(q),m(),!0}function J(){switch(u.getToken()){case 11:{let we=0;try{we=JSON.parse(u.getTokenValue()),typeof we!="number"&&(F(2),we=0)}catch{F(2)}H(we);break}case 7:H(null);break;case 8:H(!0);break;case 9:H(!1);break;default:return!1}return m(),!0}function me(){return u.getToken()!==10?(F(3,[],[2,5]),!1):(B(!1),u.getToken()===6?(Y(":"),m(),ce()||F(4,[],[2,5])):F(5,[],[2,5]),!0)}function te(){n(),m();let we=!1;for(;u.getToken()!==2&&u.getToken()!==17;){if(u.getToken()===5){if(we||F(4,[],[]),Y(","),m(),u.getToken()===2&&L)break}else we&&F(6,[],[]);me()||F(4,[],[2,5]),we=!0}return f(),u.getToken()!==2?F(7,[2],[]):m(),!0}function oe(){A(),m();let we=!1;for(;u.getToken()!==4&&u.getToken()!==17;){if(u.getToken()===5){if(we||F(4,[],[]),Y(","),m(),u.getToken()===4&&L)break}else we&&F(6,[],[]);ce()||F(4,[],[4,5]),we=!0}return P(),u.getToken()!==4?F(8,[4],[]):m(),!0}function ce(){switch(u.getToken()){case 3:return oe();case 1:return te();case 10:return B(!0);default:return J()}}return m(),u.getToken()===17?r.allowEmptyContent?!0:(F(4,[],[]),!1):ce()?(u.getToken()!==17&&F(9,[],[]),!0):(F(4,[],[]),!1)}e.visit=w;function O(t,d){const r=E(t),u=[];let c,y=0,n;do switch(n=r.getPosition(),c=r.scan(),c){case 12:case 13:case 17:y!==n&&u.push(t.substring(y,n)),d!==void 0&&u.push(r.getTokenValue().replace(/[^\r\n]/g,d)),y=r.getPosition();break}while(c!==17);return u.join("")}e.stripComments=O;function v(t){switch(typeof t){case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"object":{if(t){if(Array.isArray(t))return"array"}else return"null";return"object"}default:return"null"}}e.getNodeType=v}),define(ke[28],Te([1,0]),function(ne,e){"use strict";var i,T,I;Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=e.LinkedMap=e.Touch=e.ResourceSet=e.ResourceMap=e.setToString=e.mapToString=e.getOrSet=void 0;function N(g,a,o){let l=g.get(a);return l===void 0&&(l=o,g.set(a,l)),l}e.getOrSet=N;function E(g){const a=[];return g.forEach((o,l)=>{a.push(`${l} => ${o}`)}),`Map(${g.size}) {${a.join(", ")}}`}e.mapToString=E;function R(g){const a=[];return g.forEach(o=>{a.push(o)}),`Set(${g.size}) {${a.join(", ")}}`}e.setToString=R;class S{constructor(a,o){this.uri=a,this.value=o}}class k{constructor(a,o){this[i]="ResourceMap",a instanceof k?(this.b=new Map(a.b),this.c=o??k.a):(this.b=new Map,this.c=a??k.a)}set(a,o){return this.b.set(this.c(a),new S(a,o)),this}get(a){return this.b.get(this.c(a))?.value}has(a){return this.b.has(this.c(a))}get size(){return this.b.size}clear(){this.b.clear()}delete(a){return this.b.delete(this.c(a))}forEach(a,o){typeof o<"u"&&(a=a.bind(o));for(const[l,p]of this.b)a(p.value,p.uri,this)}*values(){for(const a of this.b.values())yield a.value}*keys(){for(const a of this.b.values())yield a.uri}*entries(){for(const a of this.b.values())yield[a.uri,a.value]}*[(i=Symbol.toStringTag,Symbol.iterator)](){for(const[,a]of this.b)yield[a.uri,a.value]}}k.a=g=>g.toString(),e.ResourceMap=k;class M{constructor(a,o){this[T]="ResourceSet",!a||typeof a=="function"?this.a=new k(a):(this.a=new k(o),a.forEach(this.add,this))}get size(){return this.a.size}add(a){return this.a.set(a,a),this}clear(){this.a.clear()}delete(a){return this.a.delete(a)}forEach(a,o){this.a.forEach((l,p)=>a.call(o,p,p,this))}has(a){return this.a.has(a)}entries(){return this.a.entries()}keys(){return this.a.keys()}values(){return this.a.keys()}[(T=Symbol.toStringTag,Symbol.iterator)](){return this.keys()}}e.ResourceSet=M;var D;(function(g){g[g.None=0]="None",g[g.AsOld=1]="AsOld",g[g.AsNew=2]="AsNew"})(D=e.Touch||(e.Touch={}));class h{constructor(){this[I]="LinkedMap",this.a=new Map,this.b=void 0,this.c=void 0,this.d=0,this.e=0}clear(){this.a.clear(),this.b=void 0,this.c=void 0,this.d=0,this.e++}isEmpty(){return!this.b&&!this.c}get size(){return this.d}get first(){return this.b?.value}get last(){return this.c?.value}has(a){return this.a.has(a)}get(a,o=0){const l=this.a.get(a);if(!!l)return o!==0&&this.j(l,o),l.value}set(a,o,l=0){let p=this.a.get(a);if(p)p.value=o,l!==0&&this.j(p,l);else{switch(p={key:a,value:o,next:void 0,previous:void 0},l){case 0:this.h(p);break;case 1:this.g(p);break;case 2:this.h(p);break;default:this.h(p);break}this.a.set(a,p),this.d++}return this}delete(a){return!!this.remove(a)}remove(a){const o=this.a.get(a);if(!!o)return this.a.delete(a),this.i(o),this.d--,o.value}shift(){if(!this.b&&!this.c)return;if(!this.b||!this.c)throw new Error("Invalid list");const a=this.b;return this.a.delete(a.key),this.i(a),this.d--,a.value}forEach(a,o){const l=this.e;let p=this.b;for(;p;){if(o?a.bind(o)(p.value,p.key,this):a(p.value,p.key,this),this.e!==l)throw new Error("LinkedMap got modified during iteration.");p=p.next}}keys(){const a=this,o=this.e;let l=this.b;const p={[Symbol.iterator](){return p},next(){if(a.e!==o)throw new Error("LinkedMap got modified during iteration.");if(l){const w={value:l.key,done:!1};return l=l.next,w}else return{value:void 0,done:!0}}};return p}values(){const a=this,o=this.e;let l=this.b;const p={[Symbol.iterator](){return p},next(){if(a.e!==o)throw new Error("LinkedMap got modified during iteration.");if(l){const w={value:l.value,done:!1};return l=l.next,w}else return{value:void 0,done:!0}}};return p}entries(){const a=this,o=this.e;let l=this.b;const p={[Symbol.iterator](){return p},next(){if(a.e!==o)throw new Error("LinkedMap got modified during iteration.");if(l){const w={value:[l.key,l.value],done:!1};return l=l.next,w}else return{value:void 0,done:!0}}};return p}[(I=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}f(a){if(a>=this.size)return;if(a===0){this.clear();return}let o=this.b,l=this.size;for(;o&&l>a;)this.a.delete(o.key),o=o.next,l--;this.b=o,this.d=l,o&&(o.previous=void 0),this.e++}g(a){if(!this.b&&!this.c)this.c=a;else if(this.b)a.next=this.b,this.b.previous=a;else throw new Error("Invalid list");this.b=a,this.e++}h(a){if(!this.b&&!this.c)this.b=a;else if(this.c)a.previous=this.c,this.c.next=a;else throw new Error("Invalid list");this.c=a,this.e++}i(a){if(a===this.b&&a===this.c)this.b=void 0,this.c=void 0;else if(a===this.b){if(!a.next)throw new Error("Invalid list");a.next.previous=void 0,this.b=a.next}else if(a===this.c){if(!a.previous)throw new Error("Invalid list");a.previous.next=void 0,this.c=a.previous}else{const o=a.next,l=a.previous;if(!o||!l)throw new Error("Invalid list");o.previous=l,l.next=o}a.next=void 0,a.previous=void 0,this.e++}j(a,o){if(!this.b||!this.c)throw new Error("Invalid list");if(!(o!==1&&o!==2)){if(o===1){if(a===this.b)return;const l=a.next,p=a.previous;a===this.c?(p.next=void 0,this.c=p):(l.previous=p,p.next=l),a.previous=void 0,a.next=this.b,this.b.previous=a,this.b=a,this.e++}else if(o===2){if(a===this.c)return;const l=a.next,p=a.previous;a===this.b?(l.previous=void 0,this.b=l):(l.previous=p,p.next=l),a.next=void 0,a.previous=this.c,this.c.next=a,this.c=a,this.e++}}}toJSON(){const a=[];return this.forEach((o,l)=>{a.push([l,o])}),a}fromJSON(a){this.clear();for(const[o,l]of a)this.set(o,l)}}e.LinkedMap=h;class b extends h{constructor(a,o=1){super(),this.k=a,this.l=Math.min(Math.max(0,o),1)}get limit(){return this.k}set limit(a){this.k=a,this.m()}get ratio(){return this.l}set ratio(a){this.l=Math.min(Math.max(0,a),1),this.m()}get(a,o=2){return super.get(a,o)}peek(a){return super.get(a,0)}set(a,o){return super.set(a,o,2),this.m(),this}m(){this.size>this.k&&this.f(Math.round(this.k*this.l))}}e.LRUCache=b}),function(ne,e){typeof exports=="object"&&typeof module<"u"?e(exports):typeof define=="function"&&define.amd?define(ke[112],Te([0]),e):(ne=typeof globalThis<"u"?globalThis:ne||self,e(ne.marked={}))}(this,function(ne){"use strict";function e(Pe,Ie){for(var Se=0;Se<Ie.length;Se++){var ae=Ie[Se];ae.enumerable=ae.enumerable||!1,ae.configurable=!0,"value"in ae&&(ae.writable=!0),Object.defineProperty(Pe,ae.key,ae)}}function i(Pe,Ie,Se){return Ie&&e(Pe.prototype,Ie),Se&&e(Pe,Se),Object.defineProperty(Pe,"prototype",{writable:!1}),Pe}function T(Pe,Ie){if(!!Pe){if(typeof Pe=="string")return I(Pe,Ie);var Se=Object.prototype.toString.call(Pe).slice(8,-1);if(Se==="Object"&&Pe.constructor&&(Se=Pe.constructor.name),Se==="Map"||Se==="Set")return Array.from(Pe);if(Se==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Se))return I(Pe,Ie)}}function I(Pe,Ie){(Ie==null||Ie>Pe.length)&&(Ie=Pe.length);for(var Se=0,ae=new Array(Ie);Se<Ie;Se++)ae[Se]=Pe[Se];return ae}function N(Pe,Ie){var Se=typeof Symbol<"u"&&Pe[Symbol.iterator]||Pe["@@iterator"];if(Se)return(Se=Se.call(Pe)).next.bind(Se);if(Array.isArray(Pe)||(Se=T(Pe))||Ie&&Pe&&typeof Pe.length=="number"){Se&&(Pe=Se);var ae=0;return function(){return ae>=Pe.length?{done:!0}:{done:!1,value:Pe[ae++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}ne.defaults=E();function R(Pe){ne.defaults=Pe}var S=/[&<>"']/,k=/[&<>"']/g,M=/[<>"']|&(?!#?\w+;)/,D=/[<>"']|&(?!#?\w+;)/g,h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},b=function(Ie){return h[Ie]};function g(Pe,Ie){if(Ie){if(S.test(Pe))return Pe.replace(k,b)}else if(M.test(Pe))return Pe.replace(D,b);return Pe}var a=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function o(Pe){return Pe.replace(a,function(Ie,Se){return Se=Se.toLowerCase(),Se==="colon"?":":Se.charAt(0)==="#"?Se.charAt(1)==="x"?String.fromCharCode(parseInt(Se.substring(2),16)):String.fromCharCode(+Se.substring(1)):""})}var l=/(^|[^\[])\^/g;function p(Pe,Ie){Pe=typeof Pe=="string"?Pe:Pe.source,Ie=Ie||"";var Se={replace:function(le,ee){return ee=ee.source||ee,ee=ee.replace(l,"$1"),Pe=Pe.replace(le,ee),Se},getRegex:function(){return new RegExp(Pe,Ie)}};return Se}var w=/[^\w:]/g,O=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function v(Pe,Ie,Se){if(Pe){var ae;try{ae=decodeURIComponent(o(Se)).replace(w,"").toLowerCase()}catch{return null}if(ae.indexOf("javascript:")===0||ae.indexOf("vbscript:")===0||ae.indexOf("data:")===0)return null}Ie&&!O.test(Se)&&(Se=c(Ie,Se));try{Se=encodeURI(Se).replace(/%25/g,"%")}catch{return null}return Se}var t={},d=/^[^:]+:\/*[^/]*$/,r=/^([^:]+:)[\s\S]*$/,u=/^([^:]+:\/*[^/]*)[\s\S]*$/;function c(Pe,Ie){t[" "+Pe]||(d.test(Pe)?t[" "+Pe]=Pe+"/":t[" "+Pe]=f(Pe,"/",!0)),Pe=t[" "+Pe];var Se=Pe.indexOf(":")===-1;return Ie.substring(0,2)==="//"?Se?Ie:Pe.replace(r,"$1")+Ie:Ie.charAt(0)==="/"?Se?Ie:Pe.replace(u,"$1")+Ie:Pe+Ie}var y={exec:function(){}};function n(Pe){for(var Ie=1,Se,ae;Ie<arguments.length;Ie++){Se=arguments[Ie];for(ae in Se)Object.prototype.hasOwnProperty.call(Se,ae)&&(Pe[ae]=Se[ae])}return Pe}function s(Pe,Ie){var Se=Pe.replace(/\|/g,function(ee,C,$){for(var W=!1,V=C;--V>=0&&$[V]==="\\";)W=!W;return W?"|":" |"}),ae=Se.split(/ \|/),le=0;if(ae[0].trim()||ae.shift(),ae.length>0&&!ae[ae.length-1].trim()&&ae.pop(),ae.length>Ie)ae.splice(Ie);else for(;ae.length<Ie;)ae.push("");for(;le<ae.length;le++)ae[le]=ae[le].trim().replace(/\\\|/g,"|");return ae}function f(Pe,Ie,Se){var ae=Pe.length;if(ae===0)return"";for(var le=0;le<ae;){var ee=Pe.charAt(ae-le-1);if(ee===Ie&&!Se)le++;else if(ee!==Ie&&Se)le++;else break}return Pe.slice(0,ae-le)}function A(Pe,Ie){if(Pe.indexOf(Ie[1])===-1)return-1;for(var Se=Pe.length,ae=0,le=0;le<Se;le++)if(Pe[le]==="\\")le++;else if(Pe[le]===Ie[0])ae++;else if(Pe[le]===Ie[1]&&(ae--,ae<0))return le;return-1}function P(Pe){Pe&&Pe.sanitize&&!Pe.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function H(Pe,Ie){if(Ie<1)return"";for(var Se="";Ie>1;)Ie&1&&(Se+=Pe),Ie>>=1,Pe+=Pe;return Se+Pe}function Y(Pe,Ie,Se,ae){var le=Ie.href,ee=Ie.title?g(Ie.title):null,C=Pe[1].replace(/\\([\[\]])/g,"$1");if(Pe[0].charAt(0)!=="!"){ae.state.inLink=!0;var $={type:"link",raw:Se,href:le,title:ee,text:C,tokens:ae.inlineTokens(C)};return ae.state.inLink=!1,$}return{type:"image",raw:Se,href:le,title:ee,text:g(C)}}function Z(Pe,Ie){var Se=Pe.match(/^(\s+)(?:```)/);if(Se===null)return Ie;var ae=Se[1];return Ie.split(`
`).map(function(le){var ee=le.match(/^\s+/);if(ee===null)return le;var C=ee[0];return C.length>=ae.length?le.slice(ae.length):le}).join(`
`)}var _=function(){function Pe(Se){this.options=Se||ne.defaults}var Ie=Pe.prototype;return Ie.space=function(ae){var le=this.rules.block.newline.exec(ae);if(le&&le[0].length>0)return{type:"space",raw:le[0]}},Ie.code=function(ae){var le=this.rules.block.code.exec(ae);if(le){var ee=le[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:le[0],codeBlockStyle:"indented",text:this.options.pedantic?ee:f(ee,`
`)}}},Ie.fences=function(ae){var le=this.rules.block.fences.exec(ae);if(le){var ee=le[0],C=Z(ee,le[3]||"");return{type:"code",raw:ee,lang:le[2]?le[2].trim():le[2],text:C}}},Ie.heading=function(ae){var le=this.rules.block.heading.exec(ae);if(le){var ee=le[2].trim();if(/#$/.test(ee)){var C=f(ee,"#");(this.options.pedantic||!C||/ $/.test(C))&&(ee=C.trim())}return{type:"heading",raw:le[0],depth:le[1].length,text:ee,tokens:this.lexer.inline(ee)}}},Ie.hr=function(ae){var le=this.rules.block.hr.exec(ae);if(le)return{type:"hr",raw:le[0]}},Ie.blockquote=function(ae){var le=this.rules.block.blockquote.exec(ae);if(le){var ee=le[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:le[0],tokens:this.lexer.blockTokens(ee,[]),text:ee}}},Ie.list=function(ae){var le=this.rules.block.list.exec(ae);if(le){var ee,C,$,W,V,ie,fe,De,ue,ve,be,He,je=le[1].trim(),it=je.length>1,Xe={type:"list",raw:"",ordered:it,start:it?+je.slice(0,-1):"",loose:!1,items:[]};je=it?"\\d{1,9}\\"+je.slice(-1):"\\"+je,this.options.pedantic&&(je=it?je:"[*+-]");for(var et=new RegExp("^( {0,3}"+je+")((?:[	 ][^\\n]*)?(?:\\n|$))");ae&&(He=!1,!(!(le=et.exec(ae))||this.rules.block.hr.test(ae)));){if(ee=le[0],ae=ae.substring(ee.length),De=le[2].split(`
`,1)[0],ue=ae.split(`
`,1)[0],this.options.pedantic?(W=2,be=De.trimLeft()):(W=le[2].search(/[^ ]/),W=W>4?1:W,be=De.slice(W),W+=le[1].length),ie=!1,!De&&/^ *$/.test(ue)&&(ee+=ue+`
`,ae=ae.substring(ue.length+1),He=!0),!He)for(var nt=new RegExp("^ {0,"+Math.min(3,W-1)+"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))"),Ne=new RegExp("^ {0,"+Math.min(3,W-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),rt=new RegExp("^ {0,"+Math.min(3,W-1)+"}(?:```|~~~)"),G=new RegExp("^ {0,"+Math.min(3,W-1)+"}#");ae&&(ve=ae.split(`
`,1)[0],De=ve,this.options.pedantic&&(De=De.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(rt.test(De)||G.test(De)||nt.test(De)||Ne.test(ae)));){if(De.search(/[^ ]/)>=W||!De.trim())be+=`
`+De.slice(W);else if(!ie)be+=`
`+De;else break;!ie&&!De.trim()&&(ie=!0),ee+=ve+`
`,ae=ae.substring(ve.length+1)}Xe.loose||(fe?Xe.loose=!0:/\n *\n *$/.test(ee)&&(fe=!0)),this.options.gfm&&(C=/^\[[ xX]\] /.exec(be),C&&($=C[0]!=="[ ] ",be=be.replace(/^\[[ xX]\] +/,""))),Xe.items.push({type:"list_item",raw:ee,task:!!C,checked:$,loose:!1,text:be}),Xe.raw+=ee}Xe.items[Xe.items.length-1].raw=ee.trimRight(),Xe.items[Xe.items.length-1].text=be.trimRight(),Xe.raw=Xe.raw.trimRight();var Q=Xe.items.length;for(V=0;V<Q;V++){this.lexer.state.top=!1,Xe.items[V].tokens=this.lexer.blockTokens(Xe.items[V].text,[]);var pe=Xe.items[V].tokens.filter(function($e){return $e.type==="space"}),We=pe.every(function($e){for(var Qe=$e.raw.split(""),xe=0,tt=N(Qe),at;!(at=tt()).done;){var Et=at.value;if(Et===`
`&&(xe+=1),xe>1)return!0}return!1});!Xe.loose&&pe.length&&We&&(Xe.loose=!0,Xe.items[V].loose=!0)}return Xe}},Ie.html=function(ae){var le=this.rules.block.html.exec(ae);if(le){var ee={type:"html",raw:le[0],pre:!this.options.sanitizer&&(le[1]==="pre"||le[1]==="script"||le[1]==="style"),text:le[0]};if(this.options.sanitize){var C=this.options.sanitizer?this.options.sanitizer(le[0]):g(le[0]);ee.type="paragraph",ee.text=C,ee.tokens=this.lexer.inline(C)}return ee}},Ie.def=function(ae){var le=this.rules.block.def.exec(ae);if(le){le[3]&&(le[3]=le[3].substring(1,le[3].length-1));var ee=le[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:ee,raw:le[0],href:le[2],title:le[3]}}},Ie.table=function(ae){var le=this.rules.block.table.exec(ae);if(le){var ee={type:"table",header:s(le[1]).map(function(fe){return{text:fe}}),align:le[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:le[3]&&le[3].trim()?le[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(ee.header.length===ee.align.length){ee.raw=le[0];var C=ee.align.length,$,W,V,ie;for($=0;$<C;$++)/^ *-+: *$/.test(ee.align[$])?ee.align[$]="right":/^ *:-+: *$/.test(ee.align[$])?ee.align[$]="center":/^ *:-+ *$/.test(ee.align[$])?ee.align[$]="left":ee.align[$]=null;for(C=ee.rows.length,$=0;$<C;$++)ee.rows[$]=s(ee.rows[$],ee.header.length).map(function(fe){return{text:fe}});for(C=ee.header.length,W=0;W<C;W++)ee.header[W].tokens=this.lexer.inline(ee.header[W].text);for(C=ee.rows.length,W=0;W<C;W++)for(ie=ee.rows[W],V=0;V<ie.length;V++)ie[V].tokens=this.lexer.inline(ie[V].text);return ee}}},Ie.lheading=function(ae){var le=this.rules.block.lheading.exec(ae);if(le)return{type:"heading",raw:le[0],depth:le[2].charAt(0)==="="?1:2,text:le[1],tokens:this.lexer.inline(le[1])}},Ie.paragraph=function(ae){var le=this.rules.block.paragraph.exec(ae);if(le){var ee=le[1].charAt(le[1].length-1)===`
`?le[1].slice(0,-1):le[1];return{type:"paragraph",raw:le[0],text:ee,tokens:this.lexer.inline(ee)}}},Ie.text=function(ae){var le=this.rules.block.text.exec(ae);if(le)return{type:"text",raw:le[0],text:le[0],tokens:this.lexer.inline(le[0])}},Ie.escape=function(ae){var le=this.rules.inline.escape.exec(ae);if(le)return{type:"escape",raw:le[0],text:g(le[1])}},Ie.tag=function(ae){var le=this.rules.inline.tag.exec(ae);if(le)return!this.lexer.state.inLink&&/^<a /i.test(le[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(le[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(le[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(le[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:le[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(le[0]):g(le[0]):le[0]}},Ie.link=function(ae){var le=this.rules.inline.link.exec(ae);if(le){var ee=le[2].trim();if(!this.options.pedantic&&/^</.test(ee)){if(!/>$/.test(ee))return;var C=f(ee.slice(0,-1),"\\");if((ee.length-C.length)%2===0)return}else{var $=A(le[2],"()");if($>-1){var W=le[0].indexOf("!")===0?5:4,V=W+le[1].length+$;le[2]=le[2].substring(0,$),le[0]=le[0].substring(0,V).trim(),le[3]=""}}var ie=le[2],fe="";if(this.options.pedantic){var De=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(ie);De&&(ie=De[1],fe=De[3])}else fe=le[3]?le[3].slice(1,-1):"";return ie=ie.trim(),/^</.test(ie)&&(this.options.pedantic&&!/>$/.test(ee)?ie=ie.slice(1):ie=ie.slice(1,-1)),Y(le,{href:ie&&ie.replace(this.rules.inline._escapes,"$1"),title:fe&&fe.replace(this.rules.inline._escapes,"$1")},le[0],this.lexer)}},Ie.reflink=function(ae,le){var ee;if((ee=this.rules.inline.reflink.exec(ae))||(ee=this.rules.inline.nolink.exec(ae))){var C=(ee[2]||ee[1]).replace(/\s+/g," ");if(C=le[C.toLowerCase()],!C||!C.href){var $=ee[0].charAt(0);return{type:"text",raw:$,text:$}}return Y(ee,C,ee[0],this.lexer)}},Ie.emStrong=function(ae,le,ee){ee===void 0&&(ee="");var C=this.rules.inline.emStrong.lDelim.exec(ae);if(!!C&&!(C[3]&&ee.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var $=C[1]||C[2]||"";if(!$||$&&(ee===""||this.rules.inline.punctuation.exec(ee))){var W=C[0].length-1,V,ie,fe=W,De=0,ue=C[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(ue.lastIndex=0,le=le.slice(-1*ae.length+W);(C=ue.exec(le))!=null;)if(V=C[1]||C[2]||C[3]||C[4]||C[5]||C[6],!!V){if(ie=V.length,C[3]||C[4]){fe+=ie;continue}else if((C[5]||C[6])&&W%3&&!((W+ie)%3)){De+=ie;continue}if(fe-=ie,!(fe>0)){if(ie=Math.min(ie,ie+fe+De),Math.min(W,ie)%2){var ve=ae.slice(1,W+C.index+ie);return{type:"em",raw:ae.slice(0,W+C.index+ie+1),text:ve,tokens:this.lexer.inlineTokens(ve)}}var be=ae.slice(2,W+C.index+ie-1);return{type:"strong",raw:ae.slice(0,W+C.index+ie+1),text:be,tokens:this.lexer.inlineTokens(be)}}}}}},Ie.codespan=function(ae){var le=this.rules.inline.code.exec(ae);if(le){var ee=le[2].replace(/\n/g," "),C=/[^ ]/.test(ee),$=/^ /.test(ee)&&/ $/.test(ee);return C&&$&&(ee=ee.substring(1,ee.length-1)),ee=g(ee,!0),{type:"codespan",raw:le[0],text:ee}}},Ie.br=function(ae){var le=this.rules.inline.br.exec(ae);if(le)return{type:"br",raw:le[0]}},Ie.del=function(ae){var le=this.rules.inline.del.exec(ae);if(le)return{type:"del",raw:le[0],text:le[2],tokens:this.lexer.inlineTokens(le[2])}},Ie.autolink=function(ae,le){var ee=this.rules.inline.autolink.exec(ae);if(ee){var C,$;return ee[2]==="@"?(C=g(this.options.mangle?le(ee[1]):ee[1]),$="mailto:"+C):(C=g(ee[1]),$=C),{type:"link",raw:ee[0],text:C,href:$,tokens:[{type:"text",raw:C,text:C}]}}},Ie.url=function(ae,le){var ee;if(ee=this.rules.inline.url.exec(ae)){var C,$;if(ee[2]==="@")C=g(this.options.mangle?le(ee[0]):ee[0]),$="mailto:"+C;else{var W;do W=ee[0],ee[0]=this.rules.inline._backpedal.exec(ee[0])[0];while(W!==ee[0]);C=g(ee[0]),ee[1]==="www."?$="http://"+C:$=C}return{type:"link",raw:ee[0],text:C,href:$,tokens:[{type:"text",raw:C,text:C}]}}},Ie.inlineText=function(ae,le){var ee=this.rules.inline.text.exec(ae);if(ee){var C;return this.lexer.state.inRawBlock?C=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(ee[0]):g(ee[0]):ee[0]:C=g(this.options.smartypants?le(ee[0]):ee[0]),{type:"text",raw:ee[0],text:C}}},Pe}(),j={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:y,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};j._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,j._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,j.def=p(j.def).replace("label",j._label).replace("title",j._title).getRegex(),j.bullet=/(?:[*+-]|\d{1,9}[.)])/,j.listItemStart=p(/^( *)(bull) */).replace("bull",j.bullet).getRegex(),j.list=p(j.list).replace(/bull/g,j.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+j.def.source+")").getRegex(),j._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",j._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,j.html=p(j.html,"i").replace("comment",j._comment).replace("tag",j._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),j.paragraph=p(j._paragraph).replace("hr",j.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",j._tag).getRegex(),j.blockquote=p(j.blockquote).replace("paragraph",j.paragraph).getRegex(),j.normal=n({},j),j.gfm=n({},j.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),j.gfm.table=p(j.gfm.table).replace("hr",j.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",j._tag).getRegex(),j.gfm.paragraph=p(j._paragraph).replace("hr",j.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",j.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",j._tag).getRegex(),j.pedantic=n({},j.normal,{html:p(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",j._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:y,paragraph:p(j.normal._paragraph).replace("hr",j.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",j.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var L={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:y,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:y,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};L._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",L.punctuation=p(L.punctuation).replace(/punctuation/g,L._punctuation).getRegex(),L.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,L.escapedEmSt=/\\\*|\\_/g,L._comment=p(j._comment).replace("(?:-->|$)","-->").getRegex(),L.emStrong.lDelim=p(L.emStrong.lDelim).replace(/punct/g,L._punctuation).getRegex(),L.emStrong.rDelimAst=p(L.emStrong.rDelimAst,"g").replace(/punct/g,L._punctuation).getRegex(),L.emStrong.rDelimUnd=p(L.emStrong.rDelimUnd,"g").replace(/punct/g,L._punctuation).getRegex(),L._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,L._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,L._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,L.autolink=p(L.autolink).replace("scheme",L._scheme).replace("email",L._email).getRegex(),L._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,L.tag=p(L.tag).replace("comment",L._comment).replace("attribute",L._attribute).getRegex(),L._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,L._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,L._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,L.link=p(L.link).replace("label",L._label).replace("href",L._href).replace("title",L._title).getRegex(),L.reflink=p(L.reflink).replace("label",L._label).replace("ref",j._label).getRegex(),L.nolink=p(L.nolink).replace("ref",j._label).getRegex(),L.reflinkSearch=p(L.reflinkSearch,"g").replace("reflink",L.reflink).replace("nolink",L.nolink).getRegex(),L.normal=n({},L),L.pedantic=n({},L.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:p(/^!?\[(label)\]\((.*?)\)/).replace("label",L._label).getRegex(),reflink:p(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",L._label).getRegex()}),L.gfm=n({},L.normal,{escape:p(L.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),L.gfm.url=p(L.gfm.url,"i").replace("email",L.gfm._extended_email).getRegex(),L.breaks=n({},L.gfm,{br:p(L.br).replace("{2,}","*").getRegex(),text:p(L.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function m(Pe){return Pe.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function F(Pe){var Ie="",Se,ae,le=Pe.length;for(Se=0;Se<le;Se++)ae=Pe.charCodeAt(Se),Math.random()>.5&&(ae="x"+ae.toString(16)),Ie+="&#"+ae+";";return Ie}var B=function(){function Pe(Se){this.tokens=[],this.tokens.links=Object.create(null),this.options=Se||ne.defaults,this.options.tokenizer=this.options.tokenizer||new _,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var ae={block:j.normal,inline:L.normal};this.options.pedantic?(ae.block=j.pedantic,ae.inline=L.pedantic):this.options.gfm&&(ae.block=j.gfm,this.options.breaks?ae.inline=L.breaks:ae.inline=L.gfm),this.tokenizer.rules=ae}Pe.lex=function(ae,le){var ee=new Pe(le);return ee.lex(ae)},Pe.lexInline=function(ae,le){var ee=new Pe(le);return ee.inlineTokens(ae)};var Ie=Pe.prototype;return Ie.lex=function(ae){ae=ae.replace(/\r\n|\r/g,`
`),this.blockTokens(ae,this.tokens);for(var le;le=this.inlineQueue.shift();)this.inlineTokens(le.src,le.tokens);return this.tokens},Ie.blockTokens=function(ae,le){var ee=this;le===void 0&&(le=[]),this.options.pedantic?ae=ae.replace(/\t/g,"    ").replace(/^ +$/gm,""):ae=ae.replace(/^( *)(\t+)/gm,function(fe,De,ue){return De+"    ".repeat(ue.length)});for(var C,$,W,V;ae;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(fe){return(C=fe.call({lexer:ee},ae,le))?(ae=ae.substring(C.raw.length),le.push(C),!0):!1}))){if(C=this.tokenizer.space(ae)){ae=ae.substring(C.raw.length),C.raw.length===1&&le.length>0?le[le.length-1].raw+=`
`:le.push(C);continue}if(C=this.tokenizer.code(ae)){ae=ae.substring(C.raw.length),$=le[le.length-1],$&&($.type==="paragraph"||$.type==="text")?($.raw+=`
`+C.raw,$.text+=`
`+C.text,this.inlineQueue[this.inlineQueue.length-1].src=$.text):le.push(C);continue}if(C=this.tokenizer.fences(ae)){ae=ae.substring(C.raw.length),le.push(C);continue}if(C=this.tokenizer.heading(ae)){ae=ae.substring(C.raw.length),le.push(C);continue}if(C=this.tokenizer.hr(ae)){ae=ae.substring(C.raw.length),le.push(C);continue}if(C=this.tokenizer.blockquote(ae)){ae=ae.substring(C.raw.length),le.push(C);continue}if(C=this.tokenizer.list(ae)){ae=ae.substring(C.raw.length),le.push(C);continue}if(C=this.tokenizer.html(ae)){ae=ae.substring(C.raw.length),le.push(C);continue}if(C=this.tokenizer.def(ae)){ae=ae.substring(C.raw.length),$=le[le.length-1],$&&($.type==="paragraph"||$.type==="text")?($.raw+=`
`+C.raw,$.text+=`
`+C.raw,this.inlineQueue[this.inlineQueue.length-1].src=$.text):this.tokens.links[C.tag]||(this.tokens.links[C.tag]={href:C.href,title:C.title});continue}if(C=this.tokenizer.table(ae)){ae=ae.substring(C.raw.length),le.push(C);continue}if(C=this.tokenizer.lheading(ae)){ae=ae.substring(C.raw.length),le.push(C);continue}if(W=ae,this.options.extensions&&this.options.extensions.startBlock&&function(){var fe=1/0,De=ae.slice(1),ue=void 0;ee.options.extensions.startBlock.forEach(function(ve){ue=ve.call({lexer:this},De),typeof ue=="number"&&ue>=0&&(fe=Math.min(fe,ue))}),fe<1/0&&fe>=0&&(W=ae.substring(0,fe+1))}(),this.state.top&&(C=this.tokenizer.paragraph(W))){$=le[le.length-1],V&&$.type==="paragraph"?($.raw+=`
`+C.raw,$.text+=`
`+C.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=$.text):le.push(C),V=W.length!==ae.length,ae=ae.substring(C.raw.length);continue}if(C=this.tokenizer.text(ae)){ae=ae.substring(C.raw.length),$=le[le.length-1],$&&$.type==="text"?($.raw+=`
`+C.raw,$.text+=`
`+C.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=$.text):le.push(C);continue}if(ae){var ie="Infinite loop on byte: "+ae.charCodeAt(0);if(this.options.silent){console.error(ie);break}else throw new Error(ie)}}return this.state.top=!0,le},Ie.inline=function(ae,le){return le===void 0&&(le=[]),this.inlineQueue.push({src:ae,tokens:le}),le},Ie.inlineTokens=function(ae,le){var ee=this;le===void 0&&(le=[]);var C,$,W,V=ae,ie,fe,De;if(this.tokens.links){var ue=Object.keys(this.tokens.links);if(ue.length>0)for(;(ie=this.tokenizer.rules.inline.reflinkSearch.exec(V))!=null;)ue.includes(ie[0].slice(ie[0].lastIndexOf("[")+1,-1))&&(V=V.slice(0,ie.index)+"["+H("a",ie[0].length-2)+"]"+V.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(ie=this.tokenizer.rules.inline.blockSkip.exec(V))!=null;)V=V.slice(0,ie.index)+"["+H("a",ie[0].length-2)+"]"+V.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(ie=this.tokenizer.rules.inline.escapedEmSt.exec(V))!=null;)V=V.slice(0,ie.index)+"++"+V.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;ae;)if(fe||(De=""),fe=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(be){return(C=be.call({lexer:ee},ae,le))?(ae=ae.substring(C.raw.length),le.push(C),!0):!1}))){if(C=this.tokenizer.escape(ae)){ae=ae.substring(C.raw.length),le.push(C);continue}if(C=this.tokenizer.tag(ae)){ae=ae.substring(C.raw.length),$=le[le.length-1],$&&C.type==="text"&&$.type==="text"?($.raw+=C.raw,$.text+=C.text):le.push(C);continue}if(C=this.tokenizer.link(ae)){ae=ae.substring(C.raw.length),le.push(C);continue}if(C=this.tokenizer.reflink(ae,this.tokens.links)){ae=ae.substring(C.raw.length),$=le[le.length-1],$&&C.type==="text"&&$.type==="text"?($.raw+=C.raw,$.text+=C.text):le.push(C);continue}if(C=this.tokenizer.emStrong(ae,V,De)){ae=ae.substring(C.raw.length),le.push(C);continue}if(C=this.tokenizer.codespan(ae)){ae=ae.substring(C.raw.length),le.push(C);continue}if(C=this.tokenizer.br(ae)){ae=ae.substring(C.raw.length),le.push(C);continue}if(C=this.tokenizer.del(ae)){ae=ae.substring(C.raw.length),le.push(C);continue}if(C=this.tokenizer.autolink(ae,F)){ae=ae.substring(C.raw.length),le.push(C);continue}if(!this.state.inLink&&(C=this.tokenizer.url(ae,F))){ae=ae.substring(C.raw.length),le.push(C);continue}if(W=ae,this.options.extensions&&this.options.extensions.startInline&&function(){var be=1/0,He=ae.slice(1),je=void 0;ee.options.extensions.startInline.forEach(function(it){je=it.call({lexer:this},He),typeof je=="number"&&je>=0&&(be=Math.min(be,je))}),be<1/0&&be>=0&&(W=ae.substring(0,be+1))}(),C=this.tokenizer.inlineText(W,m)){ae=ae.substring(C.raw.length),C.raw.slice(-1)!=="_"&&(De=C.raw.slice(-1)),fe=!0,$=le[le.length-1],$&&$.type==="text"?($.raw+=C.raw,$.text+=C.text):le.push(C);continue}if(ae){var ve="Infinite loop on byte: "+ae.charCodeAt(0);if(this.options.silent){console.error(ve);break}else throw new Error(ve)}}return le},i(Pe,null,[{key:"rules",get:function(){return{block:j,inline:L}}}]),Pe}(),J=function(){function Pe(Se){this.options=Se||ne.defaults}var Ie=Pe.prototype;return Ie.code=function(ae,le,ee){var C=(le||"").match(/\S*/)[0];if(this.options.highlight){var $=this.options.highlight(ae,C);$!=null&&$!==ae&&(ee=!0,ae=$)}return ae=ae.replace(/\n$/,"")+`
`,C?'<pre><code class="'+this.options.langPrefix+g(C,!0)+'">'+(ee?ae:g(ae,!0))+`</code></pre>
`:"<pre><code>"+(ee?ae:g(ae,!0))+`</code></pre>
`},Ie.blockquote=function(ae){return`<blockquote>
`+ae+`</blockquote>
`},Ie.html=function(ae){return ae},Ie.heading=function(ae,le,ee,C){if(this.options.headerIds){var $=this.options.headerPrefix+C.slug(ee);return"<h"+le+' id="'+$+'">'+ae+"</h"+le+`>
`}return"<h"+le+">"+ae+"</h"+le+`>
`},Ie.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},Ie.list=function(ae,le,ee){var C=le?"ol":"ul",$=le&&ee!==1?' start="'+ee+'"':"";return"<"+C+$+`>
`+ae+"</"+C+`>
`},Ie.listitem=function(ae){return"<li>"+ae+`</li>
`},Ie.checkbox=function(ae){return"<input "+(ae?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},Ie.paragraph=function(ae){return"<p>"+ae+`</p>
`},Ie.table=function(ae,le){return le&&(le="<tbody>"+le+"</tbody>"),`<table>
<thead>
`+ae+`</thead>
`+le+`</table>
`},Ie.tablerow=function(ae){return`<tr>
`+ae+`</tr>
`},Ie.tablecell=function(ae,le){var ee=le.header?"th":"td",C=le.align?"<"+ee+' align="'+le.align+'">':"<"+ee+">";return C+ae+("</"+ee+`>
`)},Ie.strong=function(ae){return"<strong>"+ae+"</strong>"},Ie.em=function(ae){return"<em>"+ae+"</em>"},Ie.codespan=function(ae){return"<code>"+ae+"</code>"},Ie.br=function(){return this.options.xhtml?"<br/>":"<br>"},Ie.del=function(ae){return"<del>"+ae+"</del>"},Ie.link=function(ae,le,ee){if(ae=v(this.options.sanitize,this.options.baseUrl,ae),ae===null)return ee;var C='<a href="'+g(ae)+'"';return le&&(C+=' title="'+le+'"'),C+=">"+ee+"</a>",C},Ie.image=function(ae,le,ee){if(ae=v(this.options.sanitize,this.options.baseUrl,ae),ae===null)return ee;var C='<img src="'+ae+'" alt="'+ee+'"';return le&&(C+=' title="'+le+'"'),C+=this.options.xhtml?"/>":">",C},Ie.text=function(ae){return ae},Pe}(),me=function(){function Pe(){}var Ie=Pe.prototype;return Ie.strong=function(ae){return ae},Ie.em=function(ae){return ae},Ie.codespan=function(ae){return ae},Ie.del=function(ae){return ae},Ie.html=function(ae){return ae},Ie.text=function(ae){return ae},Ie.link=function(ae,le,ee){return""+ee},Ie.image=function(ae,le,ee){return""+ee},Ie.br=function(){return""},Pe}(),te=function(){function Pe(){this.seen={}}var Ie=Pe.prototype;return Ie.serialize=function(ae){return ae.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},Ie.getNextSafeSlug=function(ae,le){var ee=ae,C=0;if(this.seen.hasOwnProperty(ee)){C=this.seen[ae];do C++,ee=ae+"-"+C;while(this.seen.hasOwnProperty(ee))}return le||(this.seen[ae]=C,this.seen[ee]=0),ee},Ie.slug=function(ae,le){le===void 0&&(le={});var ee=this.serialize(ae);return this.getNextSafeSlug(ee,le.dryrun)},Pe}(),oe=function(){function Pe(Se){this.options=Se||ne.defaults,this.options.renderer=this.options.renderer||new J,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new me,this.slugger=new te}Pe.parse=function(ae,le){var ee=new Pe(le);return ee.parse(ae)},Pe.parseInline=function(ae,le){var ee=new Pe(le);return ee.parseInline(ae)};var Ie=Pe.prototype;return Ie.parse=function(ae,le){le===void 0&&(le=!0);var ee="",C,$,W,V,ie,fe,De,ue,ve,be,He,je,it,Xe,et,nt,Ne,rt,G,Q=ae.length;for(C=0;C<Q;C++){if(be=ae[C],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[be.type]&&(G=this.options.extensions.renderers[be.type].call({parser:this},be),G!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(be.type))){ee+=G||"";continue}switch(be.type){case"space":continue;case"hr":{ee+=this.renderer.hr();continue}case"heading":{ee+=this.renderer.heading(this.parseInline(be.tokens),be.depth,o(this.parseInline(be.tokens,this.textRenderer)),this.slugger);continue}case"code":{ee+=this.renderer.code(be.text,be.lang,be.escaped);continue}case"table":{for(ue="",De="",V=be.header.length,$=0;$<V;$++)De+=this.renderer.tablecell(this.parseInline(be.header[$].tokens),{header:!0,align:be.align[$]});for(ue+=this.renderer.tablerow(De),ve="",V=be.rows.length,$=0;$<V;$++){for(fe=be.rows[$],De="",ie=fe.length,W=0;W<ie;W++)De+=this.renderer.tablecell(this.parseInline(fe[W].tokens),{header:!1,align:be.align[W]});ve+=this.renderer.tablerow(De)}ee+=this.renderer.table(ue,ve);continue}case"blockquote":{ve=this.parse(be.tokens),ee+=this.renderer.blockquote(ve);continue}case"list":{for(He=be.ordered,je=be.start,it=be.loose,V=be.items.length,ve="",$=0;$<V;$++)et=be.items[$],nt=et.checked,Ne=et.task,Xe="",et.task&&(rt=this.renderer.checkbox(nt),it?et.tokens.length>0&&et.tokens[0].type==="paragraph"?(et.tokens[0].text=rt+" "+et.tokens[0].text,et.tokens[0].tokens&&et.tokens[0].tokens.length>0&&et.tokens[0].tokens[0].type==="text"&&(et.tokens[0].tokens[0].text=rt+" "+et.tokens[0].tokens[0].text)):et.tokens.unshift({type:"text",text:rt}):Xe+=rt),Xe+=this.parse(et.tokens,it),ve+=this.renderer.listitem(Xe,Ne,nt);ee+=this.renderer.list(ve,He,je);continue}case"html":{ee+=this.renderer.html(be.text);continue}case"paragraph":{ee+=this.renderer.paragraph(this.parseInline(be.tokens));continue}case"text":{for(ve=be.tokens?this.parseInline(be.tokens):be.text;C+1<Q&&ae[C+1].type==="text";)be=ae[++C],ve+=`
`+(be.tokens?this.parseInline(be.tokens):be.text);ee+=le?this.renderer.paragraph(ve):ve;continue}default:{var pe='Token with "'+be.type+'" type was not found.';if(this.options.silent){console.error(pe);return}else throw new Error(pe)}}}return ee},Ie.parseInline=function(ae,le){le=le||this.renderer;var ee="",C,$,W,V=ae.length;for(C=0;C<V;C++){if($=ae[C],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[$.type]&&(W=this.options.extensions.renderers[$.type].call({parser:this},$),W!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes($.type))){ee+=W||"";continue}switch($.type){case"escape":{ee+=le.text($.text);break}case"html":{ee+=le.html($.text);break}case"link":{ee+=le.link($.href,$.title,this.parseInline($.tokens,le));break}case"image":{ee+=le.image($.href,$.title,$.text);break}case"strong":{ee+=le.strong(this.parseInline($.tokens,le));break}case"em":{ee+=le.em(this.parseInline($.tokens,le));break}case"codespan":{ee+=le.codespan($.text);break}case"br":{ee+=le.br();break}case"del":{ee+=le.del(this.parseInline($.tokens,le));break}case"text":{ee+=le.text($.text);break}default:{var ie='Token with "'+$.type+'" type was not found.';if(this.options.silent){console.error(ie);return}else throw new Error(ie)}}}return ee},Pe}();function ce(Pe,Ie,Se){if(typeof Pe>"u"||Pe===null)throw new Error("marked(): input parameter is undefined or null");if(typeof Pe!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(Pe)+", string expected");if(typeof Ie=="function"&&(Se=Ie,Ie=null),Ie=n({},ce.defaults,Ie||{}),P(Ie),Se){var ae=Ie.highlight,le;try{le=B.lex(Pe,Ie)}catch(V){return Se(V)}var ee=function(ie){var fe;if(!ie)try{Ie.walkTokens&&ce.walkTokens(le,Ie.walkTokens),fe=oe.parse(le,Ie)}catch(De){ie=De}return Ie.highlight=ae,ie?Se(ie):Se(null,fe)};if(!ae||ae.length<3||(delete Ie.highlight,!le.length))return ee();var C=0;ce.walkTokens(le,function(V){V.type==="code"&&(C++,setTimeout(function(){ae(V.text,V.lang,function(ie,fe){if(ie)return ee(ie);fe!=null&&fe!==V.text&&(V.text=fe,V.escaped=!0),C--,C===0&&ee()})},0))}),C===0&&ee();return}function $(V){if(V.message+=`
Please report this to https://github.com/markedjs/marked.`,Ie.silent)return"<p>An error occurred:</p><pre>"+g(V.message+"",!0)+"</pre>";throw V}try{var W=B.lex(Pe,Ie);if(Ie.walkTokens){if(Ie.async)return Promise.all(ce.walkTokens(W,Ie.walkTokens)).then(function(){return oe.parse(W,Ie)}).catch($);ce.walkTokens(W,Ie.walkTokens)}return oe.parse(W,Ie)}catch(V){$(V)}}ce.options=ce.setOptions=function(Pe){return n(ce.defaults,Pe),R(ce.defaults),ce},ce.getDefaults=E,ce.defaults=ne.defaults,ce.use=function(){for(var Pe=arguments.length,Ie=new Array(Pe),Se=0;Se<Pe;Se++)Ie[Se]=arguments[Se];var ae=n.apply(void 0,[{}].concat(Ie)),le=ce.defaults.extensions||{renderers:{},childTokens:{}},ee;Ie.forEach(function(C){if(C.extensions&&(ee=!0,C.extensions.forEach(function(W){if(!W.name)throw new Error("extension name required");if(W.renderer){var V=le.renderers?le.renderers[W.name]:null;V?le.renderers[W.name]=function(){for(var ie=arguments.length,fe=new Array(ie),De=0;De<ie;De++)fe[De]=arguments[De];var ue=W.renderer.apply(this,fe);return ue===!1&&(ue=V.apply(this,fe)),ue}:le.renderers[W.name]=W.renderer}if(W.tokenizer){if(!W.level||W.level!=="block"&&W.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");le[W.level]?le[W.level].unshift(W.tokenizer):le[W.level]=[W.tokenizer],W.start&&(W.level==="block"?le.startBlock?le.startBlock.push(W.start):le.startBlock=[W.start]:W.level==="inline"&&(le.startInline?le.startInline.push(W.start):le.startInline=[W.start]))}W.childTokens&&(le.childTokens[W.name]=W.childTokens)})),C.renderer&&function(){var W=ce.defaults.renderer||new J,V=function(De){var ue=W[De];W[De]=function(){for(var ve=arguments.length,be=new Array(ve),He=0;He<ve;He++)be[He]=arguments[He];var je=C.renderer[De].apply(W,be);return je===!1&&(je=ue.apply(W,be)),je}};for(var ie in C.renderer)V(ie);ae.renderer=W}(),C.tokenizer&&function(){var W=ce.defaults.tokenizer||new _,V=function(De){var ue=W[De];W[De]=function(){for(var ve=arguments.length,be=new Array(ve),He=0;He<ve;He++)be[He]=arguments[He];var je=C.tokenizer[De].apply(W,be);return je===!1&&(je=ue.apply(W,be)),je}};for(var ie in C.tokenizer)V(ie);ae.tokenizer=W}(),C.walkTokens){var $=ce.defaults.walkTokens;ae.walkTokens=function(W){var V=[];return V.push(C.walkTokens.call(this,W)),$&&(V=V.concat($.call(this,W))),V}}ee&&(ae.extensions=le),ce.setOptions(ae)})},ce.walkTokens=function(Pe,Ie){for(var Se=[],ae=function(){var $=ee.value;switch(Se=Se.concat(Ie.call(ce,$)),$.type){case"table":{for(var W=N($.header),V;!(V=W()).done;){var ie=V.value;Se=Se.concat(ce.walkTokens(ie.tokens,Ie))}for(var fe=N($.rows),De;!(De=fe()).done;)for(var ue=De.value,ve=N(ue),be;!(be=ve()).done;){var He=be.value;Se=Se.concat(ce.walkTokens(He.tokens,Ie))}break}case"list":{Se=Se.concat(ce.walkTokens($.items,Ie));break}default:ce.defaults.extensions&&ce.defaults.extensions.childTokens&&ce.defaults.extensions.childTokens[$.type]?ce.defaults.extensions.childTokens[$.type].forEach(function(je){Se=Se.concat(ce.walkTokens($[je],Ie))}):$.tokens&&(Se=Se.concat(ce.walkTokens($.tokens,Ie)))}},le=N(Pe),ee;!(ee=le()).done;)ae();return Se},ce.parseInline=function(Pe,Ie){if(typeof Pe>"u"||Pe===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof Pe!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(Pe)+", string expected");Ie=n({},ce.defaults,Ie||{}),P(Ie);try{var Se=B.lexInline(Pe,Ie);return Ie.walkTokens&&ce.walkTokens(Se,Ie.walkTokens),oe.parseInline(Se,Ie)}catch(ae){if(ae.message+=`
Please report this to https://github.com/markedjs/marked.`,Ie.silent)return"<p>An error occurred:</p><pre>"+g(ae.message+"",!0)+"</pre>";throw ae}},ce.Parser=oe,ce.parser=oe.parse,ce.Renderer=J,ce.TextRenderer=me,ce.Lexer=B,ce.lexer=B.lex,ce.Tokenizer=_,ce.Slugger=te,ce.parse=ce;var we=ce.options,q=ce.setOptions,K=ce.use,X=ce.walkTokens,de=ce.parseInline,ye=ce,Fe=oe.parse,ze=B.lex;ne.Lexer=B,ne.Parser=oe,ne.Renderer=J,ne.Slugger=te,ne.TextRenderer=me,ne.Tokenizer=_,ne.getDefaults=E,ne.lexer=ze,ne.marked=ce,ne.options=we,ne.parse=ye,ne.parseInline=de,ne.parser=Fe,ne.setOptions=q,ne.use=K,ne.walkTokens=X,Object.defineProperty(ne,"__esModule",{value:!0})}),define(ke[113],Te([1,0]),function(ne,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SlidingWindowAverage=e.MovingAverage=e.Counter=e.rot=e.clamp=void 0;function i(R,S,k){return Math.min(Math.max(R,S),k)}e.clamp=i;function T(R,S){return(S+R%S)%S}e.rot=T;class I{constructor(){this.a=0}getNext(){return this.a++}}e.Counter=I;class N{constructor(){this.a=1,this.b=0}update(S){return this.b=this.b+(S-this.b)/this.a,this.a+=1,this.b}get value(){return this.b}}e.MovingAverage=N;class E{constructor(S){this.a=0,this.b=0,this.c=[],this.d=0,this.e=0,this.c=new Array(S),this.c.fill(0,0,S)}update(S){const k=this.c[this.d];return this.c[this.d]=S,this.d=(this.d+1)%this.c.length,this.e-=k,this.e+=S,this.a<this.c.length&&(this.a+=1),this.b=this.e/this.a,this.b}get value(){return this.b}}e.SlidingWindowAverage=E}),function(){function ne(I){const N=[];typeof I=="number"&&N.push("code/timeOrigin",I);function E(S){N.push(S,Date.now())}function R(){const S=[];for(let k=0;k<N.length;k+=2)S.push({name:N[k],startTime:N[k+1]});return S}return{mark:E,getMarks:R}}function e(){if(typeof performance=="object"&&typeof performance.mark=="function"&&!performance.nodeTiming)return typeof performance.timeOrigin!="number"&&!performance.timing?ne():{mark(I){performance.mark(I)},getMarks(){let I=performance.timeOrigin;typeof I!="number"&&(I=performance.timing.navigationStart||performance.timing.redirectStart||performance.timing.fetchStart);const N=[{name:"code/timeOrigin",startTime:Math.round(I)}];for(const E of performance.getEntriesByType("mark"))N.push({name:E.name,startTime:Math.round(I+E.startTime)});return N}};if(typeof process=="object"){const I=performance?.timeOrigin??Math.round((require.__$__nodeRequire||require)("perf_hooks").performance.timeOrigin);return ne(I)}else return console.trace("perf-util loaded in UNKNOWN environment"),ne()}function i(I){return I.MonacoPerformanceMarks||(I.MonacoPerformanceMarks=e()),I.MonacoPerformanceMarks}var T;typeof global=="object"?T=global:typeof self=="object"?T=self:T={},typeof define=="function"?define("vs/base/common/performance",[],function(){return i(T)}):typeof module=="object"&&typeof module.exports=="object"?module.exports=i(T):(console.trace("perf-util defined in UNKNOWN context (neither requirejs or commonjs)"),T.perf=i(T))}(),function(ne,e){if(typeof exports=="object"&&typeof module=="object")module.exports=e();else if(typeof define=="function"&&define.amd)define("vs/base/common/semver/semver",[],e);else{var i=e();for(var T in i)(typeof exports=="object"?exports:ne)[T]=i[T]}}(typeof self<"u"?self:this,function(){return function(ne){var e={};function i(T){if(e[T])return e[T].exports;var I=e[T]={i:T,l:!1,exports:{}};return ne[T].call(I.exports,I,I.exports,i),I.l=!0,I.exports}return i.m=ne,i.c=e,i.d=function(T,I,N){i.o(T,I)||Object.defineProperty(T,I,{enumerable:!0,get:N})},i.r=function(T){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(T,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(T,"__esModule",{value:!0})},i.t=function(T,I){if(1&I&&(T=i(T)),8&I||4&I&&typeof T=="object"&&T&&T.__esModule)return T;var N=Object.create(null);if(i.r(N),Object.defineProperty(N,"default",{enumerable:!0,value:T}),2&I&&typeof T!="string")for(var E in T)i.d(N,E,function(R){return T[R]}.bind(null,E));return N},i.n=function(T){var I=T&&T.__esModule?function(){return T.default}:function(){return T};return i.d(I,"a",I),I},i.o=function(T,I){return Object.prototype.hasOwnProperty.call(T,I)},i.p="",i(i.s=0)}([function(ne,e,i){(function(T){var I;e=ne.exports=K,I=typeof T=="object"&&T.env&&T.env.NODE_DEBUG&&/\bsemver\b/i.test(T.env.NODE_DEBUG)?function(){var ue=Array.prototype.slice.call(arguments,0);ue.unshift("SEMVER"),console.log.apply(console,ue)}:function(){},e.SEMVER_SPEC_VERSION="2.0.0";var N=256,E=Number.MAX_SAFE_INTEGER||9007199254740991,R=e.re=[],S=e.src=[],k=0,M=k++;S[M]="0|[1-9]\\d*";var D=k++;S[D]="[0-9]+";var h=k++;S[h]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var b=k++;S[b]="("+S[M]+")\\.("+S[M]+")\\.("+S[M]+")";var g=k++;S[g]="("+S[D]+")\\.("+S[D]+")\\.("+S[D]+")";var a=k++;S[a]="(?:"+S[M]+"|"+S[h]+")";var o=k++;S[o]="(?:"+S[D]+"|"+S[h]+")";var l=k++;S[l]="(?:-("+S[a]+"(?:\\."+S[a]+")*))";var p=k++;S[p]="(?:-?("+S[o]+"(?:\\."+S[o]+")*))";var w=k++;S[w]="[0-9A-Za-z-]+";var O=k++;S[O]="(?:\\+("+S[w]+"(?:\\."+S[w]+")*))";var v=k++,t="v?"+S[b]+S[l]+"?"+S[O]+"?";S[v]="^"+t+"$";var d="[v=\\s]*"+S[g]+S[p]+"?"+S[O]+"?",r=k++;S[r]="^"+d+"$";var u=k++;S[u]="((?:<|>)?=?)";var c=k++;S[c]=S[D]+"|x|X|\\*";var y=k++;S[y]=S[M]+"|x|X|\\*";var n=k++;S[n]="[v=\\s]*("+S[y]+")(?:\\.("+S[y]+")(?:\\.("+S[y]+")(?:"+S[l]+")?"+S[O]+"?)?)?";var s=k++;S[s]="[v=\\s]*("+S[c]+")(?:\\.("+S[c]+")(?:\\.("+S[c]+")(?:"+S[p]+")?"+S[O]+"?)?)?";var f=k++;S[f]="^"+S[u]+"\\s*"+S[n]+"$";var A=k++;S[A]="^"+S[u]+"\\s*"+S[s]+"$";var P=k++;S[P]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var H=k++;S[H]="(?:~>?)";var Y=k++;S[Y]="(\\s*)"+S[H]+"\\s+",R[Y]=new RegExp(S[Y],"g");var Z=k++;S[Z]="^"+S[H]+S[n]+"$";var _=k++;S[_]="^"+S[H]+S[s]+"$";var j=k++;S[j]="(?:\\^)";var L=k++;S[L]="(\\s*)"+S[j]+"\\s+",R[L]=new RegExp(S[L],"g");var m=k++;S[m]="^"+S[j]+S[n]+"$";var F=k++;S[F]="^"+S[j]+S[s]+"$";var B=k++;S[B]="^"+S[u]+"\\s*("+d+")$|^$";var J=k++;S[J]="^"+S[u]+"\\s*("+t+")$|^$";var me=k++;S[me]="(\\s*)"+S[u]+"\\s*("+d+"|"+S[n]+")",R[me]=new RegExp(S[me],"g");var te=k++;S[te]="^\\s*("+S[n]+")\\s+-\\s+("+S[n]+")\\s*$";var oe=k++;S[oe]="^\\s*("+S[s]+")\\s+-\\s+("+S[s]+")\\s*$";var ce=k++;S[ce]="(<|>)?=?\\s*\\*";for(var we=0;we<35;we++)I(we,S[we]),R[we]||(R[we]=new RegExp(S[we]));function q(ue,ve){if(ue instanceof K)return ue;if(typeof ue!="string"||ue.length>N||!(ve?R[r]:R[v]).test(ue))return null;try{return new K(ue,ve)}catch{return null}}function K(ue,ve){if(ue instanceof K){if(ue.loose===ve)return ue;ue=ue.version}else if(typeof ue!="string")throw new TypeError("Invalid Version: "+ue);if(ue.length>N)throw new TypeError("version is longer than "+N+" characters");if(!(this instanceof K))return new K(ue,ve);I("SemVer",ue,ve),this.loose=ve;var be=ue.trim().match(ve?R[r]:R[v]);if(!be)throw new TypeError("Invalid Version: "+ue);if(this.raw=ue,this.major=+be[1],this.minor=+be[2],this.patch=+be[3],this.major>E||this.major<0)throw new TypeError("Invalid major version");if(this.minor>E||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>E||this.patch<0)throw new TypeError("Invalid patch version");be[4]?this.prerelease=be[4].split(".").map(function(He){if(/^[0-9]+$/.test(He)){var je=+He;if(je>=0&&je<E)return je}return He}):this.prerelease=[],this.build=be[5]?be[5].split("."):[],this.format()}e.parse=q,e.valid=function(ue,ve){var be=q(ue,ve);return be?be.version:null},e.clean=function(ue,ve){var be=q(ue.trim().replace(/^[=v]+/,""),ve);return be?be.version:null},e.SemVer=K,K.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},K.prototype.toString=function(){return this.version},K.prototype.compare=function(ue){return I("SemVer.compare",this.version,this.loose,ue),ue instanceof K||(ue=new K(ue,this.loose)),this.compareMain(ue)||this.comparePre(ue)},K.prototype.compareMain=function(ue){return ue instanceof K||(ue=new K(ue,this.loose)),de(this.major,ue.major)||de(this.minor,ue.minor)||de(this.patch,ue.patch)},K.prototype.comparePre=function(ue){if(ue instanceof K||(ue=new K(ue,this.loose)),this.prerelease.length&&!ue.prerelease.length)return-1;if(!this.prerelease.length&&ue.prerelease.length)return 1;if(!this.prerelease.length&&!ue.prerelease.length)return 0;var ve=0;do{var be=this.prerelease[ve],He=ue.prerelease[ve];if(I("prerelease compare",ve,be,He),be===void 0&&He===void 0)return 0;if(He===void 0)return 1;if(be===void 0)return-1;if(be!==He)return de(be,He)}while(++ve)},K.prototype.inc=function(ue,ve){switch(ue){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",ve);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",ve);break;case"prepatch":this.prerelease.length=0,this.inc("patch",ve),this.inc("pre",ve);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",ve),this.inc("pre",ve);break;case"major":this.minor===0&&this.patch===0&&this.prerelease.length!==0||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":this.patch===0&&this.prerelease.length!==0||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var be=this.prerelease.length;--be>=0;)typeof this.prerelease[be]=="number"&&(this.prerelease[be]++,be=-2);be===-1&&this.prerelease.push(0)}ve&&(this.prerelease[0]===ve?isNaN(this.prerelease[1])&&(this.prerelease=[ve,0]):this.prerelease=[ve,0]);break;default:throw new Error("invalid increment argument: "+ue)}return this.format(),this.raw=this.version,this},e.inc=function(ue,ve,be,He){typeof be=="string"&&(He=be,be=void 0);try{return new K(ue,be).inc(ve,He).version}catch{return null}},e.diff=function(ue,ve){if(Pe(ue,ve))return null;var be=q(ue),He=q(ve);if(be.prerelease.length||He.prerelease.length){for(var je in be)if((je==="major"||je==="minor"||je==="patch")&&be[je]!==He[je])return"pre"+je;return"prerelease"}for(var je in be)if((je==="major"||je==="minor"||je==="patch")&&be[je]!==He[je])return je},e.compareIdentifiers=de;var X=/^[0-9]+$/;function de(ue,ve){var be=X.test(ue),He=X.test(ve);return be&&He&&(ue=+ue,ve=+ve),be&&!He?-1:He&&!be?1:ue<ve?-1:ue>ve?1:0}function ye(ue,ve,be){return new K(ue,be).compare(new K(ve,be))}function Fe(ue,ve,be){return ye(ue,ve,be)>0}function ze(ue,ve,be){return ye(ue,ve,be)<0}function Pe(ue,ve,be){return ye(ue,ve,be)===0}function Ie(ue,ve,be){return ye(ue,ve,be)!==0}function Se(ue,ve,be){return ye(ue,ve,be)>=0}function ae(ue,ve,be){return ye(ue,ve,be)<=0}function le(ue,ve,be,He){var je;switch(ve){case"===":typeof ue=="object"&&(ue=ue.version),typeof be=="object"&&(be=be.version),je=ue===be;break;case"!==":typeof ue=="object"&&(ue=ue.version),typeof be=="object"&&(be=be.version),je=ue!==be;break;case"":case"=":case"==":je=Pe(ue,be,He);break;case"!=":je=Ie(ue,be,He);break;case">":je=Fe(ue,be,He);break;case">=":je=Se(ue,be,He);break;case"<":je=ze(ue,be,He);break;case"<=":je=ae(ue,be,He);break;default:throw new TypeError("Invalid operator: "+ve)}return je}function ee(ue,ve){if(ue instanceof ee){if(ue.loose===ve)return ue;ue=ue.value}if(!(this instanceof ee))return new ee(ue,ve);I("comparator",ue,ve),this.loose=ve,this.parse(ue),this.semver===C?this.value="":this.value=this.operator+this.semver.version,I("comp",this)}e.rcompareIdentifiers=function(ue,ve){return de(ve,ue)},e.major=function(ue,ve){return new K(ue,ve).major},e.minor=function(ue,ve){return new K(ue,ve).minor},e.patch=function(ue,ve){return new K(ue,ve).patch},e.compare=ye,e.compareLoose=function(ue,ve){return ye(ue,ve,!0)},e.rcompare=function(ue,ve,be){return ye(ve,ue,be)},e.sort=function(ue,ve){return ue.sort(function(be,He){return e.compare(be,He,ve)})},e.rsort=function(ue,ve){return ue.sort(function(be,He){return e.rcompare(be,He,ve)})},e.gt=Fe,e.lt=ze,e.eq=Pe,e.neq=Ie,e.gte=Se,e.lte=ae,e.cmp=le,e.Comparator=ee;var C={};function $(ue,ve){if(ue instanceof $)return ue.loose===ve?ue:new $(ue.raw,ve);if(ue instanceof ee)return new $(ue.value,ve);if(!(this instanceof $))return new $(ue,ve);if(this.loose=ve,this.raw=ue,this.set=ue.split(/\s*\|\|\s*/).map(function(be){return this.parseRange(be.trim())},this).filter(function(be){return be.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+ue);this.format()}function W(ue){return!ue||ue.toLowerCase()==="x"||ue==="*"}function V(ue,ve,be,He,je,it,Xe,et,nt,Ne,rt,G,Q){return((ve=W(be)?"":W(He)?">="+be+".0.0":W(je)?">="+be+"."+He+".0":">="+ve)+" "+(et=W(nt)?"":W(Ne)?"<"+(+nt+1)+".0.0":W(rt)?"<"+nt+"."+(+Ne+1)+".0":G?"<="+nt+"."+Ne+"."+rt+"-"+G:"<="+et)).trim()}function ie(ue,ve){for(var be=0;be<ue.length;be++)if(!ue[be].test(ve))return!1;if(ve.prerelease.length){for(be=0;be<ue.length;be++)if(I(ue[be].semver),ue[be].semver!==C&&ue[be].semver.prerelease.length>0){var He=ue[be].semver;if(He.major===ve.major&&He.minor===ve.minor&&He.patch===ve.patch)return!0}return!1}return!0}function fe(ue,ve,be){try{ve=new $(ve,be)}catch{return!1}return ve.test(ue)}function De(ue,ve,be,He){var je,it,Xe,et,nt;switch(ue=new K(ue,He),ve=new $(ve,He),be){case">":je=Fe,it=ae,Xe=ze,et=">",nt=">=";break;case"<":je=ze,it=Se,Xe=Fe,et="<",nt="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(fe(ue,ve,He))return!1;for(var Ne=0;Ne<ve.set.length;++Ne){var rt=ve.set[Ne],G=null,Q=null;if(rt.forEach(function(pe){pe.semver===C&&(pe=new ee(">=0.0.0")),G=G||pe,Q=Q||pe,je(pe.semver,G.semver,He)?G=pe:Xe(pe.semver,Q.semver,He)&&(Q=pe)}),G.operator===et||G.operator===nt||(!Q.operator||Q.operator===et)&&it(ue,Q.semver)||Q.operator===nt&&Xe(ue,Q.semver))return!1}return!0}ee.prototype.parse=function(ue){var ve=this.loose?R[B]:R[J],be=ue.match(ve);if(!be)throw new TypeError("Invalid comparator: "+ue);this.operator=be[1],this.operator==="="&&(this.operator=""),be[2]?this.semver=new K(be[2],this.loose):this.semver=C},ee.prototype.toString=function(){return this.value},ee.prototype.test=function(ue){return I("Comparator.test",ue,this.loose),this.semver===C||(typeof ue=="string"&&(ue=new K(ue,this.loose)),le(ue,this.operator,this.semver,this.loose))},ee.prototype.intersects=function(ue,ve){if(!(ue instanceof ee))throw new TypeError("a Comparator is required");var be;if(this.operator==="")return be=new $(ue.value,ve),fe(this.value,be,ve);if(ue.operator==="")return be=new $(this.value,ve),fe(ue.semver,be,ve);var He=!(this.operator!==">="&&this.operator!==">"||ue.operator!==">="&&ue.operator!==">"),je=!(this.operator!=="<="&&this.operator!=="<"||ue.operator!=="<="&&ue.operator!=="<"),it=this.semver.version===ue.semver.version,Xe=!(this.operator!==">="&&this.operator!=="<="||ue.operator!==">="&&ue.operator!=="<="),et=le(this.semver,"<",ue.semver,ve)&&(this.operator===">="||this.operator===">")&&(ue.operator==="<="||ue.operator==="<"),nt=le(this.semver,">",ue.semver,ve)&&(this.operator==="<="||this.operator==="<")&&(ue.operator===">="||ue.operator===">");return He||je||it&&Xe||et||nt},e.Range=$,$.prototype.format=function(){return this.range=this.set.map(function(ue){return ue.join(" ").trim()}).join("||").trim(),this.range},$.prototype.toString=function(){return this.range},$.prototype.parseRange=function(ue){var ve=this.loose;ue=ue.trim(),I("range",ue,ve);var be=ve?R[oe]:R[te];ue=ue.replace(be,V),I("hyphen replace",ue),ue=ue.replace(R[me],"$1$2$3"),I("comparator trim",ue,R[me]),ue=(ue=(ue=ue.replace(R[Y],"$1~")).replace(R[L],"$1^")).split(/\s+/).join(" ");var He=ve?R[B]:R[J],je=ue.split(" ").map(function(it){return function(Xe,et){return I("comp",Xe),Xe=function(nt,Ne){return nt.trim().split(/\s+/).map(function(rt){return function(G,Q){I("caret",G,Q);var pe=Q?R[F]:R[m];return G.replace(pe,function(We,$e,Qe,xe,tt){var at;return I("caret",G,We,$e,Qe,xe,tt),W($e)?at="":W(Qe)?at=">="+$e+".0.0 <"+(+$e+1)+".0.0":W(xe)?at=$e==="0"?">="+$e+"."+Qe+".0 <"+$e+"."+(+Qe+1)+".0":">="+$e+"."+Qe+".0 <"+(+$e+1)+".0.0":tt?(I("replaceCaret pr",tt),tt.charAt(0)!=="-"&&(tt="-"+tt),at=$e==="0"?Qe==="0"?">="+$e+"."+Qe+"."+xe+tt+" <"+$e+"."+Qe+"."+(+xe+1):">="+$e+"."+Qe+"."+xe+tt+" <"+$e+"."+(+Qe+1)+".0":">="+$e+"."+Qe+"."+xe+tt+" <"+(+$e+1)+".0.0"):(I("no pr"),at=$e==="0"?Qe==="0"?">="+$e+"."+Qe+"."+xe+" <"+$e+"."+Qe+"."+(+xe+1):">="+$e+"."+Qe+"."+xe+" <"+$e+"."+(+Qe+1)+".0":">="+$e+"."+Qe+"."+xe+" <"+(+$e+1)+".0.0"),I("caret return",at),at})}(rt,Ne)}).join(" ")}(Xe,et),I("caret",Xe),Xe=function(nt,Ne){return nt.trim().split(/\s+/).map(function(rt){return function(G,Q){var pe=Q?R[_]:R[Z];return G.replace(pe,function(We,$e,Qe,xe,tt){var at;return I("tilde",G,We,$e,Qe,xe,tt),W($e)?at="":W(Qe)?at=">="+$e+".0.0 <"+(+$e+1)+".0.0":W(xe)?at=">="+$e+"."+Qe+".0 <"+$e+"."+(+Qe+1)+".0":tt?(I("replaceTilde pr",tt),tt.charAt(0)!=="-"&&(tt="-"+tt),at=">="+$e+"."+Qe+"."+xe+tt+" <"+$e+"."+(+Qe+1)+".0"):at=">="+$e+"."+Qe+"."+xe+" <"+$e+"."+(+Qe+1)+".0",I("tilde return",at),at})}(rt,Ne)}).join(" ")}(Xe,et),I("tildes",Xe),Xe=function(nt,Ne){return I("replaceXRanges",nt,Ne),nt.split(/\s+/).map(function(rt){return function(G,Q){G=G.trim();var pe=Q?R[A]:R[f];return G.replace(pe,function(We,$e,Qe,xe,tt,at){I("xRange",G,We,$e,Qe,xe,tt,at);var Et=W(Qe),Ct=Et||W(xe),It=Ct||W(tt);return $e==="="&&It&&($e=""),Et?We=$e===">"||$e==="<"?"<0.0.0":"*":$e&&It?(Ct&&(xe=0),It&&(tt=0),$e===">"?($e=">=",Ct?(Qe=+Qe+1,xe=0,tt=0):It&&(xe=+xe+1,tt=0)):$e==="<="&&($e="<",Ct?Qe=+Qe+1:xe=+xe+1),We=$e+Qe+"."+xe+"."+tt):Ct?We=">="+Qe+".0.0 <"+(+Qe+1)+".0.0":It&&(We=">="+Qe+"."+xe+".0 <"+Qe+"."+(+xe+1)+".0"),I("xRange return",We),We})}(rt,Ne)}).join(" ")}(Xe,et),I("xrange",Xe),Xe=function(nt,Ne){return I("replaceStars",nt,Ne),nt.trim().replace(R[ce],"")}(Xe,et),I("stars",Xe),Xe}(it,ve)}).join(" ").split(/\s+/);return this.loose&&(je=je.filter(function(it){return!!it.match(He)})),je=je.map(function(it){return new ee(it,ve)})},$.prototype.intersects=function(ue,ve){if(!(ue instanceof $))throw new TypeError("a Range is required");return this.set.some(function(be){return be.every(function(He){return ue.set.some(function(je){return je.every(function(it){return He.intersects(it,ve)})})})})},e.toComparators=function(ue,ve){return new $(ue,ve).set.map(function(be){return be.map(function(He){return He.value}).join(" ").trim().split(" ")})},$.prototype.test=function(ue){if(!ue)return!1;typeof ue=="string"&&(ue=new K(ue,this.loose));for(var ve=0;ve<this.set.length;ve++)if(ie(this.set[ve],ue))return!0;return!1},e.satisfies=fe,e.maxSatisfying=function(ue,ve,be){var He=null,je=null;try{var it=new $(ve,be)}catch{return null}return ue.forEach(function(Xe){it.test(Xe)&&(He&&je.compare(Xe)!==-1||(je=new K(He=Xe,be)))}),He},e.minSatisfying=function(ue,ve,be){var He=null,je=null;try{var it=new $(ve,be)}catch{return null}return ue.forEach(function(Xe){it.test(Xe)&&(He&&je.compare(Xe)!==1||(je=new K(He=Xe,be)))}),He},e.validRange=function(ue,ve){try{return new $(ue,ve).range||"*"}catch{return null}},e.ltr=function(ue,ve,be){return De(ue,ve,"<",be)},e.gtr=function(ue,ve,be){return De(ue,ve,">",be)},e.outside=De,e.prerelease=function(ue,ve){var be=q(ue,ve);return be&&be.prerelease.length?be.prerelease:null},e.intersects=function(ue,ve,be){return ue=new $(ue,be),ve=new $(ve,be),ue.intersects(ve)},e.coerce=function(ue){if(ue instanceof K)return ue;if(typeof ue!="string")return null;var ve=ue.match(R[P]);return ve==null?null:q((ve[1]||"0")+"."+(ve[2]||"0")+"."+(ve[3]||"0"))}}).call(this,i(1))},function(ne,e){var i,T,I=ne.exports={};function N(){throw new Error("setTimeout has not been defined")}function E(){throw new Error("clearTimeout has not been defined")}function R(o){if(i===setTimeout)return setTimeout(o,0);if((i===N||!i)&&setTimeout)return i=setTimeout,setTimeout(o,0);try{return i(o,0)}catch{try{return i.call(null,o,0)}catch{return i.call(this,o,0)}}}(function(){try{i=typeof setTimeout=="function"?setTimeout:N}catch{i=N}try{T=typeof clearTimeout=="function"?clearTimeout:E}catch{T=E}})();var S,k=[],M=!1,D=-1;function h(){M&&S&&(M=!1,S.length?k=S.concat(k):D=-1,k.length&&b())}function b(){if(!M){var o=R(h);M=!0;for(var l=k.length;l;){for(S=k,k=[];++D<l;)S&&S[D].run();D=-1,l=k.length}S=null,M=!1,function(p){if(T===clearTimeout)return clearTimeout(p);if((T===E||!T)&&clearTimeout)return T=clearTimeout,clearTimeout(p);try{T(p)}catch{try{return T.call(null,p)}catch{return T.call(this,p)}}}(o)}}function g(o,l){this.fun=o,this.array=l}function a(){}I.nextTick=function(o){var l=new Array(arguments.length-1);if(arguments.length>1)for(var p=1;p<arguments.length;p++)l[p-1]=arguments[p];k.push(new g(o,l)),k.length!==1||M||R(b)},g.prototype.run=function(){this.fun.apply(null,this.array)},I.title="browser",I.browser=!0,I.env={},I.argv=[],I.version="",I.versions={},I.on=a,I.addListener=a,I.once=a,I.off=a,I.removeListener=a,I.removeAllListeners=a,I.emit=a,I.prependListener=a,I.prependOnceListener=a,I.listeners=function(o){return[]},I.binding=function(o){throw new Error("process.binding is not supported")},I.cwd=function(){return"/"},I.chdir=function(o){throw new Error("process.chdir is not supported")},I.umask=function(){return 0}}])}),define(ke[114],Te([1,0,11,6]),function(ne,e,i,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.prefixedStream=e.prefixedReadable=e.transform=e.toReadable=e.emptyStream=e.toStream=e.peekStream=e.listenStream=e.consumeStream=e.peekReadable=e.consumeReadable=e.newWriteableStream=e.isReadableBufferedStream=e.isReadableStream=e.isReadable=void 0;function I(O){const v=O;return v?typeof v.read=="function":!1}e.isReadable=I;function N(O){const v=O;return v?[v.on,v.pause,v.resume,v.destroy].every(t=>typeof t=="function"):!1}e.isReadableStream=N;function E(O){const v=O;return v?N(v.stream)&&Array.isArray(v.buffer)&&typeof v.ended=="boolean":!1}e.isReadableBufferedStream=E;function R(O,v){return new S(O,v)}e.newWriteableStream=R;class S{constructor(v,t){this.e=v,this.f=t,this.a={flowing:!1,ended:!1,destroyed:!1},this.b={data:[],error:[]},this.c={data:[],error:[],end:[]},this.d=[]}pause(){this.a.destroyed||(this.a.flowing=!1)}resume(){this.a.destroyed||this.a.flowing||(this.a.flowing=!0,this.j(),this.k(),this.l())}write(v){if(!this.a.destroyed){if(this.a.flowing)this.g(v);else if(this.b.data.push(v),typeof this.f?.highWaterMark=="number"&&this.b.data.length>this.f.highWaterMark)return new Promise(t=>this.d.push(t))}}error(v){this.a.destroyed||(this.a.flowing?this.h(v):this.b.error.push(v))}end(v){this.a.destroyed||(typeof v<"u"&&this.write(v),this.a.flowing?(this.i(),this.destroy()):this.a.ended=!0)}g(v){this.c.data.slice(0).forEach(t=>t(v))}h(v){this.c.error.length===0?(0,i.onUnexpectedError)(v):this.c.error.slice(0).forEach(t=>t(v))}i(){this.c.end.slice(0).forEach(v=>v())}on(v,t){if(!this.a.destroyed)switch(v){case"data":this.c.data.push(t),this.resume();break;case"end":this.c.end.push(t),this.a.flowing&&this.l()&&this.destroy();break;case"error":this.c.error.push(t),this.a.flowing&&this.k();break}}removeListener(v,t){if(this.a.destroyed)return;let d;switch(v){case"data":d=this.c.data;break;case"end":d=this.c.end;break;case"error":d=this.c.error;break}if(d){const r=d.indexOf(t);r>=0&&d.splice(r,1)}}j(){if(this.b.data.length>0){const v=this.e(this.b.data);this.g(v),this.b.data.length=0;const t=[...this.d];this.d.length=0,t.forEach(d=>d())}}k(){if(this.c.error.length>0){for(const v of this.b.error)this.h(v);this.b.error.length=0}}l(){return this.a.ended?(this.i(),this.c.end.length>0):!1}destroy(){this.a.destroyed||(this.a.destroyed=!0,this.a.ended=!0,this.b.data.length=0,this.b.error.length=0,this.c.data.length=0,this.c.error.length=0,this.c.end.length=0,this.d.length=0)}}function k(O,v){const t=[];let d;for(;(d=O.read())!==null;)t.push(d);return v(t)}e.consumeReadable=k;function M(O,v,t){const d=[];let r;for(;(r=O.read())!==null&&d.length<t;)d.push(r);return r===null&&d.length>0?v(d):{read:()=>{if(d.length>0)return d.shift();if(typeof r<"u"){const u=r;return r=void 0,u}return O.read()}}}e.peekReadable=M;function D(O,v){return new Promise((t,d)=>{const r=[];h(O,{onData:u=>{v&&r.push(u)},onError:u=>{v?d(u):t(void 0)},onEnd:()=>{t(v?v(r):void 0)}})})}e.consumeStream=D;function h(O,v){let t=!1;return O.on("error",d=>{t||v.onError(d)}),O.on("end",()=>{t||v.onEnd()}),O.on("data",d=>{t||v.onData(d)}),(0,T.toDisposable)(()=>t=!0)}e.listenStream=h;function b(O,v){return new Promise((t,d)=>{const r=new T.DisposableStore,u=[],c=s=>{if(u.push(s),u.length>v)return r.dispose(),O.pause(),t({stream:O,buffer:u,ended:!1})},y=s=>d(s),n=()=>t({stream:O,buffer:u,ended:!0});r.add((0,T.toDisposable)(()=>O.removeListener("error",y))),O.on("error",y),r.add((0,T.toDisposable)(()=>O.removeListener("end",n))),O.on("end",n),r.add((0,T.toDisposable)(()=>O.removeListener("data",c))),O.on("data",c)})}e.peekStream=b;function g(O,v){const t=R(v);return t.end(O),t}e.toStream=g;function a(){const O=R(()=>{throw new Error("not supported")});return O.end(),O}e.emptyStream=a;function o(O){let v=!1;return{read:()=>v?null:(v=!0,O)}}e.toReadable=o;function l(O,v,t){const d=R(t);return h(O,{onData:r=>d.write(v.data(r)),onError:r=>d.error(v.error?v.error(r):r),onEnd:()=>d.end()}),d}e.transform=l;function p(O,v,t){let d=!1;return{read:()=>{const r=v.read();return d?r:(d=!0,r!==null?t([O,r]):O)}}}e.prefixedReadable=p;function w(O,v,t){let d=!1;const r=R(t);return h(v,{onData:u=>d?r.write(u):(d=!0,r.write(t([O,u]))),onError:u=>r.error(u),onEnd:()=>{d||(d=!0,r.write(O)),r.end()}}),r}e.prefixedStream=w}),define(ke[23],Te([1,0,114]),function(ne,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.encodeBase64=e.decodeBase64=e.prefixedBufferStream=e.prefixedBufferReadable=e.newWriteableBufferStream=e.streamToBufferReadableStream=e.bufferToStream=e.bufferedStreamToBuffer=e.streamToBuffer=e.bufferToReadable=e.readableToBuffer=e.writeUInt8=e.readUInt8=e.writeUInt32LE=e.readUInt32LE=e.writeUInt32BE=e.readUInt32BE=e.writeUInt16LE=e.readUInt16LE=e.VSBuffer=void 0;const T=typeof Buffer<"u";let I,N;class E{static alloc(s){return T?new E(Buffer.allocUnsafe(s)):new E(new Uint8Array(s))}static wrap(s){return T&&!Buffer.isBuffer(s)&&(s=Buffer.from(s.buffer,s.byteOffset,s.byteLength)),new E(s)}static fromString(s,f){return!(f?.dontUseNodeBuffer||!1)&&T?new E(Buffer.from(s)):(I||(I=new TextEncoder),new E(I.encode(s)))}static fromByteArray(s){const f=E.alloc(s.length);for(let A=0,P=s.length;A<P;A++)f.buffer[A]=s[A];return f}static concat(s,f){if(typeof f>"u"){f=0;for(let H=0,Y=s.length;H<Y;H++)f+=s[H].byteLength}const A=E.alloc(f);let P=0;for(let H=0,Y=s.length;H<Y;H++){const Z=s[H];A.set(Z,P),P+=Z.byteLength}return A}constructor(s){this.buffer=s,this.byteLength=this.buffer.byteLength}clone(){const s=E.alloc(this.byteLength);return s.set(this),s}toString(){return T?this.buffer.toString():(N||(N=new TextDecoder),N.decode(this.buffer))}slice(s,f){return new E(this.buffer.subarray(s,f))}set(s,f){if(s instanceof E)this.buffer.set(s.buffer,f);else if(s instanceof Uint8Array)this.buffer.set(s,f);else if(s instanceof ArrayBuffer)this.buffer.set(new Uint8Array(s),f);else if(ArrayBuffer.isView(s))this.buffer.set(new Uint8Array(s.buffer,s.byteOffset,s.byteLength),f);else throw new Error("Unknown argument 'array'")}readUInt32BE(s){return k(this.buffer,s)}writeUInt32BE(s,f){M(this.buffer,s,f)}readUInt32LE(s){return D(this.buffer,s)}writeUInt32LE(s,f){h(this.buffer,s,f)}readUInt8(s){return b(this.buffer,s)}writeUInt8(s,f){g(this.buffer,s,f)}}e.VSBuffer=E;function R(n,s){return n[s+0]<<0>>>0|n[s+1]<<8>>>0}e.readUInt16LE=R;function S(n,s,f){n[f+0]=s&255,s=s>>>8,n[f+1]=s&255}e.writeUInt16LE=S;function k(n,s){return n[s]*2**24+n[s+1]*2**16+n[s+2]*2**8+n[s+3]}e.readUInt32BE=k;function M(n,s,f){n[f+3]=s,s=s>>>8,n[f+2]=s,s=s>>>8,n[f+1]=s,s=s>>>8,n[f]=s}e.writeUInt32BE=M;function D(n,s){return n[s+0]<<0>>>0|n[s+1]<<8>>>0|n[s+2]<<16>>>0|n[s+3]<<24>>>0}e.readUInt32LE=D;function h(n,s,f){n[f+0]=s&255,s=s>>>8,n[f+1]=s&255,s=s>>>8,n[f+2]=s&255,s=s>>>8,n[f+3]=s&255}e.writeUInt32LE=h;function b(n,s){return n[s]}e.readUInt8=b;function g(n,s,f){n[f]=s}e.writeUInt8=g;function a(n){return i.consumeReadable(n,s=>E.concat(s))}e.readableToBuffer=a;function o(n){return i.toReadable(n)}e.bufferToReadable=o;function l(n){return i.consumeStream(n,s=>E.concat(s))}e.streamToBuffer=l;async function p(n){return n.ended?E.concat(n.buffer):E.concat([...n.buffer,await l(n.stream)])}e.bufferedStreamToBuffer=p;function w(n){return i.toStream(n,s=>E.concat(s))}e.bufferToStream=w;function O(n){return i.transform(n,{data:s=>typeof s=="string"?E.fromString(s):E.wrap(s)},s=>E.concat(s))}e.streamToBufferReadableStream=O;function v(n){return i.newWriteableStream(s=>E.concat(s),n)}e.newWriteableBufferStream=v;function t(n,s){return i.prefixedReadable(n,s,f=>E.concat(f))}e.prefixedBufferReadable=t;function d(n,s){return i.prefixedStream(n,s,f=>E.concat(f))}e.prefixedBufferStream=d;function r(n){let s=0,f=0,A=0;const P=new Uint8Array(Math.floor(n.length/4*3)),H=Z=>{switch(f){case 3:P[A++]=s|Z,f=0;break;case 2:P[A++]=s|Z>>>2,s=Z<<6,f=3;break;case 1:P[A++]=s|Z>>>4,s=Z<<4,f=2;break;default:s=Z<<2,f=1}};for(let Z=0;Z<n.length;Z++){const _=n.charCodeAt(Z);if(_>=65&&_<=90)H(_-65);else if(_>=97&&_<=122)H(_-97+26);else if(_>=48&&_<=57)H(_-48+52);else if(_===43||_===45)H(62);else if(_===47||_===95)H(63);else{if(_===61)break;throw new SyntaxError(`Unexpected base64 character ${n[Z]}`)}}const Y=A;for(;f>0;)H(0);return E.wrap(P).slice(0,Y)}e.decodeBase64=r;const u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";function y({buffer:n},s=!0,f=!1){const A=f?c:u;let P="";const H=n.byteLength%3;let Y=0;for(;Y<n.byteLength-H;Y+=3){const Z=n[Y+0],_=n[Y+1],j=n[Y+2];P+=A[Z>>>2],P+=A[(Z<<4|_>>>4)&63],P+=A[(_<<2|j>>>6)&63],P+=A[j&63]}if(H===1){const Z=n[Y+0];P+=A[Z>>>2],P+=A[Z<<4&63],s&&(P+="==")}else if(H===2){const Z=n[Y+0],_=n[Y+1];P+=A[Z>>>2],P+=A[(Z<<4|_>>>4)&63],P+=A[_<<2&63],s&&(P+="=")}return P}e.encodeBase64=y}),define(ke[115],Te([1,0]),function(ne,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MicrotaskDelay=void 0,e.MicrotaskDelay=Symbol("MicrotaskDelay")}),define(ke[38],Te([1,0,84]),function(ne,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ThemeIcon=e.themeColorFromId=e.ThemeColor=void 0;var T;(function(E){function R(S){return S&&typeof S=="object"&&typeof S.id=="string"}E.isThemeColor=R})(T=e.ThemeColor||(e.ThemeColor={}));function I(E){return{id:E}}e.themeColorFromId=I;var N;(function(E){E.iconNameSegment="[A-Za-z0-9]+",E.iconNameExpression="[A-Za-z0-9-]+",E.iconModifierExpression="~[A-Za-z]+",E.iconNameCharacter="[A-Za-z0-9~-]";const R=new RegExp(`^(${E.iconNameExpression})(${E.iconModifierExpression})?$`);function S(p){const w=R.exec(p.id);if(!w)return S(i.Codicon.error);const[,O,v]=w,t=["codicon","codicon-"+O];return v&&t.push("codicon-modifier-"+v.substring(1)),t}E.asClassNameArray=S;function k(p){return S(p).join(" ")}E.asClassName=k;function M(p){return"."+S(p).join(".")}E.asCSSSelector=M;function D(p){return p&&typeof p=="object"&&typeof p.id=="string"&&(typeof p.color>"u"||T.isThemeColor(p.color))}E.isThemeIcon=D;const h=new RegExp(`^\\$\\((${E.iconNameExpression}(?:${E.iconModifierExpression})?)\\)$`);function b(p){const w=h.exec(p);if(!w)return;const[,O]=w;return{id:O}}E.fromString=b;function g(p){return{id:p}}E.fromId=g;function a(p,w){let O=p.id;const v=O.lastIndexOf("~");return v!==-1&&(O=O.substring(0,v)),w&&(O=`${O}~${w}`),{id:O}}E.modify=a;function o(p){const w=p.id.lastIndexOf("~");if(w!==-1)return p.id.substring(w+1)}E.getModifier=o;function l(p,w){return p.id===w.id&&p.color?.id===w.color?.id}E.isEqual=l})(N=e.ThemeIcon||(e.ThemeIcon={}))}),define(ke[34],Te([1,0]),function(ne,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateUuid=e.isUUID=void 0;const i=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function T(I){return i.test(I)}e.isUUID=T,e.generateUuid=function(){if(typeof crypto=="object"&&typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto);let I;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?I=crypto.getRandomValues.bind(crypto):I=function(R){for(let S=0;S<R.length;S++)R[S]=Math.floor(Math.random()*256);return R};const N=new Uint8Array(16),E=[];for(let R=0;R<256;R++)E.push(R.toString(16).padStart(2,"0"));return function(){I(N),N[6]=N[6]&15|64,N[8]=N[8]&63|128;let S=0,k="";return k+=E[N[S++]],k+=E[N[S++]],k+=E[N[S++]],k+=E[N[S++]],k+="-",k+=E[N[S++]],k+=E[N[S++]],k+="-",k+=E[N[S++]],k+=E[N[S++]],k+="-",k+=E[N[S++]],k+=E[N[S++]],k+="-",k+=E[N[S++]],k+=E[N[S++]],k+=E[N[S++]],k+=E[N[S++]],k+=E[N[S++]],k+=E[N[S++]],k}}()}),define(ke[116],Te([1,0,16,34]),function(ne,e,i,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UriList=e.VSDataTransfer=e.createFileDataTransferItem=e.createStringDataTransferItem=void 0;function I(R){return{id:(0,T.generateUuid)(),asString:async()=>R,asFile:()=>{},value:typeof R=="string"?R:void 0}}e.createStringDataTransferItem=I;function N(R,S,k){return{id:(0,T.generateUuid)(),asString:async()=>"",asFile:()=>({name:R,uri:S,data:k}),value:void 0}}e.createFileDataTransferItem=N;class E{constructor(){this.a=new Map}get size(){return this.a.size}has(S){return this.a.has(this.b(S))}get(S){return this.a.get(this.b(S))?.[0]}append(S,k){const M=this.a.get(S);M?M.push(k):this.a.set(this.b(S),[k])}replace(S,k){this.a.set(this.b(S),[k])}delete(S){this.a.delete(this.b(S))}*entries(){for(const[S,k]of this.a.entries())for(const M of k)yield[S,M]}values(){return Array.from(this.a.values()).flat()}forEach(S){for(const[k,M]of this.entries())S(M,k)}b(S){return S.toLowerCase()}}e.VSDataTransfer=E,e.UriList=Object.freeze({create:R=>(0,i.distinct)(R.map(S=>S.toString())).join(`\r
`),split:R=>R.split(`\r
`),parse:R=>e.UriList.split(R).filter(S=>!S.startsWith("#"))})}),define(ke[117],Te([1,0]),function(ne,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EDITOR_MODEL_DEFAULTS=void 0,e.EDITOR_MODEL_DEFAULTS={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}}}),define(ke[118],Te([1,0]),function(ne,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoClosingPairs=e.StandardAutoClosingPairConditional=e.IndentAction=void 0;var i;(function(E){E[E.None=0]="None",E[E.Indent=1]="Indent",E[E.IndentOutdent=2]="IndentOutdent",E[E.Outdent=3]="Outdent"})(i=e.IndentAction||(e.IndentAction={}));class T{constructor(R){if(this.e=null,this.f=!1,this.open=R.open,this.close=R.close,this.b=!0,this.c=!0,this.d=!0,Array.isArray(R.notIn))for(let S=0,k=R.notIn.length;S<k;S++)switch(R.notIn[S]){case"string":this.b=!1;break;case"comment":this.c=!1;break;case"regex":this.d=!1;break}}isOK(R){switch(R){case 0:return!0;case 1:return this.c;case 2:return this.b;case 3:return this.d}}shouldAutoClose(R,S){if(R.getTokenCount()===0)return!0;const k=R.findTokenIndexAtOffset(S-2),M=R.getStandardTokenType(k);return this.isOK(M)}g(R,S){for(let k=R;k<=S;k++){const M=String.fromCharCode(k);if(!this.open.includes(M)&&!this.close.includes(M))return M}return null}findNeutralCharacter(){return this.f||(this.f=!0,this.e||(this.e=this.g(48,57)),this.e||(this.e=this.g(97,122)),this.e||(this.e=this.g(65,90))),this.e}}e.StandardAutoClosingPairConditional=T;class I{constructor(R){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const S of R)N(this.autoClosingPairsOpenByStart,S.open.charAt(0),S),N(this.autoClosingPairsOpenByEnd,S.open.charAt(S.open.length-1),S),N(this.autoClosingPairsCloseByStart,S.close.charAt(0),S),N(this.autoClosingPairsCloseByEnd,S.close.charAt(S.close.length-1),S),S.close.length===1&&S.open.length===1&&N(this.autoClosingPairsCloseSingleChar,S.close,S)}}e.AutoClosingPairs=I;function N(E,R,S){E.has(R)?E.get(R).push(S):E.set(R,[S])}}),define(ke[119],Te([13,14]),function(ne,e){return ne.create("vs/base/common/actions",e)}),define(ke[120],Te([13,14]),function(ne,e){return ne.create("vs/base/common/date",e)}),define(ke[121],Te([1,0,120]),function(ne,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toLocalISOString=e.fromNow=void 0;const T=60,I=T*60,N=I*24,E=N*7,R=N*30,S=N*365;function k(D,h,b,g){typeof D!="number"&&(D=D.getTime());const a=Math.round((new Date().getTime()-D)/1e3);if(a<-30)return(0,i.localize)(0,null,k(new Date().getTime()+a*1e3,!1));if(!g&&a<30)return(0,i.localize)(1,null);let o;return a<T?(o=a,h?o===1?b?(0,i.localize)(2,null,o):(0,i.localize)(3,null,o):b?(0,i.localize)(4,null,o):(0,i.localize)(5,null,o):o===1?b?(0,i.localize)(6,null,o):(0,i.localize)(7,null,o):b?(0,i.localize)(8,null,o):(0,i.localize)(9,null,o)):a<I?(o=Math.floor(a/T),h?o===1?b?(0,i.localize)(10,null,o):(0,i.localize)(11,null,o):b?(0,i.localize)(12,null,o):(0,i.localize)(13,null,o):o===1?b?(0,i.localize)(14,null,o):(0,i.localize)(15,null,o):b?(0,i.localize)(16,null,o):(0,i.localize)(17,null,o)):a<N?(o=Math.floor(a/I),h?o===1?b?(0,i.localize)(18,null,o):(0,i.localize)(19,null,o):b?(0,i.localize)(20,null,o):(0,i.localize)(21,null,o):o===1?b?(0,i.localize)(22,null,o):(0,i.localize)(23,null,o):b?(0,i.localize)(24,null,o):(0,i.localize)(25,null,o)):a<E?(o=Math.floor(a/N),h?o===1?(0,i.localize)(26,null,o):(0,i.localize)(27,null,o):o===1?(0,i.localize)(28,null,o):(0,i.localize)(29,null,o)):a<R?(o=Math.floor(a/E),h?o===1?b?(0,i.localize)(30,null,o):(0,i.localize)(31,null,o):b?(0,i.localize)(32,null,o):(0,i.localize)(33,null,o):o===1?b?(0,i.localize)(34,null,o):(0,i.localize)(35,null,o):b?(0,i.localize)(36,null,o):(0,i.localize)(37,null,o)):a<S?(o=Math.floor(a/R),h?o===1?b?(0,i.localize)(38,null,o):(0,i.localize)(39,null,o):b?(0,i.localize)(40,null,o):(0,i.localize)(41,null,o):o===1?b?(0,i.localize)(42,null,o):(0,i.localize)(43,null,o):b?(0,i.localize)(44,null,o):(0,i.localize)(45,null,o)):(o=Math.floor(a/S),h?o===1?b?(0,i.localize)(46,null,o):(0,i.localize)(47,null,o):b?(0,i.localize)(48,null,o):(0,i.localize)(49,null,o):o===1?b?(0,i.localize)(50,null,o):(0,i.localize)(51,null,o):b?(0,i.localize)(52,null,o):(0,i.localize)(53,null,o))}e.fromNow=k;function M(D){return D.getFullYear()+"-"+String(D.getMonth()+1).padStart(2,"0")+"-"+String(D.getDate()).padStart(2,"0")+"T"+String(D.getHours()).padStart(2,"0")+":"+String(D.getMinutes()).padStart(2,"0")+":"+String(D.getSeconds()).padStart(2,"0")+"."+(D.getMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"}e.toLocalISOString=M}),define(ke[122],Te([13,14]),function(ne,e){return ne.create("vs/base/common/errorMessage",e)}),define(ke[39],Te([1,0,16,9,122]),function(ne,e,i,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createErrorWithActions=e.isErrorWithActions=e.toErrorMessage=void 0;function N(D,h){return h&&(D.stack||D.stacktrace)?I.localize(0,null,R(D),E(D.stack)||E(D.stacktrace)):R(D)}function E(D){return Array.isArray(D)?D.join(`
`):D}function R(D){return typeof D.code=="string"&&typeof D.errno=="number"&&typeof D.syscall=="string"?I.localize(1,null,D.message):D.message||I.localize(2,null)}function S(D=null,h=!1){if(!D)return I.localize(3,null);if(Array.isArray(D)){const b=i.coalesce(D),g=S(b[0],h);return b.length>1?I.localize(4,null,g,b.length):g}if(T.isString(D))return D;if(D.detail){const b=D.detail;if(b.error)return N(b.error,h);if(b.exception)return N(b.exception,h)}return D.stack?N(D,h):D.message?D.message:I.localize(5,null)}e.toErrorMessage=S;function k(D){const h=D;return h instanceof Error&&Array.isArray(h.actions)}e.isErrorWithActions=k;function M(D,h){let b;return typeof D=="string"?b=new Error(D):b=D,b.actions=h,b}e.createErrorWithActions=M}),define(ke[123],Te([1,0,85,19]),function(ne,e,i,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compareByPrefix=e.compareAnything=e.comparePaths=e.compareFileExtensionsUnicode=e.compareFileExtensionsLower=e.compareFileExtensionsUpper=e.compareFileExtensionsDefault=e.compareFileExtensions=e.compareFileNamesUnicode=e.compareFileNamesLower=e.compareFileNamesUpper=e.compareFileNamesDefault=e.compareFileNames=void 0;const I=new i.Lazy(()=>{const s=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:s,collatorIsNumeric:s.resolvedOptions().numeric}}),N=new i.Lazy(()=>({collator:new Intl.Collator(void 0,{numeric:!0})})),E=new i.Lazy(()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}));function R(s,f,A=!1){const P=s||"",H=f||"",Y=I.value.collator.compare(P,H);return I.value.collatorIsNumeric&&Y===0&&P!==H?P<H?-1:1:Y}e.compareFileNames=R;function S(s,f){const A=N.value.collator;return s=s||"",f=f||"",O(A,s,f)}e.compareFileNamesDefault=S;function k(s,f){const A=N.value.collator;return s=s||"",f=f||"",r(s,f)||O(A,s,f)}e.compareFileNamesUpper=k;function M(s,f){const A=N.value.collator;return s=s||"",f=f||"",d(s,f)||O(A,s,f)}e.compareFileNamesLower=M;function D(s,f){return s=s||"",f=f||"",s===f?0:s<f?-1:1}e.compareFileNamesUnicode=D;function h(s,f){const[A,P]=p(s),[H,Y]=p(f);let Z=I.value.collator.compare(P,Y);if(Z===0){if(I.value.collatorIsNumeric&&P!==Y)return P<Y?-1:1;if(Z=I.value.collator.compare(A,H),I.value.collatorIsNumeric&&Z===0&&A!==H)return A<H?-1:1}return Z}e.compareFileExtensions=h;function b(s,f){s=s||"",f=f||"";const A=w(s),P=w(f),H=N.value.collator,Y=E.value.collator;return O(Y,A,P)||O(H,s,f)}e.compareFileExtensionsDefault=b;function g(s,f){s=s||"",f=f||"";const A=w(s),P=w(f),H=N.value.collator,Y=E.value.collator;return O(Y,A,P)||r(s,f)||O(H,s,f)}e.compareFileExtensionsUpper=g;function a(s,f){s=s||"",f=f||"";const A=w(s),P=w(f),H=N.value.collator,Y=E.value.collator;return O(Y,A,P)||d(s,f)||O(H,s,f)}e.compareFileExtensionsLower=a;function o(s,f){s=s||"",f=f||"";const A=w(s).toLowerCase(),P=w(f).toLowerCase();return A!==P?A<P?-1:1:s!==f?s<f?-1:1:0}e.compareFileExtensionsUnicode=o;const l=/^(.*?)(\.([^.]*))?$/;function p(s,f=!1){const A=s?l.exec(s):[];let P=[A&&A[1]||"",A&&A[3]||""];return f&&(!P[0]&&P[1]||P[0]&&P[0].charAt(0)===".")&&(P=[P[0]+"."+P[1],""]),P}function w(s){const f=s?l.exec(s):[];return f&&f[1]&&f[1].charAt(0)!=="."&&f[3]||""}function O(s,f,A){const P=s.compare(f,A);return P!==0?P:f.length!==A.length?f.length<A.length?-1:1:0}function v(s){const f=s.charAt(0);return f.toLocaleUpperCase()!==f}function t(s){const f=s.charAt(0);return f.toLocaleLowerCase()!==f}function d(s,f){return v(s)&&t(f)?-1:t(s)&&v(f)?1:0}function r(s,f){return t(s)&&v(f)?-1:v(s)&&t(f)?1:0}function u(s,f,A=!1){return A||(s=s&&s.toLowerCase(),f=f&&f.toLowerCase()),s===f?0:s<f?-1:1}function c(s,f,A=!1){const P=s.split(T.sep),H=f.split(T.sep),Y=P.length-1,Z=H.length-1;let _,j;for(let L=0;;L++){if(_=Y===L,j=Z===L,_&&j)return R(P[L],H[L],A);if(_)return-1;if(j)return 1;const m=u(P[L],H[L],A);if(m!==0)return m}}e.comparePaths=c;function y(s,f,A){const P=s.toLowerCase(),H=f.toLowerCase(),Y=n(s,f,A);if(Y)return Y;const Z=P.endsWith(A),_=H.endsWith(A);if(Z!==_)return Z?-1:1;const j=R(P,H);return j!==0?j:P.localeCompare(H)}e.compareAnything=y;function n(s,f,A){const P=s.toLowerCase(),H=f.toLowerCase(),Y=P.startsWith(A),Z=H.startsWith(A);if(Y!==Z)return Y?-1:1;if(Y&&Z){if(P.length<H.length)return-1;if(P.length>H.length)return 1}return 0}e.compareByPrefix=n}),define(ke[65],Te([1,0,19]),function(ne,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeMimeType=e.getExtensionForMimeType=e.getMediaMime=e.getMediaOrTextMime=e.Mimes=void 0,e.Mimes=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"});const T={".css":"text/css",".csv":"text/csv",".htm":"text/html",".html":"text/html",".ics":"text/calendar",".js":"text/javascript",".mjs":"text/javascript",".txt":"text/plain",".xml":"text/xml"},I={".aac":"audio/x-aac",".avi":"video/x-msvideo",".bmp":"image/bmp",".flv":"video/x-flv",".gif":"image/gif",".ico":"image/x-icon",".jpe":"image/jpg",".jpeg":"image/jpg",".jpg":"image/jpg",".m1v":"video/mpeg",".m2a":"audio/mpeg",".m2v":"video/mpeg",".m3a":"audio/mpeg",".mid":"audio/midi",".midi":"audio/midi",".mk3d":"video/x-matroska",".mks":"video/x-matroska",".mkv":"video/x-matroska",".mov":"video/quicktime",".movie":"video/x-sgi-movie",".mp2":"audio/mpeg",".mp2a":"audio/mpeg",".mp3":"audio/mpeg",".mp4":"video/mp4",".mp4a":"audio/mp4",".mp4v":"video/mp4",".mpe":"video/mpeg",".mpeg":"video/mpeg",".mpg":"video/mpeg",".mpg4":"video/mp4",".mpga":"audio/mpeg",".oga":"audio/ogg",".ogg":"audio/ogg",".opus":"audio/opus",".ogv":"video/ogg",".png":"image/png",".psd":"image/vnd.adobe.photoshop",".qt":"video/quicktime",".spx":"audio/ogg",".svg":"image/svg+xml",".tga":"image/x-tga",".tif":"image/tiff",".tiff":"image/tiff",".wav":"audio/x-wav",".webm":"video/webm",".webp":"image/webp",".wma":"audio/x-ms-wma",".wmv":"video/x-ms-wmv",".woff":"application/font-woff"};function N(M){const D=(0,i.extname)(M),h=T[D.toLowerCase()];return h!==void 0?h:E(M)}e.getMediaOrTextMime=N;function E(M){const D=(0,i.extname)(M);return I[D.toLowerCase()]}e.getMediaMime=E;function R(M){for(const D in I)if(I[D]===M)return D}e.getExtensionForMimeType=R;const S=/^(.+)\/(.+?)(;.+)?$/;function k(M,D){const h=S.exec(M);return h?`${h[1].toLowerCase()}/${h[2].toLowerCase()}${h[3]??""}`:D?void 0:M}e.normalizeMimeType=k}),define(ke[124],Te([1,0,4,6,119]),function(ne,e,i,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toAction=e.EmptySubmenuAction=e.SubmenuAction=e.Separator=e.ActionRunner=e.Action=void 0;class N extends T.Disposable{constructor(h,b="",g="",a=!0,o){super(),this.h=this.B(new i.Emitter),this.onDidChange=this.h.event,this.w=!0,this.j=h,this.m=b,this.u=g,this.w=a,this.C=o}get id(){return this.j}get label(){return this.m}set label(h){this.D(h)}D(h){this.m!==h&&(this.m=h,this.h.fire({label:h}))}get tooltip(){return this.n||""}set tooltip(h){this.F(h)}F(h){this.n!==h&&(this.n=h,this.h.fire({tooltip:h}))}get class(){return this.u}set class(h){this.G(h)}G(h){this.u!==h&&(this.u=h,this.h.fire({class:h}))}get enabled(){return this.w}set enabled(h){this.H(h)}H(h){this.w!==h&&(this.w=h,this.h.fire({enabled:h}))}get checked(){return this.z}set checked(h){this.I(h)}I(h){this.z!==h&&(this.z=h,this.h.fire({checked:h}))}async run(h,b){this.C&&await this.C(h)}}e.Action=N;class E extends T.Disposable{constructor(){super(...arguments),this.f=this.B(new i.Emitter),this.onWillRun=this.f.event,this.h=this.B(new i.Emitter),this.onDidRun=this.h.event}async run(h,b){if(!h.enabled)return;this.f.fire({action:h});let g;try{await this.runAction(h,b)}catch(a){g=a}this.h.fire({action:h,error:g})}async runAction(h,b){await h.run(b)}}e.ActionRunner=E;class R{constructor(){this.id=R.ID,this.label="",this.tooltip="",this.class="separator",this.enabled=!1,this.checked=!1}static join(...h){let b=[];for(const g of h)g.length&&(b.length?b=[...b,new R,...g]:b=g);return b}async run(){}}R.ID="vs.actions.separator",e.Separator=R;class S{get actions(){return this.a}constructor(h,b,g,a){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=h,this.label=b,this.class=a,this.a=g}async run(){}}e.SubmenuAction=S;class k extends N{constructor(){super(k.ID,I.localize(0,null),void 0,!1)}}k.ID="vs.actions.empty",e.EmptySubmenuAction=k;function M(D){return{id:D.id,label:D.label,class:void 0,enabled:D.enabled??!0,checked:D.checked??!1,run:async()=>D.run(),tooltip:D.label}}e.toAction=M}),define(ke[40],Te([1,0,19,20,10,9]),function(ne,e,i,T,I,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.randomPath=e.parseLineAndColumnAware=e.indexOfPath=e.getDriveLetter=e.hasDriveLetter=e.isRootOrDriveLetter=e.sanitizeFilePath=e.isWindowsDriveLetter=e.isEqualOrParent=e.isEqual=e.isValidBasename=e.isUNC=e.getRoot=e.toPosixPath=e.toSlashes=e.isPathSeparator=void 0;function E(c){return c===47||c===92}e.isPathSeparator=E;function R(c){return c.replace(/[\\/]/g,i.posix.sep)}e.toSlashes=R;function S(c){return c.indexOf("/")===-1&&(c=R(c)),/^[a-zA-Z]:(\/|$)/.test(c)&&(c="/"+c),c}e.toPosixPath=S;function k(c,y=i.posix.sep){if(!c)return"";const n=c.length,s=c.charCodeAt(0);if(E(s)){if(E(c.charCodeAt(1))&&!E(c.charCodeAt(2))){let A=3;const P=A;for(;A<n&&!E(c.charCodeAt(A));A++);if(P!==A&&!E(c.charCodeAt(A+1))){for(A+=1;A<n;A++)if(E(c.charCodeAt(A)))return c.slice(0,A+1).replace(/[\\/]/g,y)}}return y}else if(l(s)&&c.charCodeAt(1)===58)return E(c.charCodeAt(2))?c.slice(0,2)+y:c.slice(0,2);let f=c.indexOf("://");if(f!==-1){for(f+=3;f<n;f++)if(E(c.charCodeAt(f)))return c.slice(0,f+1)}return""}e.getRoot=k;function M(c){if(!T.isWindows||!c||c.length<5)return!1;let y=c.charCodeAt(0);if(y!==92||(y=c.charCodeAt(1),y!==92))return!1;let n=2;const s=n;for(;n<c.length&&(y=c.charCodeAt(n),y!==92);n++);return!(s===n||(y=c.charCodeAt(n+1),isNaN(y)||y===92))}e.isUNC=M;const D=/[\\/:\*\?"<>\|]/g,h=/[\\/]/g,b=/^(con|prn|aux|clock\$|nul|lpt[0-9]|com[0-9])(\.(.*?))?$/i;function g(c,y=T.isWindows){const n=y?D:h;return!(!c||c.length===0||/^\s+$/.test(c)||(n.lastIndex=0,n.test(c))||y&&b.test(c)||c==="."||c===".."||y&&c[c.length-1]==="."||y&&c.length!==c.trim().length||c.length>255)}e.isValidBasename=g;function a(c,y,n){const s=c===y;return!n||s?s:!c||!y?!1:(0,I.equalsIgnoreCase)(c,y)}e.isEqual=a;function o(c,y,n,s=i.sep){if(c===y)return!0;if(!c||!y||y.length>c.length)return!1;if(n){if(!(0,I.startsWithIgnoreCase)(c,y))return!1;if(y.length===c.length)return!0;let A=y.length;return y.charAt(y.length-1)===s&&A--,c.charAt(A)===s}return y.charAt(y.length-1)!==s&&(y+=s),c.indexOf(y)===0}e.isEqualOrParent=o;function l(c){return c>=65&&c<=90||c>=97&&c<=122}e.isWindowsDriveLetter=l;function p(c,y){return T.isWindows&&c.endsWith(":")&&(c+=i.sep),(0,i.isAbsolute)(c)||(c=(0,i.join)(y,c)),c=(0,i.normalize)(c),T.isWindows?(c=(0,I.rtrim)(c,i.sep),c.endsWith(":")&&(c+=i.sep)):(c=(0,I.rtrim)(c,i.sep),c||(c=i.sep)),c}e.sanitizeFilePath=p;function w(c){const y=(0,i.normalize)(c);return T.isWindows?c.length>3?!1:O(y)&&(c.length===2||y.charCodeAt(2)===92):y===i.posix.sep}e.isRootOrDriveLetter=w;function O(c,y=T.isWindows){return y?l(c.charCodeAt(0))&&c.charCodeAt(1)===58:!1}e.hasDriveLetter=O;function v(c){return O(c)?c[0]:void 0}e.getDriveLetter=v;function t(c,y,n){return y.length>c.length?-1:c===y?0:(n&&(c=c.toLowerCase(),y=y.toLowerCase()),c.indexOf(y))}e.indexOfPath=t;function d(c){const y=c.split(":");let n,s,f;for(const A of y){const P=Number(A);(0,N.isNumber)(P)?s===void 0?s=P:f===void 0&&(f=P):n=n?[n,A].join(":"):A}if(!n)throw new Error("Format for `--goto` should be: `FILE:LINE(:COLUMN)`");return{path:n,line:s!==void 0?s:void 0,column:f!==void 0?f:s!==void 0?1:void 0}}e.parseLineAndColumnAware=d;const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";function u(c,y,n=8){let s="";for(let A=0;A<n;A++)s+=r.charAt(Math.floor(Math.random()*r.length));let f;return y?f=`${y}-${s}`:f=s,c?(0,i.join)(c,f):f}e.randomPath=u}),define(ke[125],Te([1,0,28,10]),function(ne,e,i,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fuzzyScoreGraceful=e.fuzzyScoreGracefulAggressive=e.fuzzyScore=e.FuzzyScoreOptions=e.FuzzyScore=e.isPatternInWord=e.createMatches=e.anyScore=e.matchesFuzzy2=e.matchesFuzzy=e.matchesWords=e.matchesCamelCase=e.isUpper=e.matchesSubString=e.matchesContiguousSubString=e.matchesPrefix=e.matchesStrictPrefix=e.or=void 0;function I(...ee){return function(C,$){for(let W=0,V=ee.length;W<V;W++){const ie=ee[W](C,$);if(ie)return ie}return null}}e.or=I,e.matchesStrictPrefix=N.bind(void 0,!1),e.matchesPrefix=N.bind(void 0,!0);function N(ee,C,$){if(!$||$.length<C.length)return null;let W;return ee?W=T.startsWithIgnoreCase($,C):W=$.indexOf(C)===0,W?C.length>0?[{start:0,end:C.length}]:[]:null}function E(ee,C){const $=C.toLowerCase().indexOf(ee.toLowerCase());return $===-1?null:[{start:$,end:$+ee.length}]}e.matchesContiguousSubString=E;function R(ee,C){return S(ee.toLowerCase(),C.toLowerCase(),0,0)}e.matchesSubString=R;function S(ee,C,$,W){if($===ee.length)return[];if(W===C.length)return null;if(ee[$]===C[W]){let V=null;return(V=S(ee,C,$+1,W+1))?l({start:W,end:W+1},V):null}return S(ee,C,$,W+1)}function k(ee){return 97<=ee&&ee<=122}function M(ee){return 65<=ee&&ee<=90}e.isUpper=M;function D(ee){return 48<=ee&&ee<=57}function h(ee){return ee===32||ee===9||ee===10||ee===13}const b=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach(ee=>b.add(ee.charCodeAt(0)));function g(ee){return h(ee)||b.has(ee)}function a(ee,C){return ee===C||g(ee)&&g(C)}function o(ee){return k(ee)||M(ee)||D(ee)}function l(ee,C){return C.length===0?C=[ee]:ee.end===C[0].start?C[0].start=ee.start:C.unshift(ee),C}function p(ee,C){for(let $=C;$<ee.length;$++){const W=ee.charCodeAt($);if(M(W)||D(W)||$>0&&!o(ee.charCodeAt($-1)))return $}return ee.length}function w(ee,C,$,W){if($===ee.length)return[];if(W===C.length)return null;if(ee[$]!==C[W].toLowerCase())return null;{let V=null,ie=W+1;for(V=w(ee,C,$+1,W+1);!V&&(ie=p(C,ie))<C.length;)V=w(ee,C,$+1,ie),ie++;return V===null?null:l({start:W,end:W+1},V)}}function O(ee){let C=0,$=0,W=0,V=0,ie=0;for(let be=0;be<ee.length;be++)ie=ee.charCodeAt(be),M(ie)&&C++,k(ie)&&$++,o(ie)&&W++,D(ie)&&V++;const fe=C/ee.length,De=$/ee.length,ue=W/ee.length,ve=V/ee.length;return{upperPercent:fe,lowerPercent:De,alphaPercent:ue,numericPercent:ve}}function v(ee){const{upperPercent:C,lowerPercent:$}=ee;return $===0&&C>.6}function t(ee){const{upperPercent:C,lowerPercent:$,alphaPercent:W,numericPercent:V}=ee;return $>.2&&C<.8&&W>.6&&V<.2}function d(ee){let C=0,$=0,W=0,V=0;for(let ie=0;ie<ee.length;ie++)W=ee.charCodeAt(ie),M(W)&&C++,k(W)&&$++,h(W)&&V++;return(C===0||$===0)&&V===0?ee.length<=30:C<=5}function r(ee,C){if(!C||(C=C.trim(),C.length===0)||!d(ee)||C.length>60)return null;const $=O(C);if(!t($)){if(!v($))return null;C=C.toLowerCase()}let W=null,V=0;for(ee=ee.toLowerCase();V<C.length&&(W=w(ee,C,0,V))===null;)V=p(C,V+1);return W}e.matchesCamelCase=r;function u(ee,C,$=!1){if(!C||C.length===0)return null;let W=null,V=0;for(ee=ee.toLowerCase(),C=C.toLowerCase();V<C.length&&(W=c(ee,C,0,V,$))===null;)V=y(C,V+1);return W}e.matchesWords=u;function c(ee,C,$,W,V){if($===ee.length)return[];if(W===C.length)return null;if(a(ee.charCodeAt($),C.charCodeAt(W))){let ie=null,fe=W+1;if(ie=c(ee,C,$+1,W+1,V),!V)for(;!ie&&(fe=y(C,fe))<C.length;)ie=c(ee,C,$+1,fe,V),fe++;return ie?ee.charCodeAt($)!==C.charCodeAt(W)?ie:l({start:W,end:W+1},ie):null}else return null}function y(ee,C){for(let $=C;$<ee.length;$++)if(g(ee.charCodeAt($))||$>0&&g(ee.charCodeAt($-1)))return $;return ee.length}const n=I(e.matchesPrefix,r,E),s=I(e.matchesPrefix,r,R),f=new i.LRUCache(1e4);function A(ee,C,$=!1){if(typeof ee!="string"||typeof C!="string")return null;let W=f.get(ee);W||(W=new RegExp(T.convertSimple2RegExpPattern(ee),"i"),f.set(ee,W));const V=W.exec(C);return V?[{start:V.index,end:V.index+V[0].length}]:$?s(ee,C):n(ee,C)}e.matchesFuzzy=A;function P(ee,C){const $=Fe(ee,ee.toLowerCase(),0,C,C.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return $?Y($):null}e.matchesFuzzy2=P;function H(ee,C,$,W,V,ie){const fe=Math.min(13,ee.length);for(;$<fe;$++){const De=Fe(ee,C,$,W,V,ie,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(De)return De}return[0,ie]}e.anyScore=H;function Y(ee){if(typeof ee>"u")return[];const C=[],$=ee[1];for(let W=ee.length-1;W>1;W--){const V=ee[W]+$,ie=C[C.length-1];ie&&ie.end===V?ie.end=V+1:C.push({start:V,end:V+1})}return C}e.createMatches=Y;const Z=128;function _(){const ee=[],C=[];for(let $=0;$<=Z;$++)C[$]=0;for(let $=0;$<=Z;$++)ee.push(C.slice(0));return ee}function j(ee){const C=[];for(let $=0;$<=ee;$++)C[$]=0;return C}const L=j(2*Z),m=j(2*Z),F=_(),B=_(),J=_(),me=!1;function te(ee,C,$,W,V){function ie(De,ue,ve=" "){for(;De.length<ue;)De=ve+De;return De}let fe=` |   |${W.split("").map(De=>ie(De,3)).join("|")}
`;for(let De=0;De<=$;De++)De===0?fe+=" |":fe+=`${C[De-1]}|`,fe+=ee[De].slice(0,V+1).map(ue=>ie(ue.toString(),3)).join("|")+`
`;return fe}function oe(ee,C,$,W){ee=ee.substr(C),$=$.substr(W),console.log(te(B,ee,ee.length,$,$.length)),console.log(te(J,ee,ee.length,$,$.length)),console.log(te(F,ee,ee.length,$,$.length))}function ce(ee,C){if(C<0||C>=ee.length)return!1;const $=ee.codePointAt(C);switch($){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!T.isEmojiImprecise($)}}function we(ee,C){if(C<0||C>=ee.length)return!1;switch(ee.charCodeAt(C)){case 32:case 9:return!0;default:return!1}}function q(ee,C,$){return C[ee]!==$[ee]}function K(ee,C,$,W,V,ie,fe=!1){for(;C<$&&V<ie;)ee[C]===W[V]&&(fe&&(L[C]=V),C+=1),V+=1;return C===$}e.isPatternInWord=K;var X;(function(ee){ee[ee.Diag=1]="Diag",ee[ee.Left=2]="Left",ee[ee.LeftLeft=3]="LeftLeft"})(X||(X={}));var de;(function(ee){ee.Default=[-100,0];function C($){return!$||$.length===2&&$[0]===-100&&$[1]===0}ee.isDefault=C})(de=e.FuzzyScore||(e.FuzzyScore={}));class ye{constructor(C,$){this.firstMatchCanBeWeak=C,this.boostFullMatch=$}}ye.default={boostFullMatch:!0,firstMatchCanBeWeak:!1},e.FuzzyScoreOptions=ye;function Fe(ee,C,$,W,V,ie,fe=ye.default){const De=ee.length>Z?Z:ee.length,ue=W.length>Z?Z:W.length;if($>=De||ie>=ue||De-$>ue-ie||!K(C,$,De,V,ie,ue,!0))return;ze(De,ue,$,ie,C,V);let ve=1,be=1,He=$,je=ie;const it=[!1];for(ve=1,He=$;He<De;ve++,He++){const rt=L[He],G=m[He],Q=He+1<De?m[He+1]:ue;for(be=rt-ie+1,je=rt;je<Q;be++,je++){let pe=Number.MIN_SAFE_INTEGER,We=!1;je<=G&&(pe=Pe(ee,C,He,$,W,V,je,ue,ie,F[ve-1][be-1]===0,it));let $e=0;pe!==Number.MAX_SAFE_INTEGER&&(We=!0,$e=pe+B[ve-1][be-1]);const Qe=je>rt,xe=Qe?B[ve][be-1]+(F[ve][be-1]>0?-5:0):0,tt=je>rt+1&&F[ve][be-1]>0,at=tt?B[ve][be-2]+(F[ve][be-2]>0?-5:0):0;if(tt&&(!Qe||at>=xe)&&(!We||at>=$e))B[ve][be]=at,J[ve][be]=3,F[ve][be]=0;else if(Qe&&(!We||xe>=$e))B[ve][be]=xe,J[ve][be]=2,F[ve][be]=0;else if(We)B[ve][be]=$e,J[ve][be]=1,F[ve][be]=F[ve-1][be-1]+1;else throw new Error("not possible")}}if(me&&oe(ee,$,W,ie),!it[0]&&!fe.firstMatchCanBeWeak)return;ve--,be--;const Xe=[B[ve][be],ie];let et=0,nt=0;for(;ve>=1;){let rt=be;do{const G=J[ve][rt];if(G===3)rt=rt-2;else if(G===2)rt=rt-1;else break}while(rt>=1);et>1&&C[$+ve-1]===V[ie+be-1]&&!q(rt+ie-1,W,V)&&et+1>F[ve][rt]&&(rt=be),rt===be?et++:et=1,nt||(nt=rt),ve--,be=rt-1,Xe.push(be)}ue===De&&fe.boostFullMatch&&(Xe[0]+=2);const Ne=nt-De;return Xe[0]-=Ne,Xe}e.fuzzyScore=Fe;function ze(ee,C,$,W,V,ie){let fe=ee-1,De=C-1;for(;fe>=$&&De>=W;)V[fe]===ie[De]&&(m[fe]=De,fe--),De--}function Pe(ee,C,$,W,V,ie,fe,De,ue,ve,be){if(C[$]!==ie[fe])return Number.MIN_SAFE_INTEGER;let He=1,je=!1;return fe===$-W?He=ee[$]===V[fe]?7:5:q(fe,V,ie)&&(fe===0||!q(fe-1,V,ie))?(He=ee[$]===V[fe]?7:5,je=!0):ce(ie,fe)&&(fe===0||!ce(ie,fe-1))?He=5:(ce(ie,fe-1)||we(ie,fe-1))&&(He=5,je=!0),He>1&&$===W&&(be[0]=!0),je||(je=q(fe,V,ie)||ce(ie,fe-1)||we(ie,fe-1)),$===W?fe>ue&&(He-=je?3:5):ve?He+=je?2:0:He+=je?0:1,fe+1===De&&(He-=je?3:5),He}function Ie(ee,C,$,W,V,ie,fe){return ae(ee,C,$,W,V,ie,!0,fe)}e.fuzzyScoreGracefulAggressive=Ie;function Se(ee,C,$,W,V,ie,fe){return ae(ee,C,$,W,V,ie,!1,fe)}e.fuzzyScoreGraceful=Se;function ae(ee,C,$,W,V,ie,fe,De){let ue=Fe(ee,C,$,W,V,ie,De);if(ue&&!fe)return ue;if(ee.length>=3){const ve=Math.min(7,ee.length-1);for(let be=$+1;be<ve;be++){const He=le(ee,be);if(He){const je=Fe(He,He.toLowerCase(),$,W,V,ie,De);je&&(je[0]-=3,(!ue||je[0]>ue[0])&&(ue=je))}}}return ue}function le(ee,C){if(C+1>=ee.length)return;const $=ee[C],W=ee[C+1];if($!==W)return ee.slice(0,C)+W+$+ee.slice(C+2)}}),define(ke[126],Te([1,0,125,10,38]),function(ne,e,i,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.matchesFuzzyIconAware=e.parseLabelWithIcons=e.getCodiconAriaLabel=e.stripIcons=e.markdownEscapeEscapedIcons=e.escapeIcons=void 0;const N="$(",E=new RegExp(`\\$\\(${I.ThemeIcon.iconNameExpression}(?:${I.ThemeIcon.iconModifierExpression})?\\)`,"g"),R=new RegExp(`(\\\\)?${E.source}`,"g");function S(l){return l.replace(R,(p,w)=>w?p:`\\${p}`)}e.escapeIcons=S;const k=new RegExp(`\\\\${E.source}`,"g");function M(l){return l.replace(k,p=>`\\${p}`)}e.markdownEscapeEscapedIcons=M;const D=new RegExp(`(\\s)?(\\\\)?${E.source}(\\s)?`,"g");function h(l){return l.indexOf(N)===-1?l:l.replace(D,(p,w,O,v)=>O?p:w||v||"")}e.stripIcons=h;function b(l){return l?l.replace(/\$\((.*?)\)/g,(p,w)=>` ${w} `).trim():""}e.getCodiconAriaLabel=b;const g=new RegExp(`\\$\\(${I.ThemeIcon.iconNameCharacter}+\\)`,"g");function a(l){g.lastIndex=0;let p="";const w=[];let O=0;for(;;){const v=g.lastIndex,t=g.exec(l),d=l.substring(v,t?.index);if(d.length>0){p+=d;for(let r=0;r<d.length;r++)w.push(O)}if(!t)break;O+=t[0].length}return{text:p,iconOffsets:w}}e.parseLabelWithIcons=a;function o(l,p,w=!1){const{text:O,iconOffsets:v}=p;if(!v||v.length===0)return(0,i.matchesFuzzy)(l,O,w);const t=(0,T.ltrim)(O," "),d=O.length-t.length,r=(0,i.matchesFuzzy)(l,t,w);if(r)for(const u of r){const c=v[u.start+d]+d;u.start+=c,u.end+=c}return r}e.matchesFuzzyIconAware=o}),define(ke[29],Te([1,0,10]),function(ne,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var T;(function(I){I[I.Ignore=0]="Ignore",I[I.Info=1]="Info",I[I.Warning=2]="Warning",I[I.Error=3]="Error"})(T||(T={})),function(I){const N="error",E="warning",R="warn",S="info",k="ignore";function M(h){return h?i.equalsIgnoreCase(N,h)?I.Error:i.equalsIgnoreCase(E,h)||i.equalsIgnoreCase(R,h)?I.Warning:i.equalsIgnoreCase(S,h)?I.Info:I.Ignore:I.Ignore}I.fromValue=M;function D(h){switch(h){case I.Error:return N;case I.Warning:return E;case I.Info:return S;default:return k}}I.toString=D}(T||(T={})),e.default=T}),define(ke[48],Te([1,0,16,10]),function(ne,e,i,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TernarySearchTree=e.UriIterator=e.PathIterator=e.ConfigKeysIterator=e.StringIterator=void 0;class I{constructor(){this.b="",this.c=0}reset(b){return this.b=b,this.c=0,this}next(){return this.c+=1,this}hasNext(){return this.c<this.b.length-1}cmp(b){const g=b.charCodeAt(0),a=this.b.charCodeAt(this.c);return g-a}value(){return this.b[this.c]}}e.StringIterator=I;class N{constructor(b=!0){this.e=b}reset(b){return this.b=b,this.c=0,this.d=0,this.next()}hasNext(){return this.d<this.b.length}next(){this.c=this.d;let b=!0;for(;this.d<this.b.length;this.d++)if(this.b.charCodeAt(this.d)===46)if(b)this.c++;else break;else b=!1;return this}cmp(b){return this.e?(0,T.compareSubstring)(b,this.b,0,b.length,this.c,this.d):(0,T.compareSubstringIgnoreCase)(b,this.b,0,b.length,this.c,this.d)}value(){return this.b.substring(this.c,this.d)}}e.ConfigKeysIterator=N;class E{constructor(b=!0,g=!0){this.f=b,this.g=g}reset(b){this.d=0,this.e=0,this.b=b,this.c=b.length;for(let g=b.length-1;g>=0;g--,this.c--){const a=this.b.charCodeAt(g);if(!(a===47||this.f&&a===92))break}return this.next()}hasNext(){return this.e<this.c}next(){this.d=this.e;let b=!0;for(;this.e<this.c;this.e++){const g=this.b.charCodeAt(this.e);if(g===47||this.f&&g===92)if(b)this.d++;else break;else b=!1}return this}cmp(b){return this.g?(0,T.compareSubstring)(b,this.b,0,b.length,this.d,this.e):(0,T.compareSubstringIgnoreCase)(b,this.b,0,b.length,this.d,this.e)}value(){return this.b.substring(this.d,this.e)}}e.PathIterator=E;var R;(function(h){h[h.Scheme=1]="Scheme",h[h.Authority=2]="Authority",h[h.Path=3]="Path",h[h.Query=4]="Query",h[h.Fragment=5]="Fragment"})(R||(R={}));class S{constructor(b,g){this.f=b,this.g=g,this.d=[],this.e=0}reset(b){return this.c=b,this.d=[],this.c.scheme&&this.d.push(1),this.c.authority&&this.d.push(2),this.c.path&&(this.b=new E(!1,!this.f(b)),this.b.reset(b.path),this.b.value()&&this.d.push(3)),this.g(b)||(this.c.query&&this.d.push(4),this.c.fragment&&this.d.push(5)),this.e=0,this}next(){return this.d[this.e]===3&&this.b.hasNext()?this.b.next():this.e+=1,this}hasNext(){return this.d[this.e]===3&&this.b.hasNext()||this.e<this.d.length-1}cmp(b){if(this.d[this.e]===1)return(0,T.compareIgnoreCase)(b,this.c.scheme);if(this.d[this.e]===2)return(0,T.compareIgnoreCase)(b,this.c.authority);if(this.d[this.e]===3)return this.b.cmp(b);if(this.d[this.e]===4)return(0,T.compare)(b,this.c.query);if(this.d[this.e]===5)return(0,T.compare)(b,this.c.fragment);throw new Error}value(){if(this.d[this.e]===1)return this.c.scheme;if(this.d[this.e]===2)return this.c.authority;if(this.d[this.e]===3)return this.b.value();if(this.d[this.e]===4)return this.c.query;if(this.d[this.e]===5)return this.c.fragment;throw new Error}}e.UriIterator=S;class k{constructor(){this.height=1}isEmpty(){return!this.left&&!this.mid&&!this.right&&!this.value}rotateLeft(){const b=this.right;return this.right=b.left,b.left=this,this.updateHeight(),b.updateHeight(),b}rotateRight(){const b=this.left;return this.left=b.right,b.right=this,this.updateHeight(),b.updateHeight(),b}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){return this.left?.height??0}get heightRight(){return this.right?.height??0}}var M;(function(h){h[h.Left=-1]="Left",h[h.Mid=0]="Mid",h[h.Right=1]="Right"})(M||(M={}));class D{static forUris(b=()=>!1,g=()=>!1){return new D(new S(b,g))}static forPaths(b=!1){return new D(new E(void 0,!b))}static forStrings(){return new D(new I)}static forConfigKeys(){return new D(new N)}constructor(b){this.b=b}clear(){this.c=void 0}fill(b,g){if(g){const a=g.slice(0);(0,i.shuffle)(a);for(const o of a)this.set(o,b)}else{const a=b.slice(0);(0,i.shuffle)(a);for(const o of a)this.set(o[0],o[1])}}set(b,g){const a=this.b.reset(b);let o;this.c||(this.c=new k,this.c.segment=a.value());const l=[];for(o=this.c;;){const w=a.cmp(o.segment);if(w>0)o.left||(o.left=new k,o.left.segment=a.value()),l.push([-1,o]),o=o.left;else if(w<0)o.right||(o.right=new k,o.right.segment=a.value()),l.push([1,o]),o=o.right;else if(a.hasNext())a.next(),o.mid||(o.mid=new k,o.mid.segment=a.value()),l.push([0,o]),o=o.mid;else break}const p=o.value;o.value=g,o.key=b;for(let w=l.length-1;w>=0;w--){const O=l[w][1];O.updateHeight();const v=O.balanceFactor();if(v<-1||v>1){const t=l[w][0],d=l[w+1][0];if(t===1&&d===1)l[w][1]=O.rotateLeft();else if(t===-1&&d===-1)l[w][1]=O.rotateRight();else if(t===1&&d===-1)O.right=l[w+1][1]=l[w+1][1].rotateRight(),l[w][1]=O.rotateLeft();else if(t===-1&&d===1)O.left=l[w+1][1]=l[w+1][1].rotateLeft(),l[w][1]=O.rotateRight();else throw new Error;if(w>0)switch(l[w-1][0]){case-1:l[w-1][1].left=l[w][1];break;case 1:l[w-1][1].right=l[w][1];break;case 0:l[w-1][1].mid=l[w][1];break}else this.c=l[0][1]}}return p}get(b){return this.d(b)?.value}d(b){const g=this.b.reset(b);let a=this.c;for(;a;){const o=g.cmp(a.segment);if(o>0)a=a.left;else if(o<0)a=a.right;else if(g.hasNext())g.next(),a=a.mid;else break}return a}has(b){const g=this.d(b);return!(g?.value===void 0&&g?.mid===void 0)}delete(b){return this.e(b,!1)}deleteSuperstr(b){return this.e(b,!0)}e(b,g){const a=this.b.reset(b),o=[];let l=this.c;for(;l;){const p=a.cmp(l.segment);if(p>0)o.push([-1,l]),l=l.left;else if(p<0)o.push([1,l]),l=l.right;else if(a.hasNext())a.next(),o.push([0,l]),l=l.mid;else break}if(!!l){if(g?(l.left=void 0,l.mid=void 0,l.right=void 0,l.height=1):(l.key=void 0,l.value=void 0),!l.mid&&!l.value)if(l.left&&l.right){const p=this.f(l.right);if(p.key){const{key:w,value:O,segment:v}=p;this.e(p.key,!1),l.key=w,l.value=O,l.segment=v}}else{const p=l.left??l.right;if(o.length>0){const[w,O]=o[o.length-1];switch(w){case-1:O.left=p;break;case 0:O.mid=p;break;case 1:O.right=p;break}}else this.c=p}for(let p=o.length-1;p>=0;p--){const w=o[p][1];w.updateHeight();const O=w.balanceFactor();if(O>1?(w.right.balanceFactor()>=0||(w.right=w.right.rotateRight()),o[p][1]=w.rotateLeft()):O<-1&&(w.left.balanceFactor()<=0||(w.left=w.left.rotateLeft()),o[p][1]=w.rotateRight()),p>0)switch(o[p-1][0]){case-1:o[p-1][1].left=o[p][1];break;case 1:o[p-1][1].right=o[p][1];break;case 0:o[p-1][1].mid=o[p][1];break}else this.c=o[0][1]}}}f(b){for(;b.left;)b=b.left;return b}findSubstr(b){const g=this.b.reset(b);let a=this.c,o;for(;a;){const l=g.cmp(a.segment);if(l>0)a=a.left;else if(l<0)a=a.right;else if(g.hasNext())g.next(),o=a.value||o,a=a.mid;else break}return a&&a.value||o}findSuperstr(b){return this.g(b,!1)}g(b,g){const a=this.b.reset(b);let o=this.c;for(;o;){const l=a.cmp(o.segment);if(l>0)o=o.left;else if(l<0)o=o.right;else if(a.hasNext())a.next(),o=o.mid;else return o.mid?this.h(o.mid):g?o.value:void 0}}hasElementOrSubtree(b){return this.g(b,!0)!==void 0}forEach(b){for(const[g,a]of this)b(a,g)}*[Symbol.iterator](){yield*this.h(this.c)}h(b){const g=[];return this.j(b,g),g[Symbol.iterator]()}j(b,g){!b||(b.left&&this.j(b.left,g),b.value&&g.push([b.key,b.value]),b.mid&&this.j(b.mid,g),b.right&&this.j(b.right,g))}_isBalanced(){const b=g=>{if(!g)return!0;const a=g.balanceFactor();return a<-1||a>1?!1:b(g.left)&&b(g.right)};return b(this.c)}}e.TernarySearchTree=D}),define(ke[66],Te([1,0,23,10,2]),function(ne,e,i,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.revive=e.parse=e.stringify=void 0;function N(k){return JSON.stringify(k,R)}e.stringify=N;function E(k){let M=JSON.parse(k);return M=S(M),M}e.parse=E;function R(k,M){return M instanceof RegExp?{$mid:2,source:M.source,flags:(0,T.regExpFlags)(M)}:M}function S(k,M=0){if(!k||M>200)return k;if(typeof k=="object"){switch(k.$mid){case 1:return I.URI.revive(k);case 2:return new RegExp(k.source,k.flags);case 16:return new Date(k.source)}if(k instanceof i.VSBuffer||k instanceof Uint8Array)return k;if(Array.isArray(k))for(let D=0;D<k.length;++D)k[D]=S(k[D],M+1);else for(const D in k)Object.hasOwnProperty.call(k,D)&&(k[D]=S(k[D],M+1))}return k}e.revive=S}),define(ke[15],Te([1,0,11,20,2]),function(ne,e,i,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.COI=e.FileAccess=e.nodeModulesAsarUnpackedPath=e.nodeModulesAsarPath=e.nodeModulesPath=e.builtinExtensionsPath=e.RemoteAuthorities=e.connectionTokenQueryName=e.connectionTokenCookieName=e.Schemas=void 0;var N;(function(k){k.inMemory="inmemory",k.vscode="vscode",k.internal="private",k.walkThrough="walkThrough",k.walkThroughSnippet="walkThroughSnippet",k.http="http",k.https="https",k.file="file",k.mailto="mailto",k.untitled="untitled",k.data="data",k.command="command",k.vscodeRemote="vscode-remote",k.vscodeRemoteResource="vscode-remote-resource",k.vscodeUserData="vscode-userdata",k.vscodeCustomEditor="vscode-custom-editor",k.vscodeNotebookCell="vscode-notebook-cell",k.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",k.vscodeNotebookCellOutput="vscode-notebook-cell-output",k.vscodeInteractive="vscode-interactive",k.vscodeInteractiveInput="vscode-interactive-input",k.vscodeSettings="vscode-settings",k.vscodeWorkspaceTrust="vscode-workspace-trust",k.vscodeTerminal="vscode-terminal",k.webviewPanel="webview-panel",k.vscodeWebview="vscode-webview",k.extension="extension",k.vscodeFileResource="vscode-file",k.tmp="tmp",k.vsls="vsls",k.vscodeSourceControl="vscode-scm"})(N=e.Schemas||(e.Schemas={})),e.connectionTokenCookieName="vscode-tkn",e.connectionTokenQueryName="tkn";class E{constructor(){this.a=Object.create(null),this.b=Object.create(null),this.c=Object.create(null),this.d="http",this.e=null,this.f=`/${N.vscodeRemoteResource}`}setPreferredWebSchema(M){this.d=M}setDelegate(M){this.e=M}setServerRootPath(M){this.f=`${M}/${N.vscodeRemoteResource}`}set(M,D,h){this.a[M]=D,this.b[M]=h}setConnectionToken(M,D){this.c[M]=D}getPreferredWebSchema(){return this.d}rewrite(M){if(this.e)try{return this.e(M)}catch(o){return i.onUnexpectedError(o),M}const D=M.authority;let h=this.a[D];h&&h.indexOf(":")!==-1&&h.indexOf("[")===-1&&(h=`[${h}]`);const b=this.b[D],g=this.c[D];let a=`path=${encodeURIComponent(M.path)}`;return typeof g=="string"&&(a+=`&${e.connectionTokenQueryName}=${encodeURIComponent(g)}`),I.URI.from({scheme:T.isWeb?this.d:N.vscodeRemoteResource,authority:`${h}:${b}`,path:this.f,query:a})}}e.RemoteAuthorities=new E,e.builtinExtensionsPath="vs/../../extensions",e.nodeModulesPath="vs/../../node_modules",e.nodeModulesAsarPath="vs/../../node_modules.asar",e.nodeModulesAsarUnpackedPath="vs/../../node_modules.asar.unpacked";class R{asBrowserUri(M){const D=this.b(M,ne);return this.uriToBrowserUri(D)}uriToBrowserUri(M){return M.scheme===N.vscodeRemote?e.RemoteAuthorities.rewrite(M):M.scheme===N.file&&(T.isNative||T.isWebWorker&&T.globals.origin===`${N.vscodeFileResource}://${R.a}`)?M.with({scheme:N.vscodeFileResource,authority:M.authority||R.a,query:null,fragment:null}):M}asFileUri(M){const D=this.b(M,ne);return this.uriToFileUri(D)}uriToFileUri(M){return M.scheme===N.vscodeFileResource?M.with({scheme:N.file,authority:M.authority!==R.a?M.authority:null,query:null,fragment:null}):M}b(M,D){return I.URI.isUri(M)?M:I.URI.parse(D.toUrl(M))}}R.a="vscode-app",e.FileAccess=new R;var S;(function(k){const M=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);k.CoopAndCoep=Object.freeze(M.get("3"));const D="vscode-coi";function h(g){let a;typeof g=="string"?a=new URL(g).searchParams:g instanceof URL?a=g.searchParams:I.URI.isUri(g)&&(a=new URL(g.toString(!0)).searchParams);const o=a?.get(D);if(!!o)return M.get(o)}k.getHeadersFromQuery=h;function b(g,a,o){if(!globalThis.crossOriginIsolated)return;const l=a&&o?"3":o?"2":"1";g instanceof URLSearchParams?g.set(D,l):g[D]=l}k.addSearchParam=b})(S=e.COI||(e.COI={}))}),define(ke[24],Te([1,0,40,15,19,20,10,2]),function(ne,e,i,T,I,N,E,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toLocalResource=e.DataUri=e.distinctParents=e.addTrailingPathSeparator=e.removeTrailingPathSeparator=e.hasTrailingPathSeparator=e.isEqualAuthority=e.isAbsolutePath=e.resolvePath=e.relativePath=e.normalizePath=e.joinPath=e.dirname=e.extname=e.basename=e.basenameOrAuthority=e.getComparisonKey=e.isEqualOrParent=e.isEqual=e.extUriIgnorePathCase=e.extUriBiasedIgnorePathCase=e.extUri=e.ExtUri=e.originalFSPath=void 0;function S(b){return(0,R.uriToFsPath)(b,!0)}e.originalFSPath=S;class k{constructor(g){this.a=g}compare(g,a,o=!1){return g===a?0:(0,E.compare)(this.getComparisonKey(g,o),this.getComparisonKey(a,o))}isEqual(g,a,o=!1){return g===a?!0:!g||!a?!1:this.getComparisonKey(g,o)===this.getComparisonKey(a,o)}getComparisonKey(g,a=!1){return g.with({path:this.a(g)?g.path.toLowerCase():void 0,fragment:a?null:void 0}).toString()}ignorePathCasing(g){return this.a(g)}isEqualOrParent(g,a,o=!1){if(g.scheme===a.scheme){if(g.scheme===T.Schemas.file)return i.isEqualOrParent(S(g),S(a),this.a(g))&&g.query===a.query&&(o||g.fragment===a.fragment);if((0,e.isEqualAuthority)(g.authority,a.authority))return i.isEqualOrParent(g.path,a.path,this.a(g),"/")&&g.query===a.query&&(o||g.fragment===a.fragment)}return!1}joinPath(g,...a){return R.URI.joinPath(g,...a)}basenameOrAuthority(g){return(0,e.basename)(g)||g.authority}basename(g){return I.posix.basename(g.path)}extname(g){return I.posix.extname(g.path)}dirname(g){if(g.path.length===0)return g;let a;return g.scheme===T.Schemas.file?a=R.URI.file(I.dirname(S(g))).path:(a=I.posix.dirname(g.path),g.authority&&a.length&&a.charCodeAt(0)!==47&&(console.error(`dirname("${g.toString})) resulted in a relative path`),a="/")),g.with({path:a})}normalizePath(g){if(!g.path.length)return g;let a;return g.scheme===T.Schemas.file?a=R.URI.file(I.normalize(S(g))).path:a=I.posix.normalize(g.path),g.with({path:a})}relativePath(g,a){if(g.scheme!==a.scheme||!(0,e.isEqualAuthority)(g.authority,a.authority))return;if(g.scheme===T.Schemas.file){const p=I.relative(S(g),S(a));return N.isWindows?i.toSlashes(p):p}let o=g.path||"/";const l=a.path||"/";if(this.a(g)){let p=0;for(const w=Math.min(o.length,l.length);p<w&&!(o.charCodeAt(p)!==l.charCodeAt(p)&&o.charAt(p).toLowerCase()!==l.charAt(p).toLowerCase());p++);o=l.substr(0,p)+o.substr(p)}return I.posix.relative(o,l)}resolvePath(g,a){if(g.scheme===T.Schemas.file){const o=R.URI.file(I.resolve(S(g),a));return g.with({authority:o.authority,path:o.path})}return a=i.toPosixPath(a),g.with({path:I.posix.resolve(g.path,a)})}isAbsolutePath(g){return!!g.path&&g.path[0]==="/"}isEqualAuthority(g,a){return g===a||g!==void 0&&a!==void 0&&(0,E.equalsIgnoreCase)(g,a)}hasTrailingPathSeparator(g,a=I.sep){if(g.scheme===T.Schemas.file){const o=S(g);return o.length>i.getRoot(o).length&&o[o.length-1]===a}else{const o=g.path;return o.length>1&&o.charCodeAt(o.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(g.fsPath)}}removeTrailingPathSeparator(g,a=I.sep){return(0,e.hasTrailingPathSeparator)(g,a)?g.with({path:g.path.substr(0,g.path.length-1)}):g}addTrailingPathSeparator(g,a=I.sep){let o=!1;if(g.scheme===T.Schemas.file){const l=S(g);o=l!==void 0&&l.length===i.getRoot(l).length&&l[l.length-1]===a}else{a="/";const l=g.path;o=l.length===1&&l.charCodeAt(l.length-1)===47}return!o&&!(0,e.hasTrailingPathSeparator)(g,a)?g.with({path:g.path+"/"}):g}}e.ExtUri=k,e.extUri=new k(()=>!1),e.extUriBiasedIgnorePathCase=new k(b=>b.scheme===T.Schemas.file?!N.isLinux:!0),e.extUriIgnorePathCase=new k(b=>!0),e.isEqual=e.extUri.isEqual.bind(e.extUri),e.isEqualOrParent=e.extUri.isEqualOrParent.bind(e.extUri),e.getComparisonKey=e.extUri.getComparisonKey.bind(e.extUri),e.basenameOrAuthority=e.extUri.basenameOrAuthority.bind(e.extUri),e.basename=e.extUri.basename.bind(e.extUri),e.extname=e.extUri.extname.bind(e.extUri),e.dirname=e.extUri.dirname.bind(e.extUri),e.joinPath=e.extUri.joinPath.bind(e.extUri),e.normalizePath=e.extUri.normalizePath.bind(e.extUri),e.relativePath=e.extUri.relativePath.bind(e.extUri),e.resolvePath=e.extUri.resolvePath.bind(e.extUri),e.isAbsolutePath=e.extUri.isAbsolutePath.bind(e.extUri),e.isEqualAuthority=e.extUri.isEqualAuthority.bind(e.extUri),e.hasTrailingPathSeparator=e.extUri.hasTrailingPathSeparator.bind(e.extUri),e.removeTrailingPathSeparator=e.extUri.removeTrailingPathSeparator.bind(e.extUri),e.addTrailingPathSeparator=e.extUri.addTrailingPathSeparator.bind(e.extUri);function M(b,g){const a=[];for(let o=0;o<b.length;o++){const l=g(b[o]);b.some((p,w)=>w===o?!1:(0,e.isEqualOrParent)(l,g(p)))||a.push(b[o])}return a}e.distinctParents=M;var D;(function(b){b.META_DATA_LABEL="label",b.META_DATA_DESCRIPTION="description",b.META_DATA_SIZE="size",b.META_DATA_MIME="mime";function g(a){const o=new Map;a.path.substring(a.path.indexOf(";")+1,a.path.lastIndexOf(";")).split(";").forEach(w=>{const[O,v]=w.split(":");O&&v&&o.set(O,v)});const p=a.path.substring(0,a.path.indexOf(";"));return p&&o.set(b.META_DATA_MIME,p),o}b.parseMetaData=g})(D=e.DataUri||(e.DataUri={}));function h(b,g,a){if(g){let o=b.path;return o&&o[0]!==I.posix.sep&&(o=I.posix.sep+o),b.with({scheme:a,authority:g,path:o})}return b.with({scheme:a})}e.toLocalResource=h}),define(ke[17],Te([1,0,21,11,4,6,24,20,115]),function(ne,e,i,T,I,N,E,R,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createCancelableAsyncIterable=e.CancelableAsyncIterableObject=e.AsyncIterableObject=e.Promises=e.DeferredPromise=e.IntervalCounter=e.TaskSequentializer=e.retry=e.IdleValue=e.runWhenIdle=e.ThrottledWorker=e.RunOnceWorker=e.ProcessTimeRunOnceScheduler=e.RunOnceScheduler=e.IntervalTimer=e.TimeoutTimer=e.ResourceQueue=e.Queue=e.Limiter=e.firstParallel=e.first=e.sequence=e.disposableTimeout=e.timeout=e.AutoOpenBarrier=e.Barrier=e.ThrottledDelayer=e.Delayer=e.SequencerByKey=e.Sequencer=e.Throttler=e.asPromise=e.raceTimeout=e.raceCancellablePromises=e.raceCancellationError=e.raceCancellation=e.createCancelablePromise=e.isThenable=void 0;function k(K){return!!K&&typeof K.then=="function"}e.isThenable=k;function M(K){const X=new i.CancellationTokenSource,de=K(X.token),ye=new Promise((Fe,ze)=>{const Pe=X.token.onCancellationRequested(()=>{Pe.dispose(),X.dispose(),ze(new T.CancellationError)});Promise.resolve(de).then(Ie=>{Pe.dispose(),X.dispose(),Fe(Ie)},Ie=>{Pe.dispose(),X.dispose(),ze(Ie)})});return new class{cancel(){X.cancel()}then(Fe,ze){return ye.then(Fe,ze)}catch(Fe){return this.then(void 0,Fe)}finally(Fe){return ye.finally(Fe)}}}e.createCancelablePromise=M;function D(K,X,de){return new Promise((ye,Fe)=>{const ze=X.onCancellationRequested(()=>{ze.dispose(),ye(de)});K.then(ye,Fe).finally(()=>ze.dispose())})}e.raceCancellation=D;function h(K,X){return new Promise((de,ye)=>{const Fe=X.onCancellationRequested(()=>{Fe.dispose(),ye(new T.CancellationError)});K.then(de,ye).finally(()=>Fe.dispose())})}e.raceCancellationError=h;async function b(K){let X=-1;const de=K.map((Fe,ze)=>Fe.then(Pe=>(X=ze,Pe))),ye=await Promise.race(de);return K.forEach((Fe,ze)=>{ze!==X&&Fe.cancel()}),ye}e.raceCancellablePromises=b;function g(K,X,de){let ye;const Fe=setTimeout(()=>{ye?.(void 0),de?.()},X);return Promise.race([K.finally(()=>clearTimeout(Fe)),new Promise(ze=>ye=ze)])}e.raceTimeout=g;function a(K){return new Promise((X,de)=>{const ye=K();k(ye)?ye.then(X,de):X(ye)})}e.asPromise=a;class o{constructor(){this.a=null,this.b=null,this.d=null}queue(X){if(this.a){if(this.d=X,!this.b){const de=()=>{this.b=null;const ye=this.queue(this.d);return this.d=null,ye};this.b=new Promise(ye=>{this.a.then(de,de).then(ye)})}return new Promise((de,ye)=>{this.b.then(de,ye)})}return this.a=X(),new Promise((de,ye)=>{this.a.then(Fe=>{this.a=null,de(Fe)},Fe=>{this.a=null,ye(Fe)})})}}e.Throttler=o;class l{constructor(){this.a=Promise.resolve(null)}queue(X){return this.a=this.a.then(()=>X(),()=>X())}}e.Sequencer=l;class p{constructor(){this.a=new Map}queue(X,de){const Fe=(this.a.get(X)??Promise.resolve()).catch(()=>{}).then(de).finally(()=>{this.a.get(X)===Fe&&this.a.delete(X)});return this.a.set(X,Fe),Fe}}e.SequencerByKey=p;const w=(K,X)=>{let de=!0;const ye=setTimeout(()=>{de=!1,X()},K);return{isTriggered:()=>de,dispose:()=>{clearTimeout(ye),de=!1}}},O=K=>{let X=!0;return queueMicrotask(()=>{X&&(X=!1,K())}),{isTriggered:()=>X,dispose:()=>{X=!1}}};class v{constructor(X){this.defaultDelay=X,this.a=null,this.b=null,this.d=null,this.f=null,this.g=null}trigger(X,de=this.defaultDelay){this.g=X,this.h(),this.b||(this.b=new Promise((Fe,ze)=>{this.d=Fe,this.f=ze}).then(()=>{if(this.b=null,this.d=null,this.g){const Fe=this.g;return this.g=null,Fe()}}));const ye=()=>{this.a=null,this.d?.(null)};return this.a=de===S.MicrotaskDelay?O(ye):w(de,ye),this.b}isTriggered(){return!!this.a?.isTriggered()}cancel(){this.h(),this.b&&(this.f?.(new T.CancellationError),this.b=null)}h(){this.a?.dispose(),this.a=null}dispose(){this.cancel()}}e.Delayer=v;class t{constructor(X){this.a=new v(X),this.b=new o}trigger(X,de){return this.a.trigger(()=>this.b.queue(X),de)}isTriggered(){return this.a.isTriggered()}cancel(){this.a.cancel()}dispose(){this.a.dispose()}}e.ThrottledDelayer=t;class d{constructor(){this.a=!1,this.b=new Promise((X,de)=>{this.d=X})}isOpen(){return this.a}open(){this.a=!0,this.d(!0)}wait(){return this.b}}e.Barrier=d;class r extends d{constructor(X){super(),this.f=setTimeout(()=>this.open(),X)}open(){clearTimeout(this.f),super.open()}}e.AutoOpenBarrier=r;function u(K,X){return X?new Promise((de,ye)=>{const Fe=setTimeout(()=>{ze.dispose(),de()},K),ze=X.onCancellationRequested(()=>{clearTimeout(Fe),ze.dispose(),ye(new T.CancellationError)})}):M(de=>u(K,de))}e.timeout=u;function c(K,X=0){const de=setTimeout(K,X);return(0,N.toDisposable)(()=>clearTimeout(de))}e.disposableTimeout=c;function y(K){const X=[];let de=0;const ye=K.length;function Fe(){return de<ye?K[de++]():null}function ze(Pe){Pe!=null&&X.push(Pe);const Ie=Fe();return Ie?Ie.then(ze):Promise.resolve(X)}return Promise.resolve(null).then(ze)}e.sequence=y;function n(K,X=ye=>!!ye,de=null){let ye=0;const Fe=K.length,ze=()=>{if(ye>=Fe)return Promise.resolve(de);const Pe=K[ye++];return Promise.resolve(Pe()).then(Se=>X(Se)?Promise.resolve(Se):ze())};return ze()}e.first=n;function s(K,X=ye=>!!ye,de=null){if(K.length===0)return Promise.resolve(de);let ye=K.length;const Fe=()=>{ye=-1;for(const ze of K)ze.cancel?.()};return new Promise((ze,Pe)=>{for(const Ie of K)Ie.then(Se=>{--ye>=0&&X(Se)?(Fe(),ze(Se)):ye===0&&ze(de)}).catch(Se=>{--ye>=0&&(Fe(),Pe(Se))})})}e.firstParallel=s;class f{constructor(X){this.a=0,this.d=X,this.f=[],this.b=0,this.g=new I.Emitter}get onDrained(){return this.g.event}get size(){return this.a}queue(X){return this.a++,new Promise((de,ye)=>{this.f.push({factory:X,c:de,e:ye}),this.h()})}h(){for(;this.f.length&&this.b<this.d;){const X=this.f.shift();this.b++;const de=X.factory();de.then(X.c,X.e),de.then(()=>this.j(),()=>this.j())}}j(){this.a--,this.b--,this.f.length>0?this.h():this.g.fire()}dispose(){this.g.dispose()}}e.Limiter=f;class A extends f{constructor(){super(1)}}e.Queue=A;class P{constructor(){this.a=new Map,this.b=new Set}async whenDrained(){if(this.d())return;const X=new me;return this.b.add(X),X.p}d(){for(const[,X]of this.a)if(X.size>0)return!1;return!0}queueFor(X,de=E.extUri){const ye=de.getComparisonKey(X);let Fe=this.a.get(ye);return Fe||(Fe=new A,I.Event.once(Fe.onDrained)(()=>{Fe?.dispose(),this.a.delete(ye),this.f()}),this.a.set(ye,Fe)),Fe}f(){!this.d()||this.g()}g(){for(const X of this.b)X.complete();this.b.clear()}dispose(){for(const[,X]of this.a)X.dispose();this.a.clear(),this.g()}}e.ResourceQueue=P;class H{constructor(X,de){this.a=-1,typeof X=="function"&&typeof de=="number"&&this.setIfNotSet(X,de)}dispose(){this.cancel()}cancel(){this.a!==-1&&(clearTimeout(this.a),this.a=-1)}cancelAndSet(X,de){this.cancel(),this.a=setTimeout(()=>{this.a=-1,X()},de)}setIfNotSet(X,de){this.a===-1&&(this.a=setTimeout(()=>{this.a=-1,X()},de))}}e.TimeoutTimer=H;class Y{constructor(){this.a=-1}dispose(){this.cancel()}cancel(){this.a!==-1&&(clearInterval(this.a),this.a=-1)}cancelAndSet(X,de){this.cancel(),this.a=setInterval(()=>{X()},de)}}e.IntervalTimer=Y;class Z{constructor(X,de){this.b=-1,this.a=X,this.d=de,this.f=this.g.bind(this)}dispose(){this.cancel(),this.a=null}cancel(){this.isScheduled()&&(clearTimeout(this.b),this.b=-1)}schedule(X=this.d){this.cancel(),this.b=setTimeout(this.f,X)}get delay(){return this.d}set delay(X){this.d=X}isScheduled(){return this.b!==-1}flush(){this.isScheduled()&&(this.cancel(),this.h())}g(){this.b=-1,this.a&&this.h()}h(){this.a?.()}}e.RunOnceScheduler=Z;class _{constructor(X,de){de%1e3!==0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${de}ms is not a multiple of 1000ms.`),this.a=X,this.b=de,this.d=0,this.f=-1,this.g=this.h.bind(this)}dispose(){this.cancel(),this.a=null}cancel(){this.isScheduled()&&(clearInterval(this.f),this.f=-1)}schedule(X=this.b){X%1e3!==0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${X}ms is not a multiple of 1000ms.`),this.cancel(),this.d=Math.ceil(X/1e3),this.f=setInterval(this.g,1e3)}isScheduled(){return this.f!==-1}h(){this.d--,!(this.d>0)&&(clearInterval(this.f),this.f=-1,this.a?.())}}e.ProcessTimeRunOnceScheduler=_;class j extends Z{constructor(X,de){super(X,de),this.j=[]}work(X){this.j.push(X),this.isScheduled()||this.schedule()}h(){const X=this.j;this.j=[],this.a?.(X)}dispose(){this.j=[],super.dispose()}}e.RunOnceWorker=j;class L extends N.Disposable{constructor(X,de){super(),this.g=X,this.h=de,this.a=[],this.b=this.B(new N.MutableDisposable),this.f=!1}get pending(){return this.a.length}work(X){if(this.f)return!1;if(typeof this.g.maxBufferedWork=="number"){if(this.b.value){if(this.pending+X.length>this.g.maxBufferedWork)return!1}else if(this.pending+X.length-this.g.maxWorkChunkSize>this.g.maxBufferedWork)return!1}for(const de of X)this.a.push(de);return this.b.value||this.j(),!0}j(){this.h(this.a.splice(0,this.g.maxWorkChunkSize)),this.a.length>0&&(this.b.value=new Z(()=>{this.b.clear(),this.j()},this.g.throttleDelay),this.b.value.schedule())}dispose(){super.dispose(),this.f=!0}}e.ThrottledWorker=L,function(){typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"?e.runWhenIdle=K=>{(0,R.setTimeout0)(()=>{if(X)return;const de=Date.now()+15;K(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,de-Date.now())}}))});let X=!1;return{dispose(){X||(X=!0)}}}:e.runWhenIdle=(K,X)=>{const de=requestIdleCallback(K,typeof X=="number"?{timeout:X}:void 0);let ye=!1;return{dispose(){ye||(ye=!0,cancelIdleCallback(de))}}}}();class m{constructor(X){this.d=!1,this.a=()=>{try{this.f=X()}catch(de){this.g=de}finally{this.d=!0}},this.b=(0,e.runWhenIdle)(()=>this.a())}dispose(){this.b.dispose()}get value(){if(this.d||(this.b.dispose(),this.a()),this.g)throw this.g;return this.f}get isInitialized(){return this.d}}e.IdleValue=m;async function F(K,X,de){let ye;for(let Fe=0;Fe<de;Fe++)try{return await K()}catch(ze){ye=ze,await u(X)}throw ye}e.retry=F;class B{hasPending(X){return this.a?typeof X=="number"?this.a.taskId===X:!!this.a:!1}get pending(){return this.a?.promise}cancelPending(){this.a?.cancel()}setPending(X,de,ye){return this.a={taskId:X,cancel:()=>ye?.(),promise:de},de.then(()=>this.d(X),()=>this.d(X)),de}d(X){this.a&&X===this.a.taskId&&(this.a=void 0,this.f())}f(){if(this.b){const X=this.b;this.b=void 0,X.run().then(X.promiseResolve,X.promiseReject)}}setNext(X){if(this.b)this.b.run=X;else{let de,ye;const Fe=new Promise((ze,Pe)=>{de=ze,ye=Pe});this.b={run:X,promise:Fe,promiseResolve:de,promiseReject:ye}}return this.b.promise}hasNext(){return!!this.b}async join(){return this.b?.promise??this.a?.promise}}e.TaskSequentializer=B;class J{constructor(X,de=()=>Date.now()){this.d=X,this.f=de,this.a=0,this.b=0}increment(){const X=this.f();return X-this.a>this.d&&(this.a=X,this.b=0),this.b++,this.b}}e.IntervalCounter=J;class me{get isRejected(){return this.d}get isResolved(){return this.f}get isSettled(){return this.d||this.f}constructor(){this.d=!1,this.f=!1,this.p=new Promise((X,de)=>{this.a=X,this.b=de})}complete(X){return new Promise(de=>{this.a(X),this.f=!0,de()})}error(X){return new Promise(de=>{this.b(X),this.d=!0,de()})}cancel(){new Promise(X=>{this.b(new T.CancellationError),this.d=!0,X()})}}e.DeferredPromise=me;var te;(function(K){async function X(ye){let Fe;const ze=await Promise.all(ye.map(Pe=>Pe.then(Ie=>Ie,Ie=>{Fe||(Fe=Ie)})));if(typeof Fe<"u")throw Fe;return ze}K.settled=X;function de(ye){return new Promise(async(Fe,ze)=>{try{await ye(Fe,ze)}catch(Pe){ze(Pe)}})}K.withAsyncBody=de})(te=e.Promises||(e.Promises={}));var oe;(function(K){K[K.Initial=0]="Initial",K[K.DoneOK=1]="DoneOK",K[K.DoneError=2]="DoneError"})(oe||(oe={}));class ce{static fromArray(X){return new ce(de=>{de.emitMany(X)})}static fromPromise(X){return new ce(async de=>{de.emitMany(await X)})}static fromPromises(X){return new ce(async de=>{await Promise.all(X.map(async ye=>de.emitOne(await ye)))})}static merge(X){return new ce(async de=>{await Promise.all(X.map(async ye=>{for await(const Fe of ye)de.emitOne(Fe)}))})}constructor(X){this.a=0,this.b=[],this.d=null,this.f=new I.Emitter,queueMicrotask(async()=>{const de={emitOne:ye=>this.g(ye),emitMany:ye=>this.h(ye),reject:ye=>this.k(ye)};try{await Promise.resolve(X(de)),this.j()}catch(ye){this.k(ye)}finally{de.emitOne=void 0,de.emitMany=void 0,de.reject=void 0}})}[Symbol.asyncIterator](){let X=0;return{next:async()=>{do{if(this.a===2)throw this.d;if(X<this.b.length)return{done:!1,value:this.b[X++]};if(this.a===1)return{done:!0,value:void 0};await I.Event.toPromise(this.f.event)}while(!0)}}}static map(X,de){return new ce(async ye=>{for await(const Fe of X)ye.emitOne(de(Fe))})}map(X){return ce.map(this,X)}static filter(X,de){return new ce(async ye=>{for await(const Fe of X)de(Fe)&&ye.emitOne(Fe)})}filter(X){return ce.filter(this,X)}static coalesce(X){return ce.filter(X,de=>!!de)}coalesce(){return ce.coalesce(this)}static async toPromise(X){const de=[];for await(const ye of X)de.push(ye);return de}toPromise(){return ce.toPromise(this)}g(X){this.a===0&&(this.b.push(X),this.f.fire())}h(X){this.a===0&&(this.b=this.b.concat(X),this.f.fire())}j(){this.a===0&&(this.a=1,this.f.fire())}k(X){this.a===0&&(this.a=2,this.d=X,this.f.fire())}}ce.EMPTY=ce.fromArray([]),e.AsyncIterableObject=ce;class we extends ce{constructor(X,de){super(de),this.l=X}cancel(){this.l.cancel()}}e.CancelableAsyncIterableObject=we;function q(K){const X=new i.CancellationTokenSource,de=K(X.token);return new we(X,async ye=>{const Fe=X.token.onCancellationRequested(()=>{Fe.dispose(),X.dispose(),ye.reject(new T.CancellationError)});try{for await(const ze of de){if(X.token.isCancellationRequested)return;ye.emitOne(ze)}Fe.dispose(),X.dispose()}catch(ze){Fe.dispose(),X.dispose(),ye.reject(ze)}})}e.createCancelableAsyncIterable=q}),define(ke[35],Te([1,0,16,17,40,28,19,20,10]),function(ne,e,i,T,I,N,E,R,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.patternsEquals=e.getPathTerms=e.getBasenameTerms=e.isRelativePattern=e.parse=e.match=e.splitGlobAware=e.GLOB_SPLIT=e.GLOBSTAR=e.getEmptyExpression=void 0;function k(){return Object.create(null)}e.getEmptyExpression=k,e.GLOBSTAR="**",e.GLOB_SPLIT="/";const M="[/\\\\]",D="[^/\\\\]",h=/\//g;function b(J,me){switch(J){case 0:return"";case 1:return`${D}*?`;default:return`(?:${M}|${D}+${M}${me?`|${M}${D}+`:""})*?`}}function g(J,me){if(!J)return[];const te=[];let oe=!1,ce=!1,we="";for(const q of J){switch(q){case me:if(!oe&&!ce){te.push(we),we="";continue}break;case"{":oe=!0;break;case"}":oe=!1;break;case"[":ce=!0;break;case"]":ce=!1;break}we+=q}return we&&te.push(we),te}e.splitGlobAware=g;function a(J){if(!J)return"";let me="";const te=g(J,e.GLOB_SPLIT);if(te.every(oe=>oe===e.GLOBSTAR))me=".*";else{let oe=!1;te.forEach((ce,we)=>{if(ce===e.GLOBSTAR){if(oe)return;me+=b(2,we===te.length-1)}else{let q=!1,K="",X=!1,de="";for(const ye of ce){if(ye!=="}"&&q){K+=ye;continue}if(X&&(ye!=="]"||!de)){let Fe;ye==="-"?Fe=ye:(ye==="^"||ye==="!")&&!de?Fe="^":ye===e.GLOB_SPLIT?Fe="":Fe=(0,S.escapeRegExpCharacters)(ye),de+=Fe;continue}switch(ye){case"{":q=!0;continue;case"[":X=!0;continue;case"}":{me+=`(?:${g(K,",").map(Pe=>a(Pe)).join("|")})`,q=!1,K="";break}case"]":{me+="["+de+"]",X=!1,de="";break}case"?":me+=D;continue;case"*":me+=b(1);continue;default:me+=(0,S.escapeRegExpCharacters)(ye)}}we<te.length-1&&(te[we+1]!==e.GLOBSTAR||we+2<te.length)&&(me+=M)}oe=ce===e.GLOBSTAR})}return me}const o=/^\*\*\/\*\.[\w\.-]+$/,l=/^\*\*\/([\w\.-]+)\/?$/,p=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,w=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,O=/^\*\*((\/[\w\.-]+)+)\/?$/,v=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,t=new N.LRUCache(1e4),d=function(){return!1},r=function(){return null};function u(J,me){if(!J)return r;let te;typeof J!="string"?te=J.pattern:te=J,te=te.trim();const oe=`${te}_${!!me.trimForExclusions}`;let ce=t.get(oe);if(ce)return c(ce,J);let we;return o.test(te)?ce=n(te.substr(4),te):(we=l.exec(y(te,me)))?ce=s(we[1],te):(me.trimForExclusions?w:p).test(te)?ce=f(te,me):(we=O.exec(y(te,me)))?ce=A(we[1].substr(1),te,!0):(we=v.exec(y(te,me)))?ce=A(we[1],te,!1):ce=P(te),t.set(oe,ce),c(ce,J)}function c(J,me){if(typeof me=="string")return J;const te=function(oe,ce){return(0,I.isEqualOrParent)(oe,me.base,!R.isLinux)?J((0,S.ltrim)(oe.substr(me.base.length),E.sep),ce):null};return te.allBasenames=J.allBasenames,te.allPaths=J.allPaths,te.basenames=J.basenames,te.patterns=J.patterns,te}function y(J,me){return me.trimForExclusions&&J.endsWith("/**")?J.substr(0,J.length-2):J}function n(J,me){return function(te,oe){return typeof te=="string"&&te.endsWith(J)?me:null}}function s(J,me){const te=`/${J}`,oe=`\\${J}`,ce=function(q,K){return typeof q!="string"?null:K?K===J?me:null:q===J||q.endsWith(te)||q.endsWith(oe)?me:null},we=[J];return ce.basenames=we,ce.patterns=[me],ce.allBasenames=we,ce}function f(J,me){const te=F(J.slice(1,-1).split(",").map(K=>u(K,me)).filter(K=>K!==r),J),oe=te.length;if(!oe)return r;if(oe===1)return te[0];const ce=function(K,X){for(let de=0,ye=te.length;de<ye;de++)if(te[de](K,X))return J;return null},we=te.find(K=>!!K.allBasenames);we&&(ce.allBasenames=we.allBasenames);const q=te.reduce((K,X)=>X.allPaths?K.concat(X.allPaths):K,[]);return q.length&&(ce.allPaths=q),ce}function A(J,me,te){const oe=E.sep===E.posix.sep,ce=oe?J:J.replace(h,E.sep),we=E.sep+ce,q=E.posix.sep+J;let K;return te?K=function(X,de){return typeof X=="string"&&(X===ce||X.endsWith(we)||!oe&&(X===J||X.endsWith(q)))?me:null}:K=function(X,de){return typeof X=="string"&&(X===ce||!oe&&X===J)?me:null},K.allPaths=[(te?"*/":"./")+J],K}function P(J){try{const me=new RegExp(`^${a(J)}$`);return function(te){return me.lastIndex=0,typeof te=="string"&&me.test(te)?J:null}}catch{return r}}function H(J,me,te){return!J||typeof me!="string"?!1:Y(J)(me,void 0,te)}e.match=H;function Y(J,me={}){if(!J)return d;if(typeof J=="string"||Z(J)){const te=u(J,me);if(te===r)return d;const oe=function(ce,we){return!!te(ce,we)};return te.allBasenames&&(oe.allBasenames=te.allBasenames),te.allPaths&&(oe.allPaths=te.allPaths),oe}return L(J,me)}e.parse=Y;function Z(J){const me=J;return me?typeof me.base=="string"&&typeof me.pattern=="string":!1}e.isRelativePattern=Z;function _(J){return J.allBasenames||[]}e.getBasenameTerms=_;function j(J){return J.allPaths||[]}e.getPathTerms=j;function L(J,me){const te=F(Object.getOwnPropertyNames(J).map(K=>m(K,J[K],me)).filter(K=>K!==r)),oe=te.length;if(!oe)return r;if(!te.some(K=>!!K.requiresSiblings)){if(oe===1)return te[0];const K=function(ye,Fe){let ze;for(let Pe=0,Ie=te.length;Pe<Ie;Pe++){const Se=te[Pe](ye,Fe);if(typeof Se=="string")return Se;(0,T.isThenable)(Se)&&(ze||(ze=[]),ze.push(Se))}return ze?(async()=>{for(const Pe of ze){const Ie=await Pe;if(typeof Ie=="string")return Ie}return null})():null},X=te.find(ye=>!!ye.allBasenames);X&&(K.allBasenames=X.allBasenames);const de=te.reduce((ye,Fe)=>Fe.allPaths?ye.concat(Fe.allPaths):ye,[]);return de.length&&(K.allPaths=de),K}const ce=function(K,X,de){let ye,Fe;for(let ze=0,Pe=te.length;ze<Pe;ze++){const Ie=te[ze];Ie.requiresSiblings&&de&&(X||(X=(0,E.basename)(K)),ye||(ye=X.substr(0,X.length-(0,E.extname)(K).length)));const Se=Ie(K,X,ye,de);if(typeof Se=="string")return Se;(0,T.isThenable)(Se)&&(Fe||(Fe=[]),Fe.push(Se))}return Fe?(async()=>{for(const ze of Fe){const Pe=await ze;if(typeof Pe=="string")return Pe}return null})():null},we=te.find(K=>!!K.allBasenames);we&&(ce.allBasenames=we.allBasenames);const q=te.reduce((K,X)=>X.allPaths?K.concat(X.allPaths):K,[]);return q.length&&(ce.allPaths=q),ce}function m(J,me,te){if(me===!1)return r;const oe=u(J,te);if(oe===r)return r;if(typeof me=="boolean")return oe;if(me){const ce=me.when;if(typeof ce=="string"){const we=(q,K,X,de)=>{if(!de||!oe(q,K))return null;const ye=ce.replace("$(basename)",()=>X),Fe=de(ye);return(0,T.isThenable)(Fe)?Fe.then(ze=>ze?J:null):Fe?J:null};return we.requiresSiblings=!0,we}}return oe}function F(J,me){const te=J.filter(K=>!!K.basenames);if(te.length<2)return J;const oe=te.reduce((K,X)=>{const de=X.basenames;return de?K.concat(de):K},[]);let ce;if(me){ce=[];for(let K=0,X=oe.length;K<X;K++)ce.push(me)}else ce=te.reduce((K,X)=>{const de=X.patterns;return de?K.concat(de):K},[]);const we=function(K,X){if(typeof K!="string")return null;if(!X){let ye;for(ye=K.length;ye>0;ye--){const Fe=K.charCodeAt(ye-1);if(Fe===47||Fe===92)break}X=K.substr(ye)}const de=oe.indexOf(X);return de!==-1?ce[de]:null};we.basenames=oe,we.patterns=ce,we.allBasenames=oe;const q=J.filter(K=>!K.basenames);return q.push(we),q}function B(J,me){return(0,i.equals)(J,me,(te,oe)=>typeof te=="string"&&typeof oe=="string"?te===oe:typeof te!="string"&&typeof oe!="string"?te.base===oe.base&&te.pattern===oe.pattern:!1)}e.patternsEquals=B}),define(ke[86],Te([1,0,11,126,24,10,2]),function(ne,e,i,T,I,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseHrefAndDimensions=e.removeMarkdownEscapes=e.escapeDoubleQuotes=e.escapeMarkdownSyntaxTokens=e.markdownStringEqual=e.isMarkdownString=e.isEmptyMarkdownString=e.MarkdownString=e.MarkdownStringTextNewlineStyle=void 0;var R;(function(o){o[o.Paragraph=0]="Paragraph",o[o.Break=1]="Break"})(R=e.MarkdownStringTextNewlineStyle||(e.MarkdownStringTextNewlineStyle={}));class S{constructor(l="",p=!1){if(this.value=l,typeof this.value!="string")throw(0,i.illegalArgument)("value");typeof p=="boolean"?(this.isTrusted=p,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=p.isTrusted??void 0,this.supportThemeIcons=p.supportThemeIcons??!1,this.supportHtml=p.supportHtml??!1)}appendText(l,p=0){return this.value+=h(this.supportThemeIcons?(0,T.escapeIcons)(l):l).replace(/([ \t]+)/g,(w,O)=>"&nbsp;".repeat(O.length)).replace(/\>/gm,"\\>").replace(/\n/g,p===1?`\\
`:`

`),this}appendMarkdown(l){return this.value+=l,this}appendCodeblock(l,p){return this.value+="\n```",this.value+=l,this.value+=`
`,this.value+=p,this.value+="\n```\n",this}appendLink(l,p,w){return this.value+="[",this.value+=this.c(p,"]"),this.value+="](",this.value+=this.c(String(l),")"),w&&(this.value+=` "${this.c(this.c(w,'"'),")")}"`),this.value+=")",this}c(l,p){const w=new RegExp((0,N.escapeRegExpCharacters)(p),"g");return l.replace(w,(O,v)=>l.charAt(v-1)!=="\\"?`\\${O}`:O)}}e.MarkdownString=S;function k(o){return M(o)?!o.value:Array.isArray(o)?o.every(k):!0}e.isEmptyMarkdownString=k;function M(o){return o instanceof S?!0:o&&typeof o=="object"?typeof o.value=="string"&&(typeof o.isTrusted=="boolean"||o.isTrusted===void 0)&&(typeof o.supportThemeIcons=="boolean"||o.supportThemeIcons===void 0):!1}e.isMarkdownString=M;function D(o,l){return o===l?!0:!o||!l?!1:o.value===l.value&&o.isTrusted===l.isTrusted&&o.supportThemeIcons===l.supportThemeIcons&&o.supportHtml===l.supportHtml&&(o.baseUri===l.baseUri||!!o.baseUri&&!!l.baseUri&&(0,I.isEqual)(E.URI.from(o.baseUri),E.URI.from(l.baseUri)))}e.markdownStringEqual=D;function h(o){return o.replace(/[\\`*_{}[\]()#+\-!~]/g,"\\$&")}e.escapeMarkdownSyntaxTokens=h;function b(o){return o.replace(/"/g,"&quot;")}e.escapeDoubleQuotes=b;function g(o){return o&&o.replace(/\\([\\`*_{}[\]()#+\-.!~])/g,"$1")}e.removeMarkdownEscapes=g;function a(o){const l=[],p=o.split("|").map(O=>O.trim());o=p[0];const w=p[1];if(w){const O=/height=(\d+)/.exec(w),v=/width=(\d+)/.exec(w),t=O?O[1]:"",d=v?v[1]:"",r=isFinite(parseInt(d)),u=isFinite(parseInt(t));r&&l.push(`width="${d}"`),u&&l.push(`height="${t}"`)}return{href:o,dimensions:l}}e.parseHrefAndDimensions=a}),define(ke[87],Te([1,0,16,40,19,20,24,10]),function(ne,e,i,T,I,N,E,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.splitName=e.unmnemonicLabel=e.mnemonicButtonLabel=e.mnemonicMenuLabel=e.template=e.shorten=e.untildify=e.tildify=e.normalizeDriveLetter=e.getPathLabel=void 0;function S(r,u){const{os:c,tildify:y,relative:n}=u;if(n){const A=k(r,n,c);if(typeof A=="string")return A}let s=r.fsPath;if(c===1&&!N.isWindows?s=s.replace(/\//g,"\\"):c!==1&&N.isWindows&&(s=s.replace(/\\/g,"/")),c!==1&&y?.userHome){const A=y.userHome.fsPath;let P;r.scheme!==y.userHome.scheme&&r.path.startsWith(I.posix.sep)?P=y.userHome.with({path:r.path}).fsPath:P=r.fsPath,s=h(P,A,c)}return(c===1?I.win32:I.posix).normalize(M(s,c===1))}e.getPathLabel=S;function k(r,u,c){const y=c===1?I.win32:I.posix,n=c===3?E.extUri:E.extUriIgnorePathCase,s=u.getWorkspace(),f=(0,i.firstOrDefault)(s.folders);if(!f)return;r.scheme!==f.uri.scheme&&r.path.startsWith(I.posix.sep)&&(r=f.uri.with({path:r.path}));const A=u.getWorkspaceFolder(r);if(!A)return;let P;if(n.isEqual(A.uri,r)?P="":P=n.relativePath(A.uri,r)??"",P&&(P=y.normalize(P)),s.folders.length>1&&!u.noPrefix){const H=A.name?A.name:n.basenameOrAuthority(A.uri);P=P?`${H} \u2022 ${P}`:H}return P}function M(r,u=N.isWindows){return(0,T.hasDriveLetter)(r,u)?r.charAt(0).toUpperCase()+r.slice(1):r}e.normalizeDriveLetter=M;let D=Object.create(null);function h(r,u,c=N.OS){if(c===1||!r||!u)return r;let y=D.original===u?D.normalized:void 0;y||(y=u,N.isWindows&&(y=(0,T.toSlashes)(y)),y=`${(0,R.rtrim)(y,I.posix.sep)}${I.posix.sep}`,D={original:u,normalized:y});let n=r;return N.isWindows&&(n=(0,T.toSlashes)(n)),(c===3?n.startsWith(y):(0,R.startsWithIgnoreCase)(n,y))?`~/${n.substr(y.length)}`:r}e.tildify=h;function b(r,u){return r.replace(/^~($|\/|\\)/,`${u}$1`)}e.untildify=b;const g="\u2026",a="\\\\",o="~";function l(r,u=I.sep){const c=new Array(r.length);let y=!1;for(let n=0;n<r.length;n++){const s=r[n];if(s===""){c[n]=`.${u}`;continue}if(!s){c[n]=s;continue}y=!0;let f="",A=s;A.indexOf(a)===0?(f=A.substr(0,A.indexOf(a)+a.length),A=A.substr(A.indexOf(a)+a.length)):A.indexOf(u)===0?(f=A.substr(0,A.indexOf(u)+u.length),A=A.substr(A.indexOf(u)+u.length)):A.indexOf(o)===0&&(f=A.substr(0,A.indexOf(o)+o.length),A=A.substr(A.indexOf(o)+o.length));const P=A.split(u);for(let H=1;y&&H<=P.length;H++)for(let Y=P.length-H;y&&Y>=0;Y--){y=!1;let Z=P.slice(Y,Y+H).join(u);for(let _=0;!y&&_<r.length;_++)if(_!==n&&r[_]&&r[_].indexOf(Z)>-1){const j=Y+H===P.length,L=Y>0&&r[_].indexOf(u)>-1?u+Z:Z,m=r[_].endsWith(L);y=!j||m}if(!y){let _="";(P[0].endsWith(":")||f!=="")&&(Y===1&&(Y=0,H++,Z=P[0]+u+Z),Y>0&&(_=P[0]+u),_=f+_),Y>0&&(_=_+g+u),_=_+Z,Y+H<P.length&&(_=_+u+g),c[n]=_}}y&&(c[n]=s)}return c}e.shorten=l;var p;(function(r){r[r.TEXT=0]="TEXT",r[r.VARIABLE=1]="VARIABLE",r[r.SEPARATOR=2]="SEPARATOR"})(p||(p={}));function w(r,u=Object.create(null)){const c=[];let y=!1,n="";for(const s of r)if(s==="$"||y&&s==="{")n&&c.push({value:n,type:p.TEXT}),n="",y=!0;else if(s==="}"&&y){const f=u[n];if(typeof f=="string")f.length&&c.push({value:f,type:p.VARIABLE});else if(f){const A=c[c.length-1];(!A||A.type!==p.SEPARATOR)&&c.push({value:f.label,type:p.SEPARATOR})}n="",y=!1}else n+=s;return n&&!y&&c.push({value:n,type:p.TEXT}),c.filter((s,f)=>{if(s.type===p.SEPARATOR){const A=c[f-1],P=c[f+1];return[A,P].every(H=>H&&(H.type===p.VARIABLE||H.type===p.TEXT)&&H.value.length>0)}return!0}).map(s=>s.value).join("")}e.template=w;function O(r,u){return N.isMacintosh||u?r.replace(/\(&&\w\)|&&/g,"").replace(/&/g,N.isMacintosh?"&":"&&"):r.replace(/&&|&/g,c=>c==="&"?"&&":"&")}e.mnemonicMenuLabel=O;function v(r,u){return N.isMacintosh||u?r.replace(/\(&&\w\)|&&/g,""):N.isWindows?r.replace(/&&|&/g,c=>c==="&"?"&&":"&"):r.replace(/&&/g,"_")}e.mnemonicButtonLabel=v;function t(r){return r.replace(/&/g,"&&")}e.unmnemonicLabel=t;function d(r){const u=r.indexOf("/")!==-1?I.posix:I.win32,c=u.basename(r),y=u.dirname(r);return c.length?{name:c,parentPath:y}:{name:y,parentPath:""}}e.splitName=d}),define(ke[127],Te([1,0,23,2]),function(ne,e,i,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.transformAndReviveIncomingURIs=e.transformIncomingURIs=e.transformOutgoingURIs=e.DefaultURITransformer=e.URITransformer=void 0;function I(D){return D.toJSON()}class N{constructor(h){this.a=h}transformIncoming(h){const b=this.a.transformIncoming(h);return b===h?h:I(T.URI.from(b))}transformOutgoing(h){const b=this.a.transformOutgoing(h);return b===h?h:I(T.URI.from(b))}transformOutgoingURI(h){const b=this.a.transformOutgoing(h);return b===h?h:T.URI.from(b)}transformOutgoingScheme(h){return this.a.transformOutgoingScheme(h)}}e.URITransformer=N,e.DefaultURITransformer=new class{transformIncoming(D){return D}transformOutgoing(D){return D}transformOutgoingURI(D){return D}transformOutgoingScheme(D){return D}};function E(D,h,b){if(!D||b>200)return null;if(typeof D=="object"){if(D instanceof T.URI)return h.transformOutgoing(D);for(const g in D)if(Object.hasOwnProperty.call(D,g)){const a=E(D[g],h,b+1);a!==null&&(D[g]=a)}}return null}function R(D,h){const b=E(D,h,0);return b===null?D:b}e.transformOutgoingURIs=R;function S(D,h,b,g){if(!D||g>200)return null;if(typeof D=="object"){if(D.$mid===1)return b?T.URI.revive(h.transformIncoming(D)):h.transformIncoming(D);if(D instanceof i.VSBuffer)return null;for(const a in D)if(Object.hasOwnProperty.call(D,a)){const o=S(D[a],h,b,g+1);o!==null&&(D[a]=o)}}return null}function k(D,h){const b=S(D,h,!1,0);return b===null?D:b}e.transformIncomingURIs=k;function M(D,h){const b=S(D,h,!0,0);return b===null?D:b}e.transformAndReviveIncomingURIs=M}),define(ke[128],Te([1,0,35,19]),function(ne,e,i,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.score=void 0;function I(N,E,R,S,k,M){if(Array.isArray(N)){let D=0;for(const h of N){const b=I(h,E,R,S,k,M);if(b===10)return b;b>D&&(D=b)}return D}else{if(typeof N=="string")return S?N==="*"?5:N===R?10:0:0;if(N){const{language:D,pattern:h,scheme:b,hasAccessToAllModels:g,notebookType:a}=N;if(!S&&!g)return 0;a&&k&&(E=k);let o=0;if(b)if(b===E.scheme)o=10;else if(b==="*")o=5;else return 0;if(D)if(D===R)o=10;else if(D==="*")o=Math.max(o,5);else return 0;if(a)if(a===M)o=10;else if(a==="*"&&M!==void 0)o=Math.max(o,5);else return 0;if(h){let l;if(typeof h=="string"?l=h:l={...h,base:(0,T.normalize)(h.base)},l===E.fsPath||(0,i.match)(l,E.fsPath))o=10;else return 0}return o}else return 0}}e.score=I}),define(ke[88],Te([1,0,23,20]),function(ne,e,i,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decodeSemanticTokensDto=e.encodeSemanticTokensDto=void 0;var I;(function(D){D[D.Full=1]="Full",D[D.Delta=2]="Delta"})(I||(I={}));function N(D){for(let h=0,b=D.length;h<b;h+=4){const g=D[h+0],a=D[h+1],o=D[h+2],l=D[h+3];D[h+0]=l,D[h+1]=o,D[h+2]=a,D[h+3]=g}}function E(D){const h=new Uint8Array(D.buffer,D.byteOffset,D.length*4);return T.isLittleEndian()||N(h),i.VSBuffer.wrap(h)}function R(D){const h=D.buffer;if(T.isLittleEndian()||N(h),h.byteOffset%4===0)return new Uint32Array(h.buffer,h.byteOffset,h.length/4);{const b=new Uint8Array(h.byteLength);return b.set(h),new Uint32Array(b.buffer,b.byteOffset,b.length/4)}}function S(D){const h=new Uint32Array(k(D));let b=0;if(h[b++]=D.id,D.type==="full")h[b++]=1,h[b++]=D.data.length,h.set(D.data,b),b+=D.data.length;else{h[b++]=2,h[b++]=D.deltas.length;for(const g of D.deltas)h[b++]=g.start,h[b++]=g.deleteCount,g.data?(h[b++]=g.data.length,h.set(g.data,b),b+=g.data.length):h[b++]=0}return E(h)}e.encodeSemanticTokensDto=S;function k(D){let h=0;if(h+=1+1,D.type==="full")h+=1+D.data.length;else{h+=1,h+=(1+1+1)*D.deltas.length;for(const b of D.deltas)b.data&&(h+=b.data.length)}return h}function M(D){const h=R(D);let b=0;const g=h[b++];if(h[b++]===1){const p=h[b++],w=h.subarray(b,b+p);return b+=p,{id:g,type:"full",data:w}}const o=h[b++],l=[];for(let p=0;p<o;p++){const w=h[b++],O=h[b++],v=h[b++];let t;v>0&&(t=h.subarray(b,b+v),b+=v),l[p]={start:w,deleteCount:O,data:t}}return{id:g,type:"delta",deltas:l}}e.decodeSemanticTokensDto=M}),define(ke[129],Te([13,14]),function(ne,e){return ne.create("vs/editor/common/config/editorOptions",e)}),define(ke[130],Te([1,0,129,20,131,16,22,117]),function(ne,e,i,T,I,N,E,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOptions=e.EditorOption=e.editorOptionsRegistry=e.EDITOR_FONT_DEFAULTS=e.WrappingIndent=e.unicodeHighlightConfigKeys=e.inUntrustedWorkspace=e.filterValidationDecorations=e.RenderLineNumbersType=e.EditorLayoutInfoComputer=e.RenderMinimap=e.EditorFontVariations=e.EditorFontLigatures=e.cursorStyleToString=e.TextEditorCursorStyle=e.TextEditorCursorBlinkingStyle=e.stringSet=e.clampedInt=e.boolean=e.ApplyUpdateResult=e.ComputeOptionsMemory=e.ConfigurationChangedEvent=e.MINIMAP_GUTTER_WIDTH=e.EditorAutoIndentStrategy=void 0;var S;(function(G){G[G.None=0]="None",G[G.Keep=1]="Keep",G[G.Brackets=2]="Brackets",G[G.Advanced=3]="Advanced",G[G.Full=4]="Full"})(S=e.EditorAutoIndentStrategy||(e.EditorAutoIndentStrategy={})),e.MINIMAP_GUTTER_WIDTH=8;class k{constructor(Q){this.c=Q}hasChanged(Q){return this.c[Q]}}e.ConfigurationChangedEvent=k;class M{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}e.ComputeOptionsMemory=M;class D{constructor(Q,pe,We,$e){this.id=Q,this.name=pe,this.defaultValue=We,this.schema=$e}applyUpdate(Q,pe){return b(Q,pe)}compute(Q,pe,We){return We}}class h{constructor(Q,pe){this.newValue=Q,this.didChange=pe}}e.ApplyUpdateResult=h;function b(G,Q){if(typeof G!="object"||typeof Q!="object"||!G||!Q)return new h(Q,G!==Q);if(Array.isArray(G)||Array.isArray(Q)){const We=Array.isArray(G)&&Array.isArray(Q)&&N.equals(G,Q);return new h(Q,!We)}let pe=!1;for(const We in Q)if(Q.hasOwnProperty(We)){const $e=b(G[We],Q[We]);$e.didChange&&(G[We]=$e.newValue,pe=!0)}return new h(G,pe)}class g{constructor(Q){this.schema=void 0,this.id=Q,this.name="_never_",this.defaultValue=void 0}applyUpdate(Q,pe){return b(Q,pe)}validate(Q){return this.defaultValue}}class a{constructor(Q,pe,We,$e){this.id=Q,this.name=pe,this.defaultValue=We,this.schema=$e}applyUpdate(Q,pe){return b(Q,pe)}validate(Q){return typeof Q>"u"?this.defaultValue:Q}compute(Q,pe,We){return We}}function o(G,Q){return typeof G>"u"?Q:G==="false"?!1:Boolean(G)}e.boolean=o;class l extends a{constructor(Q,pe,We,$e=void 0){typeof $e<"u"&&($e.type="boolean",$e.default=We),super(Q,pe,We,$e)}validate(Q){return o(Q,this.defaultValue)}}function p(G,Q,pe,We){if(typeof G>"u")return Q;let $e=parseInt(G,10);return isNaN($e)?Q:($e=Math.max(pe,$e),$e=Math.min(We,$e),$e|0)}e.clampedInt=p;class w extends a{static clampedInt(Q,pe,We,$e){return p(Q,pe,We,$e)}constructor(Q,pe,We,$e,Qe,xe=void 0){typeof xe<"u"&&(xe.type="integer",xe.default=We,xe.minimum=$e,xe.maximum=Qe),super(Q,pe,We,xe),this.minimum=$e,this.maximum=Qe}validate(Q){return w.clampedInt(Q,this.defaultValue,this.minimum,this.maximum)}}class O extends a{static clamp(Q,pe,We){return Q<pe?pe:Q>We?We:Q}static float(Q,pe){if(typeof Q=="number")return Q;if(typeof Q>"u")return pe;const We=parseFloat(Q);return isNaN(We)?pe:We}constructor(Q,pe,We,$e,Qe){typeof Qe<"u"&&(Qe.type="number",Qe.default=We),super(Q,pe,We,Qe),this.validationFn=$e}validate(Q){return this.validationFn(O.float(Q,this.defaultValue))}}class v extends a{static string(Q,pe){return typeof Q!="string"?pe:Q}constructor(Q,pe,We,$e=void 0){typeof $e<"u"&&($e.type="string",$e.default=We),super(Q,pe,We,$e)}validate(Q){return v.string(Q,this.defaultValue)}}function t(G,Q,pe){return typeof G!="string"||pe.indexOf(G)===-1?Q:G}e.stringSet=t;class d extends a{constructor(Q,pe,We,$e,Qe=void 0){typeof Qe<"u"&&(Qe.type="string",Qe.enum=$e,Qe.default=We),super(Q,pe,We,Qe),this.c=$e}validate(Q){return t(Q,this.defaultValue,this.c)}}class r extends D{constructor(Q,pe,We,$e,Qe,xe,tt=void 0){typeof tt<"u"&&(tt.type="string",tt.enum=Qe,tt.default=$e),super(Q,pe,We,tt),this.c=Qe,this.d=xe}validate(Q){return typeof Q!="string"?this.defaultValue:this.c.indexOf(Q)===-1?this.defaultValue:this.d(Q)}}function u(G){switch(G){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class c extends D{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[i.localize(0,null),i.localize(1,null),i.localize(2,null)],default:"auto",tags:["accessibility"],description:i.localize(3,null)})}validate(Q){switch(Q){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(Q,pe,We){return We===0?Q.accessibilitySupport:We}}class y extends D{constructor(){const Q={insertSpace:!0,ignoreEmptyLines:!0};super(20,"comments",Q,{"editor.comments.insertSpace":{type:"boolean",default:Q.insertSpace,description:i.localize(4,null)},"editor.comments.ignoreEmptyLines":{type:"boolean",default:Q.ignoreEmptyLines,description:i.localize(5,null)}})}validate(Q){if(!Q||typeof Q!="object")return this.defaultValue;const pe=Q;return{insertSpace:o(pe.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:o(pe.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}var n;(function(G){G[G.Hidden=0]="Hidden",G[G.Blink=1]="Blink",G[G.Smooth=2]="Smooth",G[G.Phase=3]="Phase",G[G.Expand=4]="Expand",G[G.Solid=5]="Solid"})(n=e.TextEditorCursorBlinkingStyle||(e.TextEditorCursorBlinkingStyle={}));function s(G){switch(G){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var f;(function(G){G[G.Line=1]="Line",G[G.Block=2]="Block",G[G.Underline=3]="Underline",G[G.LineThin=4]="LineThin",G[G.BlockOutline=5]="BlockOutline",G[G.UnderlineThin=6]="UnderlineThin"})(f=e.TextEditorCursorStyle||(e.TextEditorCursorStyle={}));function A(G){switch(G){case f.Line:return"line";case f.Block:return"block";case f.Underline:return"underline";case f.LineThin:return"line-thin";case f.BlockOutline:return"block-outline";case f.UnderlineThin:return"underline-thin"}}e.cursorStyleToString=A;function P(G){switch(G){case"line":return f.Line;case"block":return f.Block;case"underline":return f.Underline;case"line-thin":return f.LineThin;case"block-outline":return f.BlockOutline;case"underline-thin":return f.UnderlineThin}}class H extends g{constructor(){super(135)}compute(Q,pe,We){const $e=["monaco-editor"];return pe.get(36)&&$e.push(pe.get(36)),Q.extraEditorClassName&&$e.push(Q.extraEditorClassName),pe.get(70)==="default"?$e.push("mouse-default"):pe.get(70)==="copy"&&$e.push("mouse-copy"),pe.get(105)&&$e.push("showUnused"),pe.get(133)&&$e.push("showDeprecated"),$e.join(" ")}}class Y extends l{constructor(){super(34,"emptySelectionClipboard",!0,{description:i.localize(6,null)})}compute(Q,pe,We){return We&&Q.emptySelectionClipboard}}class Z extends D{constructor(){const Q={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(38,"find",Q,{"editor.find.cursorMoveOnType":{type:"boolean",default:Q.cursorMoveOnType,description:i.localize(7,null)},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:Q.seedSearchStringFromSelection,enumDescriptions:[i.localize(8,null),i.localize(9,null),i.localize(10,null)],description:i.localize(11,null)},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:Q.autoFindInSelection,enumDescriptions:[i.localize(12,null),i.localize(13,null),i.localize(14,null)],description:i.localize(15,null)},"editor.find.globalFindClipboard":{type:"boolean",default:Q.globalFindClipboard,description:i.localize(16,null),included:T.isMacintosh},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:Q.addExtraSpaceOnTop,description:i.localize(17,null)},"editor.find.loop":{type:"boolean",default:Q.loop,description:i.localize(18,null)}})}validate(Q){if(!Q||typeof Q!="object")return this.defaultValue;const pe=Q;return{cursorMoveOnType:o(pe.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof Q.seedSearchStringFromSelection=="boolean"?Q.seedSearchStringFromSelection?"always":"never":t(pe.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof Q.autoFindInSelection=="boolean"?Q.autoFindInSelection?"always":"never":t(pe.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:o(pe.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:o(pe.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:o(pe.loop,this.defaultValue.loop)}}}class _ extends D{constructor(){super(48,"fontLigatures",_.OFF,{anyOf:[{type:"boolean",description:i.localize(19,null)},{type:"string",description:i.localize(20,null)}],description:i.localize(21,null),default:!1})}validate(Q){return typeof Q>"u"?this.defaultValue:typeof Q=="string"?Q==="false"?_.OFF:Q==="true"?_.ON:Q:Boolean(Q)?_.ON:_.OFF}}_.OFF='"liga" off, "calt" off',_.ON='"liga" on, "calt" on',e.EditorFontLigatures=_;class j extends D{constructor(){super(51,"fontVariations",j.OFF,{anyOf:[{type:"boolean",description:i.localize(22,null)},{type:"string",description:i.localize(23,null)}],description:i.localize(24,null),default:!1})}validate(Q){return typeof Q>"u"?this.defaultValue:typeof Q=="string"?Q==="false"?j.OFF:Q==="true"?j.TRANSLATE:Q:Boolean(Q)?j.TRANSLATE:j.OFF}compute(Q,pe,We){return Q.fontInfo.fontVariationSettings}}j.OFF="normal",j.TRANSLATE="translate",e.EditorFontVariations=j;class L extends g{constructor(){super(47)}compute(Q,pe,We){return Q.fontInfo}}class m extends a{constructor(){super(49,"fontSize",e.EDITOR_FONT_DEFAULTS.fontSize,{type:"number",minimum:6,maximum:100,default:e.EDITOR_FONT_DEFAULTS.fontSize,description:i.localize(25,null)})}validate(Q){const pe=O.float(Q,this.defaultValue);return pe===0?e.EDITOR_FONT_DEFAULTS.fontSize:O.clamp(pe,6,100)}compute(Q,pe,We){return Q.fontInfo.fontSize}}class F extends D{constructor(){super(50,"fontWeight",e.EDITOR_FONT_DEFAULTS.fontWeight,{anyOf:[{type:"number",minimum:F.d,maximum:F.e,errorMessage:i.localize(26,null)},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:F.c}],default:e.EDITOR_FONT_DEFAULTS.fontWeight,description:i.localize(27,null)})}validate(Q){return Q==="normal"||Q==="bold"?Q:String(w.clampedInt(Q,e.EDITOR_FONT_DEFAULTS.fontWeight,F.d,F.e))}}F.c=["normal","bold","100","200","300","400","500","600","700","800","900"],F.d=1,F.e=1e3;class B extends D{constructor(){const Q={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},pe={type:"string",enum:["peek","gotoAndPeek","goto"],default:Q.multiple,enumDescriptions:[i.localize(28,null),i.localize(29,null),i.localize(30,null)]},We=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(55,"gotoLocation",Q,{"editor.gotoLocation.multiple":{deprecationMessage:i.localize(31,null)},"editor.gotoLocation.multipleDefinitions":{description:i.localize(32,null),...pe},"editor.gotoLocation.multipleTypeDefinitions":{description:i.localize(33,null),...pe},"editor.gotoLocation.multipleDeclarations":{description:i.localize(34,null),...pe},"editor.gotoLocation.multipleImplementations":{description:i.localize(35,null),...pe},"editor.gotoLocation.multipleReferences":{description:i.localize(36,null),...pe},"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:Q.alternativeDefinitionCommand,enum:We,description:i.localize(37,null)},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:Q.alternativeTypeDefinitionCommand,enum:We,description:i.localize(38,null)},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:Q.alternativeDeclarationCommand,enum:We,description:i.localize(39,null)},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:Q.alternativeImplementationCommand,enum:We,description:i.localize(40,null)},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:Q.alternativeReferenceCommand,enum:We,description:i.localize(41,null)}})}validate(Q){if(!Q||typeof Q!="object")return this.defaultValue;const pe=Q;return{multiple:t(pe.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:pe.multipleDefinitions??t(pe.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:pe.multipleTypeDefinitions??t(pe.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:pe.multipleDeclarations??t(pe.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:pe.multipleImplementations??t(pe.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:pe.multipleReferences??t(pe.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:v.string(pe.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:v.string(pe.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:v.string(pe.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:v.string(pe.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:v.string(pe.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class J extends D{constructor(){const Q={enabled:!0,delay:300,sticky:!0,above:!0};super(57,"hover",Q,{"editor.hover.enabled":{type:"boolean",default:Q.enabled,description:i.localize(42,null)},"editor.hover.delay":{type:"number",default:Q.delay,minimum:0,maximum:1e4,description:i.localize(43,null)},"editor.hover.sticky":{type:"boolean",default:Q.sticky,description:i.localize(44,null)},"editor.hover.above":{type:"boolean",default:Q.above,description:i.localize(45,null)}})}validate(Q){if(!Q||typeof Q!="object")return this.defaultValue;const pe=Q;return{enabled:o(pe.enabled,this.defaultValue.enabled),delay:w.clampedInt(pe.delay,this.defaultValue.delay,0,1e4),sticky:o(pe.sticky,this.defaultValue.sticky),above:o(pe.above,this.defaultValue.above)}}}var me;(function(G){G[G.None=0]="None",G[G.Text=1]="Text",G[G.Blocks=2]="Blocks"})(me=e.RenderMinimap||(e.RenderMinimap={}));class te extends g{constructor(){super(138)}compute(Q,pe,We){return te.computeLayout(pe,{memory:Q.memory,outerWidth:Q.outerWidth,outerHeight:Q.outerHeight,isDominatedByLongLines:Q.isDominatedByLongLines,lineHeight:Q.fontInfo.lineHeight,viewLineCount:Q.viewLineCount,lineNumbersDigitCount:Q.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:Q.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:Q.fontInfo.maxDigitWidth,pixelRatio:Q.pixelRatio})}static computeContainedMinimapLineCount(Q){const pe=Q.height/Q.lineHeight,We=Math.floor(Q.paddingTop/Q.lineHeight);let $e=Math.floor(Q.paddingBottom/Q.lineHeight);Q.scrollBeyondLastLine&&($e=Math.max($e,pe-1));const Qe=(We+Q.viewLineCount+$e)/(Q.pixelRatio*Q.height),xe=Math.floor(Q.viewLineCount/Qe);return{typicalViewportLineCount:pe,extraLinesBeforeFirstLine:We,extraLinesBeyondLastLine:$e,desiredRatio:Qe,minimapLineCount:xe}}static c(Q,pe){const We=Q.outerWidth,$e=Q.outerHeight,Qe=Q.pixelRatio;if(!Q.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(Qe*$e),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:$e};const xe=pe.stableMinimapLayoutInput,tt=xe&&Q.outerHeight===xe.outerHeight&&Q.lineHeight===xe.lineHeight&&Q.typicalHalfwidthCharacterWidth===xe.typicalHalfwidthCharacterWidth&&Q.pixelRatio===xe.pixelRatio&&Q.scrollBeyondLastLine===xe.scrollBeyondLastLine&&Q.paddingTop===xe.paddingTop&&Q.paddingBottom===xe.paddingBottom&&Q.minimap.enabled===xe.minimap.enabled&&Q.minimap.side===xe.minimap.side&&Q.minimap.size===xe.minimap.size&&Q.minimap.showSlider===xe.minimap.showSlider&&Q.minimap.renderCharacters===xe.minimap.renderCharacters&&Q.minimap.maxColumn===xe.minimap.maxColumn&&Q.minimap.scale===xe.minimap.scale&&Q.verticalScrollbarWidth===xe.verticalScrollbarWidth&&Q.isViewportWrapping===xe.isViewportWrapping,at=Q.lineHeight,Et=Q.typicalHalfwidthCharacterWidth,Ct=Q.scrollBeyondLastLine,It=Q.minimap.renderCharacters;let Dt=Qe>=2?Math.round(Q.minimap.scale*2):Q.minimap.scale;const ut=Q.minimap.maxColumn,ft=Q.minimap.size,xt=Q.minimap.side,Vt=Q.verticalScrollbarWidth,kt=Q.viewLineCount,ht=Q.remainingWidth,Tt=Q.isViewportWrapping,$t=It?2:3;let At=Math.floor(Qe*$e);const Ge=At/Qe;let Ft=!1,Kt=!1,Nt=$t*Dt,mt=Dt/Qe,Ce=1;if(ft==="fill"||ft==="fit"){const{typicalViewportLineCount:Be,extraLinesBeforeFirstLine:Ze,extraLinesBeyondLastLine:ct,desiredRatio:Pt,minimapLineCount:vt}=te.computeContainedMinimapLineCount({viewLineCount:kt,scrollBeyondLastLine:Ct,paddingTop:Q.paddingTop,paddingBottom:Q.paddingBottom,height:$e,lineHeight:at,pixelRatio:Qe});if(kt/vt>1)Ft=!0,Kt=!0,Dt=1,Nt=1,mt=Dt/Qe;else{let pt=!1,Rt=Dt+1;if(ft==="fit"){const bt=Math.ceil((Ze+kt+ct)*Nt);Tt&&tt&&ht<=pe.stableFitRemainingWidth?(pt=!0,Rt=pe.stableFitMaxMinimapScale):pt=bt>At}if(ft==="fill"||pt){Ft=!0;const bt=Dt;Nt=Math.min(at*Qe,Math.max(1,Math.floor(1/Pt))),Tt&&tt&&ht<=pe.stableFitRemainingWidth&&(Rt=pe.stableFitMaxMinimapScale),Dt=Math.min(Rt,Math.max(1,Math.floor(Nt/$t))),Dt>bt&&(Ce=Math.min(2,Dt/bt)),mt=Dt/Qe/Ce,At=Math.ceil(Math.max(Be,Ze+kt+ct)*Nt),Tt?(pe.stableMinimapLayoutInput=Q,pe.stableFitRemainingWidth=ht,pe.stableFitMaxMinimapScale=Dt):(pe.stableMinimapLayoutInput=null,pe.stableFitRemainingWidth=0)}}}const Ae=Math.floor(ut*mt),ge=Math.min(Ae,Math.max(0,Math.floor((ht-Vt-2)*mt/(Et+mt)))+e.MINIMAP_GUTTER_WIDTH);let x=Math.floor(Qe*ge);const Re=x/Qe;x=Math.floor(x*Ce);const Ue=It?1:2,Ye=xt==="left"?0:We-ge-Vt;return{renderMinimap:Ue,minimapLeft:Ye,minimapWidth:ge,minimapHeightIsEditorHeight:Ft,minimapIsSampling:Kt,minimapScale:Dt,minimapLineHeight:Nt,minimapCanvasInnerWidth:x,minimapCanvasInnerHeight:At,minimapCanvasOuterWidth:Re,minimapCanvasOuterHeight:Ge}}static computeLayout(Q,pe){const We=pe.outerWidth|0,$e=pe.outerHeight|0,Qe=pe.lineHeight|0,xe=pe.lineNumbersDigitCount|0,tt=pe.typicalHalfwidthCharacterWidth,at=pe.maxDigitWidth,Et=pe.pixelRatio,Ct=pe.viewLineCount,It=Q.get(130),Dt=It==="inherit"?Q.get(129):It,ut=Dt==="inherit"?Q.get(125):Dt,ft=Q.get(128),xt=pe.isDominatedByLongLines,Vt=Q.get(54),kt=Q.get(64).renderType!==0,ht=Q.get(65),Tt=Q.get(99),$t=Q.get(80),At=Q.get(69),Ge=Q.get(97),Ft=Ge.verticalScrollbarSize,Kt=Ge.verticalHasArrows,Nt=Ge.arrowSize,mt=Ge.horizontalScrollbarSize,Ce=Q.get(40),Ae=Q.get(104)!=="never";let ge=Q.get(62);Ce&&Ae&&(ge+=16);let x=0;if(kt){const ei=Math.max(xe,ht);x=Math.round(ei*at)}let Re=0;Vt&&(Re=Qe);let Ue=0,Ye=Ue+Re,Be=Ye+x,Ze=Be+ge;const ct=We-Re-x-ge;let Pt=!1,vt=!1,wt=-1;Dt==="inherit"&&xt?(Pt=!0,vt=!0):ut==="on"||ut==="bounded"?vt=!0:ut==="wordWrapColumn"&&(wt=ft);const pt=te.c({outerWidth:We,outerHeight:$e,lineHeight:Qe,typicalHalfwidthCharacterWidth:tt,pixelRatio:Et,scrollBeyondLastLine:Tt,paddingTop:$t.top,paddingBottom:$t.bottom,minimap:At,verticalScrollbarWidth:Ft,viewLineCount:Ct,remainingWidth:ct,isViewportWrapping:vt},pe.memory||new M);pt.renderMinimap!==0&&pt.minimapLeft===0&&(Ue+=pt.minimapWidth,Ye+=pt.minimapWidth,Be+=pt.minimapWidth,Ze+=pt.minimapWidth);const Rt=ct-pt.minimapWidth,bt=Math.max(1,Math.floor((Rt-Ft-2)/tt)),ri=Kt?Nt:0;return vt&&(wt=Math.max(1,bt),ut==="bounded"&&(wt=Math.min(wt,ft))),{width:We,height:$e,glyphMarginLeft:Ue,glyphMarginWidth:Re,lineNumbersLeft:Ye,lineNumbersWidth:x,decorationsLeft:Be,decorationsWidth:ge,contentLeft:Ze,contentWidth:Rt,minimap:pt,viewportColumn:bt,isWordWrapMinified:Pt,isViewportWrapping:vt,wrappingColumn:wt,verticalScrollbarWidth:Ft,horizontalScrollbarHeight:mt,overviewRuler:{top:ri,width:Ft,height:$e-2*ri,right:0}}}}e.EditorLayoutInfoComputer=te;class oe extends D{constructor(){super(132,"wrappingStrategy","simple",{"editor.wrappingStrategy":{enumDescriptions:[i.localize(46,null),i.localize(47,null)],type:"string",enum:["simple","advanced"],default:"simple",description:i.localize(48,null)}})}validate(Q){return t(Q,"simple",["simple","advanced"])}compute(Q,pe,We){return pe.get(2)===2?"advanced":We}}class ce extends D{constructor(){const Q={enabled:!0};super(61,"lightbulb",Q,{"editor.lightbulb.enabled":{type:"boolean",default:Q.enabled,description:i.localize(49,null)}})}validate(Q){return!Q||typeof Q!="object"?this.defaultValue:{enabled:o(Q.enabled,this.defaultValue.enabled)}}}class we extends D{constructor(){const Q={enabled:!1,maxLineCount:5};super(109,"stickyScroll",Q,{"editor.stickyScroll.enabled":{type:"boolean",default:Q.enabled,description:i.localize(50,null)},"editor.stickyScroll.maxLineCount":{type:"number",default:Q.maxLineCount,minimum:1,maximum:10,description:i.localize(51,null)}})}validate(Q){if(!Q||typeof Q!="object")return this.defaultValue;const pe=Q;return{enabled:o(pe.enabled,this.defaultValue.enabled),maxLineCount:w.clampedInt(pe.maxLineCount,this.defaultValue.maxLineCount,1,10)}}}class q extends D{constructor(){const Q={enabled:"on",fontSize:0,fontFamily:"",padding:!1};super(134,"inlayHints",Q,{"editor.inlayHints.enabled":{type:"string",default:Q.enabled,description:i.localize(52,null),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[i.localize(53,null),i.localize(54,null,T.isMacintosh?"Ctrl+Option":"Ctrl+Alt"),i.localize(55,null,T.isMacintosh?"Ctrl+Option":"Ctrl+Alt"),i.localize(56,null)]},"editor.inlayHints.fontSize":{type:"number",default:Q.fontSize,markdownDescription:i.localize(57,null,"`#editor.fontSize#`","`5`")},"editor.inlayHints.fontFamily":{type:"string",default:Q.fontFamily,markdownDescription:i.localize(58,null,"`#editor.fontFamily#`")},"editor.inlayHints.padding":{type:"boolean",default:Q.padding,description:i.localize(59,null)}})}validate(Q){if(!Q||typeof Q!="object")return this.defaultValue;const pe=Q;return typeof pe.enabled=="boolean"&&(pe.enabled=pe.enabled?"on":"off"),{enabled:t(pe.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:w.clampedInt(pe.fontSize,this.defaultValue.fontSize,0,100),fontFamily:v.string(pe.fontFamily,this.defaultValue.fontFamily),padding:o(pe.padding,this.defaultValue.padding)}}}class K extends D{constructor(){super(62,"lineDecorationsWidth",10)}validate(Q){return typeof Q=="string"&&/^\d+(\.\d+)?ch$/.test(Q)?-parseFloat(Q.substring(0,Q.length-2)):w.clampedInt(Q,this.defaultValue,0,1e3)}compute(Q,pe,We){return We<0?w.clampedInt(-We*Q.fontInfo.typicalHalfwidthCharacterWidth,this.defaultValue,0,1e3):We}}class X extends O{constructor(){super(63,"lineHeight",e.EDITOR_FONT_DEFAULTS.lineHeight,Q=>O.clamp(Q,0,150),{markdownDescription:i.localize(60,null)})}compute(Q,pe,We){return Q.fontInfo.lineHeight}}class de extends D{constructor(){const Q={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",autohide:!1,renderCharacters:!0,maxColumn:120,scale:1};super(69,"minimap",Q,{"editor.minimap.enabled":{type:"boolean",default:Q.enabled,description:i.localize(61,null)},"editor.minimap.autohide":{type:"boolean",default:Q.autohide,description:i.localize(62,null)},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[i.localize(63,null),i.localize(64,null),i.localize(65,null)],default:Q.size,description:i.localize(66,null)},"editor.minimap.side":{type:"string",enum:["left","right"],default:Q.side,description:i.localize(67,null)},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:Q.showSlider,description:i.localize(68,null)},"editor.minimap.scale":{type:"number",default:Q.scale,minimum:1,maximum:3,enum:[1,2,3],description:i.localize(69,null)},"editor.minimap.renderCharacters":{type:"boolean",default:Q.renderCharacters,description:i.localize(70,null)},"editor.minimap.maxColumn":{type:"number",default:Q.maxColumn,description:i.localize(71,null)}})}validate(Q){if(!Q||typeof Q!="object")return this.defaultValue;const pe=Q;return{enabled:o(pe.enabled,this.defaultValue.enabled),autohide:o(pe.autohide,this.defaultValue.autohide),size:t(pe.size,this.defaultValue.size,["proportional","fill","fit"]),side:t(pe.side,this.defaultValue.side,["right","left"]),showSlider:t(pe.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:o(pe.renderCharacters,this.defaultValue.renderCharacters),scale:w.clampedInt(pe.scale,1,1,3),maxColumn:w.clampedInt(pe.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function ye(G){return G==="ctrlCmd"?T.isMacintosh?"metaKey":"ctrlKey":"altKey"}class Fe extends D{constructor(){super(80,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:i.localize(72,null)},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:i.localize(73,null)}})}validate(Q){if(!Q||typeof Q!="object")return this.defaultValue;const pe=Q;return{top:w.clampedInt(pe.top,0,0,1e3),bottom:w.clampedInt(pe.bottom,0,0,1e3)}}}class ze extends D{constructor(){const Q={enabled:!0,cycle:!0};super(81,"parameterHints",Q,{"editor.parameterHints.enabled":{type:"boolean",default:Q.enabled,description:i.localize(74,null)},"editor.parameterHints.cycle":{type:"boolean",default:Q.cycle,description:i.localize(75,null)}})}validate(Q){if(!Q||typeof Q!="object")return this.defaultValue;const pe=Q;return{enabled:o(pe.enabled,this.defaultValue.enabled),cycle:o(pe.cycle,this.defaultValue.cycle)}}}class Pe extends g{constructor(){super(136)}compute(Q,pe,We){return Q.pixelRatio}}class Ie extends D{constructor(){const Q={other:"on",comments:"off",strings:"off"},pe=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[i.localize(76,null),i.localize(77,null),i.localize(78,null)]}];super(84,"quickSuggestions",Q,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:pe,default:Q.strings,description:i.localize(79,null)},comments:{anyOf:pe,default:Q.comments,description:i.localize(80,null)},other:{anyOf:pe,default:Q.other,description:i.localize(81,null)}},default:Q,markdownDescription:i.localize(82,null,"#editor.suggestOnTriggerCharacters#")}),this.defaultValue=Q}validate(Q){if(typeof Q=="boolean"){const Et=Q?"on":"off";return{comments:Et,strings:Et,other:Et}}if(!Q||typeof Q!="object")return this.defaultValue;const{other:pe,comments:We,strings:$e}=Q,Qe=["on","inline","off"];let xe,tt,at;return typeof pe=="boolean"?xe=pe?"on":"off":xe=t(pe,this.defaultValue.other,Qe),typeof We=="boolean"?tt=We?"on":"off":tt=t(We,this.defaultValue.comments,Qe),typeof $e=="boolean"?at=$e?"on":"off":at=t($e,this.defaultValue.strings,Qe),{other:xe,comments:tt,strings:at}}}var Se;(function(G){G[G.Off=0]="Off",G[G.On=1]="On",G[G.Relative=2]="Relative",G[G.Interval=3]="Interval",G[G.Custom=4]="Custom"})(Se=e.RenderLineNumbersType||(e.RenderLineNumbersType={}));class ae extends D{constructor(){super(64,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[i.localize(83,null),i.localize(84,null),i.localize(85,null),i.localize(86,null)],default:"on",description:i.localize(87,null)})}validate(Q){let pe=this.defaultValue.renderType,We=this.defaultValue.renderFn;return typeof Q<"u"&&(typeof Q=="function"?(pe=4,We=Q):Q==="interval"?pe=3:Q==="relative"?pe=2:Q==="on"?pe=1:pe=0),{renderType:pe,renderFn:We}}}function le(G){const Q=G.get(92);return Q==="editable"?G.get(86):Q!=="on"}e.filterValidationDecorations=le;class ee extends D{constructor(){const Q=[],pe={type:"number",description:i.localize(88,null)};super(96,"rulers",Q,{type:"array",items:{anyOf:[pe,{type:["object"],properties:{column:pe,color:{type:"string",description:i.localize(89,null),format:"color-hex"}}}]},default:Q,description:i.localize(90,null)})}validate(Q){if(Array.isArray(Q)){const pe=[];for(const We of Q)if(typeof We=="number")pe.push({column:w.clampedInt(We,0,0,1e4),color:null});else if(We&&typeof We=="object"){const $e=We;pe.push({column:w.clampedInt($e.column,0,0,1e4),color:$e.color})}return pe.sort((We,$e)=>We.column-$e.column),pe}return this.defaultValue}}function C(G,Q){if(typeof G!="string")return Q;switch(G){case"hidden":return 2;case"visible":return 3;default:return 1}}class $ extends D{constructor(){const Q={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(97,"scrollbar",Q,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[i.localize(91,null),i.localize(92,null),i.localize(93,null)],default:"auto",description:i.localize(94,null)},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[i.localize(95,null),i.localize(96,null),i.localize(97,null)],default:"auto",description:i.localize(98,null)},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:Q.verticalScrollbarSize,description:i.localize(99,null)},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:Q.horizontalScrollbarSize,description:i.localize(100,null)},"editor.scrollbar.scrollByPage":{type:"boolean",default:Q.scrollByPage,description:i.localize(101,null)}})}validate(Q){if(!Q||typeof Q!="object")return this.defaultValue;const pe=Q,We=w.clampedInt(pe.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),$e=w.clampedInt(pe.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:w.clampedInt(pe.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:C(pe.vertical,this.defaultValue.vertical),horizontal:C(pe.horizontal,this.defaultValue.horizontal),useShadows:o(pe.useShadows,this.defaultValue.useShadows),verticalHasArrows:o(pe.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:o(pe.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:o(pe.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:o(pe.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:We,horizontalSliderSize:w.clampedInt(pe.horizontalSliderSize,We,0,1e3),verticalScrollbarSize:$e,verticalSliderSize:w.clampedInt(pe.verticalSliderSize,$e,0,1e3),scrollByPage:o(pe.scrollByPage,this.defaultValue.scrollByPage)}}}e.inUntrustedWorkspace="inUntrustedWorkspace",e.unicodeHighlightConfigKeys={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};class W extends D{constructor(){const Q={nonBasicASCII:e.inUntrustedWorkspace,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:e.inUntrustedWorkspace,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(119,"unicodeHighlight",Q,{[e.unicodeHighlightConfigKeys.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:Q.nonBasicASCII,description:i.localize(102,null)},[e.unicodeHighlightConfigKeys.invisibleCharacters]:{restricted:!0,type:"boolean",default:Q.invisibleCharacters,description:i.localize(103,null)},[e.unicodeHighlightConfigKeys.ambiguousCharacters]:{restricted:!0,type:"boolean",default:Q.ambiguousCharacters,description:i.localize(104,null)},[e.unicodeHighlightConfigKeys.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:Q.includeComments,description:i.localize(105,null)},[e.unicodeHighlightConfigKeys.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:Q.includeStrings,description:i.localize(106,null)},[e.unicodeHighlightConfigKeys.allowedCharacters]:{restricted:!0,type:"object",default:Q.allowedCharacters,description:i.localize(107,null),additionalProperties:{type:"boolean"}},[e.unicodeHighlightConfigKeys.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:Q.allowedLocales,description:i.localize(108,null)}})}applyUpdate(Q,pe){let We=!1;pe.allowedCharacters&&Q&&(E.equals(Q.allowedCharacters,pe.allowedCharacters)||(Q={...Q,allowedCharacters:pe.allowedCharacters},We=!0)),pe.allowedLocales&&Q&&(E.equals(Q.allowedLocales,pe.allowedLocales)||(Q={...Q,allowedLocales:pe.allowedLocales},We=!0));const $e=super.applyUpdate(Q,pe);return We?new h($e.newValue,!0):$e}validate(Q){if(!Q||typeof Q!="object")return this.defaultValue;const pe=Q;return{nonBasicASCII:De(pe.nonBasicASCII,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),invisibleCharacters:o(pe.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:o(pe.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:De(pe.includeComments,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),includeStrings:De(pe.includeStrings,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),allowedCharacters:this.c(Q.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.c(Q.allowedLocales,this.defaultValue.allowedLocales)}}c(Q,pe){if(typeof Q!="object"||!Q)return pe;const We={};for(const[$e,Qe]of Object.entries(Q))Qe===!0&&(We[$e]=!0);return We}}class V extends D{constructor(){const Q={enabled:!0,mode:"subwordSmart",showToolbar:"onHover"};super(59,"inlineSuggest",Q,{"editor.inlineSuggest.enabled":{type:"boolean",default:Q.enabled,description:i.localize(109,null)},"editor.inlineSuggest.showToolbar":{type:"string",default:Q.showToolbar,enum:["always","onHover"],enumDescriptions:[i.localize(110,null),i.localize(111,null)],description:i.localize(112,null)}})}validate(Q){if(!Q||typeof Q!="object")return this.defaultValue;const pe=Q;return{enabled:o(pe.enabled,this.defaultValue.enabled),mode:t(pe.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"]),showToolbar:t(pe.showToolbar,this.defaultValue.showToolbar,["always","onHover"])}}}class ie extends D{constructor(){const Q={enabled:R.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:R.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions.independentColorPoolPerBracketType};super(12,"bracketPairColorization",Q,{"editor.bracketPairColorization.enabled":{type:"boolean",default:Q.enabled,markdownDescription:i.localize(113,null,"`#workbench.colorCustomizations#`")},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:Q.independentColorPoolPerBracketType,description:i.localize(114,null)}})}validate(Q){if(!Q||typeof Q!="object")return this.defaultValue;const pe=Q;return{enabled:o(pe.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:o(pe.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}}class fe extends D{constructor(){const Q={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(13,"guides",Q,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[i.localize(115,null),i.localize(116,null),i.localize(117,null)],default:Q.bracketPairs,description:i.localize(118,null)},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[i.localize(119,null),i.localize(120,null),i.localize(121,null)],default:Q.bracketPairsHorizontal,description:i.localize(122,null)},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:Q.highlightActiveBracketPair,description:i.localize(123,null)},"editor.guides.indentation":{type:"boolean",default:Q.indentation,description:i.localize(124,null)},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[i.localize(125,null),i.localize(126,null),i.localize(127,null)],default:Q.highlightActiveIndentation,description:i.localize(128,null)}})}validate(Q){if(!Q||typeof Q!="object")return this.defaultValue;const pe=Q;return{bracketPairs:De(pe.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:De(pe.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:o(pe.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:o(pe.indentation,this.defaultValue.indentation),highlightActiveIndentation:De(pe.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}}function De(G,Q,pe){const We=pe.indexOf(G);return We===-1?Q:pe[We]}class ue extends D{constructor(){const Q={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,selectionMode:"always",showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,matchOnWordStartOnly:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(112,"suggest",Q,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[i.localize(129,null),i.localize(130,null)],default:Q.insertMode,description:i.localize(131,null)},"editor.suggest.filterGraceful":{type:"boolean",default:Q.filterGraceful,description:i.localize(132,null)},"editor.suggest.localityBonus":{type:"boolean",default:Q.localityBonus,description:i.localize(133,null)},"editor.suggest.shareSuggestSelections":{type:"boolean",default:Q.shareSuggestSelections,markdownDescription:i.localize(134,null)},"editor.suggest.selectionMode":{type:"string",enum:["always","never","whenTriggerCharacter","whenQuickSuggestion"],enumDescriptions:[i.localize(135,null),i.localize(136,null),i.localize(137,null),i.localize(138,null)],default:Q.selectionMode,markdownDescription:i.localize(139,null)},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:Q.snippetsPreventQuickSuggestions,description:i.localize(140,null)},"editor.suggest.showIcons":{type:"boolean",default:Q.showIcons,description:i.localize(141,null)},"editor.suggest.showStatusBar":{type:"boolean",default:Q.showStatusBar,description:i.localize(142,null)},"editor.suggest.preview":{type:"boolean",default:Q.preview,description:i.localize(143,null)},"editor.suggest.showInlineDetails":{type:"boolean",default:Q.showInlineDetails,description:i.localize(144,null)},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:i.localize(145,null)},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:i.localize(146,null)},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:i.localize(147,null)},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:i.localize(148,null)},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:i.localize(149,null)},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:i.localize(150,null)},"editor.suggest.matchOnWordStartOnly":{type:"boolean",default:!0,markdownDescription:i.localize(151,null)},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:i.localize(152,null)},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:i.localize(153,null)},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:i.localize(154,null)},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:i.localize(155,null)},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:i.localize(156,null)},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:i.localize(157,null)},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:i.localize(158,null)},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:i.localize(159,null)},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:i.localize(160,null)},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:i.localize(161,null)},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:i.localize(162,null)},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:i.localize(163,null)},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:i.localize(164,null)},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:i.localize(165,null)},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:i.localize(166,null)},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:i.localize(167,null)},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:i.localize(168,null)},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:i.localize(169,null)},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:i.localize(170,null)},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:i.localize(171,null)},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:i.localize(172,null)},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:i.localize(173,null)},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:i.localize(174,null)},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:i.localize(175,null)},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:i.localize(176,null)}})}validate(Q){if(!Q||typeof Q!="object")return this.defaultValue;const pe=Q;return{insertMode:t(pe.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:o(pe.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:o(pe.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:o(pe.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:o(pe.shareSuggestSelections,this.defaultValue.shareSuggestSelections),selectionMode:t(pe.selectionMode,this.defaultValue.selectionMode,["always","never","whenQuickSuggestion","whenTriggerCharacter"]),showIcons:o(pe.showIcons,this.defaultValue.showIcons),showStatusBar:o(pe.showStatusBar,this.defaultValue.showStatusBar),preview:o(pe.preview,this.defaultValue.preview),previewMode:t(pe.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:o(pe.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:o(pe.showMethods,this.defaultValue.showMethods),showFunctions:o(pe.showFunctions,this.defaultValue.showFunctions),showConstructors:o(pe.showConstructors,this.defaultValue.showConstructors),showDeprecated:o(pe.showDeprecated,this.defaultValue.showDeprecated),matchOnWordStartOnly:o(pe.matchOnWordStartOnly,this.defaultValue.matchOnWordStartOnly),showFields:o(pe.showFields,this.defaultValue.showFields),showVariables:o(pe.showVariables,this.defaultValue.showVariables),showClasses:o(pe.showClasses,this.defaultValue.showClasses),showStructs:o(pe.showStructs,this.defaultValue.showStructs),showInterfaces:o(pe.showInterfaces,this.defaultValue.showInterfaces),showModules:o(pe.showModules,this.defaultValue.showModules),showProperties:o(pe.showProperties,this.defaultValue.showProperties),showEvents:o(pe.showEvents,this.defaultValue.showEvents),showOperators:o(pe.showOperators,this.defaultValue.showOperators),showUnits:o(pe.showUnits,this.defaultValue.showUnits),showValues:o(pe.showValues,this.defaultValue.showValues),showConstants:o(pe.showConstants,this.defaultValue.showConstants),showEnums:o(pe.showEnums,this.defaultValue.showEnums),showEnumMembers:o(pe.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:o(pe.showKeywords,this.defaultValue.showKeywords),showWords:o(pe.showWords,this.defaultValue.showWords),showColors:o(pe.showColors,this.defaultValue.showColors),showFiles:o(pe.showFiles,this.defaultValue.showFiles),showReferences:o(pe.showReferences,this.defaultValue.showReferences),showFolders:o(pe.showFolders,this.defaultValue.showFolders),showTypeParameters:o(pe.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:o(pe.showSnippets,this.defaultValue.showSnippets),showUsers:o(pe.showUsers,this.defaultValue.showUsers),showIssues:o(pe.showIssues,this.defaultValue.showIssues)}}}class ve extends D{constructor(){super(107,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:i.localize(177,null),default:!0,type:"boolean"}})}validate(Q){return!Q||typeof Q!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:o(Q.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}}}var be;(function(G){G[G.None=0]="None",G[G.Same=1]="Same",G[G.Indent=2]="Indent",G[G.DeepIndent=3]="DeepIndent"})(be=e.WrappingIndent||(e.WrappingIndent={}));class He extends D{constructor(){super(131,"wrappingIndent",1,{"editor.wrappingIndent":{type:"string",enum:["none","same","indent","deepIndent"],enumDescriptions:[i.localize(178,null),i.localize(179,null),i.localize(180,null),i.localize(181,null)],description:i.localize(182,null),default:"same"}})}validate(Q){switch(Q){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}return 1}compute(Q,pe,We){return pe.get(2)===2?0:We}}class je extends g{constructor(){super(139)}compute(Q,pe,We){const $e=pe.get(138);return{isDominatedByLongLines:Q.isDominatedByLongLines,isWordWrapMinified:$e.isWordWrapMinified,isViewportWrapping:$e.isViewportWrapping,wrappingColumn:$e.wrappingColumn}}}class it extends D{constructor(){const Q={enabled:!0};super(33,"dropIntoEditor",Q,{"editor.dropIntoEditor.enabled":{type:"boolean",default:Q.enabled,markdownDescription:i.localize(183,null)}})}validate(Q){return!Q||typeof Q!="object"?this.defaultValue:{enabled:o(Q.enabled,this.defaultValue.enabled)}}}const Xe="Consolas, 'Courier New', monospace",et="Menlo, Monaco, 'Courier New', monospace",nt="'Droid Sans Mono', 'monospace', monospace";e.EDITOR_FONT_DEFAULTS={fontFamily:T.isMacintosh?et:T.isLinux?nt:Xe,fontWeight:"normal",fontSize:T.isMacintosh?12:14,lineHeight:0,letterSpacing:0},e.editorOptionsRegistry=[];function Ne(G){return e.editorOptionsRegistry[G.id]=G,G}var rt;(function(G){G[G.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",G[G.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",G[G.accessibilitySupport=2]="accessibilitySupport",G[G.accessibilityPageSize=3]="accessibilityPageSize",G[G.ariaLabel=4]="ariaLabel",G[G.autoClosingBrackets=5]="autoClosingBrackets",G[G.autoClosingDelete=6]="autoClosingDelete",G[G.autoClosingOvertype=7]="autoClosingOvertype",G[G.autoClosingQuotes=8]="autoClosingQuotes",G[G.autoIndent=9]="autoIndent",G[G.automaticLayout=10]="automaticLayout",G[G.autoSurround=11]="autoSurround",G[G.bracketPairColorization=12]="bracketPairColorization",G[G.guides=13]="guides",G[G.codeLens=14]="codeLens",G[G.codeLensFontFamily=15]="codeLensFontFamily",G[G.codeLensFontSize=16]="codeLensFontSize",G[G.colorDecorators=17]="colorDecorators",G[G.colorDecoratorsLimit=18]="colorDecoratorsLimit",G[G.columnSelection=19]="columnSelection",G[G.comments=20]="comments",G[G.contextmenu=21]="contextmenu",G[G.copyWithSyntaxHighlighting=22]="copyWithSyntaxHighlighting",G[G.cursorBlinking=23]="cursorBlinking",G[G.cursorSmoothCaretAnimation=24]="cursorSmoothCaretAnimation",G[G.cursorStyle=25]="cursorStyle",G[G.cursorSurroundingLines=26]="cursorSurroundingLines",G[G.cursorSurroundingLinesStyle=27]="cursorSurroundingLinesStyle",G[G.cursorWidth=28]="cursorWidth",G[G.disableLayerHinting=29]="disableLayerHinting",G[G.disableMonospaceOptimizations=30]="disableMonospaceOptimizations",G[G.domReadOnly=31]="domReadOnly",G[G.dragAndDrop=32]="dragAndDrop",G[G.dropIntoEditor=33]="dropIntoEditor",G[G.emptySelectionClipboard=34]="emptySelectionClipboard",G[G.experimentalWhitespaceRendering=35]="experimentalWhitespaceRendering",G[G.extraEditorClassName=36]="extraEditorClassName",G[G.fastScrollSensitivity=37]="fastScrollSensitivity",G[G.find=38]="find",G[G.fixedOverflowWidgets=39]="fixedOverflowWidgets",G[G.folding=40]="folding",G[G.foldingStrategy=41]="foldingStrategy",G[G.foldingHighlight=42]="foldingHighlight",G[G.foldingImportsByDefault=43]="foldingImportsByDefault",G[G.foldingMaximumRegions=44]="foldingMaximumRegions",G[G.unfoldOnClickAfterEndOfLine=45]="unfoldOnClickAfterEndOfLine",G[G.fontFamily=46]="fontFamily",G[G.fontInfo=47]="fontInfo",G[G.fontLigatures=48]="fontLigatures",G[G.fontSize=49]="fontSize",G[G.fontWeight=50]="fontWeight",G[G.fontVariations=51]="fontVariations",G[G.formatOnPaste=52]="formatOnPaste",G[G.formatOnType=53]="formatOnType",G[G.glyphMargin=54]="glyphMargin",G[G.gotoLocation=55]="gotoLocation",G[G.hideCursorInOverviewRuler=56]="hideCursorInOverviewRuler",G[G.hover=57]="hover",G[G.inDiffEditor=58]="inDiffEditor",G[G.inlineSuggest=59]="inlineSuggest",G[G.letterSpacing=60]="letterSpacing",G[G.lightbulb=61]="lightbulb",G[G.lineDecorationsWidth=62]="lineDecorationsWidth",G[G.lineHeight=63]="lineHeight",G[G.lineNumbers=64]="lineNumbers",G[G.lineNumbersMinChars=65]="lineNumbersMinChars",G[G.linkedEditing=66]="linkedEditing",G[G.links=67]="links",G[G.matchBrackets=68]="matchBrackets",G[G.minimap=69]="minimap",G[G.mouseStyle=70]="mouseStyle",G[G.mouseWheelScrollSensitivity=71]="mouseWheelScrollSensitivity",G[G.mouseWheelZoom=72]="mouseWheelZoom",G[G.multiCursorMergeOverlapping=73]="multiCursorMergeOverlapping",G[G.multiCursorModifier=74]="multiCursorModifier",G[G.multiCursorPaste=75]="multiCursorPaste",G[G.multiCursorLimit=76]="multiCursorLimit",G[G.occurrencesHighlight=77]="occurrencesHighlight",G[G.overviewRulerBorder=78]="overviewRulerBorder",G[G.overviewRulerLanes=79]="overviewRulerLanes",G[G.padding=80]="padding",G[G.parameterHints=81]="parameterHints",G[G.peekWidgetDefaultFocus=82]="peekWidgetDefaultFocus",G[G.definitionLinkOpensInPeek=83]="definitionLinkOpensInPeek",G[G.quickSuggestions=84]="quickSuggestions",G[G.quickSuggestionsDelay=85]="quickSuggestionsDelay",G[G.readOnly=86]="readOnly",G[G.renameOnType=87]="renameOnType",G[G.renderControlCharacters=88]="renderControlCharacters",G[G.renderFinalNewline=89]="renderFinalNewline",G[G.renderLineHighlight=90]="renderLineHighlight",G[G.renderLineHighlightOnlyWhenFocus=91]="renderLineHighlightOnlyWhenFocus",G[G.renderValidationDecorations=92]="renderValidationDecorations",G[G.renderWhitespace=93]="renderWhitespace",G[G.revealHorizontalRightPadding=94]="revealHorizontalRightPadding",G[G.roundedSelection=95]="roundedSelection",G[G.rulers=96]="rulers",G[G.scrollbar=97]="scrollbar",G[G.scrollBeyondLastColumn=98]="scrollBeyondLastColumn",G[G.scrollBeyondLastLine=99]="scrollBeyondLastLine",G[G.scrollPredominantAxis=100]="scrollPredominantAxis",G[G.selectionClipboard=101]="selectionClipboard",G[G.selectionHighlight=102]="selectionHighlight",G[G.selectOnLineNumbers=103]="selectOnLineNumbers",G[G.showFoldingControls=104]="showFoldingControls",G[G.showUnused=105]="showUnused",G[G.snippetSuggestions=106]="snippetSuggestions",G[G.smartSelect=107]="smartSelect",G[G.smoothScrolling=108]="smoothScrolling",G[G.stickyScroll=109]="stickyScroll",G[G.stickyTabStops=110]="stickyTabStops",G[G.stopRenderingLineAfter=111]="stopRenderingLineAfter",G[G.suggest=112]="suggest",G[G.suggestFontSize=113]="suggestFontSize",G[G.suggestLineHeight=114]="suggestLineHeight",G[G.suggestOnTriggerCharacters=115]="suggestOnTriggerCharacters",G[G.suggestSelection=116]="suggestSelection",G[G.tabCompletion=117]="tabCompletion",G[G.tabIndex=118]="tabIndex",G[G.unicodeHighlighting=119]="unicodeHighlighting",G[G.unusualLineTerminators=120]="unusualLineTerminators",G[G.useShadowDOM=121]="useShadowDOM",G[G.useTabStops=122]="useTabStops",G[G.wordBreak=123]="wordBreak",G[G.wordSeparators=124]="wordSeparators",G[G.wordWrap=125]="wordWrap",G[G.wordWrapBreakAfterCharacters=126]="wordWrapBreakAfterCharacters",G[G.wordWrapBreakBeforeCharacters=127]="wordWrapBreakBeforeCharacters",G[G.wordWrapColumn=128]="wordWrapColumn",G[G.wordWrapOverride1=129]="wordWrapOverride1",G[G.wordWrapOverride2=130]="wordWrapOverride2",G[G.wrappingIndent=131]="wrappingIndent",G[G.wrappingStrategy=132]="wrappingStrategy",G[G.showDeprecated=133]="showDeprecated",G[G.inlayHints=134]="inlayHints",G[G.editorClassName=135]="editorClassName",G[G.pixelRatio=136]="pixelRatio",G[G.tabFocusMode=137]="tabFocusMode",G[G.layoutInfo=138]="layoutInfo",G[G.wrappingInfo=139]="wrappingInfo"})(rt=e.EditorOption||(e.EditorOption={})),e.EditorOptions={acceptSuggestionOnCommitCharacter:Ne(new l(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:i.localize(184,null)})),acceptSuggestionOnEnter:Ne(new d(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",i.localize(185,null),""],markdownDescription:i.localize(186,null)})),accessibilitySupport:Ne(new c),accessibilityPageSize:Ne(new w(3,"accessibilityPageSize",10,1,1073741824,{description:i.localize(187,null),tags:["accessibility"]})),ariaLabel:Ne(new v(4,"ariaLabel",i.localize(188,null))),autoClosingBrackets:Ne(new d(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",i.localize(189,null),i.localize(190,null),""],description:i.localize(191,null)})),autoClosingDelete:Ne(new d(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",i.localize(192,null),""],description:i.localize(193,null)})),autoClosingOvertype:Ne(new d(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",i.localize(194,null),""],description:i.localize(195,null)})),autoClosingQuotes:Ne(new d(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",i.localize(196,null),i.localize(197,null),""],description:i.localize(198,null)})),autoIndent:Ne(new r(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],u,{enumDescriptions:[i.localize(199,null),i.localize(200,null),i.localize(201,null),i.localize(202,null),i.localize(203,null)],description:i.localize(204,null)})),automaticLayout:Ne(new l(10,"automaticLayout",!1)),autoSurround:Ne(new d(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[i.localize(205,null),i.localize(206,null),i.localize(207,null),""],description:i.localize(208,null)})),bracketPairColorization:Ne(new ie),bracketPairGuides:Ne(new fe),stickyTabStops:Ne(new l(110,"stickyTabStops",!1,{description:i.localize(209,null)})),codeLens:Ne(new l(14,"codeLens",!0,{description:i.localize(210,null)})),codeLensFontFamily:Ne(new v(15,"codeLensFontFamily","",{description:i.localize(211,null)})),codeLensFontSize:Ne(new w(16,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:i.localize(212,null)})),colorDecorators:Ne(new l(17,"colorDecorators",!0,{description:i.localize(213,null)})),colorDecoratorsLimit:Ne(new w(18,"colorDecoratorsLimit",500,1,1e6,{markdownDescription:i.localize(214,null)})),columnSelection:Ne(new l(19,"columnSelection",!1,{description:i.localize(215,null)})),comments:Ne(new y),contextmenu:Ne(new l(21,"contextmenu",!0)),copyWithSyntaxHighlighting:Ne(new l(22,"copyWithSyntaxHighlighting",!0,{description:i.localize(216,null)})),cursorBlinking:Ne(new r(23,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],s,{description:i.localize(217,null)})),cursorSmoothCaretAnimation:Ne(new d(24,"cursorSmoothCaretAnimation","off",["off","explicit","on"],{enumDescriptions:[i.localize(218,null),i.localize(219,null),i.localize(220,null)],description:i.localize(221,null)})),cursorStyle:Ne(new r(25,"cursorStyle",f.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],P,{description:i.localize(222,null)})),cursorSurroundingLines:Ne(new w(26,"cursorSurroundingLines",0,0,1073741824,{description:i.localize(223,null)})),cursorSurroundingLinesStyle:Ne(new d(27,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[i.localize(224,null),i.localize(225,null)],description:i.localize(226,null)})),cursorWidth:Ne(new w(28,"cursorWidth",0,0,1073741824,{markdownDescription:i.localize(227,null)})),disableLayerHinting:Ne(new l(29,"disableLayerHinting",!1)),disableMonospaceOptimizations:Ne(new l(30,"disableMonospaceOptimizations",!1)),domReadOnly:Ne(new l(31,"domReadOnly",!1)),dragAndDrop:Ne(new l(32,"dragAndDrop",!0,{description:i.localize(228,null)})),emptySelectionClipboard:Ne(new Y),dropIntoEditor:Ne(new it),stickyScroll:Ne(new we),experimentalWhitespaceRendering:Ne(new d(35,"experimentalWhitespaceRendering","svg",["svg","font","off"],{enumDescriptions:[i.localize(229,null),i.localize(230,null),i.localize(231,null)],description:i.localize(232,null)})),extraEditorClassName:Ne(new v(36,"extraEditorClassName","")),fastScrollSensitivity:Ne(new O(37,"fastScrollSensitivity",5,G=>G<=0?5:G,{markdownDescription:i.localize(233,null)})),find:Ne(new Z),fixedOverflowWidgets:Ne(new l(39,"fixedOverflowWidgets",!1)),folding:Ne(new l(40,"folding",!0,{description:i.localize(234,null)})),foldingStrategy:Ne(new d(41,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[i.localize(235,null),i.localize(236,null)],description:i.localize(237,null)})),foldingHighlight:Ne(new l(42,"foldingHighlight",!0,{description:i.localize(238,null)})),foldingImportsByDefault:Ne(new l(43,"foldingImportsByDefault",!1,{description:i.localize(239,null)})),foldingMaximumRegions:Ne(new w(44,"foldingMaximumRegions",5e3,10,65e3,{description:i.localize(240,null)})),unfoldOnClickAfterEndOfLine:Ne(new l(45,"unfoldOnClickAfterEndOfLine",!1,{description:i.localize(241,null)})),fontFamily:Ne(new v(46,"fontFamily",e.EDITOR_FONT_DEFAULTS.fontFamily,{description:i.localize(242,null)})),fontInfo:Ne(new L),fontLigatures2:Ne(new _),fontSize:Ne(new m),fontWeight:Ne(new F),fontVariations:Ne(new j),formatOnPaste:Ne(new l(52,"formatOnPaste",!1,{description:i.localize(243,null)})),formatOnType:Ne(new l(53,"formatOnType",!1,{description:i.localize(244,null)})),glyphMargin:Ne(new l(54,"glyphMargin",!0,{description:i.localize(245,null)})),gotoLocation:Ne(new B),hideCursorInOverviewRuler:Ne(new l(56,"hideCursorInOverviewRuler",!1,{description:i.localize(246,null)})),hover:Ne(new J),inDiffEditor:Ne(new l(58,"inDiffEditor",!1)),letterSpacing:Ne(new O(60,"letterSpacing",e.EDITOR_FONT_DEFAULTS.letterSpacing,G=>O.clamp(G,-5,20),{description:i.localize(247,null)})),lightbulb:Ne(new ce),lineDecorationsWidth:Ne(new K),lineHeight:Ne(new X),lineNumbers:Ne(new ae),lineNumbersMinChars:Ne(new w(65,"lineNumbersMinChars",5,1,300)),linkedEditing:Ne(new l(66,"linkedEditing",!1,{description:i.localize(248,null)})),links:Ne(new l(67,"links",!0,{description:i.localize(249,null)})),matchBrackets:Ne(new d(68,"matchBrackets","always",["always","near","never"],{description:i.localize(250,null)})),minimap:Ne(new de),mouseStyle:Ne(new d(70,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:Ne(new O(71,"mouseWheelScrollSensitivity",1,G=>G===0?1:G,{markdownDescription:i.localize(251,null)})),mouseWheelZoom:Ne(new l(72,"mouseWheelZoom",!1,{markdownDescription:i.localize(252,null)})),multiCursorMergeOverlapping:Ne(new l(73,"multiCursorMergeOverlapping",!0,{description:i.localize(253,null)})),multiCursorModifier:Ne(new r(74,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],ye,{markdownEnumDescriptions:[i.localize(254,null),i.localize(255,null)],markdownDescription:i.localize(256,null)})),multiCursorPaste:Ne(new d(75,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[i.localize(257,null),i.localize(258,null)],markdownDescription:i.localize(259,null)})),multiCursorLimit:Ne(new w(76,"multiCursorLimit",1e4,1,1e5,{markdownDescription:i.localize(260,null)})),occurrencesHighlight:Ne(new l(77,"occurrencesHighlight",!0,{description:i.localize(261,null)})),overviewRulerBorder:Ne(new l(78,"overviewRulerBorder",!0,{description:i.localize(262,null)})),overviewRulerLanes:Ne(new w(79,"overviewRulerLanes",3,0,3)),padding:Ne(new Fe),parameterHints:Ne(new ze),peekWidgetDefaultFocus:Ne(new d(82,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[i.localize(263,null),i.localize(264,null)],description:i.localize(265,null)})),definitionLinkOpensInPeek:Ne(new l(83,"definitionLinkOpensInPeek",!1,{description:i.localize(266,null)})),quickSuggestions:Ne(new Ie),quickSuggestionsDelay:Ne(new w(85,"quickSuggestionsDelay",10,0,1073741824,{description:i.localize(267,null)})),readOnly:Ne(new l(86,"readOnly",!1)),renameOnType:Ne(new l(87,"renameOnType",!1,{description:i.localize(268,null),markdownDeprecationMessage:i.localize(269,null)})),renderControlCharacters:Ne(new l(88,"renderControlCharacters",!0,{description:i.localize(270,null),restricted:!0})),renderFinalNewline:Ne(new d(89,"renderFinalNewline",T.isLinux?"dimmed":"on",["off","on","dimmed"],{description:i.localize(271,null)})),renderLineHighlight:Ne(new d(90,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",i.localize(272,null)],description:i.localize(273,null)})),renderLineHighlightOnlyWhenFocus:Ne(new l(91,"renderLineHighlightOnlyWhenFocus",!1,{description:i.localize(274,null)})),renderValidationDecorations:Ne(new d(92,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:Ne(new d(93,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",i.localize(275,null),i.localize(276,null),i.localize(277,null),""],description:i.localize(278,null)})),revealHorizontalRightPadding:Ne(new w(94,"revealHorizontalRightPadding",15,0,1e3)),roundedSelection:Ne(new l(95,"roundedSelection",!0,{description:i.localize(279,null)})),rulers:Ne(new ee),scrollbar:Ne(new $),scrollBeyondLastColumn:Ne(new w(98,"scrollBeyondLastColumn",4,0,1073741824,{description:i.localize(280,null)})),scrollBeyondLastLine:Ne(new l(99,"scrollBeyondLastLine",!0,{description:i.localize(281,null)})),scrollPredominantAxis:Ne(new l(100,"scrollPredominantAxis",!0,{description:i.localize(282,null)})),selectionClipboard:Ne(new l(101,"selectionClipboard",!0,{description:i.localize(283,null),included:T.isLinux})),selectionHighlight:Ne(new l(102,"selectionHighlight",!0,{description:i.localize(284,null)})),selectOnLineNumbers:Ne(new l(103,"selectOnLineNumbers",!0)),showFoldingControls:Ne(new d(104,"showFoldingControls","mouseover",["always","never","mouseover"],{enumDescriptions:[i.localize(285,null),i.localize(286,null),i.localize(287,null)],description:i.localize(288,null)})),showUnused:Ne(new l(105,"showUnused",!0,{description:i.localize(289,null)})),showDeprecated:Ne(new l(133,"showDeprecated",!0,{description:i.localize(290,null)})),inlayHints:Ne(new q),snippetSuggestions:Ne(new d(106,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[i.localize(291,null),i.localize(292,null),i.localize(293,null),i.localize(294,null)],description:i.localize(295,null)})),smartSelect:Ne(new ve),smoothScrolling:Ne(new l(108,"smoothScrolling",!1,{description:i.localize(296,null)})),stopRenderingLineAfter:Ne(new w(111,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:Ne(new ue),inlineSuggest:Ne(new V),suggestFontSize:Ne(new w(113,"suggestFontSize",0,0,1e3,{markdownDescription:i.localize(297,null,"`0`","`#editor.fontSize#`")})),suggestLineHeight:Ne(new w(114,"suggestLineHeight",0,0,1e3,{markdownDescription:i.localize(298,null,"`0`","`#editor.lineHeight#`")})),suggestOnTriggerCharacters:Ne(new l(115,"suggestOnTriggerCharacters",!0,{description:i.localize(299,null)})),suggestSelection:Ne(new d(116,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[i.localize(300,null),i.localize(301,null),i.localize(302,null)],description:i.localize(303,null)})),tabCompletion:Ne(new d(117,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[i.localize(304,null),i.localize(305,null),i.localize(306,null)],description:i.localize(307,null)})),tabIndex:Ne(new w(118,"tabIndex",0,-1,1073741824)),unicodeHighlight:Ne(new W),unusualLineTerminators:Ne(new d(120,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[i.localize(308,null),i.localize(309,null),i.localize(310,null)],description:i.localize(311,null)})),useShadowDOM:Ne(new l(121,"useShadowDOM",!0)),useTabStops:Ne(new l(122,"useTabStops",!0,{description:i.localize(312,null)})),wordBreak:Ne(new d(123,"wordBreak","normal",["normal","keepAll"],{markdownEnumDescriptions:[i.localize(313,null),i.localize(314,null)],description:i.localize(315,null)})),wordSeparators:Ne(new v(124,"wordSeparators",I.USUAL_WORD_SEPARATORS,{description:i.localize(316,null)})),wordWrap:Ne(new d(125,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[i.localize(317,null),i.localize(318,null),i.localize(319,null),i.localize(320,null)],description:i.localize(321,null)})),wordWrapBreakAfterCharacters:Ne(new v(126,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:Ne(new v(127,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:Ne(new w(128,"wordWrapColumn",80,1,1073741824,{markdownDescription:i.localize(322,null)})),wordWrapOverride1:Ne(new d(129,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:Ne(new d(130,"wordWrapOverride2","inherit",["off","on","inherit"])),editorClassName:Ne(new H),pixelRatio:Ne(new Pe),tabFocusMode:Ne(new l(137,"tabFocusMode",!1,{markdownDescription:i.localize(323,null)})),layoutInfo:Ne(new te),wrappingInfo:Ne(new je),wrappingIndent:Ne(new He),wrappingStrategy:Ne(new oe)}}),define(ke[132],Te([13,14]),function(ne,e){return ne.create("vs/platform/configuration/common/configurationRegistry",e)}),define(ke[133],Te([13,14]),function(ne,e){return ne.create("vs/platform/extensionManagement/common/extensionManagement",e)}),define(ke[134],Te([13,14]),function(ne,e){return ne.create("vs/platform/extensions/common/extensionValidator",e)}),define(ke[135],Te([13,14]),function(ne,e){return ne.create("vs/platform/files/common/files",e)}),define(ke[136],Te([13,14]),function(ne,e){return ne.create("vs/platform/markers/common/markers",e)}),define(ke[137],Te([13,14]),function(ne,e){return ne.create("vs/platform/theme/common/iconRegistry",e)}),define(ke[138],Te([13,14]),function(ne,e){return ne.create("vs/platform/workspace/common/workspace",e)}),define(ke[139],Te([13,14]),function(ne,e){return ne.create("vs/workbench/api/common/extHostDiagnostics",e)}),define(ke[140],Te([13,14]),function(ne,e){return ne.create("vs/workbench/api/common/extHostExtensionService",e)}),define(ke[141],Te([13,14]),function(ne,e){return ne.create("vs/workbench/api/common/extHostProgress",e)}),define(ke[142],Te([13,14]),function(ne,e){return ne.create("vs/workbench/api/common/extHostStatusBar",e)}),define(ke[143],Te([13,14]),function(ne,e){return ne.create("vs/workbench/api/common/extHostTelemetry",e)}),define(ke[144],Te([13,14]),function(ne,e){return ne.create("vs/workbench/api/common/extHostTerminalService",e)}),define(ke[145],Te([13,14]),function(ne,e){return ne.create("vs/workbench/api/common/extHostTreeViews",e)}),define(ke[146],Te([13,14]),function(ne,e){return ne.create("vs/workbench/api/common/extHostWorkspace",e)}),define(ke[147],Te([13,14]),function(ne,e){return ne.create("vs/workbench/common/editor",e)}),define(ke[148],Te([13,14]),function(ne,e){return ne.create("vs/workbench/common/views",e)}),define(ke[149],Te([13,14]),function(ne,e){return ne.create("vs/workbench/contrib/debug/common/abstractDebugAdapter",e)}),define(ke[150],Te([13,14]),function(ne,e){return ne.create("vs/workbench/contrib/debug/common/debug",e)}),define(ke[151],Te([13,14]),function(ne,e){return ne.create("vs/workbench/contrib/tasks/common/taskDefinitionRegistry",e)}),define(ke[152],Te([13,14]),function(ne,e){return ne.create("vs/workbench/contrib/tasks/common/tasks",e)}),define(ke[153],Te([13,14]),function(ne,e){return ne.create("vs/workbench/services/configurationResolver/common/variableResolver",e)}),define(ke[154],Te([13,14]),function(ne,e){return ne.create("vs/workbench/services/extensions/common/extensionsRegistry",e)}),define(ke[155],Te([13,14]),function(ne,e){return ne.create("vs/workbench/services/search/common/queryBuilder",e)}),define(ke[156],Te([1,0,11]),function(ne,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Scanner=e.TokenType=void 0;var T;(function(N){N[N.LParen=0]="LParen",N[N.RParen=1]="RParen",N[N.Neg=2]="Neg",N[N.Eq=3]="Eq",N[N.NotEq=4]="NotEq",N[N.Lt=5]="Lt",N[N.LtEq=6]="LtEq",N[N.Gt=7]="Gt",N[N.GtEq=8]="GtEq",N[N.RegexOp=9]="RegexOp",N[N.RegexStr=10]="RegexStr",N[N.True=11]="True",N[N.False=12]="False",N[N.In=13]="In",N[N.Not=14]="Not",N[N.And=15]="And",N[N.Or=16]="Or",N[N.Str=17]="Str",N[N.QuotedStr=18]="QuotedStr",N[N.Error=19]="Error",N[N.EOF=20]="EOF"})(T=e.TokenType||(e.TokenType={}));class I{constructor(){this.c="",this.d=0,this.e=0,this.f=[],this.g=[],this.m=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static reportError(E){if(E.type!==19)throw(0,i.illegalArgument)(`expected an error token but got ${JSON.stringify(E)}`);switch(E.lexeme){case"=":return`Unexpected token '${E.lexeme}' at offset ${E.offset}. Did you mean '==' or '=~'?`;case"&":return`Unexpected token '${E.lexeme}' at offset ${E.offset}. Did you mean '&&'?`;case"|":return`Unexpected token '${E.lexeme}' at offset ${E.offset}. Did you mean '||'?`;default:{const R=E.lexeme;return R&&R.length>1&&R.startsWith("'")?`Unexpected token '${E.lexeme}' at offset ${E.offset}. Did you forget to close the string?`:R&&R.length>1&&R.endsWith("'")?`Unexpected token '${E.lexeme}' at offset ${E.offset}. Did you forget to open the string?`:`Unexpected token '${E.lexeme}' at offset ${E.offset}`}}}static getLexeme(E){switch(E.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return"==";case 4:return"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return E.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return E.lexeme;case 18:return E.lexeme;case 19:return E.lexeme;case 20:return"EOF";default:throw(0,i.illegalState)(`unhandled token type: ${JSON.stringify(E)}; have you forgotten to add a case?`)}}get errorTokens(){return this.g}reset(E){return this.c=E,this.d=0,this.e=0,this.f=[],this.g=[],this}scan(){for(;!this.r();)switch(this.d=this.e,this.i()){case 40:this.k(0);break;case 41:this.k(1);break;case 33:this.k(this.h(61)?4:2);break;case 39:this.o();break;case 47:this.q();break;case 61:this.h(61)?this.k(3):this.h(126)?this.k(9):this.l();break;case 60:this.k(this.h(61)?6:5);break;case 62:this.k(this.h(61)?8:7);break;case 38:this.h(38)?this.k(15):this.l();break;case 124:this.h(124)?this.k(16):this.l();break;case 32:case 13:case 9:case 10:case 160:break;default:this.n()}return this.d=this.e,this.k(20),Array.from(this.f)}h(E){return this.r()||this.c.charCodeAt(this.e)!==E?!1:(this.e++,!0)}i(){return this.c.charCodeAt(this.e++)}j(){return this.r()?0:this.c.charCodeAt(this.e)}k(E){this.f.push({type:E,offset:this.d})}l(){const E={type:19,offset:this.d,lexeme:this.c.substring(this.d,this.e)};this.g.push(E),this.f.push(E)}n(){this.m.lastIndex=this.d;const E=this.m.exec(this.c);if(E){this.e=this.d+E[0].length;const R=this.c.substring(this.d,this.e),S=I.b.get(R);S?this.k(S):this.f.push({type:17,lexeme:R,offset:this.d})}}o(){for(;this.j()!==39&&!this.r();)this.i();if(this.r()){this.l();return}this.i(),this.f.push({type:18,lexeme:this.c.substring(this.d+1,this.e-1),offset:this.d+1})}q(){let E=this.e,R=!1,S=!1;for(;;){if(E>=this.c.length){this.e=E,this.l();return}const M=this.c.charCodeAt(E);if(R)R=!1;else if(M===47&&!S){E++;break}else M===91?S=!0:M===92?R=!0:M===93&&(S=!1);E++}for(;E<this.c.length&&I.a.has(this.c.charCodeAt(E));)E++;this.e=E;const k=this.c.substring(this.d,this.e);this.f.push({type:10,lexeme:k,offset:this.d})}r(){return this.e>=this.c.length}}I.a=new Set(["i","g","s","m","y","u"].map(N=>N.charCodeAt(0))),I.b=new Map([["not",14],["in",13],["false",12],["true",11]]),e.Scanner=I}),define(ke[157],Te([1,0,11]),function(ne,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ImplicitActivationEvents=e.ImplicitActivationEventsImpl=void 0;class T{constructor(){this.a=new Map}register(N,E){this.a.set(N,E)}updateManifest(N){if(!(typeof N.main>"u"&&typeof N.browser>"u")&&(N.activationEvents===void 0&&Object.assign(N,{activationEvents:[]}),!(!Array.isArray(N.activationEvents)||!N.contributes)))for(const E in N.contributes){const R=this.a.get(E);if(!R)continue;const S=N.contributes[E],k=Array.isArray(S)?S:[S];try{R(k,N.activationEvents)}catch(M){(0,i.onUnexpectedError)(M)}}}}e.ImplicitActivationEventsImpl=T,e.ImplicitActivationEvents=new T}),define(ke[158],Te([1,0,24,29,134,258]),function(ne,e,i,T,I,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isEngineValid=e.isValidExtensionVersion=e.validateExtensionManifest=e.isValidVersion=e.normalizeVersion=e.parseVersion=e.isValidVersionStr=void 0;const E=/^(\^|>=)?((\d+)|x)\.((\d+)|x)\.((\d+)|x)(\-.*)?$/,R=/^-(\d{4})(\d{2})(\d{2})$/;function S(l){return l=l.trim(),l==="*"||E.test(l)}e.isValidVersionStr=S;function k(l){if(!S(l))return null;if(l=l.trim(),l==="*")return{hasCaret:!1,hasGreaterEquals:!1,majorBase:0,majorMustEqual:!1,minorBase:0,minorMustEqual:!1,patchBase:0,patchMustEqual:!1,preRelease:null};const p=l.match(E);return p?{hasCaret:p[1]==="^",hasGreaterEquals:p[1]===">=",majorBase:p[2]==="x"?0:parseInt(p[2],10),majorMustEqual:p[2]!=="x",minorBase:p[4]==="x"?0:parseInt(p[4],10),minorMustEqual:p[4]!=="x",patchBase:p[6]==="x"?0:parseInt(p[6],10),patchMustEqual:p[6]!=="x",preRelease:p[8]||null}:null}e.parseVersion=k;function M(l){if(!l)return null;const p=l.majorBase,w=l.majorMustEqual,O=l.minorBase;let v=l.minorMustEqual;const t=l.patchBase;let d=l.patchMustEqual;l.hasCaret&&(p===0||(v=!1),d=!1);let r=0;if(l.preRelease){const u=R.exec(l.preRelease);if(u){const[,c,y,n]=u;r=Date.UTC(Number(c),Number(y)-1,Number(n))}}return{majorBase:p,majorMustEqual:w,minorBase:O,minorMustEqual:v,patchBase:t,patchMustEqual:d,isMinimum:l.hasGreaterEquals,notBefore:r}}e.normalizeVersion=M;function D(l,p,w){let O;typeof l=="string"?O=M(k(l)):O=l;let v;p instanceof Date?v=p.getTime():typeof p=="string"&&(v=new Date(p).getTime());let t;if(typeof w=="string"?t=M(k(w)):t=w,!O||!t)return!1;const d=O.majorBase,r=O.minorBase,u=O.patchBase;let c=t.majorBase,y=t.minorBase,n=t.patchBase;const s=t.notBefore;let f=t.majorMustEqual,A=t.minorMustEqual,P=t.patchMustEqual;return t.isMinimum?d>c?!0:d<c?!1:r>y?!0:r<y||v&&v<s?!1:u>=n:(d===1&&c===0&&(!f||!A||!P)&&(c=1,y=0,n=0,f=!0,A=!1,P=!1),d<c?!1:d>c?!f:r<y?!1:r>y?!A:u<n?!1:u>n?!P:!(v&&v<s))}e.isValidVersion=D;function h(l,p,w,O,v){const t=[];if(typeof O.publisher<"u"&&typeof O.publisher!="string")return t.push([T.default.Error,I.localize(0,null)]),t;if(typeof O.name!="string")return t.push([T.default.Error,I.localize(1,null,"name")]),t;if(typeof O.version!="string")return t.push([T.default.Error,I.localize(2,null,"version")]),t;if(!O.engines)return t.push([T.default.Error,I.localize(3,null,"engines")]),t;if(typeof O.engines.vscode!="string")return t.push([T.default.Error,I.localize(4,null,"engines.vscode")]),t;if(typeof O.extensionDependencies<"u"&&!o(O.extensionDependencies))return t.push([T.default.Error,I.localize(5,null,"extensionDependencies")]),t;if(typeof O.activationEvents<"u"){if(!o(O.activationEvents))return t.push([T.default.Error,I.localize(6,null,"activationEvents")]),t;if(typeof O.main>"u"&&typeof O.browser>"u")return t.push([T.default.Error,I.localize(7,null,"activationEvents","main")]),t}if(typeof O.extensionKind<"u"&&typeof O.main>"u"&&t.push([T.default.Warning,I.localize(8,null,"extensionKind")]),typeof O.main<"u"){if(typeof O.main!="string")return t.push([T.default.Error,I.localize(9,null,"main")]),t;{const u=(0,i.joinPath)(w,O.main);(0,i.isEqualOrParent)(u,w)||t.push([T.default.Warning,I.localize(10,null,u.path,w.path)])}if(typeof O.activationEvents>"u")return t.push([T.default.Error,I.localize(11,null,"activationEvents","main")]),t}if(typeof O.browser<"u"){if(typeof O.browser!="string")return t.push([T.default.Error,I.localize(12,null,"browser")]),t;{const u=(0,i.joinPath)(w,O.browser);(0,i.isEqualOrParent)(u,w)||t.push([T.default.Warning,I.localize(13,null,u.path,w.path)])}if(typeof O.activationEvents>"u")return t.push([T.default.Error,I.localize(14,null,"activationEvents","browser")]),t}if(!N.valid(O.version))return t.push([T.default.Error,I.localize(15,null)]),t;const d=[];if(!b(l,p,O,v,d))for(const u of d)t.push([T.default.Error,u]);return t}e.validateExtensionManifest=h;function b(l,p,w,O,v){return O||typeof w.main>"u"&&typeof w.browser>"u"?!0:a(l,p,w.engines.vscode,v)}e.isValidExtensionVersion=b;function g(l,p,w){return l==="*"||a(p,w,l)}e.isEngineValid=g;function a(l,p,w,O=[]){const v=M(k(w));if(!v)return O.push(I.localize(16,null,w)),!1;if(v.majorBase===0){if(!v.majorMustEqual||!v.minorMustEqual)return O.push(I.localize(17,null,w)),!1}else if(!v.majorMustEqual)return O.push(I.localize(18,null,w)),!1;return D(l,p,v)?!0:(O.push(I.localize(19,null,l,w)),!1)}function o(l){if(!Array.isArray(l))return!1;for(let p=0,w=l.length;p<w;p++)if(typeof l[p]!="string")return!1;return!0}}),define(ke[89],Te([1,0]),function(ne,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SyncDescriptor=void 0;class i{constructor(I,N=[],E=!1){this.ctor=I,this.staticArguments=N,this.supportsDelayedInstantiation=E}}e.SyncDescriptor=i}),define(ke[67],Te([1,0,89]),function(ne,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSingletonServiceDescriptors=e.registerSingleton=e.InstantiationType=void 0;const T=[];var I;(function(R){R[R.Eager=0]="Eager",R[R.Delayed=1]="Delayed"})(I=e.InstantiationType||(e.InstantiationType={}));function N(R,S,k){S instanceof i.SyncDescriptor||(S=new i.SyncDescriptor(S,[],Boolean(k))),T.push([R,S])}e.registerSingleton=N;function E(){return T}e.getSingletonServiceDescriptors=E}),define(ke[159],Te([1,0]),function(ne,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Graph=e.Node=void 0;class i{constructor(N,E){this.key=N,this.data=E,this.incoming=new Map,this.outgoing=new Map}}e.Node=i;class T{constructor(N){this.b=N,this.a=new Map}roots(){const N=[];for(const E of this.a.values())E.outgoing.size===0&&N.push(E);return N}insertEdge(N,E){const R=this.lookupOrInsertNode(N),S=this.lookupOrInsertNode(E);R.outgoing.set(S.key,S),S.incoming.set(R.key,R)}removeNode(N){const E=this.b(N);this.a.delete(E);for(const R of this.a.values())R.outgoing.delete(E),R.incoming.delete(E)}lookupOrInsertNode(N){const E=this.b(N);let R=this.a.get(E);return R||(R=new i(E,N),this.a.set(E,R)),R}lookup(N){return this.a.get(this.b(N))}isEmpty(){return this.a.size===0}toString(){const N=[];for(const[E,R]of this.a)N.push(`${E}
	(-> incoming)[${[...R.incoming.keys()].join(", ")}]
	(outgoing ->)[${[...R.outgoing.keys()].join(",")}]
`);return N.join(`
`)}findCycleSlow(){for(const[N,E]of this.a){const R=new Set([N]),S=this.c(E,R);if(S)return S}}c(N,E){for(const[R,S]of N.outgoing){if(E.has(R))return[...E,R].join(" -> ");E.add(R);const k=this.c(S,E);if(k)return k;E.delete(R)}}}e.Graph=T}),define(ke[3],Te([1,0]),function(ne,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.refineServiceDecorator=e.createDecorator=e.IInstantiationService=e._util=void 0;var i;(function(E){E.serviceIds=new Map,E.DI_TARGET="$di$target",E.DI_DEPENDENCIES="$di$dependencies";function R(S){return S[E.DI_DEPENDENCIES]||[]}E.getServiceDependencies=R})(i=e._util||(e._util={})),e.IInstantiationService=I("instantiationService");function T(E,R,S){R[i.DI_TARGET]===R?R[i.DI_DEPENDENCIES].push({id:E,index:S}):(R[i.DI_DEPENDENCIES]=[{id:E,index:S}],R[i.DI_TARGET]=R)}function I(E){if(i.serviceIds.has(E))return i.serviceIds.get(E);const R=function(S,k,M){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");T(R,S,M)};return R.toString=()=>E,i.serviceIds.set(E,R),R}e.createDecorator=I;function N(E){return E}e.refineServiceDecorator=N}),define(ke[41],Te([1,0,9,2,3]),function(ne,e,i,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLanguageTagSettingPlainKey=e.merge=e.getConfigurationValue=e.removeFromValueTree=e.addToValueTree=e.toValuesTree=e.ConfigurationTargetToString=e.ConfigurationTarget=e.isConfigurationUpdateOverrides=e.isConfigurationOverrides=e.IConfigurationService=void 0,e.IConfigurationService=(0,I.createDecorator)("configurationService");function N(o){return o&&typeof o=="object"&&(!o.overrideIdentifier||typeof o.overrideIdentifier=="string")&&(!o.resource||o.resource instanceof T.URI)}e.isConfigurationOverrides=N;function E(o){return o&&typeof o=="object"&&(!o.overrideIdentifiers||Array.isArray(o.overrideIdentifiers))&&!o.overrideIdentifier&&(!o.resource||o.resource instanceof T.URI)}e.isConfigurationUpdateOverrides=E;var R;(function(o){o[o.APPLICATION=1]="APPLICATION",o[o.USER=2]="USER",o[o.USER_LOCAL=3]="USER_LOCAL",o[o.USER_REMOTE=4]="USER_REMOTE",o[o.WORKSPACE=5]="WORKSPACE",o[o.WORKSPACE_FOLDER=6]="WORKSPACE_FOLDER",o[o.DEFAULT=7]="DEFAULT",o[o.MEMORY=8]="MEMORY"})(R=e.ConfigurationTarget||(e.ConfigurationTarget={}));function S(o){switch(o){case 1:return"APPLICATION";case 2:return"USER";case 3:return"USER_LOCAL";case 4:return"USER_REMOTE";case 5:return"WORKSPACE";case 6:return"WORKSPACE_FOLDER";case 7:return"DEFAULT";case 8:return"MEMORY"}}e.ConfigurationTargetToString=S;function k(o,l){const p=Object.create(null);for(const w in o)M(p,w,o[w],l);return p}e.toValuesTree=k;function M(o,l,p,w){const O=l.split("."),v=O.pop();let t=o;for(let d=0;d<O.length;d++){const r=O[d];let u=t[r];switch(typeof u){case"undefined":u=t[r]=Object.create(null);break;case"object":break;default:w(`Ignoring ${l} as ${O.slice(0,d+1).join(".")} is ${JSON.stringify(u)}`);return}t=u}if(typeof t=="object"&&t!==null)try{t[v]=p}catch{w(`Ignoring ${l} as ${O.join(".")} is ${JSON.stringify(t)}`)}else w(`Ignoring ${l} as ${O.join(".")} is ${JSON.stringify(t)}`)}e.addToValueTree=M;function D(o,l){const p=l.split(".");h(o,p)}e.removeFromValueTree=D;function h(o,l){const p=l.shift();if(l.length===0){delete o[p];return}if(Object.keys(o).indexOf(p)!==-1){const w=o[p];typeof w=="object"&&!Array.isArray(w)&&(h(w,l),Object.keys(w).length===0&&delete o[p])}}function b(o,l,p){function w(t,d){let r=t;for(const u of d){if(typeof r!="object"||r===null)return;r=r[u]}return r}const O=l.split("."),v=w(o,O);return typeof v>"u"?p:v}e.getConfigurationValue=b;function g(o,l,p){Object.keys(l).forEach(w=>{w!=="__proto__"&&(w in o?i.isObject(o[w])&&i.isObject(l[w])?g(o[w],l[w],p):p&&(o[w]=l[w]):o[w]=l[w])})}e.merge=g;function a(o){return o.replace(/[\[\]]/g,"")}e.getLanguageTagSettingPlainKey=a}),define(ke[42],Te([1,0,20,10,156,3]),function(ne,e,i,T,I,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.implies=e.IContextKeyService=e.RawContextKey=e.ContextKeyNotRegexExpr=e.ContextKeyRegexExpr=e.ContextKeySmallerEqualsExpr=e.ContextKeySmallerExpr=e.ContextKeyGreaterEqualsExpr=e.ContextKeyGreaterExpr=e.ContextKeyNotExpr=e.ContextKeyNotEqualsExpr=e.ContextKeyNotInExpr=e.ContextKeyInExpr=e.ContextKeyEqualsExpr=e.ContextKeyDefinedExpr=e.ContextKeyTrueExpr=e.ContextKeyFalseExpr=e.expressionsAreEqualWithConstantSubstitution=e.Parser=e.ContextKeyExpr=e.ContextKeyExprType=void 0;const E=new Map;E.set("false",!1),E.set("true",!0),E.set("isMac",i.isMacintosh),E.set("isLinux",i.isLinux),E.set("isWindows",i.isWindows),E.set("isWeb",i.isWeb),E.set("isMacNative",i.isMacintosh&&!i.isWeb),E.set("isEdge",i.isEdge),E.set("isFirefox",i.isFirefox),E.set("isChrome",i.isChrome),E.set("isSafari",i.isSafari);const R=Object.prototype.hasOwnProperty;var S;(function(L){L[L.False=0]="False",L[L.True=1]="True",L[L.Defined=2]="Defined",L[L.Not=3]="Not",L[L.Equals=4]="Equals",L[L.NotEquals=5]="NotEquals",L[L.And=6]="And",L[L.Regex=7]="Regex",L[L.NotRegex=8]="NotRegex",L[L.Or=9]="Or",L[L.In=10]="In",L[L.NotIn=11]="NotIn",L[L.Greater=12]="Greater",L[L.GreaterEquals=13]="GreaterEquals",L[L.Smaller=14]="Smaller",L[L.SmallerEquals=15]="SmallerEquals"})(S=e.ContextKeyExprType||(e.ContextKeyExprType={}));class k{static false(){return g.INSTANCE}static true(){return a.INSTANCE}static has(m){return o.create(m)}static equals(m,F){return l.create(m,F)}static notEquals(m,F){return O.create(m,F)}static regex(m,F){return y.create(m,F)}static in(m,F){return p.create(m,F)}static notIn(m,F){return w.create(m,F)}static not(m){return v.create(m)}static and(...m){return f.create(m,null,!0)}static or(...m){return A.create(m,null,!0)}static greater(m,F){return d.create(m,F)}static greaterEquals(m,F){return r.create(m,F)}static smaller(m,F){return u.create(m,F)}static smallerEquals(m,F){return c.create(m,F)}static deserializeOrErrorNew(m){if(!m)return{type:"error",lexingErrors:[],parsingErrors:[]};const F=new D,B=F.parse(m);return B===void 0?{type:"error",lexingErrors:F.lexingErrors.map(J=>I.Scanner.reportError(J)),parsingErrors:F.parsingErrors}:{type:"ok",expr:B}}static deserialize(m){if(!!m)return this.c(m)}static c(m){const F=m.split("||");return A.create(F.map(B=>this.d(B)),null,!0)}static d(m){const F=m.split("&&");return f.create(F.map(B=>this.f(B)),null,!0)}static f(m){if(m=m.trim(),m.indexOf("!=")>=0){const F=m.split("!=");return O.create(F[0].trim(),this.g(F[1]))}if(m.indexOf("==")>=0){const F=m.split("==");return l.create(F[0].trim(),this.g(F[1]))}if(m.indexOf("=~")>=0){const F=m.split("=~");return y.create(F[0].trim(),this.h(F[1]))}if(m.indexOf(" not in ")>=0){const F=m.split(" not in ");return w.create(F[0].trim(),this.g(F[1]))}if(m.indexOf(" in ")>=0){const F=m.split(" in ");return p.create(F[0].trim(),this.g(F[1]))}if(/^[^<=>]+>=[^<=>]+$/.test(m)){const F=m.split(">=");return r.create(F[0].trim(),F[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(m)){const F=m.split(">");return d.create(F[0].trim(),F[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(m)){const F=m.split("<=");return c.create(F[0].trim(),F[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(m)){const F=m.split("<");return u.create(F[0].trim(),F[1].trim())}return/^\!\s*/.test(m)?v.create(m.substr(1).trim()):o.create(m)}static g(m){if(m=m.trim(),m==="true")return!0;if(m==="false")return!1;const F=/^'([^']*)'$/.exec(m);return F?F[1].trim():m}static h(m){if((0,T.isFalsyOrWhitespace)(m))return null;const F=m.indexOf("/"),B=m.lastIndexOf("/");if(F===B||F<0)return null;const J=m.slice(F+1,B),me=m[B+1]==="i"?"i":"";try{return new RegExp(J,me)}catch{return null}}}e.ContextKeyExpr=k;class M extends Error{}class D{constructor(){this.c=new I.Scanner,this.d=[],this.f=0,this.g=[]}get lexingErrors(){return this.c.errorTokens}get parsingErrors(){return this.g}parse(m){if(m===""){this.g.push("Expected an expression but got an empty string");return}this.d=this.c.reset(m).scan(),this.f=0,this.g=[];try{const F=this.h();if(!this.D())throw this.z(this.C());return F}catch(F){if(!(F instanceof M)){const B=this.C();this.g.push(`Unexpected error: ${F} for token ${I.Scanner.getLexeme(B)} at offset ${B.offset}.`)}return}}h(){return this.k()}k(){const m=[this.l()];for(;this.v(16);){const F=this.l();m.push(F)}return m.length===1?m[0]:k.or(...m)}l(){const m=[this.o()];for(;this.v(15);){const F=this.o();m.push(F)}return m.length===1?m[0]:k.and(...m)}o(){if(this.v(2)){const m=this.C();switch(m.type){case 17:return this.w(),k.not(m.lexeme);case 11:return this.w(),k.false();case 12:return this.w(),k.true();default:throw this.y("KEY, 'true', or 'false'",m)}}return this.s()}s(){const m=this.C();switch(m.type){case 11:return this.w(),k.true();case 12:return this.w(),k.false();case 0:{this.w();const F=this.h();return this.x(1,"')'"),F}case 17:{const F=m.lexeme;if(this.w(),this.v(9)){const J=this.C();switch(J.type){case 10:case 19:{const me=[J.lexeme];this.w();let te=this.C(),oe=0;for(let X=0;X<J.lexeme.length;X++)J.lexeme.charCodeAt(X)===40?oe++:J.lexeme.charCodeAt(X)===41&&oe--;for(;!this.D()&&te.type!==15&&te.type!==16;){switch(te.type){case 0:oe++;break;case 1:oe--;break;case 10:case 18:for(let X=0;X<te.lexeme.length;X++)te.lexeme.charCodeAt(X)===40?oe++:J.lexeme.charCodeAt(X)===41&&oe--}if(oe<0)break;me.push(I.Scanner.getLexeme(te)),this.w(),te=this.C()}const ce=me.join(""),we=ce.lastIndexOf("/"),q=we===ce.length-1?void 0:ce.substring(we+1),K=new RegExp(ce.substring(1,we),q);return k.regex(F,K)}case 18:{const me=J.lexeme;this.w();let te=null;if(!(0,T.isFalsyOrWhitespace)(me)){const oe=me.indexOf("/"),ce=me.lastIndexOf("/");if(oe!==ce&&oe>=0){const we=me.slice(oe+1,ce),q=me[ce+1]==="i"?"i":"";try{te=new RegExp(we,q)}catch{}}}if(te===null)throw this.y("REGEX",J);return y.create(F,te)}default:throw this.y("REGEX",this.C())}}if(this.v(14)){this.x(13,"'in' after 'not'");const J=this.t();return k.notIn(F,J)}switch(this.C().type){case 3:{this.w();const J=this.t();switch(J){case"true":return k.has(F);case"false":return k.not(F);default:return k.equals(F,J)}}case 4:{this.w();const J=this.t();switch(J){case"true":return k.not(F);case"false":return k.has(F);default:return k.notEquals(F,J)}}case 5:return this.w(),u.create(F,this.t());case 6:return this.w(),c.create(F,this.t());case 7:return this.w(),d.create(F,this.t());case 8:return this.w(),r.create(F,this.t());case 13:return this.w(),k.in(F,this.t());default:return k.has(F)}}default:throw this.y("'true', 'false', '(', KEY, KEY '=~' regex, KEY [ ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value ]",this.C())}}t(){const m=this.C();switch(m.type){case 17:case 18:return this.w(),m.lexeme;case 11:return this.w(),"true";case 12:return this.w(),"false";case 13:return this.w(),"in";default:return""}}u(){return this.d[this.f-1]}v(m){return this.B(m)?(this.w(),!0):!1}w(){return this.D()||this.f++,this.u()}x(m,F){if(this.B(m))return this.w();throw this.y(F,this.C())}y(m,F){return this.A(`Expected ${m} but got '${I.Scanner.getLexeme(F)}' at offset ${F.offset}.`)}z(m){return this.A(`Unexpected '${I.Scanner.getLexeme(m)}' at offset ${m.offset}.`)}A(m){return this.g.push(m),new M}B(m){return this.C().type===m}C(){return this.d[this.f]}D(){return this.C().type===20}}e.Parser=D;function h(L,m){const F=L?L.substituteConstants():void 0,B=m?m.substituteConstants():void 0;return!F&&!B?!0:!F||!B?!1:F.equals(B)}e.expressionsAreEqualWithConstantSubstitution=h;function b(L,m){return L.cmp(m)}class g{constructor(){this.type=0}cmp(m){return this.type-m.type}equals(m){return m.type===this.type}substituteConstants(){return this}evaluate(m){return!1}serialize(){return"false"}keys(){return[]}map(m){return this}negate(){return a.INSTANCE}}g.INSTANCE=new g,e.ContextKeyFalseExpr=g;class a{constructor(){this.type=1}cmp(m){return this.type-m.type}equals(m){return m.type===this.type}substituteConstants(){return this}evaluate(m){return!0}serialize(){return"true"}keys(){return[]}map(m){return this}negate(){return g.INSTANCE}}a.INSTANCE=new a,e.ContextKeyTrueExpr=a;class o{static create(m,F=null){const B=E.get(m);return typeof B=="boolean"?B?a.INSTANCE:g.INSTANCE:new o(m,F)}constructor(m,F){this.key=m,this.c=F,this.type=2}cmp(m){return m.type!==this.type?this.type-m.type:H(this.key,m.key)}equals(m){return m.type===this.type?this.key===m.key:!1}substituteConstants(){const m=E.get(this.key);return typeof m=="boolean"?m?a.INSTANCE:g.INSTANCE:this}evaluate(m){return!!m.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}map(m){return m.mapDefined(this.key)}negate(){return this.c||(this.c=v.create(this.key,this)),this.c}}e.ContextKeyDefinedExpr=o;class l{static create(m,F,B=null){if(typeof F=="boolean")return F?o.create(m,B):v.create(m,B);const J=E.get(m);return typeof J=="boolean"?F===(J?"true":"false")?a.INSTANCE:g.INSTANCE:new l(m,F,B)}constructor(m,F,B){this.c=m,this.d=F,this.f=B,this.type=4}cmp(m){return m.type!==this.type?this.type-m.type:Y(this.c,this.d,m.c,m.d)}equals(m){return m.type===this.type?this.c===m.c&&this.d===m.d:!1}substituteConstants(){const m=E.get(this.c);if(typeof m=="boolean"){const F=m?"true":"false";return this.d===F?a.INSTANCE:g.INSTANCE}return this}evaluate(m){return m.getValue(this.c)==this.d}serialize(){return`${this.c} == '${this.d}'`}keys(){return[this.c]}map(m){return m.mapEquals(this.c,this.d)}negate(){return this.f||(this.f=O.create(this.c,this.d,this)),this.f}}e.ContextKeyEqualsExpr=l;class p{static create(m,F){return new p(m,F)}constructor(m,F){this.d=m,this.f=F,this.type=10,this.c=null}cmp(m){return m.type!==this.type?this.type-m.type:Y(this.d,this.f,m.d,m.f)}equals(m){return m.type===this.type?this.d===m.d&&this.f===m.f:!1}substituteConstants(){return this}evaluate(m){const F=m.getValue(this.f),B=m.getValue(this.d);return Array.isArray(F)?F.includes(B):typeof B=="string"&&typeof F=="object"&&F!==null?R.call(F,B):!1}serialize(){return`${this.d} in '${this.f}'`}keys(){return[this.d,this.f]}map(m){return m.mapIn(this.d,this.f)}negate(){return this.c||(this.c=w.create(this.d,this.f)),this.c}}e.ContextKeyInExpr=p;class w{static create(m,F){return new w(m,F)}constructor(m,F){this.d=m,this.f=F,this.type=11,this.c=p.create(m,F)}cmp(m){return m.type!==this.type?this.type-m.type:this.c.cmp(m.c)}equals(m){return m.type===this.type?this.c.equals(m.c):!1}substituteConstants(){return this}evaluate(m){return!this.c.evaluate(m)}serialize(){return`${this.d} not in '${this.f}'`}keys(){return this.c.keys()}map(m){return m.mapNotIn(this.d,this.f)}negate(){return this.c}}e.ContextKeyNotInExpr=w;class O{static create(m,F,B=null){if(typeof F=="boolean")return F?v.create(m,B):o.create(m,B);const J=E.get(m);return typeof J=="boolean"?F===(J?"true":"false")?g.INSTANCE:a.INSTANCE:new O(m,F,B)}constructor(m,F,B){this.c=m,this.d=F,this.f=B,this.type=5}cmp(m){return m.type!==this.type?this.type-m.type:Y(this.c,this.d,m.c,m.d)}equals(m){return m.type===this.type?this.c===m.c&&this.d===m.d:!1}substituteConstants(){const m=E.get(this.c);if(typeof m=="boolean"){const F=m?"true":"false";return this.d===F?g.INSTANCE:a.INSTANCE}return this}evaluate(m){return m.getValue(this.c)!=this.d}serialize(){return`${this.c} != '${this.d}'`}keys(){return[this.c]}map(m){return m.mapNotEquals(this.c,this.d)}negate(){return this.f||(this.f=l.create(this.c,this.d,this)),this.f}}e.ContextKeyNotEqualsExpr=O;class v{static create(m,F=null){const B=E.get(m);return typeof B=="boolean"?B?g.INSTANCE:a.INSTANCE:new v(m,F)}constructor(m,F){this.c=m,this.d=F,this.type=3}cmp(m){return m.type!==this.type?this.type-m.type:H(this.c,m.c)}equals(m){return m.type===this.type?this.c===m.c:!1}substituteConstants(){const m=E.get(this.c);return typeof m=="boolean"?m?g.INSTANCE:a.INSTANCE:this}evaluate(m){return!m.getValue(this.c)}serialize(){return`!${this.c}`}keys(){return[this.c]}map(m){return m.mapNot(this.c)}negate(){return this.d||(this.d=o.create(this.c,this)),this.d}}e.ContextKeyNotExpr=v;function t(L,m){if(typeof L=="string"){const F=parseFloat(L);isNaN(F)||(L=F)}return typeof L=="string"||typeof L=="number"?m(L):g.INSTANCE}class d{static create(m,F,B=null){return t(F,J=>new d(m,J,B))}constructor(m,F,B){this.c=m,this.d=F,this.f=B,this.type=12}cmp(m){return m.type!==this.type?this.type-m.type:Y(this.c,this.d,m.c,m.d)}equals(m){return m.type===this.type?this.c===m.c&&this.d===m.d:!1}substituteConstants(){return this}evaluate(m){return typeof this.d=="string"?!1:parseFloat(m.getValue(this.c))>this.d}serialize(){return`${this.c} > ${this.d}`}keys(){return[this.c]}map(m){return m.mapGreater(this.c,this.d)}negate(){return this.f||(this.f=c.create(this.c,this.d,this)),this.f}}e.ContextKeyGreaterExpr=d;class r{static create(m,F,B=null){return t(F,J=>new r(m,J,B))}constructor(m,F,B){this.c=m,this.d=F,this.f=B,this.type=13}cmp(m){return m.type!==this.type?this.type-m.type:Y(this.c,this.d,m.c,m.d)}equals(m){return m.type===this.type?this.c===m.c&&this.d===m.d:!1}substituteConstants(){return this}evaluate(m){return typeof this.d=="string"?!1:parseFloat(m.getValue(this.c))>=this.d}serialize(){return`${this.c} >= ${this.d}`}keys(){return[this.c]}map(m){return m.mapGreaterEquals(this.c,this.d)}negate(){return this.f||(this.f=u.create(this.c,this.d,this)),this.f}}e.ContextKeyGreaterEqualsExpr=r;class u{static create(m,F,B=null){return t(F,J=>new u(m,J,B))}constructor(m,F,B){this.c=m,this.d=F,this.f=B,this.type=14}cmp(m){return m.type!==this.type?this.type-m.type:Y(this.c,this.d,m.c,m.d)}equals(m){return m.type===this.type?this.c===m.c&&this.d===m.d:!1}substituteConstants(){return this}evaluate(m){return typeof this.d=="string"?!1:parseFloat(m.getValue(this.c))<this.d}serialize(){return`${this.c} < ${this.d}`}keys(){return[this.c]}map(m){return m.mapSmaller(this.c,this.d)}negate(){return this.f||(this.f=r.create(this.c,this.d,this)),this.f}}e.ContextKeySmallerExpr=u;class c{static create(m,F,B=null){return t(F,J=>new c(m,J,B))}constructor(m,F,B){this.c=m,this.d=F,this.f=B,this.type=15}cmp(m){return m.type!==this.type?this.type-m.type:Y(this.c,this.d,m.c,m.d)}equals(m){return m.type===this.type?this.c===m.c&&this.d===m.d:!1}substituteConstants(){return this}evaluate(m){return typeof this.d=="string"?!1:parseFloat(m.getValue(this.c))<=this.d}serialize(){return`${this.c} <= ${this.d}`}keys(){return[this.c]}map(m){return m.mapSmallerEquals(this.c,this.d)}negate(){return this.f||(this.f=d.create(this.c,this.d,this)),this.f}}e.ContextKeySmallerEqualsExpr=c;class y{static create(m,F){return new y(m,F)}constructor(m,F){this.d=m,this.f=F,this.type=7,this.c=null}cmp(m){if(m.type!==this.type)return this.type-m.type;if(this.d<m.d)return-1;if(this.d>m.d)return 1;const F=this.f?this.f.source:"",B=m.f?m.f.source:"";return F<B?-1:F>B?1:0}equals(m){if(m.type===this.type){const F=this.f?this.f.source:"",B=m.f?m.f.source:"";return this.d===m.d&&F===B}return!1}substituteConstants(){return this}evaluate(m){const F=m.getValue(this.d);return this.f?this.f.test(F):!1}serialize(){const m=this.f?`/${this.f.source}/${this.f.flags}`:"/invalid/";return`${this.d} =~ ${m}`}keys(){return[this.d]}map(m){return m.mapRegex(this.d,this.f)}negate(){return this.c||(this.c=n.create(this)),this.c}}e.ContextKeyRegexExpr=y;class n{static create(m){return new n(m)}constructor(m){this.c=m,this.type=8}cmp(m){return m.type!==this.type?this.type-m.type:this.c.cmp(m.c)}equals(m){return m.type===this.type?this.c.equals(m.c):!1}substituteConstants(){return this}evaluate(m){return!this.c.evaluate(m)}serialize(){throw new Error("Method not implemented.")}keys(){return this.c.keys()}map(m){return new n(this.c.map(m))}negate(){return this.c}}e.ContextKeyNotRegexExpr=n;function s(L){let m=null;for(let F=0,B=L.length;F<B;F++){const J=L[F].substituteConstants();if(L[F]!==J&&m===null){m=[];for(let me=0;me<F;me++)m[me]=L[me]}m!==null&&(m[F]=J)}return m===null?L:m}class f{static create(m,F,B){return f.d(m,F,B)}constructor(m,F){this.expr=m,this.c=F,this.type=6}cmp(m){if(m.type!==this.type)return this.type-m.type;if(this.expr.length<m.expr.length)return-1;if(this.expr.length>m.expr.length)return 1;for(let F=0,B=this.expr.length;F<B;F++){const J=b(this.expr[F],m.expr[F]);if(J!==0)return J}return 0}equals(m){if(m.type===this.type){if(this.expr.length!==m.expr.length)return!1;for(let F=0,B=this.expr.length;F<B;F++)if(!this.expr[F].equals(m.expr[F]))return!1;return!0}return!1}substituteConstants(){const m=s(this.expr);return m===this.expr?this:f.create(m,this.c,!1)}evaluate(m){for(let F=0,B=this.expr.length;F<B;F++)if(!this.expr[F].evaluate(m))return!1;return!0}static d(m,F,B){const J=[];let me=!1;for(const te of m)if(!!te){if(te.type===1){me=!0;continue}if(te.type===0)return g.INSTANCE;if(te.type===6){J.push(...te.expr);continue}J.push(te)}if(J.length===0&&me)return a.INSTANCE;if(J.length!==0){if(J.length===1)return J[0];J.sort(b);for(let te=1;te<J.length;te++)J[te-1].equals(J[te])&&(J.splice(te,1),te--);if(J.length===1)return J[0];for(;J.length>1;){const te=J[J.length-1];if(te.type!==9)break;J.pop();const oe=J.pop(),ce=J.length===0,we=A.create(te.expr.map(q=>f.create([q,oe],null,B)),null,ce);we&&(J.push(we),J.sort(b))}if(J.length===1)return J[0];if(B){for(let te=0;te<J.length;te++)for(let oe=te+1;oe<J.length;oe++)if(J[te].negate().equals(J[oe]))return g.INSTANCE;if(J.length===1)return J[0]}return new f(J,F)}}serialize(){return this.expr.map(m=>m.serialize()).join(" && ")}keys(){const m=[];for(const F of this.expr)m.push(...F.keys());return m}map(m){return new f(this.expr.map(F=>F.map(m)),null)}negate(){if(!this.c){const m=[];for(const F of this.expr)m.push(F.negate());this.c=A.create(m,this,!0)}return this.c}}class A{static create(m,F,B){return A.d(m,F,B)}constructor(m,F){this.expr=m,this.c=F,this.type=9}cmp(m){if(m.type!==this.type)return this.type-m.type;if(this.expr.length<m.expr.length)return-1;if(this.expr.length>m.expr.length)return 1;for(let F=0,B=this.expr.length;F<B;F++){const J=b(this.expr[F],m.expr[F]);if(J!==0)return J}return 0}equals(m){if(m.type===this.type){if(this.expr.length!==m.expr.length)return!1;for(let F=0,B=this.expr.length;F<B;F++)if(!this.expr[F].equals(m.expr[F]))return!1;return!0}return!1}substituteConstants(){const m=s(this.expr);return m===this.expr?this:A.create(m,this.c,!1)}evaluate(m){for(let F=0,B=this.expr.length;F<B;F++)if(this.expr[F].evaluate(m))return!0;return!1}static d(m,F,B){let J=[],me=!1;if(m){for(let te=0,oe=m.length;te<oe;te++){const ce=m[te];if(!!ce){if(ce.type===0){me=!0;continue}if(ce.type===1)return a.INSTANCE;if(ce.type===9){J=J.concat(ce.expr);continue}J.push(ce)}}if(J.length===0&&me)return g.INSTANCE;J.sort(b)}if(J.length!==0){if(J.length===1)return J[0];for(let te=1;te<J.length;te++)J[te-1].equals(J[te])&&(J.splice(te,1),te--);if(J.length===1)return J[0];if(B){for(let te=0;te<J.length;te++)for(let oe=te+1;oe<J.length;oe++)if(J[te].negate().equals(J[oe]))return a.INSTANCE;if(J.length===1)return J[0]}return new A(J,F)}}serialize(){return this.expr.map(m=>m.serialize()).join(" || ")}keys(){const m=[];for(const F of this.expr)m.push(...F.keys());return m}map(m){return new A(this.expr.map(F=>F.map(m)),null)}negate(){if(!this.c){const m=[];for(const F of this.expr)m.push(F.negate());for(;m.length>1;){const F=m.shift(),B=m.shift(),J=[];for(const me of j(F))for(const te of j(B))J.push(f.create([me,te],null,!1));m.unshift(A.create(J,null,!1))}this.c=A.create(m,this,!0)}return this.c}}class P extends o{static all(){return P.d.values()}constructor(m,F,B){super(m,null),this.f=F,typeof B=="object"?P.d.push({...B,key:m}):B!==!0&&P.d.push({key:m,description:B,type:F!=null?typeof F:void 0})}bindTo(m){return m.createKey(this.key,this.f)}getValue(m){return m.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(m){return l.create(this.key,m)}notEqualsTo(m){return O.create(this.key,m)}}P.d=[],e.RawContextKey=P,e.IContextKeyService=(0,N.createDecorator)("contextKeyService");function H(L,m){return L<m?-1:L>m?1:0}function Y(L,m,F,B){return L<F?-1:L>F?1:m<B?-1:m>B?1:0}function Z(L,m){if(L.type===0||m.type===1)return!0;if(L.type===9)return m.type===9?_(L.expr,m.expr):!1;if(m.type===9){for(const F of m.expr)if(Z(L,F))return!0;return!1}if(L.type===6){if(m.type===6)return _(m.expr,L.expr);for(const F of L.expr)if(Z(F,m))return!0;return!1}return L.equals(m)}e.implies=Z;function _(L,m){let F=0,B=0;for(;F<L.length&&B<m.length;){const J=L[F].cmp(m[B]);if(J<0)return!1;J===0&&F++,B++}return F===L.length}function j(L){return L.type===9?L.expr:[L]}}),define(ke[160],Te([1,0,3]),function(ne,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.INativeEnvironmentService=e.IEnvironmentService=void 0,e.IEnvironmentService=(0,i.createDecorator)("environmentService"),e.INativeEnvironmentService=(0,i.refineServiceDecorator)(e.IEnvironmentService)}),define(ke[90],Te([1,0,133,3]),function(ne,e,i,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PreferencesLocalizedLabel=e.ExtensionsLocalizedLabel=e.ExtensionsLabel=e.IExtensionTipsService=e.IGlobalExtensionEnablementService=e.ENABLED_EXTENSIONS_STORAGE_PATH=e.DISABLED_EXTENSIONS_STORAGE_PATH=e.IExtensionManagementService=e.ExtensionManagementError=e.ExtensionManagementErrorCode=e.IExtensionGalleryService=e.InstallOperation=e.StatisticType=e.SortOrder=e.SortBy=e.isIExtensionIdentifier=e.getFallbackTargetPlarforms=e.isTargetPlatformCompatible=e.isNotWebExtensionInWebTargetPlatform=e.getTargetPlatform=e.toTargetPlatform=e.TargetPlatformToString=e.EXTENSION_INSTALL_SYNC_CONTEXT=e.EXTENSION_INSTALL_SKIP_WALKTHROUGH_CONTEXT=e.WEB_EXTENSION_TAG=e.EXTENSION_IDENTIFIER_REGEX=e.EXTENSION_IDENTIFIER_PATTERN=void 0,e.EXTENSION_IDENTIFIER_PATTERN="^([a-z0-9A-Z][a-z0-9-A-Z]*)\\.([a-z0-9A-Z][a-z0-9-A-Z]*)$",e.EXTENSION_IDENTIFIER_REGEX=new RegExp(e.EXTENSION_IDENTIFIER_PATTERN),e.WEB_EXTENSION_TAG="__web_extension",e.EXTENSION_INSTALL_SKIP_WALKTHROUGH_CONTEXT="skipWalkthrough",e.EXTENSION_INSTALL_SYNC_CONTEXT="extensionsSync";function I(l){switch(l){case"win32-x64":return"Windows 64 bit";case"win32-ia32":return"Windows 32 bit";case"win32-arm64":return"Windows ARM";case"linux-x64":return"Linux 64 bit";case"linux-arm64":return"Linux ARM 64";case"linux-armhf":return"Linux ARM";case"alpine-x64":return"Alpine Linux 64 bit";case"alpine-arm64":return"Alpine ARM 64";case"darwin-x64":return"Mac";case"darwin-arm64":return"Mac Silicon";case"web":return"Web";case"universal":return"universal";case"unknown":return"unknown";case"undefined":return"undefined"}}e.TargetPlatformToString=I;function N(l){switch(l){case"win32-x64":return"win32-x64";case"win32-ia32":return"win32-ia32";case"win32-arm64":return"win32-arm64";case"linux-x64":return"linux-x64";case"linux-arm64":return"linux-arm64";case"linux-armhf":return"linux-armhf";case"alpine-x64":return"alpine-x64";case"alpine-arm64":return"alpine-arm64";case"darwin-x64":return"darwin-x64";case"darwin-arm64":return"darwin-arm64";case"web":return"web";case"universal":return"universal";default:return"unknown"}}e.toTargetPlatform=N;function E(l,p){switch(l){case 3:return p==="x64"?"win32-x64":p==="ia32"?"win32-ia32":p==="arm64"?"win32-arm64":"unknown";case 2:return p==="x64"?"linux-x64":p==="arm64"?"linux-arm64":p==="arm"?"linux-armhf":"unknown";case"alpine":return p==="x64"?"alpine-x64":p==="arm64"?"alpine-arm64":"unknown";case 1:return p==="x64"?"darwin-x64":p==="arm64"?"darwin-arm64":"unknown";case 0:return"web"}}e.getTargetPlatform=E;function R(l,p){return p==="web"&&!l.includes("web")}e.isNotWebExtensionInWebTargetPlatform=R;function S(l,p,w){return R(p,w)?!1:l==="undefined"||l==="universal"?!0:l==="unknown"?!1:l===w?!0:k(w).includes(l)}e.isTargetPlatformCompatible=S;function k(l){switch(l){case"win32-x64":return["win32-ia32"];case"win32-arm64":return["win32-ia32"]}return[]}e.getFallbackTargetPlarforms=k;function M(l){return l&&typeof l=="object"&&typeof l.id=="string"&&(!l.uuid||typeof l.uuid=="string")}e.isIExtensionIdentifier=M;var D;(function(l){l[l.NoneOrRelevance=0]="NoneOrRelevance",l[l.LastUpdatedDate=1]="LastUpdatedDate",l[l.Title=2]="Title",l[l.PublisherName=3]="PublisherName",l[l.InstallCount=4]="InstallCount",l[l.PublishedDate=10]="PublishedDate",l[l.AverageRating=6]="AverageRating",l[l.WeightedRating=12]="WeightedRating"})(D=e.SortBy||(e.SortBy={}));var h;(function(l){l[l.Default=0]="Default",l[l.Ascending=1]="Ascending",l[l.Descending=2]="Descending"})(h=e.SortOrder||(e.SortOrder={}));var b;(function(l){l.Install="install",l.Uninstall="uninstall"})(b=e.StatisticType||(e.StatisticType={}));var g;(function(l){l[l.None=1]="None",l[l.Install=2]="Install",l[l.Update=3]="Update",l[l.Migrate=4]="Migrate"})(g=e.InstallOperation||(e.InstallOperation={})),e.IExtensionGalleryService=(0,T.createDecorator)("extensionGalleryService");var a;(function(l){l.Unsupported="Unsupported",l.Deprecated="Deprecated",l.Malicious="Malicious",l.Incompatible="Incompatible",l.IncompatiblePreRelease="IncompatiblePreRelease",l.IncompatibleTargetPlatform="IncompatibleTargetPlatform",l.ReleaseVersionNotFound="ReleaseVersionNotFound",l.Invalid="Invalid",l.Download="Download",l.Extract="Extract",l.Delete="Delete",l.Rename="Rename",l.CorruptZip="CorruptZip",l.IncompleteZip="IncompleteZip",l.Internal="Internal",l.Signature="Signature"})(a=e.ExtensionManagementErrorCode||(e.ExtensionManagementErrorCode={}));class o extends Error{constructor(p,w){super(p),this.code=w,this.name=w}}e.ExtensionManagementError=o,e.IExtensionManagementService=(0,T.createDecorator)("extensionManagementService"),e.DISABLED_EXTENSIONS_STORAGE_PATH="extensionsIdentifiers/disabled",e.ENABLED_EXTENSIONS_STORAGE_PATH="extensionsIdentifiers/enabled",e.IGlobalExtensionEnablementService=(0,T.createDecorator)("IGlobalExtensionEnablementService"),e.IExtensionTipsService=(0,T.createDecorator)("IExtensionTipsService"),e.ExtensionsLabel=(0,i.localize)(0,null),e.ExtensionsLocalizedLabel={value:e.ExtensionsLabel,original:"Extensions"},e.PreferencesLocalizedLabel={value:(0,i.localize)(1,null),original:"Preferences"}}),define(ke[43],Te([1,0,48,19,10,9,2,135,3,20,15]),function(ne,e,i,T,I,N,E,R,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getLargeFileConfirmationLimit=e.getPlatformFileLimits=e.Arch=e.ByteSize=e.FALLBACK_MAX_MEMORY_SIZE_MB=e.MIN_MAX_MEMORY_SIZE_MB=e.whenProviderRegistered=e.etag=e.ETAG_DISABLED=e.FileKind=e.FILES_EXCLUDE_CONFIG=e.FILES_ASSOCIATIONS_CONFIG=e.HotExitConfiguration=e.AutoSaveConfiguration=e.FileOperationResult=e.NotModifiedSinceFileOperationError=e.TooLargeFileOperationError=e.FileOperationError=e.isParent=e.FileChangesEvent=e.FileChangeType=e.FileOperationEvent=e.FileOperation=e.toFileOperationResult=e.toFileSystemProviderErrorCode=e.markAsFileSystemProviderError=e.ensureFileSystemProviderError=e.createFileSystemProviderError=e.FileSystemProviderError=e.FileSystemProviderErrorCode=e.hasFileAtomicReadCapability=e.hasFileReadStreamCapability=e.hasOpenReadWriteCloseCapability=e.hasFileCloneCapability=e.hasFileFolderCopyCapability=e.hasReadWriteCapability=e.FileSystemProviderCapabilities=e.FilePermission=e.FileType=e.isFileOpenForWriteOptions=e.IFileService=void 0,e.IFileService=(0,S.createDecorator)("fileService");function D(te){return te.create===!0}e.isFileOpenForWriteOptions=D;var h;(function(te){te[te.Unknown=0]="Unknown",te[te.File=1]="File",te[te.Directory=2]="Directory",te[te.SymbolicLink=64]="SymbolicLink"})(h=e.FileType||(e.FileType={}));var b;(function(te){te[te.Readonly=1]="Readonly"})(b=e.FilePermission||(e.FilePermission={}));var g;(function(te){te[te.None=0]="None",te[te.FileReadWrite=2]="FileReadWrite",te[te.FileOpenReadWriteClose=4]="FileOpenReadWriteClose",te[te.FileReadStream=16]="FileReadStream",te[te.FileFolderCopy=8]="FileFolderCopy",te[te.PathCaseSensitive=1024]="PathCaseSensitive",te[te.Readonly=2048]="Readonly",te[te.Trash=4096]="Trash",te[te.FileWriteUnlock=8192]="FileWriteUnlock",te[te.FileAtomicRead=16384]="FileAtomicRead",te[te.FileClone=32768]="FileClone"})(g=e.FileSystemProviderCapabilities||(e.FileSystemProviderCapabilities={}));function a(te){return!!(te.capabilities&2)}e.hasReadWriteCapability=a;function o(te){return!!(te.capabilities&8)}e.hasFileFolderCopyCapability=o;function l(te){return!!(te.capabilities&32768)}e.hasFileCloneCapability=l;function p(te){return!!(te.capabilities&4)}e.hasOpenReadWriteCloseCapability=p;function w(te){return!!(te.capabilities&16)}e.hasFileReadStreamCapability=w;function O(te){return a(te)?!!(te.capabilities&16384):!1}e.hasFileAtomicReadCapability=O;var v;(function(te){te.FileExists="EntryExists",te.FileNotFound="EntryNotFound",te.FileNotADirectory="EntryNotADirectory",te.FileIsADirectory="EntryIsADirectory",te.FileExceedsMemoryLimit="EntryExceedsMemoryLimit",te.FileTooLarge="EntryTooLarge",te.FileWriteLocked="EntryWriteLocked",te.NoPermissions="NoPermissions",te.Unavailable="Unavailable",te.Unknown="Unknown"})(v=e.FileSystemProviderErrorCode||(e.FileSystemProviderErrorCode={}));class t extends Error{static create(oe,ce){const we=new t(oe.toString(),ce);return u(we,ce),we}constructor(oe,ce){super(oe),this.code=ce}}e.FileSystemProviderError=t;function d(te,oe){return t.create(te,oe)}e.createFileSystemProviderError=d;function r(te){return te||d((0,R.localize)(0,null),v.Unknown)}e.ensureFileSystemProviderError=r;function u(te,oe){return te.name=oe?`${oe} (FileSystemError)`:"FileSystemError",te}e.markAsFileSystemProviderError=u;function c(te){if(!te)return v.Unknown;if(te instanceof t)return te.code;const oe=/^(.+) \(FileSystemError\)$/.exec(te.name);if(!oe)return v.Unknown;switch(oe[1]){case v.FileExists:return v.FileExists;case v.FileIsADirectory:return v.FileIsADirectory;case v.FileNotADirectory:return v.FileNotADirectory;case v.FileNotFound:return v.FileNotFound;case v.FileExceedsMemoryLimit:return v.FileExceedsMemoryLimit;case v.FileTooLarge:return v.FileTooLarge;case v.FileWriteLocked:return v.FileWriteLocked;case v.NoPermissions:return v.NoPermissions;case v.Unavailable:return v.Unavailable}return v.Unknown}e.toFileSystemProviderErrorCode=c;function y(te){if(te instanceof H)return te.fileOperationResult;switch(c(te)){case v.FileNotFound:return 1;case v.FileIsADirectory:return 0;case v.FileNotADirectory:return 10;case v.FileWriteLocked:return 5;case v.NoPermissions:return 6;case v.FileExists:return 4;case v.FileExceedsMemoryLimit:return 9;case v.FileTooLarge:return 7;default:return 11}}e.toFileOperationResult=y;var n;(function(te){te[te.CREATE=0]="CREATE",te[te.DELETE=1]="DELETE",te[te.MOVE=2]="MOVE",te[te.COPY=3]="COPY",te[te.WRITE=4]="WRITE"})(n=e.FileOperation||(e.FileOperation={}));class s{constructor(oe,ce,we){this.resource=oe,this.operation=ce,this.target=we}isOperation(oe){return this.operation===oe}}e.FileOperationEvent=s;var f;(function(te){te[te.UPDATED=0]="UPDATED",te[te.ADDED=1]="ADDED",te[te.DELETED=2]="DELETED"})(f=e.FileChangeType||(e.FileChangeType={}));class A{constructor(oe,ce){this.a=void 0,this.b=void 0,this.c=void 0,this.rawAdded=[],this.rawUpdated=[],this.rawDeleted=[];const we=new Map;for(const q of oe){const K=we.get(q.type);switch(K?K.push([q.resource,q]):we.set(q.type,[[q.resource,q]]),q.type){case 1:this.rawAdded.push(q.resource);break;case 0:this.rawUpdated.push(q.resource);break;case 2:this.rawDeleted.push(q.resource);break}}for(const[q,K]of we)switch(q){case 1:this.a=i.TernarySearchTree.forUris(()=>ce),this.a.fill(K);break;case 0:this.b=i.TernarySearchTree.forUris(()=>ce),this.b.fill(K);break;case 2:this.c=i.TernarySearchTree.forUris(()=>ce),this.c.fill(K);break}}contains(oe,...ce){return this.d(oe,{includeChildren:!1},...ce)}affects(oe,...ce){return this.d(oe,{includeChildren:!0},...ce)}d(oe,ce,...we){if(!oe)return!1;const q=we.length>0;return!!((!q||we.includes(1))&&(this.a?.get(oe)||ce.includeChildren&&this.a?.findSuperstr(oe))||(!q||we.includes(0))&&(this.b?.get(oe)||ce.includeChildren&&this.b?.findSuperstr(oe))||(!q||we.includes(2))&&(this.c?.findSubstr(oe)||ce.includeChildren&&this.c?.findSuperstr(oe)))}gotAdded(){return!!this.a}gotDeleted(){return!!this.c}gotUpdated(){return!!this.b}}e.FileChangesEvent=A;function P(te,oe,ce){return!te||!oe||te===oe||oe.length>te.length?!1:(oe.charAt(oe.length-1)!==T.sep&&(oe+=T.sep),ce?(0,I.startsWithIgnoreCase)(te,oe):te.indexOf(oe)===0)}e.isParent=P;class H extends Error{constructor(oe,ce,we){super(oe),this.fileOperationResult=ce,this.options=we}}e.FileOperationError=H;class Y extends H{constructor(oe,ce,we,q){super(oe,ce,q),this.fileOperationResult=ce,this.size=we}}e.TooLargeFileOperationError=Y;class Z extends H{constructor(oe,ce,we){super(oe,2,we),this.stat=ce}}e.NotModifiedSinceFileOperationError=Z;var _;(function(te){te[te.FILE_IS_DIRECTORY=0]="FILE_IS_DIRECTORY",te[te.FILE_NOT_FOUND=1]="FILE_NOT_FOUND",te[te.FILE_NOT_MODIFIED_SINCE=2]="FILE_NOT_MODIFIED_SINCE",te[te.FILE_MODIFIED_SINCE=3]="FILE_MODIFIED_SINCE",te[te.FILE_MOVE_CONFLICT=4]="FILE_MOVE_CONFLICT",te[te.FILE_WRITE_LOCKED=5]="FILE_WRITE_LOCKED",te[te.FILE_PERMISSION_DENIED=6]="FILE_PERMISSION_DENIED",te[te.FILE_TOO_LARGE=7]="FILE_TOO_LARGE",te[te.FILE_INVALID_PATH=8]="FILE_INVALID_PATH",te[te.FILE_EXCEEDS_MEMORY_LIMIT=9]="FILE_EXCEEDS_MEMORY_LIMIT",te[te.FILE_NOT_DIRECTORY=10]="FILE_NOT_DIRECTORY",te[te.FILE_OTHER_ERROR=11]="FILE_OTHER_ERROR"})(_=e.FileOperationResult||(e.FileOperationResult={})),e.AutoSaveConfiguration={OFF:"off",AFTER_DELAY:"afterDelay",ON_FOCUS_CHANGE:"onFocusChange",ON_WINDOW_CHANGE:"onWindowChange"},e.HotExitConfiguration={OFF:"off",ON_EXIT:"onExit",ON_EXIT_AND_WINDOW_CLOSE:"onExitAndWindowClose"},e.FILES_ASSOCIATIONS_CONFIG="files.associations",e.FILES_EXCLUDE_CONFIG="files.exclude";var j;(function(te){te[te.FILE=0]="FILE",te[te.FOLDER=1]="FOLDER",te[te.ROOT_FOLDER=2]="ROOT_FOLDER"})(j=e.FileKind||(e.FileKind={})),e.ETAG_DISABLED="";function L(te){if(!(typeof te.size!="number"||typeof te.mtime!="number"))return te.mtime.toString(29)+te.size.toString(31)}e.etag=L;async function m(te,oe){if(!oe.hasProvider(E.URI.from({scheme:te.scheme})))return new Promise(ce=>{const we=oe.onDidChangeFileSystemProviderRegistrations(q=>{q.scheme===te.scheme&&q.added&&(we.dispose(),ce())})})}e.whenProviderRegistered=m,e.MIN_MAX_MEMORY_SIZE_MB=2048,e.FALLBACK_MAX_MEMORY_SIZE_MB=4096;class F{static formatSize(oe){return(0,N.isNumber)(oe)||(oe=0),oe<F.KB?(0,R.localize)(1,null,oe.toFixed(0)):oe<F.MB?(0,R.localize)(2,null,(oe/F.KB).toFixed(2)):oe<F.GB?(0,R.localize)(3,null,(oe/F.MB).toFixed(2)):oe<F.TB?(0,R.localize)(4,null,(oe/F.GB).toFixed(2)):(0,R.localize)(5,null,(oe/F.TB).toFixed(2))}}F.KB=1024,F.MB=F.KB*F.KB,F.GB=F.MB*F.KB,F.TB=F.GB*F.KB,e.ByteSize=F;var B;(function(te){te[te.IA32=0]="IA32",te[te.OTHER=1]="OTHER"})(B=e.Arch||(e.Arch={}));function J(te){return{maxFileSize:te===0?300*F.MB:16*F.GB,maxHeapSize:te===0?700*F.MB:2*700*F.MB}}e.getPlatformFileLimits=J;function me(te){const oe=typeof te=="string"||te?.scheme===M.Schemas.vscodeRemote;return typeof te!="string"&&te?.scheme===M.Schemas.file?1024*F.MB:oe?10*F.MB:k.isWeb?50*F.MB:1024*F.MB}e.getLargeFileConfirmationLimit=me}),define(ke[68],Te([1,0]),function(ne,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ServiceCollection=void 0;class i{constructor(...I){this.a=new Map;for(const[N,E]of I)this.set(N,E)}set(I,N){const E=this.a.get(I);return this.a.set(I,N),E}has(I){return this.a.has(I)}get(I){return this.a.get(I)}}e.ServiceCollection=i}),define(ke[161],Te([1,0,17,11,6,89,159,3,68,162]),function(ne,e,i,T,I,N,E,R,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Trace=e.InstantiationService=void 0;const M=!1;class D extends Error{constructor(o){super("cyclic dependency between services"),this.message=o.findCycleSlow()??`UNABLE to detect cycle, dumping graph: 
${o.toString()}`}}class h{constructor(o=new S.ServiceCollection,l=!1,p,w=M){this.f=o,this.g=l,this.h=p,this.i=w,this.o=new Set,this.f.set(R.IInstantiationService,this),this._globalGraph=w?p?._globalGraph??new E.Graph(O=>O):void 0}createChild(o){return new h(o,this.g,this,this.i)}invokeFunction(o,...l){const p=g.traceInvocation(this.i,o);let w=!1;try{return o({get:v=>{if(w)throw(0,T.illegalState)("service accessor is only valid during the invocation of its target method");const t=this.m(v,p);if(!t)throw new Error(`[invokeFunction] unknown service '${v}'`);return t}},...l)}finally{w=!0,p.stop()}}createInstance(o,...l){let p,w;return o instanceof N.SyncDescriptor?(p=g.traceCreation(this.i,o.ctor),w=this.j(o.ctor,o.staticArguments.concat(l),p)):(p=g.traceCreation(this.i,o),w=this.j(o,l,p)),p.stop(),w}j(o,l=[],p){const w=R._util.getServiceDependencies(o).sort((t,d)=>t.index-d.index),O=[];for(const t of w){const d=this.m(t.id,p);d||this.u(`[createInstance] ${o.name} depends on UNKNOWN service ${t.id}.`,!1),O.push(d)}const v=w.length>0?w[0].index:l.length;if(l.length!==v){console.trace(`[createInstance] First service dependency of ${o.name} at position ${v+1} conflicts with ${l.length} static arguments`);const t=v-l.length;t>0?l=l.concat(new Array(t)):l=l.slice(0,v)}return Reflect.construct(o,l.concat(O))}k(o,l){if(this.f.get(o)instanceof N.SyncDescriptor)this.f.set(o,l);else if(this.h)this.h.k(o,l);else throw new Error("illegalState - setting UNKNOWN service instance")}l(o){const l=this.f.get(o);return!l&&this.h?this.h.l(o):l}m(o,l){this._globalGraph&&this.c&&this._globalGraph.insertEdge(this.c,String(o));const p=this.l(o);return p instanceof N.SyncDescriptor?this.q(o,p,l.branch(o,!0)):(l.branch(o,!1),p)}q(o,l,p){if(this.o.has(o))throw new Error(`illegal state - RECURSIVELY instantiating service '${o}'`);this.o.add(o);try{return this.r(o,l,p)}finally{this.o.delete(o)}}r(o,l,p){const w=new E.Graph(t=>t.id.toString());let O=0;const v=[{id:o,desc:l,_trace:p}];for(;v.length;){const t=v.pop();if(w.lookupOrInsertNode(t),O++>1e3)throw new D(w);for(const d of R._util.getServiceDependencies(t.desc.ctor)){const r=this.l(d.id);if(r||this.u(`[createInstance] ${o} depends on ${d.id} which is NOT registered.`,!0),this._globalGraph?.insertEdge(String(t.id),String(d.id)),r instanceof N.SyncDescriptor){const u={id:d.id,desc:r,_trace:t._trace.branch(d.id,!0)};w.insertEdge(t,u),v.push(u)}}}for(;;){const t=w.roots();if(t.length===0){if(!w.isEmpty())throw new D(w);break}for(const{data:d}of t){if(this.l(d.id)instanceof N.SyncDescriptor){const u=this.s(d.id,d.desc.ctor,d.desc.staticArguments,d.desc.supportsDelayedInstantiation,d._trace);this.k(d.id,u)}w.removeNode(d)}}return this.l(o)}s(o,l,p=[],w,O){if(this.f.get(o)instanceof N.SyncDescriptor)return this.t(o,l,p,w,O);if(this.h)return this.h.s(o,l,p,w,O);throw new Error(`illegalState - creating UNKNOWN service instance ${l.name}`)}t(o,l,p=[],w,O){if(w){const v=new h(void 0,this.g,this,this.i);v.c=String(o);const t=new Map,d=new i.IdleValue(()=>{const r=v.j(l,p,O);for(const[u,c]of t){const y=r[u];if(typeof y=="function")for(const n of c)y.apply(r,n)}return t.clear(),r});return new Proxy(Object.create(null),{get(r,u){if(!d.isInitialized&&typeof u=="string"&&(u.startsWith("onDid")||u.startsWith("onWill"))){let n=t.get(u);return n||(n=new k.LinkedList,t.set(u,n)),(f,A,P)=>{const H=n.push([f,A,P]);return(0,I.toDisposable)(H)}}if(u in r)return r[u];const c=d.value;let y=c[u];return typeof y!="function"||(y=y.bind(c),r[u]=y),y},set(r,u,c){return d.value[u]=c,!0},getPrototypeOf(r){return l.prototype}})}else return this.j(l,p,O)}u(o,l){if(l&&console.warn(o),this.g)throw new Error(o)}}e.InstantiationService=h;var b;(function(a){a[a.None=0]="None",a[a.Creation=1]="Creation",a[a.Invocation=2]="Invocation",a[a.Branch=3]="Branch"})(b||(b={}));class g{static traceInvocation(o,l){return o?new g(2,l.name||new Error().stack.split(`
`).slice(3,4).join(`
`)):g.c}static traceCreation(o,l){return o?new g(1,l.name):g.c}constructor(o,l){this.type=o,this.name=l,this.g=Date.now(),this.h=[]}branch(o,l){const p=new g(3,o.toString());return this.h.push([o,l,p]),p}stop(){const o=Date.now()-this.g;g.f+=o;let l=!1;function p(O,v){const t=[],d=new Array(O+1).join("	");for(const[r,u,c]of v.h)if(u&&c){l=!0,t.push(`${d}CREATES -> ${r}`);const y=p(O+1,c);y&&t.push(y)}else t.push(`${d}uses -> ${r}`);return t.join(`
`)}const w=[`${this.type===1?"CREATE":"CALL"} ${this.name}`,`${p(1,this)}`,`DONE, took ${o.toFixed(2)}ms (grand total ${g.f.toFixed(2)}ms)`];(o>2||l)&&g.all.add(w.join(`
`))}}g.all=new Set,g.c=new class extends g{constructor(){super(0,null)}stop(){}branch(){return this}},g.f=0,e.Trace=g}),define(ke[12],Te([1,0,39,4,6,28,20,9,2,3]),function(ne,e,i,T,I,N,E,R,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseLogLevel=e.LogLevelToString=e.getLogLevel=e.NullLoggerService=e.NullLogService=e.NullLogger=e.AbstractLoggerService=e.MultiplexLogger=e.AdapterLogger=e.ConsoleLogger=e.ConsoleMainLogger=e.AbstractMessageLogger=e.AbstractLogger=e.format=e.log=e.DEFAULT_LOG_LEVEL=e.LogLevel=e.isLogLevel=e.ILoggerService=e.ILogService=void 0,e.ILogService=(0,k.createDecorator)("logService"),e.ILoggerService=(0,k.createDecorator)("loggerService");function M(){return new Date().toISOString()}function D(n){return(0,R.isNumber)(n)}e.isLogLevel=D;var h;(function(n){n[n.Off=0]="Off",n[n.Trace=1]="Trace",n[n.Debug=2]="Debug",n[n.Info=3]="Info",n[n.Warning=4]="Warning",n[n.Error=5]="Error"})(h=e.LogLevel||(e.LogLevel={})),e.DEFAULT_LOG_LEVEL=h.Info;function b(n,s,f){switch(s){case h.Trace:n.trace(f);break;case h.Debug:n.debug(f);break;case h.Info:n.info(f);break;case h.Warning:n.warn(f);break;case h.Error:n.error(f);break;case h.Off:break;default:throw new Error(`Invalid log level ${s}`)}}e.log=b;function g(n){let s="";for(let f=0;f<n.length;f++){let A=n[f];if(typeof A=="object")try{A=JSON.stringify(A)}catch{}s+=(f>0?" ":"")+A}return s}e.format=g;class a extends I.Disposable{constructor(){super(...arguments),this.b=e.DEFAULT_LOG_LEVEL,this.c=this.B(new T.Emitter),this.onDidChangeLogLevel=this.c.event}setLevel(s){this.b!==s&&(this.b=s,this.c.fire(this.b))}getLevel(){return this.b}f(s){return this.b!==h.Off&&this.b<=s}}e.AbstractLogger=a;class o extends a{constructor(s){super(),this.h=s}f(s){return this.h||super.f(s)}trace(s,...f){this.f(h.Trace)&&this.g(h.Trace,g([s,...f]))}debug(s,...f){this.f(h.Debug)&&this.g(h.Debug,g([s,...f]))}info(s,...f){this.f(h.Info)&&this.g(h.Info,g([s,...f]))}warn(s,...f){this.f(h.Warning)&&this.g(h.Warning,g([s,...f]))}error(s,...f){if(this.f(h.Error))if(s instanceof Error){const A=Array.prototype.slice.call(arguments);A[0]=s.stack,this.g(h.Error,g(A))}else this.g(h.Error,g([s,...f]))}flush(){}}e.AbstractMessageLogger=o;class l extends a{constructor(s=e.DEFAULT_LOG_LEVEL){super(),this.setLevel(s),this.g=!E.isWindows}trace(s,...f){this.f(h.Trace)&&(this.g?console.log(`\x1B[90m[main ${M()}]\x1B[0m`,s,...f):console.log(`[main ${M()}]`,s,...f))}debug(s,...f){this.f(h.Debug)&&(this.g?console.log(`\x1B[90m[main ${M()}]\x1B[0m`,s,...f):console.log(`[main ${M()}]`,s,...f))}info(s,...f){this.f(h.Info)&&(this.g?console.log(`\x1B[90m[main ${M()}]\x1B[0m`,s,...f):console.log(`[main ${M()}]`,s,...f))}warn(s,...f){this.f(h.Warning)&&(this.g?console.warn(`\x1B[93m[main ${M()}]\x1B[0m`,s,...f):console.warn(`[main ${M()}]`,s,...f))}error(s,...f){this.f(h.Error)&&(this.g?console.error(`\x1B[91m[main ${M()}]\x1B[0m`,s,...f):console.error(`[main ${M()}]`,s,...f))}dispose(){}flush(){}}e.ConsoleMainLogger=l;class p extends a{constructor(s=e.DEFAULT_LOG_LEVEL){super(),this.setLevel(s)}trace(s,...f){this.f(h.Trace)&&console.log("%cTRACE","color: #888",s,...f)}debug(s,...f){this.f(h.Debug)&&console.log("%cDEBUG","background: #eee; color: #888",s,...f)}info(s,...f){this.f(h.Info)&&console.log("%c INFO","color: #33f",s,...f)}warn(s,...f){this.f(h.Warning)&&console.log("%c WARN","color: #993",s,...f)}error(s,...f){this.f(h.Error)&&console.log("%c  ERR","color: #f33",s,...f)}dispose(){}flush(){}}e.ConsoleLogger=p;class w extends a{constructor(s,f=e.DEFAULT_LOG_LEVEL){super(),this.g=s,this.setLevel(f)}trace(s,...f){this.f(h.Trace)&&this.g.log(h.Trace,[this.h(s),...f])}debug(s,...f){this.f(h.Debug)&&this.g.log(h.Debug,[this.h(s),...f])}info(s,...f){this.f(h.Info)&&this.g.log(h.Info,[this.h(s),...f])}warn(s,...f){this.f(h.Warning)&&this.g.log(h.Warning,[this.h(s),...f])}error(s,...f){this.f(h.Error)&&this.g.log(h.Error,[this.h(s),...f])}h(s){return typeof s=="string"?s:(0,i.toErrorMessage)(s,this.f(h.Trace))}dispose(){}flush(){}}e.AdapterLogger=w;class O extends a{constructor(s){super(),this.g=s,s.length&&this.setLevel(s[0].getLevel())}setLevel(s){for(const f of this.g)f.setLevel(s);super.setLevel(s)}trace(s,...f){for(const A of this.g)A.trace(s,...f)}debug(s,...f){for(const A of this.g)A.debug(s,...f)}info(s,...f){for(const A of this.g)A.info(s,...f)}warn(s,...f){for(const A of this.g)A.warn(s,...f)}error(s,...f){for(const A of this.g)A.error(s,...f)}flush(){for(const s of this.g)s.flush()}dispose(){for(const s of this.g)s.dispose()}}e.MultiplexLogger=O;class v extends I.Disposable{constructor(s,f){if(super(),this.j=s,this.b=new N.ResourceMap,this.c=new N.ResourceMap,this.f=this.B(new T.Emitter),this.onDidChangeLoggers=this.f.event,this.g=this.B(new T.Emitter),this.onDidChangeLogLevel=this.g.event,this.h=this.B(new T.Emitter),this.onDidChangeVisibility=this.h.event,f)for(const A of f)this.c.set(A.resource,A)}getLogger(s){return this.b.get(s)}createLogger(s,f){let A=this.b.get(s);const P=f?.logLevel==="always"?h.Trace:f?.logLevel;return A||(A=this.k(s,P??this.getLogLevel(s)??this.j,f),this.b.set(s,A)),this.registerLogger({resource:s,id:f?.id??s.toString(),logLevel:P,name:f?.name,hidden:f?.hidden,extensionId:f?.extensionId}),A}setLogLevel(s,f){if(S.URI.isUri(s)){const A=s,P=f,H=this.c.get(A);H&&P!==H.logLevel&&(H.logLevel=P===this.j?void 0:P,this.b.get(A)?.setLevel(P),this.c.set(H.resource,H),this.g.fire([A,P]))}else{this.j=s;for(const[A,P]of this.b.entries())this.c.get(A)?.logLevel===void 0&&P.setLevel(this.j);this.g.fire(this.j)}}setVisibility(s,f){const A=this.c.get(s);A&&f!==!A.hidden&&(A.hidden=!f,this.c.set(A.resource,A),this.h.fire([s,f]))}getLogLevel(s){let f;return s&&(f=this.c.get(s)?.logLevel),f??this.j}registerLogger(s){const f=this.c.get(s.resource);f?f.hidden!==s.hidden&&this.setVisibility(s.resource,!s.hidden):(this.c.set(s.resource,s),this.f.fire({added:[s],removed:[]}))}deregisterLogger(s){const f=this.c.get(s);if(f){this.c.delete(s);const A=this.b.get(s);A&&(this.b.delete(s),A.dispose()),this.f.fire({added:[],removed:[f]})}}getRegisteredLoggers(){return this.c.values()}getRegisteredLogger(s){return this.c.get(s)}dispose(){this.b.forEach(s=>s.dispose()),this.b.clear(),this.c.clear(),super.dispose()}}e.AbstractLoggerService=v;class t{constructor(){this.onDidChangeLogLevel=new T.Emitter().event}setLevel(s){}getLevel(){return h.Info}trace(s,...f){}debug(s,...f){}info(s,...f){}warn(s,...f){}error(s,...f){}critical(s,...f){}dispose(){}flush(){}}e.NullLogger=t;class d extends t{}e.NullLogService=d;class r extends v{constructor(){super(h.Info)}k(s,f,A){return new t}}e.NullLoggerService=r;function u(n){if(n.verbose)return h.Trace;if(typeof n.logLevel=="string"){const s=y(n.logLevel.toLowerCase());if(s!==void 0)return s}return e.DEFAULT_LOG_LEVEL}e.getLogLevel=u;function c(n){switch(n){case h.Trace:return"trace";case h.Debug:return"debug";case h.Info:return"info";case h.Warning:return"warn";case h.Error:return"error";case h.Off:return"off"}}e.LogLevelToString=c;function y(n){switch(n){case"trace":return h.Trace;case"debug":return h.Debug;case"info":return h.Info;case"warn":return h.Warning;case"error":return h.Error;case"critical":return h.Error;case"off":return h.Off}}e.parseLogLevel=y}),define(ke[163],Te([1,0,6,12]),function(ne,e,i,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LogService=void 0;class I extends i.Disposable{constructor(E,R=[]){super(),this.a=new T.MultiplexLogger([E,...R]),this.B(E.onDidChangeLogLevel(S=>this.setLevel(S)))}get onDidChangeLogLevel(){return this.a.onDidChangeLogLevel}setLevel(E){this.a.setLevel(E)}getLevel(){return this.a.getLevel()}trace(E,...R){this.a.trace(E,...R)}debug(E,...R){this.a.debug(E,...R)}info(E,...R){this.a.info(E,...R)}warn(E,...R){this.a.warn(E,...R)}error(E,...R){this.a.error(E,...R)}flush(){this.a.flush()}}e.LogService=I}),define(ke[91],Te([1,0,29,136,3]),function(ne,e,i,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerService=e.IMarkerData=e.MarkerSeverity=e.MarkerTag=void 0;var N;(function(S){S[S.Unnecessary=1]="Unnecessary",S[S.Deprecated=2]="Deprecated"})(N=e.MarkerTag||(e.MarkerTag={}));var E;(function(S){S[S.Hint=1]="Hint",S[S.Info=2]="Info",S[S.Warning=4]="Warning",S[S.Error=8]="Error"})(E=e.MarkerSeverity||(e.MarkerSeverity={})),function(S){function k(g,a){return a-g}S.compare=k;const M=Object.create(null);M[S.Error]=(0,T.localize)(0,null),M[S.Warning]=(0,T.localize)(1,null),M[S.Info]=(0,T.localize)(2,null);function D(g){return M[g]||""}S.toString=D;function h(g){switch(g){case i.default.Error:return S.Error;case i.default.Warning:return S.Warning;case i.default.Info:return S.Info;case i.default.Ignore:return S.Hint}}S.fromSeverity=h;function b(g){switch(g){case S.Error:return i.default.Error;case S.Warning:return i.default.Warning;case S.Info:return i.default.Info;case S.Hint:return i.default.Ignore}}S.toSeverity=b}(E=e.MarkerSeverity||(e.MarkerSeverity={}));var R;(function(S){const k="";function M(h){return D(h,!0)}S.makeKey=M;function D(h,b){const g=[k];return h.source?g.push(h.source.replace("\xA6","\\\xA6")):g.push(k),h.code?typeof h.code=="string"?g.push(h.code.replace("\xA6","\\\xA6")):g.push(h.code.value.replace("\xA6","\\\xA6")):g.push(k),h.severity!==void 0&&h.severity!==null?g.push(E.toString(h.severity)):g.push(k),h.message&&b?g.push(h.message.replace("\xA6","\\\xA6")):g.push(k),h.startLineNumber!==void 0&&h.startLineNumber!==null?g.push(h.startLineNumber.toString()):g.push(k),h.startColumn!==void 0&&h.startColumn!==null?g.push(h.startColumn.toString()):g.push(k),h.endLineNumber!==void 0&&h.endLineNumber!==null?g.push(h.endLineNumber.toString()):g.push(k),h.endColumn!==void 0&&h.endColumn!==null?g.push(h.endColumn.toString()):g.push(k),g.push(k),g.join("\xA6")}S.makeKeyOptionalMessage=D})(R=e.IMarkerData||(e.IMarkerData={})),e.IMarkerService=(0,I.createDecorator)("markerService")}),define(ke[164],Te([1,0,4,29,3]),function(ne,e,i,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoOpProgress=e.NoOpNotification=e.NotificationsFilter=e.NeverShowAgainScope=e.INotificationService=e.Severity=void 0,e.Severity=T.default,e.INotificationService=(0,I.createDecorator)("notificationService");var N;(function(k){k[k.WORKSPACE=0]="WORKSPACE",k[k.PROFILE=1]="PROFILE",k[k.APPLICATION=2]="APPLICATION"})(N=e.NeverShowAgainScope||(e.NeverShowAgainScope={}));var E;(function(k){k[k.OFF=0]="OFF",k[k.SILENT=1]="SILENT",k[k.ERROR=2]="ERROR"})(E=e.NotificationsFilter||(e.NotificationsFilter={}));class R{constructor(){this.progress=new S,this.onDidClose=i.Event.None,this.onDidChangeVisibility=i.Event.None}updateSeverity(M){}updateMessage(M){}updateActions(M){}close(){}}e.NoOpNotification=R;class S{infinite(){}done(){}total(M){}worked(M){}}e.NoOpProgress=S}),define(ke[92],Te([1,0,10,2,3]),function(ne,e,i,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.extractSelection=e.withSelection=e.matchesSomeScheme=e.matchesScheme=e.IOpenerService=void 0,e.IOpenerService=(0,I.createDecorator)("openerService");function N(k,M){return T.URI.isUri(k)?(0,i.equalsIgnoreCase)(k.scheme,M):(0,i.startsWithIgnoreCase)(k,M+":")}e.matchesScheme=N;function E(k,...M){return M.some(D=>N(k,D))}e.matchesSomeScheme=E;function R(k,M){return k.with({fragment:`${M.startLineNumber},${M.startColumn}${M.endLineNumber?`-${M.endLineNumber}${M.endColumn?`,${M.endColumn}`:""}`:""}`})}e.withSelection=R;function S(k){let M;const D=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(k.fragment);return D&&(M={startLineNumber:parseInt(D[1]),startColumn:D[2]?parseInt(D[2]):1,endLineNumber:D[4]?parseInt(D[4]):void 0,endColumn:D[4]?D[5]?parseInt(D[5]):1:void 0},k=k.with({fragment:""})),{selection:M,uri:k}}e.extractSelection=S}),define(ke[165],Te([1,0,3]),function(ne,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.productSchemaId=e.IProductService=void 0,e.IProductService=(0,i.createDecorator)("productService"),e.productSchemaId="vscode://schemas/vscode-product"});var qe=this&&this.__decorate||function(ne,e,i,T){var I=arguments.length,N=I<3?e:T===null?T=Object.getOwnPropertyDescriptor(e,i):T,E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(ne,e,i,T);else for(var R=ne.length-1;R>=0;R--)(E=ne[R])&&(N=(I<3?E(N):I>3?E(e,i,N):E(e,i))||N);return I>3&&N&&Object.defineProperty(e,i,N),N},Ve=this&&this.__param||function(ne,e){return function(i,T){e(i,T,ne)}};define(ke[166],Te([1,0,17,21,6,3]),function(ne,e,i,T,I,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorProgressService=e.LongRunningOperation=e.UnmanagedProgress=e.Progress=e.emptyProgressRunner=e.ProgressLocation=e.IProgressService=void 0,e.IProgressService=(0,N.createDecorator)("progressService");var E;(function(M){M[M.Explorer=1]="Explorer",M[M.Scm=3]="Scm",M[M.Extensions=5]="Extensions",M[M.Window=10]="Window",M[M.Notification=15]="Notification",M[M.Dialog=20]="Dialog"})(E=e.ProgressLocation||(e.ProgressLocation={})),e.emptyProgressRunner=Object.freeze({total(){},worked(){},done(){}});class R{get value(){return this.a}constructor(D){this.b=D}report(D){this.a=D,this.b(this.a)}}R.None=Object.freeze({report(){}}),e.Progress=R;let S=class extends I.Disposable{constructor(D,h){super(),this.a=new i.DeferredPromise,h.withProgress(D,b=>(this.b=b,this.c&&b.report(this.c),this.a.p)),this.B((0,I.toDisposable)(()=>this.a.complete()))}report(D){this.b?this.b.report(D):this.c=D}};S=qe([Ve(1,e.IProgressService)],S),e.UnmanagedProgress=S;class k extends I.Disposable{constructor(D){super(),this.g=D,this.a=0,this.b=this.B(new I.DisposableStore)}start(D){this.stop();const h=++this.a,b=new T.CancellationTokenSource;return this.f=setTimeout(()=>{h===this.a&&(this.c=this.g.show(!0))},D),this.b.add((0,I.toDisposable)(()=>clearTimeout(this.f))),this.b.add((0,I.toDisposable)(()=>b.cancel())),this.b.add((0,I.toDisposable)(()=>this.c?this.c.done():void 0)),{id:h,token:b.token,stop:()=>this.h(h),isCurrent:()=>this.a===h}}stop(){this.h(this.a)}h(D){this.a===D&&this.b.clear()}}e.LongRunningOperation=k,e.IEditorProgressService=(0,N.createDecorator)("editorProgressService")}),define(ke[30],Te([1,0,49,9]),function(ne,e,i,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Registry=void 0;class I{constructor(){this.a=new Map}add(E,R){i.ok(T.isString(E)),i.ok(T.isObject(R)),i.ok(!this.a.has(E),"There is already an extension with this id"),this.a.set(E,R)}knows(E){return this.a.has(E)}as(E){return this.a.get(E)||null}}e.Registry=new I}),define(ke[69],Te([1,0,4,30]),function(ne,e,i,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=void 0,e.Extensions={JSONContribution:"base.contributions.json"};function I(R){return R.length>0&&R.charAt(R.length-1)==="#"?R.substring(0,R.length-1):R}class N{constructor(){this.b=new i.Emitter,this.onDidChangeSchema=this.b.event,this.a={}}registerSchema(S,k){this.a[I(S)]=k,this.b.fire(S)}notifySchemaChanged(S){this.b.fire(S)}getSchemaContributions(){return{schemas:this.a}}}const E=new N;T.Registry.add(e.Extensions.JSONContribution,E)}),define(ke[93],Te([1,0,16,4,9,132,41,69,30]),function(ne,e,i,T,I,N,E,R,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getScopes=e.validateProperty=e.getDefaultValue=e.keyFromOverrideIdentifiers=e.overrideIdentifiersFromKey=e.OVERRIDE_PROPERTY_REGEX=e.OVERRIDE_PROPERTY_PATTERN=e.configurationDefaultsSchemaId=e.resourceLanguageSettingsSchemaId=e.resourceSettings=e.windowSettings=e.machineOverridableSettings=e.machineSettings=e.applicationSettings=e.allSettings=e.ConfigurationScope=e.Extensions=e.EditPresentationTypes=void 0;var k;(function(v){v.Multiline="multilineText",v.Singleline="singlelineText"})(k=e.EditPresentationTypes||(e.EditPresentationTypes={})),e.Extensions={Configuration:"base.contributions.configuration"};var M;(function(v){v[v.APPLICATION=1]="APPLICATION",v[v.MACHINE=2]="MACHINE",v[v.WINDOW=3]="WINDOW",v[v.RESOURCE=4]="RESOURCE",v[v.LANGUAGE_OVERRIDABLE=5]="LANGUAGE_OVERRIDABLE",v[v.MACHINE_OVERRIDABLE=6]="MACHINE_OVERRIDABLE"})(M=e.ConfigurationScope||(e.ConfigurationScope={})),e.allSettings={properties:{},patternProperties:{}},e.applicationSettings={properties:{},patternProperties:{}},e.machineSettings={properties:{},patternProperties:{}},e.machineOverridableSettings={properties:{},patternProperties:{}},e.windowSettings={properties:{},patternProperties:{}},e.resourceSettings={properties:{},patternProperties:{}},e.resourceLanguageSettingsSchemaId="vscode://schemas/settings/resourceLanguage",e.configurationDefaultsSchemaId="vscode://schemas/settings/configurationDefaults";const D=S.Registry.as(R.Extensions.JSONContribution);class h{constructor(){this.h=new Set,this.i=new T.Emitter,this.onDidSchemaChange=this.i.event,this.j=new T.Emitter,this.onDidUpdateConfiguration=this.j.event,this.a=new Map,this.b={id:"defaultOverrides",title:N.localize(0,null),properties:{}},this.c=[this.b],this.g={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.d={},this.e=new Map,this.f={},D.registerSchema(e.resourceLanguageSettingsSchemaId,this.g),this.v()}registerConfiguration(t,d=!0){this.registerConfigurations([t],d)}registerConfigurations(t,d=!0){const r=new Set;this.n(t,d,r),D.registerSchema(e.resourceLanguageSettingsSchemaId,this.g),this.i.fire(),this.j.fire({properties:r})}deregisterConfigurations(t){const d=new Set;this.o(t,d),D.registerSchema(e.resourceLanguageSettingsSchemaId,this.g),this.i.fire(),this.j.fire({properties:d})}updateConfigurations({add:t,remove:d}){const r=new Set;this.o(d,r),this.n(t,!1,r),D.registerSchema(e.resourceLanguageSettingsSchemaId,this.g),this.i.fire(),this.j.fire({properties:r})}registerDefaultConfigurations(t){const d=new Set;this.k(t,d),this.i.fire(),this.j.fire({properties:d,defaultsOverrides:!0})}k(t,d){const r=[];for(const{overrides:u,source:c}of t)for(const y in u)if(d.add(y),e.OVERRIDE_PROPERTY_REGEX.test(y)){const n=this.a.get(y),s=n?.valuesSources??new Map;if(c)for(const H of Object.keys(u[y]))s.set(H,c);const f={...n?.value||{},...u[y]};this.a.set(y,{source:c,value:f,valuesSources:s});const A=(0,E.getLanguageTagSettingPlainKey)(y),P={type:"object",default:f,description:N.localize(1,null,A),$ref:e.resourceLanguageSettingsSchemaId,defaultDefaultValue:f,source:I.isString(c)?void 0:c,defaultValueSource:c};r.push(...a(y)),this.d[y]=P,this.b.properties[y]=P}else{this.a.set(y,{value:u[y],source:c});const n=this.d[y];n&&(this.w(y,n),this.r(y,n))}this.m(r)}deregisterDefaultConfigurations(t){const d=new Set;this.l(t,d),this.i.fire(),this.j.fire({properties:d,defaultsOverrides:!0})}l(t,d){for(const{overrides:r,source:u}of t)for(const c in r){const y=this.a.get(c),n=I.isString(u)?u:u?.id,s=I.isString(y?.source)?y?.source:y?.source?.id;if(n===s)if(d.add(c),this.a.delete(c),e.OVERRIDE_PROPERTY_REGEX.test(c))delete this.d[c],delete this.b.properties[c];else{const f=this.d[c];f&&(this.w(c,f),this.r(c,f))}}this.u()}deltaConfiguration(t){let d=!1;const r=new Set;t.removedDefaults&&(this.l(t.removedDefaults,r),d=!0),t.addedDefaults&&(this.k(t.addedDefaults,r),d=!0),t.removedConfigurations&&this.o(t.removedConfigurations,r),t.addedConfigurations&&this.n(t.addedConfigurations,!1,r),this.i.fire(),this.j.fire({properties:r,defaultsOverrides:d})}notifyConfigurationSchemaUpdated(...t){this.i.fire()}registerOverrideIdentifiers(t){this.m(t),this.i.fire()}m(t){for(const d of t)this.h.add(d);this.u()}n(t,d,r){t.forEach(u=>{this.p(u,d,u.extensionInfo,u.restrictedProperties,void 0,r),this.c.push(u),this.q(u)})}o(t,d){const r=u=>{if(u.properties)for(const c in u.properties){d.add(c);const y=this.d[c];y?.policy?.name&&this.e.delete(y.policy.name),delete this.d[c],this.s(c,u.properties[c])}u.allOf?.forEach(c=>r(c))};for(const u of t){r(u);const c=this.c.indexOf(u);c!==-1&&this.c.splice(c,1)}}p(t,d=!0,r,u,c=3,y){c=I.isUndefinedOrNull(t.scope)?c:t.scope;const n=t.properties;if(n)for(const f in n){const A=n[f];if(d&&w(f,A)){delete n[f];continue}if(A.source=r,A.defaultDefaultValue=n[f].default,this.w(f,A),e.OVERRIDE_PROPERTY_REGEX.test(f)?A.scope=void 0:(A.scope=I.isUndefinedOrNull(A.scope)?c:A.scope,A.restricted=I.isUndefinedOrNull(A.restricted)?!!u?.includes(f):A.restricted),n[f].hasOwnProperty("included")&&!n[f].included){this.f[f]=n[f],delete n[f];continue}else this.d[f]=n[f],n[f].policy?.name&&this.e.set(n[f].policy.name,f);!n[f].deprecationMessage&&n[f].markdownDeprecationMessage&&(n[f].deprecationMessage=n[f].markdownDeprecationMessage),y.add(f)}const s=t.allOf;if(s)for(const f of s)this.p(f,d,r,u,c,y)}getConfigurations(){return this.c}getConfigurationProperties(){return this.d}getPolicyConfigurations(){return this.e}getExcludedConfigurationProperties(){return this.f}getConfigurationDefaultsOverrides(){return this.a}q(t){const d=r=>{const u=r.properties;if(u)for(const y in u)this.r(y,u[y]);r.allOf?.forEach(d)};d(t)}r(t,d){switch(e.allSettings.properties[t]=d,d.scope){case 1:e.applicationSettings.properties[t]=d;break;case 2:e.machineSettings.properties[t]=d;break;case 6:e.machineOverridableSettings.properties[t]=d;break;case 3:e.windowSettings.properties[t]=d;break;case 4:e.resourceSettings.properties[t]=d;break;case 5:e.resourceSettings.properties[t]=d,this.g.properties[t]=d;break}}s(t,d){switch(delete e.allSettings.properties[t],d.scope){case 1:delete e.applicationSettings.properties[t];break;case 2:delete e.machineSettings.properties[t];break;case 6:delete e.machineOverridableSettings.properties[t];break;case 3:delete e.windowSettings.properties[t];break;case 4:case 5:delete e.resourceSettings.properties[t],delete this.g.properties[t];break}}u(){for(const t of this.h.values()){const d=`[${t}]`,r={type:"object",description:N.localize(2,null),errorMessage:N.localize(3,null),$ref:e.resourceLanguageSettingsSchemaId};this.w(d,r),e.allSettings.properties[d]=r,e.applicationSettings.properties[d]=r,e.machineSettings.properties[d]=r,e.machineOverridableSettings.properties[d]=r,e.windowSettings.properties[d]=r,e.resourceSettings.properties[d]=r}}v(){const t={type:"object",description:N.localize(4,null),errorMessage:N.localize(5,null),$ref:e.resourceLanguageSettingsSchemaId};e.allSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=t,e.applicationSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=t,e.machineSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=t,e.machineOverridableSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=t,e.windowSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=t,e.resourceSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=t,this.i.fire()}w(t,d){const r=this.a.get(t);let u=r?.value,c=r?.source;I.isUndefined(u)&&(u=d.defaultDefaultValue,c=void 0),I.isUndefined(u)&&(u=l(d.type)),d.default=u,d.defaultValueSource=c}}const b="\\[([^\\]]+)\\]",g=new RegExp(b,"g");e.OVERRIDE_PROPERTY_PATTERN=`^(${b})+$`,e.OVERRIDE_PROPERTY_REGEX=new RegExp(e.OVERRIDE_PROPERTY_PATTERN);function a(v){const t=[];if(e.OVERRIDE_PROPERTY_REGEX.test(v)){let d=g.exec(v);for(;d?.length;){const r=d[1].trim();r&&t.push(r),d=g.exec(v)}}return(0,i.distinct)(t)}e.overrideIdentifiersFromKey=a;function o(v){return v.reduce((t,d)=>`${t}[${d}]`,"")}e.keyFromOverrideIdentifiers=o;function l(v){switch(Array.isArray(v)?v[0]:v){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}e.getDefaultValue=l;const p=new h;S.Registry.add(e.Extensions.Configuration,p);function w(v,t){return v.trim()?e.OVERRIDE_PROPERTY_REGEX.test(v)?N.localize(7,null,v):p.getConfigurationProperties()[v]!==void 0?N.localize(8,null,v):t.policy?.name&&p.getPolicyConfigurations().get(t.policy?.name)!==void 0?N.localize(9,null,v,t.policy?.name,p.getPolicyConfigurations().get(t.policy?.name)):null:N.localize(6,null)}e.validateProperty=w;function O(){const v=[],t=p.getConfigurationProperties();for(const d of Object.keys(t))v.push([d,t[d].scope]);return v.push(["launch",4]),v.push(["task",4]),v}e.getScopes=O}),define(ke[167],Te([1,0,16,4,111,6,28,22,9,2,41,93,30]),function(ne,e,i,T,I,N,E,R,S,k,M,D,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigurationChangeEvent=e.mergeChanges=e.Configuration=e.UserSettings=e.ConfigurationModelParser=e.ConfigurationModel=void 0;function b(d){return Object.isFrozen(d)?d:R.deepFreeze(d)}class g{constructor(r={},u=[],c=[],y){this.b=r,this.c=u,this.d=c,this.raw=y,this.a=new Map}get rawConfiguration(){if(!this.f)if(this.raw?.length){const r=this.raw.map(u=>{if(u instanceof g)return u;const c=new a("");return c.parseRaw(u),c.configurationModel});this.f=r.reduce((u,c)=>c===u?c:u.merge(c),r[0])}else this.f=this;return this.f}get contents(){return this.b}get overrides(){return this.d}get keys(){return this.c}isEmpty(){return this.c.length===0&&Object.keys(this.b).length===0&&this.d.length===0}getValue(r){return r?(0,M.getConfigurationValue)(this.contents,r):this.contents}inspect(r,u){const c=this.rawConfiguration.getValue(r),y=u?this.rawConfiguration.getOverrideValue(r,u):void 0,n=u?this.rawConfiguration.override(u).getValue(r):c;return{value:c,override:y,merged:n}}getOverrideValue(r,u){const c=this.i(u);return c?r?(0,M.getConfigurationValue)(c,r):c:void 0}getKeysForOverrideIdentifier(r){const u=[];for(const c of this.overrides)c.identifiers.includes(r)&&u.push(...c.keys);return i.distinct(u)}getAllOverrideIdentifiers(){const r=[];for(const u of this.overrides)r.push(...u.identifiers);return i.distinct(r)}override(r){let u=this.a.get(r);return u||(u=this.g(r),this.a.set(r,u)),u}merge(...r){const u=R.deepClone(this.contents),c=R.deepClone(this.overrides),y=[...this.keys],n=this.raw?.length?[...this.raw]:[this];for(const s of r)if(n.push(...s.raw?.length?s.raw:[s]),!s.isEmpty()){this.h(u,s.contents);for(const f of s.overrides){const[A]=c.filter(P=>i.equals(P.identifiers,f.identifiers));A?(this.h(A.contents,f.contents),A.keys.push(...f.keys),A.keys=i.distinct(A.keys)):c.push(R.deepClone(f))}for(const f of s.keys)y.indexOf(f)===-1&&y.push(f)}return new g(u,y,c,n.every(s=>s instanceof g)?void 0:n)}g(r){const u=this.i(r);if(!u||typeof u!="object"||!Object.keys(u).length)return this;const c={};for(const y of i.distinct([...Object.keys(this.contents),...Object.keys(u)])){let n=this.contents[y];const s=u[y];s&&(typeof n=="object"&&typeof s=="object"?(n=R.deepClone(n),this.h(n,s)):n=s),c[y]=n}return new g(c,this.keys,this.overrides)}h(r,u){for(const c of Object.keys(u)){if(c in r&&S.isObject(r[c])&&S.isObject(u[c])){this.h(r[c],u[c]);continue}r[c]=R.deepClone(u[c])}}i(r){let u=null,c=null;const y=n=>{n&&(c?this.h(c,n):c=R.deepClone(n))};for(const n of this.overrides)i.equals(n.identifiers,[r])?u=n.contents:n.identifiers.includes(r)&&y(n.contents);return y(u),c}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}addValue(r,u){this.j(r,u,!0)}setValue(r,u){this.j(r,u,!1)}removeValue(r){const u=this.keys.indexOf(r);u!==-1&&(this.keys.splice(u,1),(0,M.removeFromValueTree)(this.contents,r),D.OVERRIDE_PROPERTY_REGEX.test(r)&&this.overrides.splice(this.overrides.findIndex(c=>i.equals(c.identifiers,(0,D.overrideIdentifiersFromKey)(r))),1))}j(r,u,c){(0,M.addToValueTree)(this.contents,r,u,y=>console.error(y)),c=c||this.keys.indexOf(r)===-1,c&&this.keys.push(r),D.OVERRIDE_PROPERTY_REGEX.test(r)&&this.overrides.push({identifiers:(0,D.overrideIdentifiersFromKey)(r),keys:Object.keys(this.contents[r]),contents:(0,M.toValuesTree)(this.contents[r],y=>console.error(y))})}}e.ConfigurationModel=g;class a{constructor(r){this.f=r,this.a=null,this.b=null,this.c=[],this.d=[]}get configurationModel(){return this.b||new g}get restrictedConfigurations(){return this.c}get errors(){return this.d}parse(r,u){if(!S.isUndefinedOrNull(r)){const c=this.g(r);this.parseRaw(c,u)}}reparse(r){this.a&&this.parseRaw(this.a,r)}parseRaw(r,u){this.a=r;const{contents:c,keys:y,overrides:n,restricted:s,hasExcludedProperties:f}=this.h(r,u);this.b=new g(c,y,n,f?[r]:void 0),this.c=s||[]}g(r){let u={},c=null,y=[];const n=[],s=[];function f(P){Array.isArray(y)?y.push(P):c!==null&&(y[c]=P)}const A={onObjectBegin:()=>{const P={};f(P),n.push(y),y=P,c=null},onObjectProperty:P=>{c=P},onObjectEnd:()=>{y=n.pop()},onArrayBegin:()=>{const P=[];f(P),n.push(y),y=P,c=null},onArrayEnd:()=>{y=n.pop()},onLiteralValue:f,onError:(P,H,Y)=>{s.push({error:P,offset:H,length:Y})}};if(r)try{I.visit(r,A),u=y[0]||{}}catch(P){console.error(`Error while parsing settings file ${this.f}: ${P}`),this.d=[P]}return u}h(r,u){const c=h.Registry.as(D.Extensions.Configuration).getConfigurationProperties(),y=this.i(r,c,!0,u);r=y.raw;const n=(0,M.toValuesTree)(r,A=>console.error(`Conflict in settings file ${this.f}: ${A}`)),s=Object.keys(r),f=this.j(r,A=>console.error(`Conflict in settings file ${this.f}: ${A}`));return{contents:n,keys:s,overrides:f,restricted:y.restricted,hasExcludedProperties:y.hasExcludedProperties}}i(r,u,c,y){let n=!1;if(!y?.scopes&&!y?.skipRestricted)return{raw:r,restricted:[],hasExcludedProperties:n};const s={},f=[];for(const A in r)if(D.OVERRIDE_PROPERTY_REGEX.test(A)&&c){const P=this.i(r[A],u,!1,y);s[A]=P.raw,n=n||P.hasExcludedProperties,f.push(...P.restricted)}else{const P=u[A],H=P?typeof P.scope<"u"?P.scope:3:void 0;P?.restricted&&f.push(A),(H===void 0||y.scopes===void 0||y.scopes.includes(H))&&!(y.skipRestricted&&P?.restricted)?s[A]=r[A]:n=!0}return{raw:s,restricted:f,hasExcludedProperties:n}}j(r,u){const c=[];for(const y of Object.keys(r))if(D.OVERRIDE_PROPERTY_REGEX.test(y)){const n={};for(const s in r[y])n[s]=r[y][s];c.push({identifiers:(0,D.overrideIdentifiersFromKey)(y),keys:Object.keys(n),contents:(0,M.toValuesTree)(n,u)})}return c}}e.ConfigurationModelParser=a;class o extends N.Disposable{constructor(r,u,c,y){super(),this.f=r,this.g=u,this.h=y,this.c=this.B(new T.Emitter),this.onDidChange=this.c.event,this.a=new a(this.f.toString()),this.b={scopes:this.g},this.B(this.h.watch(c.dirname(this.f))),this.B(this.h.watch(this.f)),this.B(T.Event.any(T.Event.filter(this.h.onDidFilesChange,n=>n.contains(this.f)),T.Event.filter(this.h.onDidRunOperation,n=>(n.isOperation(0)||n.isOperation(3)||n.isOperation(1)||n.isOperation(4))&&c.isEqual(n.resource,r)))(()=>this.c.fire()))}async loadConfiguration(){try{const r=await this.h.readFile(this.f);return this.a.parse(r.value.toString()||"{}",this.b),this.a.configurationModel}catch{return new g}}reparse(){return this.a.reparse(this.b),this.a.configurationModel}getRestrictedSettings(){return this.a.restrictedConfigurations}}e.UserSettings=o;class l{constructor(r,u,c,y,n,s,f,A,P,H,Y,Z,_){this.a=r,this.b=u,this.c=c,this.overrideIdentifiers=y,this.d=n,this.f=s,this.g=f,this.h=A,this.i=P,this.j=H,this.k=Y,this.l=Z,this.m=_}get value(){return b(this.c)}n(r,u,c){const y=r.inspect(u,c);return{get value(){return b(y.value)},get override(){return b(y.override)},get merged(){return b(y.merged)}}}get q(){return this.p||(this.p=this.n(this.d,this.a,this.b.overrideIdentifier)),this.p}get defaultValue(){return this.q.merged}get default(){return this.q.value!==void 0||this.q.override!==void 0?{value:this.q.value,override:this.q.override}:void 0}get s(){return this.r===void 0&&(this.r=this.f?this.n(this.f,this.a):null),this.r}get policyValue(){return this.s?.merged}get policy(){return this.s?.value!==void 0?{value:this.s.value}:void 0}get u(){return this.t===void 0&&(this.t=this.g?this.n(this.g,this.a):null),this.t}get applicationValue(){return this.u?.merged}get application(){return this.u?.value!==void 0||this.u?.override!==void 0?{value:this.u.value,override:this.u.override}:void 0}get w(){return this.v||(this.v=this.n(this.h,this.a,this.b.overrideIdentifier)),this.v}get userValue(){return this.w.merged}get user(){return this.w.value!==void 0||this.w.override!==void 0?{value:this.w.value,override:this.w.override}:void 0}get y(){return this.x||(this.x=this.n(this.i,this.a,this.b.overrideIdentifier)),this.x}get userLocalValue(){return this.y.merged}get userLocal(){return this.y.value!==void 0||this.y.override!==void 0?{value:this.y.value,override:this.y.override}:void 0}get A(){return this.z||(this.z=this.n(this.j,this.a,this.b.overrideIdentifier)),this.z}get userRemoteValue(){return this.A.merged}get userRemote(){return this.A.value!==void 0||this.A.override!==void 0?{value:this.A.value,override:this.A.override}:void 0}get D(){return this.B===void 0&&(this.B=this.k?this.n(this.k,this.a,this.b.overrideIdentifier):null),this.B}get workspaceValue(){return this.D?.merged}get workspace(){return this.D?.value!==void 0||this.D?.override!==void 0?{value:this.D.value,override:this.D.override}:void 0}get F(){return this.E===void 0&&(this.E=this.l?this.n(this.l,this.a,this.b.overrideIdentifier):null),this.E}get workspaceFolderValue(){return this.F?.merged}get workspaceFolder(){return this.F?.value!==void 0||this.F?.override!==void 0?{value:this.F.value,override:this.F.override}:void 0}get H(){return this.G===void 0&&(this.G=this.n(this.m,this.a,this.b.overrideIdentifier)),this.G}get memoryValue(){return this.H.merged}get memory(){return this.H.value!==void 0||this.H.override!==void 0?{value:this.H.value,override:this.H.override}:void 0}}class p{constructor(r,u,c,y,n=new g,s=new g,f=new E.ResourceMap,A=new g,P=new E.ResourceMap){this.c=r,this.d=u,this.f=c,this.g=y,this.h=n,this.i=s,this.j=f,this.l=A,this.m=P,this.a=null,this.b=new E.ResourceMap,this.n=null}getValue(r,u,c){return this.q(r,u,c).getValue(r)}updateValue(r,u,c={}){let y;c.resource?(y=this.m.get(c.resource),y||(y=new g,this.m.set(c.resource,y))):y=this.l,u===void 0?y.removeValue(r):y.setValue(r,u),c.resource||(this.a=null)}inspect(r,u,c){const y=this.q(r,u,c),n=this.u(u.resource,c),s=u.resource?this.m.get(u.resource)||this.l:this.l,f=new Set;for(const A of y.overrides)for(const P of A.identifiers)y.getOverrideValue(r,P)!==void 0&&f.add(P);return new l(r,u,y.getValue(r),f.size?[...f]:void 0,this.c,this.d.isEmpty()?void 0:this.d,this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration,this.userConfiguration,this.localUserConfiguration,this.remoteUserConfiguration,c?this.i:void 0,n||void 0,s)}keys(r){const u=this.u(void 0,r);return{default:this.c.keys.slice(0),user:this.userConfiguration.keys.slice(0),workspace:this.i.keys.slice(0),workspaceFolder:u?u.keys.slice(0):[]}}updateDefaultConfiguration(r){this.c=r,this.a=null,this.b.clear()}updatePolicyConfiguration(r){this.d=r}updateApplicationConfiguration(r){this.f=r,this.a=null,this.b.clear()}updateLocalUserConfiguration(r){this.g=r,this.n=null,this.a=null,this.b.clear()}updateRemoteUserConfiguration(r){this.h=r,this.n=null,this.a=null,this.b.clear()}updateWorkspaceConfiguration(r){this.i=r,this.a=null,this.b.clear()}updateFolderConfiguration(r,u){this.j.set(r,u),this.b.delete(r)}deleteFolderConfiguration(r){this.p.delete(r),this.b.delete(r)}compareAndUpdateDefaultConfiguration(r,u){const c=[];if(!u){const{added:y,updated:n,removed:s}=v(this.c,r);u=[...y,...n,...s]}for(const y of u)for(const n of(0,D.overrideIdentifiersFromKey)(y)){const s=this.c.getKeysForOverrideIdentifier(n),f=r.getKeysForOverrideIdentifier(n),A=[...f.filter(P=>s.indexOf(P)===-1),...s.filter(P=>f.indexOf(P)===-1),...s.filter(P=>!R.equals(this.c.override(n).getValue(P),r.override(n).getValue(P)))];c.push([n,A])}return this.updateDefaultConfiguration(r),{keys:u,overrides:c}}compareAndUpdatePolicyConfiguration(r){const{added:u,updated:c,removed:y}=v(this.d,r),n=[...u,...c,...y];return n.length&&this.updatePolicyConfiguration(r),{keys:n,overrides:[]}}compareAndUpdateApplicationConfiguration(r){const{added:u,updated:c,removed:y,overrides:n}=v(this.applicationConfiguration,r),s=[...u,...c,...y];return s.length&&this.updateApplicationConfiguration(r),{keys:s,overrides:n}}compareAndUpdateLocalUserConfiguration(r){const{added:u,updated:c,removed:y,overrides:n}=v(this.localUserConfiguration,r),s=[...u,...c,...y];return s.length&&this.updateLocalUserConfiguration(r),{keys:s,overrides:n}}compareAndUpdateRemoteUserConfiguration(r){const{added:u,updated:c,removed:y,overrides:n}=v(this.remoteUserConfiguration,r),s=[...u,...c,...y];return s.length&&this.updateRemoteUserConfiguration(r),{keys:s,overrides:n}}compareAndUpdateWorkspaceConfiguration(r){const{added:u,updated:c,removed:y,overrides:n}=v(this.workspaceConfiguration,r),s=[...u,...c,...y];return s.length&&this.updateWorkspaceConfiguration(r),{keys:s,overrides:n}}compareAndUpdateFolderConfiguration(r,u){const c=this.p.get(r),{added:y,updated:n,removed:s,overrides:f}=v(c,u),A=[...y,...n,...s];return(A.length||!c)&&this.updateFolderConfiguration(r,u),{keys:A,overrides:f}}compareAndDeleteFolderConfiguration(r){const u=this.p.get(r);if(!u)throw new Error("Unknown folder");this.deleteFolderConfiguration(r);const{added:c,updated:y,removed:n,overrides:s}=v(u,void 0);return{keys:[...c,...y,...n],overrides:s}}get defaults(){return this.c}get applicationConfiguration(){return this.f}get userConfiguration(){return this.n||(this.n=this.h.isEmpty()?this.g:this.g.merge(this.h)),this.n}get localUserConfiguration(){return this.g}get remoteUserConfiguration(){return this.h}get workspaceConfiguration(){return this.i}get p(){return this.j}q(r,u,c){let y=this.r(u,c);return u.overrideIdentifier&&(y=y.override(u.overrideIdentifier)),!this.d.isEmpty()&&this.d.getValue(r)!==void 0&&(y=y.merge(this.d)),y}r({resource:r},u){let c=this.s();if(u&&r){const y=u.getFolder(r);y&&(c=this.t(y.uri)||c);const n=this.m.get(r);n&&(c=c.merge(n))}return c}s(){return this.a||(this.a=this.c.merge(this.applicationConfiguration,this.userConfiguration,this.i,this.l)),this.a}t(r){let u=this.b.get(r);if(!u){const c=this.s(),y=this.j.get(r);y?(u=c.merge(y),this.b.set(r,u)):u=c}return u}u(r,u){if(u&&r){const c=u.getFolder(r);if(c)return this.j.get(c.uri)}}toData(){return{defaults:{contents:this.c.contents,overrides:this.c.overrides,keys:this.c.keys},policy:{contents:this.d.contents,overrides:this.d.overrides,keys:this.d.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this.i.contents,overrides:this.i.overrides,keys:this.i.keys},folders:[...this.j.keys()].reduce((r,u)=>{const{contents:c,overrides:y,keys:n}=this.j.get(u);return r.push([u,{contents:c,overrides:y,keys:n}]),r},[])}}allKeys(){const r=new Set;return this.c.keys.forEach(u=>r.add(u)),this.userConfiguration.keys.forEach(u=>r.add(u)),this.i.keys.forEach(u=>r.add(u)),this.j.forEach(u=>u.keys.forEach(c=>r.add(c))),[...r.values()]}v(){const r=new Set;return this.c.getAllOverrideIdentifiers().forEach(u=>r.add(u)),this.userConfiguration.getAllOverrideIdentifiers().forEach(u=>r.add(u)),this.i.getAllOverrideIdentifiers().forEach(u=>r.add(u)),this.j.forEach(u=>u.getAllOverrideIdentifiers().forEach(c=>r.add(c))),[...r.values()]}w(r){const u=new Set;return this.c.getKeysForOverrideIdentifier(r).forEach(c=>u.add(c)),this.userConfiguration.getKeysForOverrideIdentifier(r).forEach(c=>u.add(c)),this.i.getKeysForOverrideIdentifier(r).forEach(c=>u.add(c)),this.j.forEach(c=>c.getKeysForOverrideIdentifier(r).forEach(y=>u.add(y))),[...u.values()]}static parse(r){const u=this.x(r.defaults),c=this.x(r.policy),y=this.x(r.application),n=this.x(r.user),s=this.x(r.workspace),f=r.folders.reduce((A,P)=>(A.set(k.URI.revive(P[0]),this.x(P[1])),A),new E.ResourceMap);return new p(u,c,y,n,new g,s,f,new g,new E.ResourceMap)}static x(r){return new g(r.contents,r.keys,r.overrides)}}e.Configuration=p;function w(...d){if(d.length===0)return{keys:[],overrides:[]};if(d.length===1)return d[0];const r=new Set,u=new Map;for(const y of d)y.keys.forEach(n=>r.add(n)),y.overrides.forEach(([n,s])=>{const f=(0,E.getOrSet)(u,n,new Set);s.forEach(A=>f.add(A))});const c=[];return u.forEach((y,n)=>c.push([n,[...y.values()]])),{keys:[...r.values()],overrides:c}}e.mergeChanges=w;class O{constructor(r,u,c,y){this.change=r,this.f=u,this.g=c,this.h=y,this.a=`
`,this.b=this.a.charCodeAt(0),this.c=".".charCodeAt(0),this.affectedKeys=new Set,this.i=void 0;for(const n of r.keys)this.affectedKeys.add(n);for(const[,n]of r.overrides)for(const s of n)this.affectedKeys.add(s);this.d=this.a;for(const n of this.affectedKeys)this.d+=n+this.a}get previousConfiguration(){return!this.i&&this.f&&(this.i=p.parse(this.f.data)),this.i}affectsConfiguration(r,u){const c=this.a+r,y=this.d.indexOf(c);if(y<0)return!1;const n=y+c.length;if(n>=this.d.length)return!1;const s=this.d.charCodeAt(n);if(s!==this.b&&s!==this.c)return!1;if(u){const f=this.previousConfiguration?this.previousConfiguration.getValue(r,u,this.f?.workspace):void 0,A=this.g.getValue(r,u,this.h);return!R.equals(f,A)}return!0}}e.ConfigurationChangeEvent=O;function v(d,r){const{added:u,removed:c,updated:y}=t(r?.rawConfiguration,d?.rawConfiguration),n=[],s=d?.getAllOverrideIdentifiers()||[],f=r?.getAllOverrideIdentifiers()||[];if(r){const A=f.filter(P=>!s.includes(P));for(const P of A)n.push([P,r.getKeysForOverrideIdentifier(P)])}if(d){const A=s.filter(P=>!f.includes(P));for(const P of A)n.push([P,d.getKeysForOverrideIdentifier(P)])}if(r&&d){for(const A of s)if(f.includes(A)){const P=t({contents:d.getOverrideValue(void 0,A)||{},keys:d.getKeysForOverrideIdentifier(A)},{contents:r.getOverrideValue(void 0,A)||{},keys:r.getKeysForOverrideIdentifier(A)});n.push([A,[...P.added,...P.removed,...P.updated]])}}return{added:u,removed:c,updated:y,overrides:n}}function t(d,r){const u=d?r?d.keys.filter(n=>r.keys.indexOf(n)===-1):[...d.keys]:[],c=r?d?r.keys.filter(n=>d.keys.indexOf(n)===-1):[...r.keys]:[],y=[];if(d&&r){for(const n of r.keys)if(d.keys.indexOf(n)!==-1){const s=(0,M.getConfigurationValue)(r.contents,n),f=(0,M.getConfigurationValue)(d.contents,n);R.equals(s,f)||y.push(n)}}return{added:u,removed:c,updated:y}}}),define(ke[94],Te([1,0,11,3]),function(ne,e,i,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getRemoteAuthorityPrefix=e.RemoteAuthorityResolverError=e.RemoteAuthorityResolverErrorCode=e.IRemoteAuthorityResolverService=void 0,e.IRemoteAuthorityResolverService=(0,T.createDecorator)("remoteAuthorityResolverService");var I;(function(R){R.Unknown="Unknown",R.NotAvailable="NotAvailable",R.TemporarilyNotAvailable="TemporarilyNotAvailable",R.NoResolverFound="NoResolverFound"})(I=e.RemoteAuthorityResolverErrorCode||(e.RemoteAuthorityResolverErrorCode={}));class N extends i.ErrorNoTelemetry{static isNotAvailable(S){return S instanceof N&&S._code===I.NotAvailable}static isTemporarilyNotAvailable(S){return S instanceof N&&S._code===I.TemporarilyNotAvailable}static isNoResolverFound(S){return S instanceof N&&S._code===I.NoResolverFound}static isHandled(S){return S instanceof N&&S.isHandled}constructor(S,k=I.Unknown,M){super(S),this._message=S,this._code=k,this._detail=M,this.isHandled=k===I.NotAvailable&&M===!0,Object.setPrototypeOf(this,N.prototype)}}e.RemoteAuthorityResolverError=N;function E(R){const S=R.indexOf("+");return S===-1?R:R.substring(0,S)}e.getRemoteAuthorityPrefix=E}),define(ke[50],Te([1,0,15]),function(ne,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseAuthorityWithOptionalPort=e.parseAuthorityWithPort=e.getRemoteServerRootPath=e.getRemoteName=e.getRemoteAuthority=void 0;function T(k){return k.scheme===i.Schemas.vscodeRemote?k.authority:void 0}e.getRemoteAuthority=T;function I(k){if(!k)return;const M=k.indexOf("+");return M<0?k:k.substr(0,M)}e.getRemoteName=I;function N(k){return`/${k.quality??"oss"}-${k.commit??"dev"}`}e.getRemoteServerRootPath=N;function E(k){const{host:M,port:D}=S(k);if(typeof D>"u")throw new Error("Remote authority doesn't contain a port!");return{host:M,port:D}}e.parseAuthorityWithPort=E;function R(k,M){let{host:D,port:h}=S(k);return typeof h>"u"&&(h=M),{host:D,port:h}}e.parseAuthorityWithOptionalPort=R;function S(k){const M=k.match(/^(\[[0-9a-z:]+\]):(\d+)$/);if(M)return{host:M[1],port:parseInt(M[2],10)};const D=k.match(/^(\[[0-9a-z:]+\])$/);if(D)return{host:D[1],port:void 0};const h=k.match(/(.*):(\d+)$/);return h?{host:h[1],port:parseInt(h[2],10)}:{host:k,port:void 0}}}),define(ke[26],Te([1,0,10,3,50]),function(ne,e,i,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IBuiltinExtensionsScannerService=e.isResolverExtension=e.isAuthenticationProviderExtension=e.isLanguagePackExtension=e.isApplicationScopedExtension=e.ExtensionIdentifier=e.TargetPlatform=e.ExtensionType=e.EXTENSION_CATEGORIES=e.getWorkspaceSupportTypeMessage=e.ALL_EXTENSION_KINDS=e.UNDEFINED_PUBLISHER=e.BUILTIN_MANIFEST_CACHE_FILE=e.USER_MANIFEST_CACHE_FILE=e.MANIFEST_CACHE_FOLDER=void 0,e.MANIFEST_CACHE_FOLDER="CachedExtensions",e.USER_MANIFEST_CACHE_FILE="user",e.BUILTIN_MANIFEST_CACHE_FILE="builtin",e.UNDEFINED_PUBLISHER="undefined_publisher",e.ALL_EXTENSION_KINDS=["ui","workspace","web"];function N(b){if(typeof b=="object"&&b!==null&&b.supported!==!0)return b.description}e.getWorkspaceSupportTypeMessage=N,e.EXTENSION_CATEGORIES=["Azure","Data Science","Debuggers","Extension Packs","Education","Formatters","Keymaps","Language Packs","Linters","Machine Learning","Notebooks","Programming Languages","SCM Providers","Snippets","Testing","Themes","Visualization","Other"];var E;(function(b){b[b.System=0]="System",b[b.User=1]="User"})(E=e.ExtensionType||(e.ExtensionType={}));var R;(function(b){b.WIN32_X64="win32-x64",b.WIN32_IA32="win32-ia32",b.WIN32_ARM64="win32-arm64",b.LINUX_X64="linux-x64",b.LINUX_ARM64="linux-arm64",b.LINUX_ARMHF="linux-armhf",b.ALPINE_X64="alpine-x64",b.ALPINE_ARM64="alpine-arm64",b.DARWIN_X64="darwin-x64",b.DARWIN_ARM64="darwin-arm64",b.WEB="web",b.UNIVERSAL="universal",b.UNKNOWN="unknown",b.UNDEFINED="undefined"})(R=e.TargetPlatform||(e.TargetPlatform={}));class S{constructor(g){this.value=g,this.c=g.toLowerCase()}static equals(g,a){if(typeof g>"u"||g===null)return typeof a>"u"||a===null;if(typeof a>"u"||a===null)return!1;if(typeof g=="string"||typeof a=="string"){const o=typeof g=="string"?g:g.value,l=typeof a=="string"?a:a.value;return i.equalsIgnoreCase(o,l)}return g.c===a.c}static toKey(g){return typeof g=="string"?g.toLowerCase():g.c}}e.ExtensionIdentifier=S;function k(b){return M(b)}e.isApplicationScopedExtension=k;function M(b){return b.contributes&&b.contributes.localizations?b.contributes.localizations.length>0:!1}e.isLanguagePackExtension=M;function D(b){return b.contributes&&b.contributes.authentication?b.contributes.authentication.length>0:!1}e.isAuthenticationProviderExtension=D;function h(b,g){if(g){const a=`onResolveRemoteAuthority:${(0,I.getRemoteName)(g)}`;return!!b.activationEvents?.includes(a)}return!1}e.isResolverExtension=h,e.IBuiltinExtensionsScannerService=(0,T.createDecorator)("IBuiltinExtensionsScannerService")}),define(ke[168],Te([1,0,20,51,2,34]),function(ne,e,i,T,I,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.verifyMicrosoftInternalDomain=e.resolveCommonProperties=void 0;function E(k){if(i.platform===2&&/^penguin(\.|$)/i.test(k))return"chromebook"}async function R(k,M,D,h,b,g,a,o,l,p){const w=Object.create(null);w["common.machineId"]=a,w.sessionID=(0,N.generateUuid)()+Date.now(),w.commitHash=b,w.version=g,w["common.platformVersion"]=(M||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),w["common.platform"]=(0,i.PlatformToString)(i.platform),w["common.nodePlatform"]=T.platform,w["common.nodeArch"]=h,w["common.product"]=p||"desktop",o&&(w["common.msftInternal"]=o);let O=0;const v=Date.now();Object.defineProperties(w,{timestamp:{get:()=>new Date,enumerable:!0},"common.timesincesessionstart":{get:()=>Date.now()-v,enumerable:!0},"common.sequence":{get:()=>O++,enumerable:!0}}),i.isLinuxSnap&&(w["common.snap"]="true");const t=E(D);t&&(w["common.platformDetail"]=t);try{const d=await k.readFile(I.URI.file(l));w["common.source"]=d.value.toString().slice(0,30)}catch{}return w}e.resolveCommonProperties=R;function S(k){const M=T.env.USERDNSDOMAIN;if(!M)return!1;const D=M.toLowerCase();return k.some(h=>D===h)}e.verifyMicrosoftInternalDomain=S}),define(ke[169],Te([1,0,3]),function(ne,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TelemetryConfiguration=e.TelemetryLevel=e.TELEMETRY_OLD_SETTING_ID=e.TELEMETRY_CRASH_REPORTER_SETTING_ID=e.TELEMETRY_SETTING_ID=e.TELEMETRY_SECTION_ID=e.machineIdKey=e.lastSessionDateStorageKey=e.firstSessionDateStorageKey=e.currentSessionDateStorageKey=e.ICustomEndpointTelemetryService=e.ITelemetryService=void 0,e.ITelemetryService=(0,i.createDecorator)("telemetryService"),e.ICustomEndpointTelemetryService=(0,i.createDecorator)("customEndpointTelemetryService"),e.currentSessionDateStorageKey="telemetry.currentSessionDate",e.firstSessionDateStorageKey="telemetry.firstSessionDate",e.lastSessionDateStorageKey="telemetry.lastSessionDate",e.machineIdKey="telemetry.machineId",e.TELEMETRY_SECTION_ID="telemetry",e.TELEMETRY_SETTING_ID="telemetry.telemetryLevel",e.TELEMETRY_CRASH_REPORTER_SETTING_ID="telemetry.enableCrashReporter",e.TELEMETRY_OLD_SETTING_ID="telemetry.enableTelemetry";var T;(function(N){N[N.NONE=0]="NONE",N[N.CRASH=1]="CRASH",N[N.ERROR=2]="ERROR",N[N.USAGE=3]="USAGE"})(T=e.TelemetryLevel||(e.TelemetryLevel={}));var I;(function(N){N.OFF="off",N.CRASH="crash",N.ERROR="error",N.ON="all"})(I=e.TelemetryConfiguration||(e.TelemetryConfiguration={}))}),define(ke[52],Te([1,0,22,9,4,41,50,168,169]),function(ne,e,i,T,I,N,E,R,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.cleanData=e.getPiiPathsFromEnvironment=e.isInternalTelemetry=e.cleanRemoteAuthority=e.validateTelemetryData=e.getTelemetryLevel=e.isLoggingOnly=e.supportsTelemetry=e.configurationTelemetry=e.NullAppender=e.extensionTelemetryLogChannelId=e.telemetryLogChannelId=e.NullEndpointTelemetryService=e.NullTelemetryService=e.NullTelemetryServiceShape=e.TelemetryTrustedValue=void 0;class k{constructor(c){this.value=c}}e.TelemetryTrustedValue=k;class M{constructor(){this.sendErrorTelemetry=!1,this.telemetryLevel=0}publicLog(c,y){return Promise.resolve(void 0)}publicLog2(c,y){return this.publicLog(c,y)}publicLogError(c,y){return Promise.resolve(void 0)}publicLogError2(c,y){return this.publicLogError(c,y)}setExperimentProperty(){}getTelemetryInfo(){return Promise.resolve({instanceId:"someValue.instanceId",sessionId:"someValue.sessionId",machineId:"someValue.machineId",firstSessionDate:"someValue.firstSessionDate"})}}e.NullTelemetryServiceShape=M,e.NullTelemetryService=new M;class D{async publicLog(c,y,n){}async publicLogError(c,y,n){}}e.NullEndpointTelemetryService=D,e.telemetryLogChannelId="telemetryLog",e.extensionTelemetryLogChannelId="extensionTelemetryLog",e.NullAppender={log:()=>null,flush:()=>Promise.resolve(null)};function h(u,c){return I.Event.debounce(c.onDidChangeConfiguration,(n,s)=>{const f=n?new Set([...n.affectedKeys,...s.affectedKeys]):s.affectedKeys;return{...s,affectedKeys:f}},1e3,!0)(n=>{n.source!==7&&u.publicLog2("updateConfiguration",{configurationSource:(0,N.ConfigurationTargetToString)(n.source),configurationKeys:Array.from(n.affectedKeys)})})}e.configurationTelemetry=h;function b(u,c){return!c.isBuilt&&!c.disableTelemetry?!0:!(c.disableTelemetry||!u.enableTelemetry||c.extensionTestsLocationURI)}e.supportsTelemetry=b;function g(u,c){return!(c.isBuilt||c.disableTelemetry||u.enableTelemetry&&u.aiConfig?.ariaKey)}e.isLoggingOnly=g;function a(u){const c=u.getValue(S.TELEMETRY_SETTING_ID),y=u.getValue(S.TELEMETRY_CRASH_REPORTER_SETTING_ID);if(u.getValue(S.TELEMETRY_OLD_SETTING_ID)===!1||y===!1)return 0;switch(c??"all"){case"all":return 3;case"error":return 2;case"crash":return 1;case"off":return 0}}e.getTelemetryLevel=a;function o(u){const c={},y={},n={};w(u,n);for(let s in n){s=s.length>150?s.substr(s.length-149):s;const f=n[s];typeof f=="number"?y[s]=f:typeof f=="boolean"?y[s]=f?1:0:typeof f=="string"?(f.length>8192&&console.warn(`Telemetry property: ${s} has been trimmed to 8192, the original length is ${f.length}`),c[s]=f.substring(0,8191)):typeof f<"u"&&f!==null&&(c[s]=f)}return{properties:c,measurements:y}}e.validateTelemetryData=o;const l=new Set(["ssh-remote","dev-container","attached-container","wsl","tunnel","codespaces","amlext"]);function p(u){if(!u)return"none";const c=(0,E.getRemoteName)(u);return l.has(c)?c:"other"}e.cleanRemoteAuthority=p;function w(u,c,y=0,n){if(!!u)for(const s of Object.getOwnPropertyNames(u)){const f=u[s],A=n?n+s:s;Array.isArray(f)?c[A]=(0,i.safeStringify)(f):f instanceof Date?c[A]=f.toISOString():(0,T.isObject)(f)?y<2?w(f,c,y+1,A+"."):c[A]=(0,i.safeStringify)(f):c[A]=f}}function O(u,c){const y=u.msftInternalDomains||[],n=c.getValue("telemetry.internalTesting");return(0,R.verifyMicrosoftInternalDomain)(y)||n}e.isInternalTelemetry=O;function v(u){return[u.appRoot,u.extensionsPath,u.userHome.fsPath,u.tmpDir.fsPath,u.userDataPath]}e.getPiiPathsFromEnvironment=v;function t(u,c){if(!u||!u.includes("/")&&!u.includes("\\"))return u;let y=u;const n=[];for(const P of c)for(;;){const H=P.exec(u);if(!H)break;n.push([H.index,P.lastIndex])}const s=/^[\\\/]?(node_modules|node_modules\.asar)[\\\/]/,f=/(file:\/\/)?([a-zA-Z]:(\\\\|\\|\/)|(\\\\|\\|\/))?([\w-\._]+(\\\\|\\|\/))+[\w-\._]*/g;let A=0;for(y="";;){const P=f.exec(u);if(!P)break;const H=n.some(([Y,Z])=>P.index<Z&&Y<f.lastIndex);!s.test(P[0])&&!H&&(y+=u.substring(A,P.index)+"<REDACTED: user-file-path>",A=f.lastIndex)}return A<u.length&&(y+=u.substr(A)),y}function d(u){if(!u)return u;const c=u.toLowerCase(),y=[{label:"Google API Key",regex:/AIza[A-Za-z0-9_\\\-]{35}/},{label:"Slack Token",regex:/xox[pbar]\-[A-Za-z0-9]/},{label:"Generic Secret",regex:/(key|token|sig|secret|signature|password|passwd|pwd|android:value)[^a-zA-Z0-9]/},{label:"Email",regex:/@[a-zA-Z0-9-]+\.[a-zA-Z0-9-]+/}];for(const n of y)if(n.regex.test(c))return`<REDACTED: ${n.label}>`;return u}function r(u,c){return(0,i.cloneAndChange)(u,y=>{if(y instanceof k)return y.value;if(typeof y=="string"){let n=y.replaceAll("%20"," ");n=t(n,c);for(const s of c)n=n.replace(s,"");return n=d(n),n}})}e.cleanData=r}),define(ke[170],Te([1,0,10,90,26,20,2,11,51,52]),function(ne,e,i,T,I,N,E,R,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeTargetPlatform=e.getExtensionDependencies=e.BetterMergeId=e.getGalleryExtensionTelemetryData=e.getLocalExtensionTelemetryData=e.groupByExtension=e.getGalleryExtensionId=e.adoptToGalleryExtensionId=e.getExtensionId=e.getIdAndVersion=e.ExtensionKey=e.areSameExtensions=void 0;function M(r,u){return r.uuid&&u.uuid?r.uuid===u.uuid:r.id===u.id?!0:(0,i.compareIgnoreCase)(r.id,u.id)===0}e.areSameExtensions=M;const D=/^([^.]+\..+)-(\d+\.\d+\.\d+)(-(.+))?$/;class h{static create(u){const c=u.manifest?u.manifest.version:u.version,y=u.manifest?u.targetPlatform:u.properties.targetPlatform;return new h(u.identifier,c,y)}static parse(u){const c=D.exec(u);return c&&c[1]&&c[2]?new h({id:c[1]},c[2],c[4]||void 0):null}constructor(u,c,y="undefined"){this.version=c,this.targetPlatform=y,this.id=u.id}toString(){return`${this.id}-${this.version}${this.targetPlatform!=="undefined"?`-${this.targetPlatform}`:""}`}equals(u){return u instanceof h?M(this,u)&&this.version===u.version&&this.targetPlatform===u.targetPlatform:!1}}e.ExtensionKey=h;const b=/^([^.]+\..+)@((prerelease)|(\d+\.\d+\.\d+(-.*)?))$/;function g(r){const u=b.exec(r);return u&&u[1]?[o(u[1]),u[2]]:[o(r),void 0]}e.getIdAndVersion=g;function a(r,u){return`${r}.${u}`}e.getExtensionId=a;function o(r){return r.toLocaleLowerCase()}e.adoptToGalleryExtensionId=o;function l(r,u){return o(a(r,u))}e.getGalleryExtensionId=l;function p(r,u){const c=[],y=n=>{for(const s of c)if(s.some(f=>M(u(f),u(n))))return s;return null};for(const n of r){const s=y(n);s?s.push(n):c.push([n])}return c}e.groupByExtension=p;function w(r){return{id:r.identifier.id,name:r.manifest.name,galleryId:null,publisherId:r.publisherId,publisherName:r.manifest.publisher,publisherDisplayName:r.publisherDisplayName,dependencies:r.manifest.extensionDependencies&&r.manifest.extensionDependencies.length>0}}e.getLocalExtensionTelemetryData=w;function O(r){return{id:new k.TelemetryTrustedValue(r.identifier.id),name:new k.TelemetryTrustedValue(r.name),galleryId:r.identifier.uuid,publisherId:r.publisherId,publisherName:r.publisher,publisherDisplayName:r.publisherDisplayName,isPreReleaseVersion:r.properties.isPreReleaseVersion,dependencies:!!(r.properties.dependencies&&r.properties.dependencies.length>0),isSigned:r.isSigned,...r.telemetryData}}e.getGalleryExtensionTelemetryData=O,e.BetterMergeId=new I.ExtensionIdentifier("pprice.better-merge");function v(r,u){const c=[],y=u.manifest.extensionDependencies?.slice(0)??[];for(;y.length;){const n=y.shift();if(n&&c.every(s=>!M(s.identifier,{id:n}))){const s=r.filter(f=>M(f.identifier,{id:n}));s.length===1&&(c.push(s[0]),y.push(...s[0].manifest.extensionDependencies?.slice(0)??[]))}}return c}e.getExtensionDependencies=v;async function t(r,u){if(!N.isLinux)return!1;let c;try{c=(await r.readFile(E.URI.file("/etc/os-release"))).value.toString()}catch{try{c=(await r.readFile(E.URI.file("/usr/lib/os-release"))).value.toString()}catch(n){u.debug("Error while getting the os-release file.",(0,R.getErrorMessage)(n))}}return!!c&&(c.match(/^ID=([^\u001b\r\n]*)/m)||[])[1]==="alpine"}async function d(r,u){const c=await t(r,u),y=(0,T.getTargetPlatform)(c?"alpine":N.platform,S.arch);return u.debug("ComputeTargetPlatform:",y),y}e.computeTargetPlatform=d}),define(ke[171],Te([1,0]),function(ne,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.deserializeEnvironmentVariableCollections=e.serializeEnvironmentVariableCollections=e.deserializeEnvironmentVariableCollection=e.serializeEnvironmentVariableCollection=void 0;function i(E){return[...E.entries()]}e.serializeEnvironmentVariableCollection=i;function T(E){return new Map(E)}e.deserializeEnvironmentVariableCollection=T;function I(E){return Array.from(E.entries()).map(R=>[R[0],i(R[1].map)])}e.serializeEnvironmentVariableCollections=I;function N(E){return new Map(E.map(R=>[R[0],{map:T(R[1])}]))}e.deserializeEnvironmentVariableCollections=N}),define(ke[172],Te([1,0]),function(ne,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TerminalDataBufferer=void 0;class i{constructor(I){this.b=I,this.a=new Map}dispose(){for(const I of this.a.values())I.dispose()}startBuffering(I,N,E=5){const R=N(S=>{const k=typeof S=="string"?S:S.data;let M=this.a.get(I);if(M){M.data.push(k);return}const D=setTimeout(()=>this.flushBuffer(I),E);M={data:[k],timeoutId:D,dispose:()=>{clearTimeout(D),this.flushBuffer(I),R.dispose()}},this.a.set(I,M)});return R}stopBuffering(I){this.a.get(I)?.dispose()}flushBuffer(I){const N=this.a.get(I);N&&(this.a.delete(I),this.b(I,N.data.join("")))}}e.TerminalDataBufferer=i}),define(ke[173],Te([1,0,17,84,38,4,9,2,137,69,30]),function(ne,e,i,T,I,N,E,R,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.spinningLoading=e.syncing=e.gotoNextLocation=e.gotoPreviousLocation=e.widgetClose=e.iconsSchemaId=e.getIconRegistry=e.registerIcon=e.IconFontDefinition=e.IconContribution=e.Extensions=void 0,e.Extensions={IconContribution:"base.contributions.icons"};var D;(function(O){function v(t,d){let r=t.defaults;for(;I.ThemeIcon.isThemeIcon(r);){const u=g.getIcon(r.id);if(!u)return;r=u.defaults}return r}O.getDefinition=v})(D=e.IconContribution||(e.IconContribution={}));var h;(function(O){function v(d){return{weight:d.weight,style:d.style,src:d.src.map(r=>({format:r.format,location:r.location.toString()}))}}O.toJSONObject=v;function t(d){const r=u=>(0,E.isString)(u)?u:void 0;if(d&&Array.isArray(d.src)&&d.src.every(u=>(0,E.isString)(u.format)&&(0,E.isString)(u.location)))return{weight:r(d.weight),style:r(d.style),src:d.src.map(u=>({format:u.format,location:R.URI.parse(u.location)}))}}O.fromJSONObject=t})(h=e.IconFontDefinition||(e.IconFontDefinition={}));class b{constructor(){this.a=new N.Emitter,this.onDidChange=this.a.event,this.d={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,S.localize)(0,null)},fontCharacter:{type:"string",description:(0,S.localize)(1,null)}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.e={type:"string",pattern:`^${I.ThemeIcon.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.b={},this.f={}}registerIcon(v,t,d,r){const u=this.b[v];if(u){if(d&&!u.description){u.description=d,this.d.properties[v].markdownDescription=`${d} $(${v})`;const n=this.e.enum.indexOf(v);n!==-1&&(this.e.enumDescriptions[n]=d),this.a.fire()}return u}const c={id:v,description:d,defaults:t,deprecationMessage:r};this.b[v]=c;const y={$ref:"#/definitions/icons"};return r&&(y.deprecationMessage=r),d&&(y.markdownDescription=`${d}: $(${v})`),this.d.properties[v]=y,this.e.enum.push(v),this.e.enumDescriptions.push(d||""),this.a.fire(),{id:v}}deregisterIcon(v){delete this.b[v],delete this.d.properties[v];const t=this.e.enum.indexOf(v);t!==-1&&(this.e.enum.splice(t,1),this.e.enumDescriptions.splice(t,1)),this.a.fire()}getIcons(){return Object.keys(this.b).map(v=>this.b[v])}getIcon(v){return this.b[v]}getIconSchema(){return this.d}getIconReferenceSchema(){return this.e}registerIconFont(v,t){const d=this.f[v];return d||(this.f[v]=t,this.a.fire(),t)}deregisterIconFont(v){delete this.f[v]}getIconFont(v){return this.f[v]}toString(){const v=(u,c)=>u.id.localeCompare(c.id),t=u=>{for(;I.ThemeIcon.isThemeIcon(u.defaults);)u=this.b[u.defaults.id];return`codicon codicon-${u?u.id:""}`},d=[];d.push("| preview     | identifier                        | default codicon ID                | description"),d.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const r=Object.keys(this.b).map(u=>this.b[u]);for(const u of r.filter(c=>!!c.description).sort(v))d.push(`|<i class="${t(u)}"></i>|${u.id}|${I.ThemeIcon.isThemeIcon(u.defaults)?u.defaults.id:u.id}|${u.description||""}|`);d.push("| preview     | identifier                        "),d.push("| ----------- | --------------------------------- |");for(const u of r.filter(c=>!I.ThemeIcon.isThemeIcon(c.defaults)).sort(v))d.push(`|<i class="${t(u)}"></i>|${u.id}|`);return d.join(`
`)}}const g=new b;M.Registry.add(e.Extensions.IconContribution,g);function a(O,v,t,d){return g.registerIcon(O,v,t,d)}e.registerIcon=a;function o(){return g}e.getIconRegistry=o;function l(){const O=(0,T.getCodiconFontCharacters)();for(const v in O){const t="\\"+O[v].toString(16);g.registerIcon(v,{fontCharacter:t})}}l(),e.iconsSchemaId="vscode://schemas/icons";const p=M.Registry.as(k.Extensions.JSONContribution);p.registerSchema(e.iconsSchemaId,g.getIconSchema());const w=new i.RunOnceScheduler(()=>p.notifySchemaChanged(e.iconsSchemaId),200);g.onDidChange(()=>{w.isScheduled()||w.schedule()}),e.widgetClose=a("widget-close",T.Codicon.close,(0,S.localize)(2,null)),e.gotoPreviousLocation=a("goto-previous-location",T.Codicon.arrowUp,(0,S.localize)(3,null)),e.gotoNextLocation=a("goto-next-location",T.Codicon.arrowDown,(0,S.localize)(4,null)),e.syncing=I.ThemeIcon.modify(T.Codicon.sync,"spin"),e.spinningLoading=I.ThemeIcon.modify(T.Codicon.loading,"spin")}),define(ke[174],Te([1,0,4,41,3,12]),function(ne,e,i,T,I,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractTunnelService=e.DisposableTunnel=e.isPortPrivileged=e.isAllInterfaces=e.ALL_INTERFACES_ADDRESSES=e.isLocalhost=e.LOCALHOST_ADDRESSES=e.extractLocalHostUriMetaDataForPortMapping=e.ProvidedOnAutoForward=e.TunnelPrivacyId=e.TunnelProtocol=e.ISharedTunnelsService=e.ITunnelService=void 0,e.ITunnelService=(0,I.createDecorator)("tunnelService"),e.ISharedTunnelsService=(0,I.createDecorator)("sharedTunnelsService");var E;(function(a){a.Http="http",a.Https="https"})(E=e.TunnelProtocol||(e.TunnelProtocol={}));var R;(function(a){a.ConstantPrivate="constantPrivate",a.Private="private",a.Public="public"})(R=e.TunnelPrivacyId||(e.TunnelPrivacyId={}));var S;(function(a){a[a.Notify=1]="Notify",a[a.OpenBrowser=2]="OpenBrowser",a[a.OpenPreview=3]="OpenPreview",a[a.Silent=4]="Silent",a[a.Ignore=5]="Ignore",a[a.OpenBrowserOnce=6]="OpenBrowserOnce"})(S=e.ProvidedOnAutoForward||(e.ProvidedOnAutoForward={}));function k(a){if(a.scheme!=="http"&&a.scheme!=="https")return;const o=/^(localhost|127\.0\.0\.1|0\.0\.0\.0):(\d+)$/.exec(a.authority);if(!!o)return{address:o[1],port:+o[2]}}e.extractLocalHostUriMetaDataForPortMapping=k,e.LOCALHOST_ADDRESSES=["localhost","127.0.0.1","0:0:0:0:0:0:0:1","::1"];function M(a){return e.LOCALHOST_ADDRESSES.indexOf(a)>=0}e.isLocalhost=M,e.ALL_INTERFACES_ADDRESSES=["0.0.0.0","0:0:0:0:0:0:0:0","::"];function D(a){return e.ALL_INTERFACES_ADDRESSES.indexOf(a)>=0}e.isAllInterfaces=D;function h(a,o,l,p){if(l===1)return!1;if(l===2&&D(o)){const w=/(\d+)\.(\d+)\.(\d+)/g.exec(p);if(w?.length===4&&parseInt(w[1])>=18)return!1}return a<1024}e.isPortPrivileged=h;class b{constructor(o,l,p){this.remoteAddress=o,this.localAddress=l,this.b=p,this.a=new i.Emitter,this.onDidDispose=this.a.event}dispose(){return this.a.fire(),this.b()}}e.DisposableTunnel=b;let g=class{constructor(o,l){this.i=o,this.j=l,this.a=new i.Emitter,this.onTunnelOpened=this.a.event,this.b=new i.Emitter,this.onTunnelClosed=this.b.event,this.c=new i.Emitter,this.onAddedTunnelProvider=this.c.event,this.d=new Map,this.f=!1,this.g=[],this.h=new Set}get hasTunnelProvider(){return!!this.e}get k(){const o=this.j.getValue("remote.localPortHost");return!o||o==="localhost"?"127.0.0.1":"0.0.0.0"}setTunnelProvider(o){return this.e=o,o?(this.c.fire(),{dispose:()=>{this.e=void 0,this.f=!1,this.g=[]}}):(this.f=!1,this.g=[],this.c.fire(),{dispose:()=>{}})}setTunnelFeatures(o){this.f=o.elevation,this.g=o.privacyOptions}get canElevate(){return this.f}get canChangePrivacy(){return this.g.length>0}get privacyOptions(){return this.g}get tunnels(){return this.l()}async l(){const o=[],l=Array.from(this.d.values());for(const p of l){const w=Array.from(p.values());for(const O of w){const v=await O.value;v&&o.push(v)}}return o}async dispose(){for(const o of this.d.values()){for(const{value:l}of o.values())await l.then(p=>p?.dispose());o.clear()}this.d.clear()}setEnvironmentTunnel(o,l,p,w,O){this.o(o,l,Promise.resolve({tunnelRemoteHost:o,tunnelRemotePort:l,localAddress:p,privacy:w,protocol:O,dispose:()=>Promise.resolve()}))}async getExistingTunnel(o,l){(D(o)||M(o))&&(o=e.LOCALHOST_ADDRESSES[0]);const p=this.q(o,l);if(p)return++p.refcount,p.value}openTunnel(o,l,p,w,O,v=!1,t,d){if(this.i.trace(`ForwardedPorts: (TunnelService) openTunnel request for ${l}:${p} on local port ${O}.`),!o)return;if(l||(l="localhost"),w||(w=this.k),this.e&&this.h.has(p)){this.i.debug("ForwardedPorts: (TunnelService) Another call to create a tunnel with the same address has occurred before the last one completed. This call will be ignored.");return}const r=this.r(o,l,p,w,O,v,t,d);return r?r.then(u=>{if(!u){this.i.trace("ForwardedPorts: (TunnelService) New tunnel is undefined."),this.p(l,p);return}this.i.trace("ForwardedPorts: (TunnelService) New tunnel established.");const c=this.m(u);return(u.tunnelRemoteHost!==l||u.tunnelRemotePort!==p)&&this.i.warn("ForwardedPorts: (TunnelService) Created tunnel does not match requirements of requested tunnel. Host or port mismatch."),this.a.fire(c),c}):(this.i.trace("ForwardedPorts: (TunnelService) Tunnel was not created."),r)}m(o){return{tunnelRemotePort:o.tunnelRemotePort,tunnelRemoteHost:o.tunnelRemoteHost,tunnelLocalPort:o.tunnelLocalPort,localAddress:o.localAddress,privacy:o.privacy,protocol:o.protocol,dispose:async()=>{this.i.trace(`ForwardedPorts: (TunnelService) dispose request for ${o.tunnelRemoteHost}:${o.tunnelRemotePort} `);const l=this.d.get(o.tunnelRemoteHost);if(l){const p=l.get(o.tunnelRemotePort);p&&(p.refcount--,await this.n(o.tunnelRemoteHost,o.tunnelRemotePort,p))}}}}async n(o,l,p){if(p.refcount<=0){this.i.trace(`ForwardedPorts: (TunnelService) Tunnel is being disposed ${o}:${l}.`);const w=p.value.then(async O=>{O&&(await O.dispose(!0),this.b.fire({host:O.tunnelRemoteHost,port:O.tunnelRemotePort}))});return this.d.has(o)&&this.d.get(o).delete(l),w}}async closeTunnel(o,l){this.i.trace(`ForwardedPorts: (TunnelService) close request for ${o}:${l} `);const p=this.d.get(o);if(p&&p.has(l)){const w=p.get(l);w.refcount=0,await this.n(o,l,w)}}o(o,l,p){this.d.has(o)||this.d.set(o,new Map),this.d.get(o).set(l,{refcount:1,value:p})}async p(o,l){const p=this.d.get(o);p&&(await p.get(l)||p.delete(l),p.size===0&&this.d.delete(o))}q(o,l){const p=[o];M(o)?(p.push(...e.LOCALHOST_ADDRESSES),p.push(...e.ALL_INTERFACES_ADDRESSES)):D(o)&&p.push(...e.ALL_INTERFACES_ADDRESSES);const w=p.map(O=>this.d.get(O));for(const O of w){const v=O?.get(l);if(v)return v}}canTunnel(o){return!!k(o)}s(o,l,p,w,O,v,t){this.i.trace(`ForwardedPorts: (TunnelService) Creating tunnel with provider ${l}:${p} on local port ${w}.`);const d=p;this.h.add(d);const r=w===void 0?p:w,u={elevationRequired:O?this.isPortPrivileged(r):!1},c={remoteAddress:{host:l,port:p},localAddressPort:w,privacy:v,public:v?v!==R.Private:void 0,protocol:t},y=o.forwardPort(c,u);return y?(this.o(l,p,y),y.finally(()=>{this.i.trace("ForwardedPorts: (TunnelService) Tunnel created by provider."),this.h.delete(d)})):this.h.delete(d),y}};g=qe([Ve(0,N.ILogService),Ve(1,T.IConfigurationService)],g),e.AbstractTunnelService=g}),define(ke[175],Te([1,0,3]),function(ne,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditSessionIdentityMatch=e.IEditSessionIdentityService=void 0,e.IEditSessionIdentityService=(0,i.createDecorator)("editSessionIdentityService");var T;(function(I){I[I.Complete=100]="Complete",I[I.Partial=50]="Partial",I[I.None=0]="None"})(T=e.EditSessionIdentityMatch||(e.EditSessionIdentityMatch={}))}),define(ke[176],Te([1,0,15]),function(ne,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isVirtualWorkspace=e.getVirtualWorkspaceAuthority=e.getVirtualWorkspaceScheme=e.getVirtualWorkspaceLocation=e.isVirtualResource=void 0;function T(S){return S.scheme!==i.Schemas.file&&S.scheme!==i.Schemas.vscodeRemote}e.isVirtualResource=T;function I(S){if(S.folders.length)return S.folders.every(k=>T(k.uri))?S.folders[0].uri:void 0;if(S.configuration&&T(S.configuration))return S.configuration}e.getVirtualWorkspaceLocation=I;function N(S){return I(S)?.scheme}e.getVirtualWorkspaceScheme=N;function E(S){return I(S)?.authority}e.getVirtualWorkspaceAuthority=E;function R(S){return I(S)!==void 0}e.isVirtualWorkspace=R}),define(ke[53],Te([1,0,138,19,48,24,2,3,15]),function(ne,e,i,T,I,N,E,R,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasWorkspaceFileExtension=e.isSavedWorkspace=e.isTemporaryWorkspace=e.isUntitledWorkspace=e.UNTITLED_WORKSPACE_NAME=e.WORKSPACE_FILTER=e.WORKSPACE_SUFFIX=e.WORKSPACE_EXTENSION=e.toWorkspaceFolder=e.WorkspaceFolder=e.Workspace=e.isWorkspaceFolder=e.isWorkspace=e.WorkbenchState=e.reviveIdentifier=e.isWorkspaceIdentifier=e.toWorkspaceIdentifier=e.UNKNOWN_EMPTY_WINDOW_WORKSPACE=e.EXTENSION_DEVELOPMENT_EMPTY_WINDOW_WORKSPACE=e.isEmptyWorkspaceIdentifier=e.isSingleFolderWorkspaceIdentifier=e.IWorkspaceContextService=void 0,e.IWorkspaceContextService=(0,R.createDecorator)("contextService");function k(r){const u=r;return typeof u?.id=="string"&&E.URI.isUri(u.uri)}e.isSingleFolderWorkspaceIdentifier=k;function M(r){return typeof r?.id=="string"&&!k(r)&&!h(r)}e.isEmptyWorkspaceIdentifier=M,e.EXTENSION_DEVELOPMENT_EMPTY_WINDOW_WORKSPACE={id:"ext-dev"},e.UNKNOWN_EMPTY_WINDOW_WORKSPACE={id:"empty-window"};function D(r,u){if(typeof r=="string"||typeof r>"u")return typeof r=="string"?{id:(0,T.basename)(r)}:u?e.EXTENSION_DEVELOPMENT_EMPTY_WINDOW_WORKSPACE:e.UNKNOWN_EMPTY_WINDOW_WORKSPACE;const c=r;return c.configuration?{id:c.id,configPath:c.configuration}:c.folders.length===1?{id:c.id,uri:c.folders[0].uri}:{id:c.id}}e.toWorkspaceIdentifier=D;function h(r){const u=r;return typeof u?.id=="string"&&E.URI.isUri(u.configPath)}e.isWorkspaceIdentifier=h;function b(r){const u=r;if(u?.uri)return{id:u.id,uri:E.URI.revive(u.uri)};const c=r;if(c?.configPath)return{id:c.id,configPath:E.URI.revive(c.configPath)};if(r?.id)return{id:r.id}}e.reviveIdentifier=b;var g;(function(r){r[r.EMPTY=1]="EMPTY",r[r.FOLDER=2]="FOLDER",r[r.WORKSPACE=3]="WORKSPACE"})(g=e.WorkbenchState||(e.WorkbenchState={}));function a(r){const u=r;return!!(u&&typeof u=="object"&&typeof u.id=="string"&&Array.isArray(u.folders))}e.isWorkspace=a;function o(r){const u=r;return!!(u&&typeof u=="object"&&E.URI.isUri(u.uri)&&typeof u.name=="string"&&typeof u.toResource=="function")}e.isWorkspaceFolder=o;class l{constructor(u,c,y,n,s){this.h=u,this.j=y,this.k=n,this.l=s,this.c=I.TernarySearchTree.forUris(this.l,()=>!0),this.folders=c}update(u){this.h=u.id,this.k=u.configuration,this.j=u.transient,this.l=u.l,this.folders=u.folders}get folders(){return this.g}set folders(u){this.g=u,this.n()}get id(){return this.h}get transient(){return this.j}get configuration(){return this.k}set configuration(u){this.k=u}getFolder(u){return u&&this.c.findSubstr(u)||null}n(){this.c=I.TernarySearchTree.forUris(this.l,()=>!0);for(const u of this.folders)this.c.set(u.uri,u)}toJSON(){return{id:this.id,folders:this.folders,transient:this.transient,configuration:this.configuration}}}e.Workspace=l;class p{constructor(u,c){this.raw=c,this.uri=u.uri,this.index=u.index,this.name=u.name}toResource(u){return(0,N.joinPath)(this.uri,u)}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}e.WorkspaceFolder=p;function w(r){return new p({uri:r,index:0,name:(0,N.basenameOrAuthority)(r)},{uri:r.toString()})}e.toWorkspaceFolder=w,e.WORKSPACE_EXTENSION="code-workspace",e.WORKSPACE_SUFFIX=`.${e.WORKSPACE_EXTENSION}`,e.WORKSPACE_FILTER=[{name:(0,i.localize)(0,null),extensions:[e.WORKSPACE_EXTENSION]}],e.UNTITLED_WORKSPACE_NAME="workspace.json";function O(r,u){return N.extUriBiasedIgnorePathCase.isEqualOrParent(r,u.untitledWorkspacesHome)}e.isUntitledWorkspace=O;function v(r){let u;return E.URI.isUri(r)?u=r:u=r.configuration,u?.scheme===S.Schemas.tmp}e.isTemporaryWorkspace=v;function t(r,u){return!O(r,u)&&!v(r)}e.isSavedWorkspace=t;function d(r){return(typeof r=="string"?(0,T.extname)(r):(0,N.extname)(r))===e.WORKSPACE_SUFFIX}e.hasWorkspaceFileExtension=d}),define(ke[54],Te([1,0]),function(ne,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Cache=void 0;class i{constructor(I){this.d=I,this.b=new Map,this.c=1}add(I){const N=this.c++;return this.b.set(N,I),this.e(),N}get(I,N){return this.b.has(I)?this.b.get(I)[N]:void 0}delete(I){this.b.delete(I),this.e()}e(){!i.a||console.log(`${this.d} cache size - ${this.b.size}`)}}i.a=!1,e.Cache=i}),define(ke[36],Te([1,0,15,24,3]),function(ne,e,i,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IExtHostFileSystemInfo=e.ExtHostFileSystemInfo=void 0;class N{constructor(){this.a=new Set(Object.keys(i.Schemas)),this.b=new Map,this.extUri=new T.ExtUri(R=>{const S=this.b.get(R.scheme);return!(S===void 0||S&1024)})}$acceptProviderInfos(R,S){S===null?this.b.delete(R.scheme):this.b.set(R.scheme,S)}isFreeScheme(R){return!this.b.has(R)&&!this.a.has(R)}getCapabilities(R){return this.b.get(R)}}e.ExtHostFileSystemInfo=N,e.IExtHostFileSystemInfo=(0,I.createDecorator)("IExtHostFileSystemInfo")}),define(ke[27],Te([1,0,3]),function(ne,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IExtHostInitDataService=void 0,e.IExtHostInitDataService=(0,i.createDecorator)("IExtHostInitDataService")}),define(ke[177],Te([1,0,12,163,27]),function(ne,e,i,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostLogService=void 0;let N=class extends T.LogService{constructor(R,S){super(R.createLogger(S.logFile,{name:S.logName}))}};N=qe([Ve(0,i.ILoggerService),Ve(1,I.IExtHostInitDataService)],N),e.ExtHostLogService=N}),define(ke[178],Te([1,0,17]),function(ne,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionGlobalMemento=e.ExtensionMemento=void 0;class T{constructor(E,R,S){this.h=new Map,this.a=E,this.b=R,this.c=S,this.d=this.c.initializeExtensionStorage(this.b,this.a,Object.create(null)).then(k=>(this.f=k,this)),this.g=this.c.onDidChangeStorage(k=>{k.shared===this.b&&k.key===this.a&&(this.f=k.value)}),this.i=new i.RunOnceScheduler(()=>{const k=this.h;this.h=new Map,(async()=>{try{await this.c.setValue(this.b,this.a,this.f);for(const M of k.values())M.complete()}catch(M){for(const D of k.values())D.error(M)}})()},0)}keys(){return Object.entries(this.f??{}).filter(([,E])=>E!==void 0).map(([E])=>E)}get whenReady(){return this.d}get(E,R){let S=this.f[E];return typeof S>"u"&&(S=R),S}update(E,R){this.f[E]=R;const S=this.h.get(E);if(S!==void 0)return S.p;const k=new i.DeferredPromise;return this.h.set(E,k),this.i.isScheduled()||this.i.schedule(),k.p}dispose(){this.g.dispose()}}e.ExtensionMemento=T;class I extends T{setKeysForSync(E){this.c.registerExtensionStorageKeysToSync({id:this.a,version:this.j.version},E)}constructor(E,R){super(E.identifier.value,!0,R),this.j=E}}e.ExtensionGlobalMemento=I}),define(ke[179],Te([1,0,4,2]),function(ne,e,i,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostNotebookDocuments=void 0;class I{constructor(E){this.c=E,this.a=new i.Emitter,this.onDidSaveNotebookDocument=this.a.event,this.b=new i.Emitter,this.onDidChangeNotebookDocument=this.b.event}$acceptModelChanged(E,R,S,k){const D=this.c.getNotebookDocument(T.URI.revive(E)).acceptModelChanged(R.value,S,k);this.b.fire(D)}$acceptDirtyStateChanged(E,R){this.c.getNotebookDocument(T.URI.revive(E)).acceptDirty(R)}$acceptModelSaved(E){const R=this.c.getNotebookDocument(T.URI.revive(E));this.a.fire(R.apiNotebook)}}e.ExtHostNotebookDocuments=I}),define(ke[18],Te([1,0,3]),function(ne,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostRpcService=e.IExtHostRpcService=void 0,e.IExtHostRpcService=(0,i.createDecorator)("IExtHostRpcService");class T{constructor(N){this.getProxy=N.getProxy.bind(N),this.set=N.set.bind(N),this.dispose=N.dispose.bind(N),this.assertRegistered=N.assertRegistered.bind(N),this.drain=N.drain.bind(N)}}e.ExtHostRpcService=T});var Je=this&&this.__classPrivateFieldSet||function(ne,e,i,T,I){if(T==="m")throw new TypeError("Private method is not writable");if(T==="a"&&!I)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?ne!==e||!I:!e.has(ne))throw new TypeError("Cannot write private member to an object whose class did not declare it");return T==="a"?I.call(ne,i):I?I.value=i:e.set(ne,i),i},Le=this&&this.__classPrivateFieldGet||function(ne,e,i,T){if(i==="a"&&!T)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?ne!==e||!T:!e.has(ne))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?T:i==="a"?T.call(ne):T?T.value:e.get(ne)};define(ke[180],Te([1,0,26,4]),function(ne,e,i,T){"use strict";var I;Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionSecrets=void 0;class N{constructor(R,S){I.set(this,void 0),this.b=new T.Emitter,this.onDidChange=this.b.event,this.a=i.ExtensionIdentifier.toKey(R.identifier),Je(this,I,S,"f"),Le(this,I,"f").onDidChangePassword(k=>{k.extensionId===this.a&&this.b.fire({key:k.key})})}get(R){return Le(this,I,"f").get(this.a,R)}store(R,S){return Le(this,I,"f").store(this.a,R,S)}delete(R){return Le(this,I,"f").delete(this.a,R)}}e.ExtensionSecrets=N,I=new WeakMap}),define(ke[70],Te([1,0,3,174,4,18]),function(ne,e,i,T,I,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostTunnelService=e.IExtHostTunnelService=e.TunnelDtoConverter=void 0;var E;(function(S){function k(D){return{remoteAddress:D.remoteAddress,localAddress:D.localAddress,public:!!D.public,privacy:D.privacy??(D.public?T.TunnelPrivacyId.Public:T.TunnelPrivacyId.Private),protocol:D.protocol}}S.fromApiTunnel=k;function M(D){return{remoteAddress:{host:D.tunnelRemoteHost,port:D.tunnelRemotePort},localAddress:D.localAddress,public:D.privacy!==T.TunnelPrivacyId.ConstantPrivate&&D.privacy!==T.TunnelPrivacyId.ConstantPrivate,privacy:D.privacy,protocol:D.protocol}}S.fromServiceTunnel=M})(E=e.TunnelDtoConverter||(e.TunnelDtoConverter={})),e.IExtHostTunnelService=(0,i.createDecorator)("IExtHostTunnelService");let R=class{constructor(k){this.onDidChangeTunnels=new I.Emitter().event}async $applyCandidateFilter(k){return k}async openTunnel(k,M){}async getTunnels(){return[]}async setTunnelFactory(k){return{dispose:()=>{}}}registerPortsAttributesProvider(k,M){return{dispose:()=>{}}}async $providePortAttributes(k,M,D,h,b){return[]}async $forwardPort(k,M){}async $closeTunnel(k){}async $onDidTunnelsChange(){}async $registerCandidateFinder(){}};R=qe([Ve(0,N.IExtHostRpcService)],R),e.ExtHostTunnelService=R}),define(ke[55],Te([1,0,3]),function(ne,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.URITransformerService=e.IURITransformerService=void 0,e.IURITransformerService=(0,i.createDecorator)("IURITransformerService");class T{constructor(N){N?(this.transformIncoming=N.transformIncoming.bind(N),this.transformOutgoing=N.transformOutgoing.bind(N),this.transformOutgoingURI=N.transformOutgoingURI.bind(N),this.transformOutgoingScheme=N.transformOutgoingScheme.bind(N)):(this.transformIncoming=E=>E,this.transformOutgoing=E=>E,this.transformOutgoingURI=E=>E,this.transformOutgoingScheme=E=>E)}}e.URITransformerService=T}),define(ke[181],Te([1,0,23]),function(ne,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.deserializeWebviewMessage=e.serializeWebviewMessage=void 0;class T{constructor(){this.buffers=[]}add(S){let k=this.buffers.indexOf(S);return k<0&&(k=this.buffers.length,this.buffers.push(S)),k}}function I(R,S){if(S.serializeBuffersForPostMessage){const k=new T,M=(b,g)=>{if(g instanceof ArrayBuffer){const a=k.add(g);return{$$vscode_array_buffer_reference$$:!0,index:a}}else if(ArrayBuffer.isView(g)){const a=N(g);if(a){const o=k.add(g.buffer);return{$$vscode_array_buffer_reference$$:!0,index:o,view:{type:a,byteLength:g.byteLength,byteOffset:g.byteOffset}}}}return g},D=JSON.stringify(R,M),h=k.buffers.map(b=>{const g=new Uint8Array(b);return i.VSBuffer.wrap(g)});return{message:D,buffers:h}}else return{message:JSON.stringify(R),buffers:[]}}e.serializeWebviewMessage=I;function N(R){switch(R.constructor.name){case"Int8Array":return 1;case"Uint8Array":return 2;case"Uint8ClampedArray":return 3;case"Int16Array":return 4;case"Uint16Array":return 5;case"Int32Array":return 6;case"Uint32Array":return 7;case"Float32Array":return 8;case"Float64Array":return 9;case"BigInt64Array":return 10;case"BigUint64Array":return 11}}function E(R,S){const k=S.map(h=>{const b=new ArrayBuffer(h.byteLength);return new Uint8Array(b).set(h.buffer),b}),M=S.length?(h,b)=>{if(b&&typeof b=="object"&&b.$$vscode_array_buffer_reference$$){const g=b,{index:a}=g,o=k[a];if(g.view)switch(g.view.type){case 1:return new Int8Array(o,g.view.byteOffset,g.view.byteLength/Int8Array.BYTES_PER_ELEMENT);case 2:return new Uint8Array(o,g.view.byteOffset,g.view.byteLength/Uint8Array.BYTES_PER_ELEMENT);case 3:return new Uint8ClampedArray(o,g.view.byteOffset,g.view.byteLength/Uint8ClampedArray.BYTES_PER_ELEMENT);case 4:return new Int16Array(o,g.view.byteOffset,g.view.byteLength/Int16Array.BYTES_PER_ELEMENT);case 5:return new Uint16Array(o,g.view.byteOffset,g.view.byteLength/Uint16Array.BYTES_PER_ELEMENT);case 6:return new Int32Array(o,g.view.byteOffset,g.view.byteLength/Int32Array.BYTES_PER_ELEMENT);case 7:return new Uint32Array(o,g.view.byteOffset,g.view.byteLength/Uint32Array.BYTES_PER_ELEMENT);case 8:return new Float32Array(o,g.view.byteOffset,g.view.byteLength/Float32Array.BYTES_PER_ELEMENT);case 9:return new Float64Array(o,g.view.byteOffset,g.view.byteLength/Float64Array.BYTES_PER_ELEMENT);case 10:return new BigInt64Array(o,g.view.byteOffset,g.view.byteLength/BigInt64Array.BYTES_PER_ELEMENT);case 11:return new BigUint64Array(o,g.view.byteOffset,g.view.byteLength/BigUint64Array.BYTES_PER_ELEMENT);default:throw new Error("Unknown array buffer view type")}return o}return b}:void 0;return{message:JSON.parse(R,M),arrayBuffers:k}}e.deserializeWebviewMessage=E}),define(ke[95],Te([1,0,147,9,2,6,3,30,43,15,39,124,29]),function(ne,e,i,T,I,N,E,R,S,k,M,D,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createEditorOpenError=e.isEditorOpenError=e.isTextEditorViewState=e.EditorsOrder=e.pathsToEditors=e.CloseDirection=e.EditorResourceAccessor=e.SideBySideEditor=e.GroupModelChangeKind=e.EditorCloseContext=e.isEditorIdentifier=e.isEditorInputWithOptionsAndGroup=e.isEditorInputWithOptions=e.createTooLargeFileError=e.isDiffEditorInput=e.isSideBySideEditorInput=e.isEditorInput=e.AbstractEditorInput=e.EditorInputCapabilities=e.SaveSourceRegistry=e.SaveReason=e.Verbosity=e.isResourceMergeEditorInput=e.isUntitledWithAssociatedResource=e.isUntitledResourceEditorInput=e.isResourceSideBySideEditorInput=e.isResourceDiffEditorInput=e.isResourceEditorInput=e.findViewStateForEditor=e.isEditorPaneWithSelection=e.EditorPaneSelectionCompareResult=e.EditorPaneSelectionChangeReason=e.BINARY_DIFF_EDITOR_ID=e.TEXT_DIFF_EDITOR_ID=e.SIDE_BY_SIDE_EDITOR_ID=e.DEFAULT_EDITOR_ASSOCIATION=e.EditorExtensions=void 0,e.EditorExtensions={EditorPane:"workbench.contributions.editors",EditorFactory:"workbench.contributions.editor.inputFactories"},e.DEFAULT_EDITOR_ASSOCIATION={id:"default",displayName:(0,i.localize)(0,null),providerDisplayName:(0,i.localize)(1,null)},e.SIDE_BY_SIDE_EDITOR_ID="workbench.editor.sidebysideEditor",e.TEXT_DIFF_EDITOR_ID="workbench.editors.textDiffEditor",e.BINARY_DIFF_EDITOR_ID="workbench.editors.binaryResourceDiffEditor";var b;(function(q){q[q.PROGRAMMATIC=1]="PROGRAMMATIC",q[q.USER=2]="USER",q[q.EDIT=3]="EDIT",q[q.NAVIGATION=4]="NAVIGATION",q[q.JUMP=5]="JUMP"})(b=e.EditorPaneSelectionChangeReason||(e.EditorPaneSelectionChangeReason={}));var g;(function(q){q[q.IDENTICAL=1]="IDENTICAL",q[q.SIMILAR=2]="SIMILAR",q[q.DIFFERENT=3]="DIFFERENT"})(g=e.EditorPaneSelectionCompareResult||(e.EditorPaneSelectionCompareResult={}));function a(q){const K=q;return!!K&&typeof K.getSelection=="function"&&!!K.onDidChangeSelection}e.isEditorPaneWithSelection=a;function o(q,K,X){for(const de of X.visibleEditorPanes)if(de.group.id===K&&q.matches(de.input))return de.getViewState()}e.findViewStateForEditor=o;function l(q){if(s(q))return!1;const K=q;return I.URI.isUri(K?.resource)}e.isResourceEditorInput=l;function p(q){if(s(q))return!1;const K=q;return K?.original!==void 0&&K.modified!==void 0}e.isResourceDiffEditorInput=p;function w(q){if(s(q)||p(q))return!1;const K=q;return K?.primary!==void 0&&K.secondary!==void 0}e.isResourceSideBySideEditorInput=w;function O(q){if(s(q))return!1;const K=q;return K?K.resource===void 0||K.resource.scheme===k.Schemas.untitled||K.forceUntitled===!0:!1}e.isUntitledResourceEditorInput=O;const v=/Untitled-\d+/;function t(q){return q.scheme===k.Schemas.untitled&&q.path.length>1&&!v.test(q.path)}e.isUntitledWithAssociatedResource=t;function d(q){if(s(q))return!1;const K=q;return I.URI.isUri(K?.base?.resource)&&I.URI.isUri(K?.input1?.resource)&&I.URI.isUri(K?.input2?.resource)&&I.URI.isUri(K?.result?.resource)}e.isResourceMergeEditorInput=d;var r;(function(q){q[q.SHORT=0]="SHORT",q[q.MEDIUM=1]="MEDIUM",q[q.LONG=2]="LONG"})(r=e.Verbosity||(e.Verbosity={}));var u;(function(q){q[q.EXPLICIT=1]="EXPLICIT",q[q.AUTO=2]="AUTO",q[q.FOCUS_CHANGE=3]="FOCUS_CHANGE",q[q.WINDOW_CHANGE=4]="WINDOW_CHANGE"})(u=e.SaveReason||(e.SaveReason={}));class c{constructor(){this.a=new Map}registerSource(K,X){let de=this.a.get(K);return de||(de={source:K,label:X},this.a.set(K,de)),de.source}getSourceLabel(K){return this.a.get(K)?.label??K}}e.SaveSourceRegistry=new c;var y;(function(q){q[q.None=0]="None",q[q.Readonly=2]="Readonly",q[q.Untitled=4]="Untitled",q[q.Singleton=8]="Singleton",q[q.RequiresTrust=16]="RequiresTrust",q[q.CanSplitInGroup=32]="CanSplitInGroup",q[q.ForceDescription=64]="ForceDescription",q[q.CanDropIntoEditor=128]="CanDropIntoEditor",q[q.MultipleEditors=256]="MultipleEditors"})(y=e.EditorInputCapabilities||(e.EditorInputCapabilities={}));class n extends N.Disposable{}e.AbstractEditorInput=n;function s(q){return q instanceof n}e.isEditorInput=s;function f(q){const K=q;return I.URI.isUri(K?.preferredResource)}function A(q){const K=q;return s(K?.primary)&&s(K?.secondary)}e.isSideBySideEditorInput=A;function P(q){const K=q;return s(K?.modified)&&s(K?.original)}e.isDiffEditorInput=P;function H(q,K,X,de,ye){return we(de,[(0,D.toAction)({id:"workbench.action.openLargeFile",label:(0,i.localize)(2,null),run:()=>{const Fe={...X,limits:{size:Number.MAX_VALUE}};q.openEditor(K,Fe)}}),(0,D.toAction)({id:"workbench.action.configureEditorLargeFileConfirmation",label:(0,i.localize)(3,null),run:()=>ye.openUserSettings({query:"workbench.editorLargeFileConfirmation"})})],{forceMessage:!0,forceSeverity:h.default.Warning})}e.createTooLargeFileError=H;function Y(q){return s(q?.editor)}e.isEditorInputWithOptions=Y;function Z(q){const K=q;return Y(q)&&K?.group!==void 0}e.isEditorInputWithOptionsAndGroup=Z;function _(q){const K=q;return typeof K?.groupId=="number"&&s(K.editor)}e.isEditorIdentifier=_;var j;(function(q){q[q.UNKNOWN=0]="UNKNOWN",q[q.REPLACE=1]="REPLACE",q[q.MOVE=2]="MOVE",q[q.UNPIN=3]="UNPIN"})(j=e.EditorCloseContext||(e.EditorCloseContext={}));var L;(function(q){q[q.GROUP_ACTIVE=0]="GROUP_ACTIVE",q[q.GROUP_INDEX=1]="GROUP_INDEX",q[q.GROUP_LOCKED=2]="GROUP_LOCKED",q[q.EDITOR_OPEN=3]="EDITOR_OPEN",q[q.EDITOR_CLOSE=4]="EDITOR_CLOSE",q[q.EDITOR_MOVE=5]="EDITOR_MOVE",q[q.EDITOR_ACTIVE=6]="EDITOR_ACTIVE",q[q.EDITOR_LABEL=7]="EDITOR_LABEL",q[q.EDITOR_CAPABILITIES=8]="EDITOR_CAPABILITIES",q[q.EDITOR_PIN=9]="EDITOR_PIN",q[q.EDITOR_STICKY=10]="EDITOR_STICKY",q[q.EDITOR_DIRTY=11]="EDITOR_DIRTY",q[q.EDITOR_WILL_DISPOSE=12]="EDITOR_WILL_DISPOSE"})(L=e.GroupModelChangeKind||(e.GroupModelChangeKind={}));var m;(function(q){q[q.PRIMARY=1]="PRIMARY",q[q.SECONDARY=2]="SECONDARY",q[q.BOTH=3]="BOTH",q[q.ANY=4]="ANY"})(m=e.SideBySideEditor||(e.SideBySideEditor={}));class F{getOriginalUri(K,X){if(!K)return;if(d(K))return e.EditorResourceAccessor.getOriginalUri(K.result,X);if(X?.supportSideBySide){const{primary:ye,secondary:Fe}=this.a(K);if(ye&&Fe){if(X?.supportSideBySide===m.BOTH)return{primary:this.getOriginalUri(ye,{filterByScheme:X.filterByScheme}),secondary:this.getOriginalUri(Fe,{filterByScheme:X.filterByScheme})};if(X?.supportSideBySide===m.ANY)return this.getOriginalUri(ye,{filterByScheme:X.filterByScheme})??this.getOriginalUri(Fe,{filterByScheme:X.filterByScheme});K=X.supportSideBySide===m.PRIMARY?ye:Fe}}if(p(K)||w(K)||d(K))return;const de=f(K)?K.preferredResource:K.resource;return!de||!X||!X.filterByScheme?de:this.b(de,X.filterByScheme)}a(K){return A(K)||w(K)?{primary:K.primary,secondary:K.secondary}:P(K)||p(K)?{primary:K.modified,secondary:K.original}:{primary:void 0,secondary:void 0}}getCanonicalUri(K,X){if(!K)return;if(d(K))return e.EditorResourceAccessor.getCanonicalUri(K.result,X);if(X?.supportSideBySide){const{primary:ye,secondary:Fe}=this.a(K);if(ye&&Fe){if(X?.supportSideBySide===m.BOTH)return{primary:this.getCanonicalUri(ye,{filterByScheme:X.filterByScheme}),secondary:this.getCanonicalUri(Fe,{filterByScheme:X.filterByScheme})};if(X?.supportSideBySide===m.ANY)return this.getCanonicalUri(ye,{filterByScheme:X.filterByScheme})??this.getCanonicalUri(Fe,{filterByScheme:X.filterByScheme});K=X.supportSideBySide===m.PRIMARY?ye:Fe}}if(p(K)||w(K)||d(K))return;const de=K.resource;return!de||!X||!X.filterByScheme?de:this.b(de,X.filterByScheme)}b(K,X){if(Array.isArray(X)){if(X.some(de=>K.scheme===de))return K}else if(X===K.scheme)return K}}e.EditorResourceAccessor=new F;var B;(function(q){q[q.LEFT=0]="LEFT",q[q.RIGHT=1]="RIGHT"})(B=e.CloseDirection||(e.CloseDirection={}));class J{constructor(){this.c=new Map,this.d=new Map}start(K){const X=this.a=K.get(E.IInstantiationService);for(const[de,ye]of this.c)this.e(de,ye,X);this.c.clear()}e(K,X,de){const ye=de.createInstance(X);this.d.set(K,ye)}registerFileEditorFactory(K){if(this.b)throw new Error("Can only register one file editor factory.");this.b=K}getFileEditorFactory(){return(0,T.assertIsDefined)(this.b)}registerEditorSerializer(K,X){if(this.c.has(K)||this.d.has(K))throw new Error(`A editor serializer with type ID '${K}' was already registered.`);return this.a?this.e(K,X,this.a):this.c.set(K,X),(0,N.toDisposable)(()=>{this.c.delete(K),this.d.delete(K)})}getEditorSerializer(K){return this.d.get(typeof K=="string"?K:K.typeId)}}R.Registry.add(e.EditorExtensions.EditorFactory,new J);async function me(q,K,X){return!q||!q.length?[]:await Promise.all(q.map(async de=>{const ye=I.URI.revive(de.fileUri);if(!ye){X.info("Cannot resolve the path because it is not valid.",de);return}if(!await K.canHandleResource(ye)){X.info("Cannot resolve the path because it cannot be handled",de);return}let ze=de.exists,Pe=de.type;if(typeof ze!="boolean"||typeof Pe!="number")try{Pe=(await K.stat(ye)).isDirectory?S.FileType.Directory:S.FileType.Unknown,ze=!0}catch(Se){X.error(Se),ze=!1}if(!ze&&de.openOnlyIfExists){X.info("Cannot resolve the path because it does not exist",de);return}if(Pe===S.FileType.Directory){X.info("Cannot resolve the path because it is a directory",de);return}const Ie={...de.options,pinned:!0};return ze?{resource:ye,options:Ie}:{resource:ye,options:Ie,forceUntitled:!0}}))}e.pathsToEditors=me;var te;(function(q){q[q.MOST_RECENTLY_ACTIVE=0]="MOST_RECENTLY_ACTIVE",q[q.SEQUENTIAL=1]="SEQUENTIAL"})(te=e.EditorsOrder||(e.EditorsOrder={}));function oe(q){const K=q;if(!K)return!1;const X=K;if(X.modified)return oe(X.modified);const de=K;return!!(de.contributionsState&&de.viewState&&Array.isArray(de.cursorState))}e.isTextEditorViewState=oe;function ce(q){return(0,M.isErrorWithActions)(q)}e.isEditorOpenError=ce;function we(q,K,X){const de=(0,M.createErrorWithActions)(q,K);return de.forceMessage=X?.forceMessage,de.forceSeverity=X?.forceSeverity,de.allowDialog=X?.allowDialog,de}e.createEditorOpenError=we}),define(ke[182],Te([1,0,4,148,3,6,28,30,16,63,22,84,173]),function(ne,e,i,T,I,N,E,R,S,k,M,D,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoTreeViewError=e.ResolvableTreeItem=e.TreeItemCollapsibleState=e.ViewVisibilityState=e.IViewDescriptorService=e.IViewsService=e.ViewContentGroups=e.ViewContainerLocationToString=e.ViewContainerLocations=e.ViewContainerLocation=e.Extensions=e.defaultViewIcon=void 0,e.defaultViewIcon=(0,h.registerIcon)("default-view-icon",D.Codicon.window,(0,T.localize)(0,null));var b;(function(r){r.ViewContainersRegistry="workbench.registry.view.containers",r.ViewsRegistry="workbench.registry.view"})(b=e.Extensions||(e.Extensions={}));var g;(function(r){r[r.Sidebar=0]="Sidebar",r[r.Panel=1]="Panel",r[r.AuxiliaryBar=2]="AuxiliaryBar"})(g=e.ViewContainerLocation||(e.ViewContainerLocation={})),e.ViewContainerLocations=[0,1,2];function a(r){switch(r){case 0:return"sidebar";case 1:return"panel";case 2:return"auxiliarybar"}}e.ViewContainerLocationToString=a;class o extends N.Disposable{constructor(){super(...arguments),this.c=this.B(new i.Emitter),this.onDidRegister=this.c.event,this.f=this.B(new i.Emitter),this.onDidDeregister=this.f.event,this.g=new Map,this.h=[]}get all(){return(0,S.flatten)([...this.g.values()])}registerViewContainer(u,c,y){const n=this.get(u.id);if(n)return n;const s=u;return s.openCommandActionDescriptor=y?.doNotRegisterOpenCommand?void 0:s.openCommandActionDescriptor??{id:s.id},(0,E.getOrSet)(this.g,c,[]).push(s),y?.isDefault&&this.h.push(s),this.c.fire({viewContainer:s,viewContainerLocation:c}),s}deregisterViewContainer(u){for(const c of this.g.keys()){const y=this.g.get(c),n=y?.indexOf(u);if(n!==-1){y?.splice(n,1),y.length===0&&this.g.delete(c),this.f.fire({viewContainer:u,viewContainerLocation:c});return}}}get(u){return this.all.filter(c=>c.id===u)[0]}getViewContainers(u){return[...this.g.get(u)||[]]}getViewContainerLocation(u){return[...this.g.keys()].filter(c=>this.getViewContainers(c).filter(y=>y?.id===u.id).length>0)[0]}getDefaultViewContainer(u){return this.h.find(c=>this.getViewContainerLocation(c)===u)}}R.Registry.add(b.ViewContainersRegistry,new o);var l;(function(r){r.Open="2_open",r.Debug="4_debug",r.SCM="5_scm",r.More="9_more"})(l=e.ViewContentGroups||(e.ViewContentGroups={}));function p(r,u){const c=r.group??l.More,y=u.group??l.More;return c!==y?c.localeCompare(y):(r.order??5)-(u.order??5)}class w extends N.Disposable{constructor(){super(...arguments),this.c=this.B(new i.Emitter),this.onViewsRegistered=this.c.event,this.f=this.B(new i.Emitter),this.onViewsDeregistered=this.f.event,this.g=this.B(new i.Emitter),this.onDidChangeContainer=this.g.event,this.h=this.B(new i.Emitter),this.onDidChangeViewWelcomeContent=this.h.event,this.i=[],this.j=new Map,this.k=new k.SetMap}registerViews(u,c){this.registerViews2([{views:u,viewContainer:c}])}registerViews2(u){u.forEach(({views:c,viewContainer:y})=>this.l(c,y)),this.c.fire(u)}deregisterViews(u,c){const y=this.m(u,c);y.length&&this.f.fire({views:y,viewContainer:c})}moveViews(u,c){for(const y of this.j.keys())if(y!==c){const n=this.m(u,y);n.length&&(this.l(n,c),this.g.fire({views:n,from:y,to:c}))}}getViews(u){return this.j.get(u)||[]}getView(u){for(const c of this.i){const y=(this.j.get(c)||[]).filter(n=>n.id===u)[0];if(y)return y}return null}getViewContainer(u){for(const c of this.i)if((this.j.get(c)||[]).filter(n=>n.id===u)[0])return c;return null}registerViewWelcomeContent(u,c){return this.k.add(u,c),this.h.fire(u),(0,N.toDisposable)(()=>{this.k.delete(u,c),this.h.fire(u)})}registerViewWelcomeContent2(u,c){const y=new Map;for(const[n,s]of c)this.k.add(u,s),y.set(n,(0,N.toDisposable)(()=>{this.k.delete(u,s),this.h.fire(u)}));return this.h.fire(u),y}getViewWelcomeContent(u){const c=[];return this.k.forEach(u,y=>c.push(y)),c.sort(p)}l(u,c){let y=this.j.get(c);y||(y=[],this.j.set(c,y),this.i.push(c));for(const n of u){if(this.getView(n.id)!==null)throw new Error((0,T.localize)(1,null,n.id));y.push(n)}}m(u,c){const y=this.j.get(c);if(!y)return[];const n=[],s=[];for(const f of y)u.includes(f)?n.push(f):s.push(f);return n.length&&(s.length?this.j.set(c,s):(this.j.delete(c),this.i.splice(this.i.indexOf(c),1))),n}}R.Registry.add(b.ViewsRegistry,new w),e.IViewsService=(0,I.createDecorator)("viewsService"),e.IViewDescriptorService=(0,I.createDecorator)("viewDescriptorService");var O;(function(r){r[r.Default=0]="Default",r[r.Expand=1]="Expand"})(O=e.ViewVisibilityState||(e.ViewVisibilityState={}));var v;(function(r){r[r.None=0]="None",r[r.Collapsed=1]="Collapsed",r[r.Expanded=2]="Expanded"})(v=e.TreeItemCollapsibleState||(e.TreeItemCollapsibleState={}));class t{constructor(u,c){this.c=!1,this.d=!1,(0,M.mixin)(this,u),this.d=!!c,this.resolve=async y=>{if(c&&!this.c){const n=await c(y);n&&(this.tooltip=this.tooltip??n.tooltip,this.command=this.command??n.command)}y.isCancellationRequested||(this.c=!0)}}get hasResolve(){return this.d}resetResolve(){this.c=!1}asTreeItem(){return{handle:this.handle,parentHandle:this.parentHandle,collapsibleState:this.collapsibleState,label:this.label,description:this.description,icon:this.icon,iconDark:this.iconDark,themeIcon:this.themeIcon,resourceUri:this.resourceUri,tooltip:this.tooltip,contextValue:this.contextValue,command:this.command,children:this.children,accessibilityInformation:this.accessibilityInformation}}}e.ResolvableTreeItem=t;class d extends Error{constructor(u){super((0,T.localize)(2,null,u))}}e.NoTreeViewError=d}),define(ke[183],Te([1,0,4,17,149]),function(ne,e,i,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractDebugAdapter=void 0;class N{constructor(){this.f=new Map,this.k=[],this.m=new i.Emitter,this.n=new i.Emitter,this.d=1}get onError(){return this.m.event}get onExit(){return this.n.event}onMessage(R){this.j&&this.m.fire(new Error("attempt to set more than one 'Message' callback")),this.j=R}onEvent(R){this.i&&this.m.fire(new Error("attempt to set more than one 'Event' callback")),this.i=R}onRequest(R){this.g&&this.m.fire(new Error("attempt to set more than one 'Request' callback")),this.g=R}sendResponse(R){R.seq>0?this.m.fire(new Error(`attempt to send more than one response for command ${R.command}`)):this.s("response",R)}sendRequest(R,S,k,M){const D={command:R};if(S&&Object.keys(S).length>0&&(D.arguments=S),this.s("request",D),typeof M=="number"){const h=setTimeout(()=>{clearTimeout(h);const b=this.f.get(D.seq);if(b){this.f.delete(D.seq);const g={type:"response",seq:0,request_seq:D.seq,success:!1,command:R,message:(0,I.localize)(0,null,M,R)};b(g)}},M)}return k&&this.f.set(D.seq,k),D.seq}acceptMessage(R){this.j?this.j(R):(this.k.push(R),this.k.length===1&&this.q())}o(R,S){return R.type!=="event"||S.type!=="event"}async q(){let R;for(;this.k.length;){if((!R||this.o(this.k[0],R))&&await(0,T.timeout)(0),R=this.k.shift(),!R)return;switch(R.type){case"event":this.i?.(R);break;case"request":this.g?.(R);break;case"response":{const S=R,k=this.f.get(S.request_seq);k&&(this.f.delete(S.request_seq),k(S));break}}}}s(R,S){S.type=R,S.seq=this.d++,this.sendMessage(S)}async u(){if(this.f.size===0)return Promise.resolve();const R=new Map;this.f.forEach((S,k)=>R.set(k,S)),await(0,T.timeout)(500),R.forEach((S,k)=>{S({type:"response",seq:0,request_seq:k,success:!1,command:"canceled",message:"canceled"}),this.f.delete(k)})}getPendingRequestIds(){return Array.from(this.f.keys())}dispose(){this.k=[]}}e.AbstractDebugAdapter=N}),define(ke[184],Te([1,0,150,42,3]),function(ne,e,i,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BreakpointWidgetContext=e.IDebugService=e.DebuggerString=e.DebugConfigurationProviderTriggerKind=e.DEBUG_MEMORY_SCHEME=e.MemoryRangeType=e.getStateLabel=e.State=e.INTERNAL_CONSOLE_OPTIONS_SCHEMA=e.DEBUG_SCHEME=e.BREAKPOINT_EDITOR_CONTRIBUTION_ID=e.EDITOR_CONTRIBUTION_ID=e.debuggerDisabledMessage=e.CONTEXT_FOCUSED_STACK_FRAME_HAS_INSTRUCTION_POINTER_REFERENCE=e.CONTEXT_LANGUAGE_SUPPORTS_DISASSEMBLE_REQUEST=e.CONTEXT_DISASSEMBLY_VIEW_FOCUS=e.CONTEXT_DISASSEMBLE_REQUEST_SUPPORTED=e.CONTEXT_MULTI_SESSION_DEBUG=e.CONTEXT_MULTI_SESSION_REPL=e.CONTEXT_EXCEPTION_WIDGET_VISIBLE=e.CONTEXT_VARIABLE_IS_READONLY=e.CONTEXT_VARIABLE_EVALUATE_NAME_PRESENT=e.CONTEXT_SUSPEND_DEBUGGEE_SUPPORTED=e.CONTEXT_TERMINATE_DEBUGGEE_SUPPORTED=e.CONTEXT_BREAK_WHEN_VALUE_IS_READ_SUPPORTED=e.CONTEXT_BREAK_WHEN_VALUE_IS_ACCESSED_SUPPORTED=e.CONTEXT_BREAK_WHEN_VALUE_CHANGES_SUPPORTED=e.CONTEXT_SET_EXPRESSION_SUPPORTED=e.CONTEXT_SET_VARIABLE_SUPPORTED=e.CONTEXT_DEBUG_PROTOCOL_VARIABLE_MENU_CONTEXT=e.CONTEXT_DEBUG_EXTENSION_AVAILABLE=e.CONTEXT_DEBUGGERS_AVAILABLE=e.CONTEXT_BREAKPOINTS_EXIST=e.CONTEXT_STEP_INTO_TARGETS_SUPPORTED=e.CONTEXT_JUMP_TO_CURSOR_SUPPORTED=e.CONTEXT_STACK_FRAME_SUPPORTS_RESTART=e.CONTEXT_RESTART_FRAME_SUPPORTED=e.CONTEXT_STEP_BACK_SUPPORTED=e.CONTEXT_FOCUSED_SESSION_IS_ATTACH=e.CONTEXT_LOADED_SCRIPTS_ITEM_TYPE=e.CONTEXT_LOADED_SCRIPTS_SUPPORTED=e.CONTEXT_BREAKPOINT_SUPPORTS_CONDITION=e.CONTEXT_BREAKPOINT_ITEM_TYPE=e.CONTEXT_CAN_VIEW_MEMORY=e.CONTEXT_WATCH_ITEM_TYPE=e.CONTEXT_CALLSTACK_SESSION_HAS_ONE_THREAD=e.CONTEXT_CALLSTACK_ITEM_STOPPED=e.CONTEXT_CALLSTACK_SESSION_IS_ATTACH=e.CONTEXT_CALLSTACK_ITEM_TYPE=e.CONTEXT_BREAKPOINT_INPUT_FOCUSED=e.CONTEXT_EXPRESSION_SELECTED=e.CONTEXT_VARIABLES_FOCUSED=e.CONTEXT_WATCH_EXPRESSIONS_EXIST=e.CONTEXT_WATCH_EXPRESSIONS_FOCUSED=e.CONTEXT_BREAKPOINTS_FOCUSED=e.CONTEXT_IN_BREAKPOINT_WIDGET=e.CONTEXT_BREAKPOINT_WIDGET_VISIBLE=e.CONTEXT_IN_DEBUG_REPL=e.CONTEXT_IN_DEBUG_MODE=e.CONTEXT_HAS_DEBUGGED=e.CONTEXT_DEBUG_UX=e.CONTEXT_DEBUG_UX_KEY=e.CONTEXT_DEBUG_STATE=e.CONTEXT_DEBUG_CONFIGURATION_TYPE=e.CONTEXT_DEBUG_TYPE=e.REPL_VIEW_ID=e.DEBUG_PANEL_ID=e.DISASSEMBLY_VIEW_ID=e.BREAKPOINTS_VIEW_ID=e.LOADED_SCRIPTS_VIEW_ID=e.CALLSTACK_VIEW_ID=e.WATCH_VIEW_ID=e.VARIABLES_VIEW_ID=e.VIEWLET_ID=void 0,e.VIEWLET_ID="workbench.view.debug",e.VARIABLES_VIEW_ID="workbench.debug.variablesView",e.WATCH_VIEW_ID="workbench.debug.watchExpressionsView",e.CALLSTACK_VIEW_ID="workbench.debug.callStackView",e.LOADED_SCRIPTS_VIEW_ID="workbench.debug.loadedScriptsView",e.BREAKPOINTS_VIEW_ID="workbench.debug.breakPointsView",e.DISASSEMBLY_VIEW_ID="workbench.debug.disassemblyView",e.DEBUG_PANEL_ID="workbench.panel.repl",e.REPL_VIEW_ID="workbench.panel.repl.view",e.CONTEXT_DEBUG_TYPE=new T.RawContextKey("debugType",void 0,{type:"string",description:i.localize(0,null)}),e.CONTEXT_DEBUG_CONFIGURATION_TYPE=new T.RawContextKey("debugConfigurationType",void 0,{type:"string",description:i.localize(1,null)}),e.CONTEXT_DEBUG_STATE=new T.RawContextKey("debugState","inactive",{type:"string",description:i.localize(2,null)}),e.CONTEXT_DEBUG_UX_KEY="debugUx",e.CONTEXT_DEBUG_UX=new T.RawContextKey(e.CONTEXT_DEBUG_UX_KEY,"default",{type:"string",description:i.localize(3,null)}),e.CONTEXT_HAS_DEBUGGED=new T.RawContextKey("hasDebugged",!1,{type:"boolean",description:i.localize(4,null)}),e.CONTEXT_IN_DEBUG_MODE=new T.RawContextKey("inDebugMode",!1,{type:"boolean",description:i.localize(5,null)}),e.CONTEXT_IN_DEBUG_REPL=new T.RawContextKey("inDebugRepl",!1,{type:"boolean",description:i.localize(6,null)}),e.CONTEXT_BREAKPOINT_WIDGET_VISIBLE=new T.RawContextKey("breakpointWidgetVisible",!1,{type:"boolean",description:i.localize(7,null)}),e.CONTEXT_IN_BREAKPOINT_WIDGET=new T.RawContextKey("inBreakpointWidget",!1,{type:"boolean",description:i.localize(8,null)}),e.CONTEXT_BREAKPOINTS_FOCUSED=new T.RawContextKey("breakpointsFocused",!0,{type:"boolean",description:i.localize(9,null)}),e.CONTEXT_WATCH_EXPRESSIONS_FOCUSED=new T.RawContextKey("watchExpressionsFocused",!0,{type:"boolean",description:i.localize(10,null)}),e.CONTEXT_WATCH_EXPRESSIONS_EXIST=new T.RawContextKey("watchExpressionsExist",!1,{type:"boolean",description:i.localize(11,null)}),e.CONTEXT_VARIABLES_FOCUSED=new T.RawContextKey("variablesFocused",!0,{type:"boolean",description:i.localize(12,null)}),e.CONTEXT_EXPRESSION_SELECTED=new T.RawContextKey("expressionSelected",!1,{type:"boolean",description:i.localize(13,null)}),e.CONTEXT_BREAKPOINT_INPUT_FOCUSED=new T.RawContextKey("breakpointInputFocused",!1,{type:"boolean",description:i.localize(14,null)}),e.CONTEXT_CALLSTACK_ITEM_TYPE=new T.RawContextKey("callStackItemType",void 0,{type:"string",description:i.localize(15,null)}),e.CONTEXT_CALLSTACK_SESSION_IS_ATTACH=new T.RawContextKey("callStackSessionIsAttach",!1,{type:"boolean",description:i.localize(16,null)}),e.CONTEXT_CALLSTACK_ITEM_STOPPED=new T.RawContextKey("callStackItemStopped",!1,{type:"boolean",description:i.localize(17,null)}),e.CONTEXT_CALLSTACK_SESSION_HAS_ONE_THREAD=new T.RawContextKey("callStackSessionHasOneThread",!1,{type:"boolean",description:i.localize(18,null)}),e.CONTEXT_WATCH_ITEM_TYPE=new T.RawContextKey("watchItemType",void 0,{type:"string",description:i.localize(19,null)}),e.CONTEXT_CAN_VIEW_MEMORY=new T.RawContextKey("canViewMemory",void 0,{type:"boolean",description:i.localize(20,null)}),e.CONTEXT_BREAKPOINT_ITEM_TYPE=new T.RawContextKey("breakpointItemType",void 0,{type:"string",description:i.localize(21,null)}),e.CONTEXT_BREAKPOINT_SUPPORTS_CONDITION=new T.RawContextKey("breakpointSupportsCondition",!1,{type:"boolean",description:i.localize(22,null)}),e.CONTEXT_LOADED_SCRIPTS_SUPPORTED=new T.RawContextKey("loadedScriptsSupported",!1,{type:"boolean",description:i.localize(23,null)}),e.CONTEXT_LOADED_SCRIPTS_ITEM_TYPE=new T.RawContextKey("loadedScriptsItemType",void 0,{type:"string",description:i.localize(24,null)}),e.CONTEXT_FOCUSED_SESSION_IS_ATTACH=new T.RawContextKey("focusedSessionIsAttach",!1,{type:"boolean",description:i.localize(25,null)}),e.CONTEXT_STEP_BACK_SUPPORTED=new T.RawContextKey("stepBackSupported",!1,{type:"boolean",description:i.localize(26,null)}),e.CONTEXT_RESTART_FRAME_SUPPORTED=new T.RawContextKey("restartFrameSupported",!1,{type:"boolean",description:i.localize(27,null)}),e.CONTEXT_STACK_FRAME_SUPPORTS_RESTART=new T.RawContextKey("stackFrameSupportsRestart",!1,{type:"boolean",description:i.localize(28,null)}),e.CONTEXT_JUMP_TO_CURSOR_SUPPORTED=new T.RawContextKey("jumpToCursorSupported",!1,{type:"boolean",description:i.localize(29,null)}),e.CONTEXT_STEP_INTO_TARGETS_SUPPORTED=new T.RawContextKey("stepIntoTargetsSupported",!1,{type:"boolean",description:i.localize(30,null)}),e.CONTEXT_BREAKPOINTS_EXIST=new T.RawContextKey("breakpointsExist",!1,{type:"boolean",description:i.localize(31,null)}),e.CONTEXT_DEBUGGERS_AVAILABLE=new T.RawContextKey("debuggersAvailable",!1,{type:"boolean",description:i.localize(32,null)}),e.CONTEXT_DEBUG_EXTENSION_AVAILABLE=new T.RawContextKey("debugExtensionAvailable",!0,{type:"boolean",description:i.localize(33,null)}),e.CONTEXT_DEBUG_PROTOCOL_VARIABLE_MENU_CONTEXT=new T.RawContextKey("debugProtocolVariableMenuContext",void 0,{type:"string",description:i.localize(34,null)}),e.CONTEXT_SET_VARIABLE_SUPPORTED=new T.RawContextKey("debugSetVariableSupported",!1,{type:"boolean",description:i.localize(35,null)}),e.CONTEXT_SET_EXPRESSION_SUPPORTED=new T.RawContextKey("debugSetExpressionSupported",!1,{type:"boolean",description:i.localize(36,null)}),e.CONTEXT_BREAK_WHEN_VALUE_CHANGES_SUPPORTED=new T.RawContextKey("breakWhenValueChangesSupported",!1,{type:"boolean",description:i.localize(37,null)}),e.CONTEXT_BREAK_WHEN_VALUE_IS_ACCESSED_SUPPORTED=new T.RawContextKey("breakWhenValueIsAccessedSupported",!1,{type:"boolean",description:i.localize(38,null)}),e.CONTEXT_BREAK_WHEN_VALUE_IS_READ_SUPPORTED=new T.RawContextKey("breakWhenValueIsReadSupported",!1,{type:"boolean",description:i.localize(39,null)}),e.CONTEXT_TERMINATE_DEBUGGEE_SUPPORTED=new T.RawContextKey("terminateDebuggeeSupported",!1,{type:"boolean",description:i.localize(40,null)}),e.CONTEXT_SUSPEND_DEBUGGEE_SUPPORTED=new T.RawContextKey("suspendDebuggeeSupported",!1,{type:"boolean",description:i.localize(41,null)}),e.CONTEXT_VARIABLE_EVALUATE_NAME_PRESENT=new T.RawContextKey("variableEvaluateNamePresent",!1,{type:"boolean",description:i.localize(42,null)}),e.CONTEXT_VARIABLE_IS_READONLY=new T.RawContextKey("variableIsReadonly",!1,{type:"boolean",description:i.localize(43,null)}),e.CONTEXT_EXCEPTION_WIDGET_VISIBLE=new T.RawContextKey("exceptionWidgetVisible",!1,{type:"boolean",description:i.localize(44,null)}),e.CONTEXT_MULTI_SESSION_REPL=new T.RawContextKey("multiSessionRepl",!1,{type:"boolean",description:i.localize(45,null)}),e.CONTEXT_MULTI_SESSION_DEBUG=new T.RawContextKey("multiSessionDebug",!1,{type:"boolean",description:i.localize(46,null)}),e.CONTEXT_DISASSEMBLE_REQUEST_SUPPORTED=new T.RawContextKey("disassembleRequestSupported",!1,{type:"boolean",description:i.localize(47,null)}),e.CONTEXT_DISASSEMBLY_VIEW_FOCUS=new T.RawContextKey("disassemblyViewFocus",!1,{type:"boolean",description:i.localize(48,null)}),e.CONTEXT_LANGUAGE_SUPPORTS_DISASSEMBLE_REQUEST=new T.RawContextKey("languageSupportsDisassembleRequest",!1,{type:"boolean",description:i.localize(49,null)}),e.CONTEXT_FOCUSED_STACK_FRAME_HAS_INSTRUCTION_POINTER_REFERENCE=new T.RawContextKey("focusedStackFrameHasInstructionReference",!1,{type:"boolean",description:i.localize(50,null)});const N=h=>i.localize(51,null,h);e.debuggerDisabledMessage=N,e.EDITOR_CONTRIBUTION_ID="editor.contrib.debug",e.BREAKPOINT_EDITOR_CONTRIBUTION_ID="editor.contrib.breakpoint",e.DEBUG_SCHEME="debug",e.INTERNAL_CONSOLE_OPTIONS_SCHEMA={enum:["neverOpen","openOnSessionStart","openOnFirstSessionStart"],default:"openOnFirstSessionStart",description:i.localize(52,null)};var E;(function(h){h[h.Inactive=0]="Inactive",h[h.Initializing=1]="Initializing",h[h.Stopped=2]="Stopped",h[h.Running=3]="Running"})(E=e.State||(e.State={}));function R(h){switch(h){case 1:return"initializing";case 2:return"stopped";case 3:return"running";default:return"inactive"}}e.getStateLabel=R;var S;(function(h){h[h.Valid=0]="Valid",h[h.Unreadable=1]="Unreadable",h[h.Error=2]="Error"})(S=e.MemoryRangeType||(e.MemoryRangeType={})),e.DEBUG_MEMORY_SCHEME="vscode-debug-memory";var k;(function(h){h[h.Initial=1]="Initial",h[h.Dynamic=2]="Dynamic"})(k=e.DebugConfigurationProviderTriggerKind||(e.DebugConfigurationProviderTriggerKind={}));var M;(function(h){h.UnverifiedBreakpoints="unverifiedBreakpoints"})(M=e.DebuggerString||(e.DebuggerString={})),e.IDebugService=(0,I.createDecorator)("debugService");var D;(function(h){h[h.CONDITION=0]="CONDITION",h[h.HIT_COUNT=1]="HIT_COUNT",h[h.LOG_MESSAGE=2]="LOG_MESSAGE"})(D=e.BreakpointWidgetContext||(e.BreakpointWidgetContext={}))}),define(ke[185],Te([1,0,10,2,19,22,15,44,21,16]),function(ne,e,i,T,I,N,E,R,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.saveAllBeforeDebugStart=e.getVisibleAndSorted=e.convertToVSCPaths=e.convertToDAPaths=e.isUri=e.getEvaluatableExpressionAtPosition=e.getExactExpressionStartAndEnd=e.isDebuggerMainContribution=e.getExtensionHostDebugSession=e.isSessionAttach=e.filterExceptionsFromTelemetry=e.formatPII=void 0;const M=/{([^}]+)}/g;function D(n,s,f){return n.replace(M,function(A,P){return s&&P.length>0&&P[0]!=="_"?A:f&&f.hasOwnProperty(P)?f[P]:A})}e.formatPII=D;function h(n){const s={};for(const f of Object.keys(n))f.startsWith("!")||(s[f]=n[f]);return s}e.filterExceptionsFromTelemetry=h;function b(n){return n.configuration.request==="attach"&&!g(n)&&(!n.parentSession||b(n.parentSession))}e.isSessionAttach=b;function g(n){let s=n.configuration.type;if(!!s)return s==="vslsShare"&&(s=n.configuration.adapterProxy.configuration.type),(0,i.equalsIgnoreCase)(s,"extensionhost")||(0,i.equalsIgnoreCase)(s,"pwa-extensionhost")?n:n.parentSession?g(n.parentSession):void 0}e.getExtensionHostDebugSession=g;function a(n){return n.type&&(n.label||n.program||n.runtime)}e.isDebuggerMainContribution=a;function o(n,s,f){let A,P=0;const H=/([^()\[\]{}<>\s+\-/%~#^;=|,`!]|\->)+/g;let Y=null;for(;Y=H.exec(n);){const Z=Y.index+1,_=Z+Y[0].length;if(Z<=s&&_>=f){A=Y[0],P=Z;break}}if(A){const Z=/\w+/g;let _=null;for(;(_=Z.exec(A))&&!(_.index+1+P+_[0].length>=f););_&&(A=A.substring(0,Z.lastIndex))}return A?{start:P,end:P+A.length-1}:{start:0,end:0}}e.getExactExpressionStartAndEnd=o;async function l(n,s,f,A){if(n.evaluatableExpressionProvider.has(s)){const P=n.evaluatableExpressionProvider.ordered(s),H=(0,k.coalesce)(await Promise.all(P.map(async Y=>{try{return await Y.provideEvaluatableExpression(s,f,A??S.CancellationToken.None)}catch{return}})));if(H.length>0){let Y=H[0].expression;const Z=H[0].range;return Y||(Y=s.getLineContent(f.lineNumber).substring(Z.startColumn-1,Z.endColumn-1)),{range:Z,matchingExpression:Y}}}else{const P=s.getLineContent(f.lineNumber),{start:H,end:Y}=o(P,f.column,f.column),Z=P.substring(H-1,Y);return{matchingExpression:Z,range:new R.Range(f.lineNumber,H,f.lineNumber,H+Z.length)}}return null}e.getEvaluatableExpressionAtPosition=l;const p=/^[a-zA-Z][a-zA-Z0-9\+\-\.]+:/;function w(n){return!!(n&&n.match(p))}e.isUri=w;function O(n){if(typeof n.path=="string"&&!(typeof n.sourceReference=="number"&&n.sourceReference>0)){if(w(n.path))return T.URI.parse(n.path);if((0,I.isAbsolute)(n.path))return T.URI.file(n.path)}return n.path}function v(n){if(typeof n.path=="object"){const s=T.URI.revive(n.path);if(s)return s.scheme===E.Schemas.file?s.fsPath:s.toString()}return n.path}function t(n,s){const f=s?O:v,A=(0,N.deepClone)(n);return r(A,(P,H)=>{P&&H&&(H.path=f(H))}),A}e.convertToDAPaths=t;function d(n,s){const f=s?O:v,A=(0,N.deepClone)(n);return r(A,(P,H)=>{!P&&H&&(H.path=f(H))}),A}e.convertToVSCPaths=d;function r(n,s){switch(n.type){case"event":{const f=n;switch(f.event){case"output":s(!1,f.body.source);break;case"loadedSource":s(!1,f.body.source);break;case"breakpoint":s(!1,f.body.breakpoint.source);break;default:break}break}case"request":{const f=n;switch(f.command){case"setBreakpoints":s(!0,f.arguments.source);break;case"breakpointLocations":s(!0,f.arguments.source);break;case"source":s(!0,f.arguments.source);break;case"gotoTargets":s(!0,f.arguments.source);break;case"launchVSCode":f.arguments.args.forEach(A=>s(!1,A));break;default:break}break}case"response":{const f=n;if(f.success&&f.body)switch(f.command){case"stackTrace":f.body.stackFrames.forEach(A=>s(!1,A.source));break;case"loadedSources":f.body.sources.forEach(A=>s(!1,A));break;case"scopes":f.body.scopes.forEach(A=>s(!1,A.source));break;case"setFunctionBreakpoints":f.body.breakpoints.forEach(A=>s(!1,A.source));break;case"setBreakpoints":f.body.breakpoints.forEach(A=>s(!1,A.source));break;case"disassemble":f.body?.instructions.forEach(P=>s(!1,P.location));break;default:break}break}}}function u(n){return n.filter(s=>!s.presentation?.hidden).sort((s,f)=>s.presentation?f.presentation?s.presentation.group?f.presentation.group?s.presentation.group!==f.presentation.group?s.presentation.group.localeCompare(f.presentation.group):c(s.presentation.order,f.presentation.order):-1:f.presentation.group?1:c(s.presentation.order,f.presentation.order):-1:f.presentation?1:0)}e.getVisibleAndSorted=u;function c(n,s){return typeof n!="number"?typeof s!="number"?0:1:typeof s!="number"?-1:n-s}async function y(n,s){const f=n.getValue("debug.saveBeforeStart",{overrideIdentifier:s.activeTextEditorLanguageId});if(f!=="none"&&(await s.saveAll(),f==="allEditorsInActiveGroup")){const A=s.activeEditorPane;A&&A.input.resource?.scheme===E.Schemas.untitled&&await s.save({editor:A.input,groupId:A.group.id})}await n.reloadConfiguration()}e.saveAllBeforeDebugStart=y}),define(ke[71],Te([1,0,23,35,186,65,15,19,20,42]),function(ne,e,i,T,I,N,E,R,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compressOutputItemStreams=e.isTextStreamMime=e.NotebookWorkingCopyTypeIdentifier=e.CellStatusbarAlignment=e.NotebookSetting=e.notebookDocumentFilterMatch=e.isDocumentExcludePattern=e.NotebookEditorPriority=e.NOTEBOOK_EDITOR_CURSOR_BOUNDARY=e.diff=e.MimeTypeDisplayOrder=e.CellUri=e.CellEditType=e.SelectionStateType=e.NotebookCellsChangeType=e.RendererMessagingSpec=e.NotebookRendererMatch=e.NotebookCellExecutionState=e.NotebookRunState=e.RENDERER_NOT_AVAILABLE=e.RENDERER_EQUIVALENT_EXTENSIONS=e.ACCESSIBLE_NOTEBOOK_DISPLAY_ORDER=e.NOTEBOOK_DISPLAY_ORDER=e.CellKind=e.INTERACTIVE_WINDOW_EDITOR_ID=e.NOTEBOOK_DIFF_EDITOR_ID=e.NOTEBOOK_EDITOR_ID=void 0,e.NOTEBOOK_EDITOR_ID="workbench.editor.notebook",e.NOTEBOOK_DIFF_EDITOR_ID="workbench.editor.notebookTextDiffEditor",e.INTERACTIVE_WINDOW_EDITOR_ID="workbench.editor.interactive";var M;(function(m){m[m.Markup=1]="Markup",m[m.Code=2]="Code"})(M=e.CellKind||(e.CellKind={})),e.NOTEBOOK_DISPLAY_ORDER=["application/json","application/javascript","text/html","image/svg+xml",N.Mimes.latex,N.Mimes.markdown,"image/png","image/jpeg",N.Mimes.text],e.ACCESSIBLE_NOTEBOOK_DISPLAY_ORDER=[N.Mimes.latex,N.Mimes.markdown,"application/json",N.Mimes.text,"text/html","image/svg+xml","image/png","image/jpeg"],e.RENDERER_EQUIVALENT_EXTENSIONS=new Map([["ms-toolsai.jupyter",new Set(["jupyter-notebook","interactive"])],["ms-toolsai.jupyter-renderers",new Set(["jupyter-notebook","interactive"])]]),e.RENDERER_NOT_AVAILABLE="_notAvailable";var D;(function(m){m[m.Running=1]="Running",m[m.Idle=2]="Idle"})(D=e.NotebookRunState||(e.NotebookRunState={}));var h;(function(m){m[m.Unconfirmed=1]="Unconfirmed",m[m.Pending=2]="Pending",m[m.Executing=3]="Executing"})(h=e.NotebookCellExecutionState||(e.NotebookCellExecutionState={}));var b;(function(m){m[m.WithHardKernelDependency=0]="WithHardKernelDependency",m[m.WithOptionalKernelDependency=1]="WithOptionalKernelDependency",m[m.Pure=2]="Pure",m[m.Never=3]="Never"})(b=e.NotebookRendererMatch||(e.NotebookRendererMatch={}));var g;(function(m){m.Always="always",m.Never="never",m.Optional="optional"})(g=e.RendererMessagingSpec||(e.RendererMessagingSpec={}));var a;(function(m){m[m.ModelChange=1]="ModelChange",m[m.Move=2]="Move",m[m.ChangeCellLanguage=5]="ChangeCellLanguage",m[m.Initialize=6]="Initialize",m[m.ChangeCellMetadata=7]="ChangeCellMetadata",m[m.Output=8]="Output",m[m.OutputItem=9]="OutputItem",m[m.ChangeCellContent=10]="ChangeCellContent",m[m.ChangeDocumentMetadata=11]="ChangeDocumentMetadata",m[m.ChangeCellInternalMetadata=12]="ChangeCellInternalMetadata",m[m.ChangeCellMime=13]="ChangeCellMime",m[m.Unknown=100]="Unknown"})(a=e.NotebookCellsChangeType||(e.NotebookCellsChangeType={}));var o;(function(m){m[m.Handle=0]="Handle",m[m.Index=1]="Index"})(o=e.SelectionStateType||(e.SelectionStateType={}));var l;(function(m){m[m.Replace=1]="Replace",m[m.Output=2]="Output",m[m.Metadata=3]="Metadata",m[m.CellLanguage=4]="CellLanguage",m[m.DocumentMetadata=5]="DocumentMetadata",m[m.Move=6]="Move",m[m.OutputItems=7]="OutputItems",m[m.PartialMetadata=8]="PartialMetadata",m[m.PartialInternalMetadata=9]="PartialInternalMetadata"})(l=e.CellEditType||(e.CellEditType={}));var p;(function(m){m.scheme=E.Schemas.vscodeNotebookCell;const F=["W","X","Y","Z","a","b","c","d","e","f"],B=new RegExp(`^[${F.join("")}]+`),J=7;function me(K,X){const de=X.toString(J),Fe=`${de.length<F.length?F[de.length-1]:"z"}${de}s${(0,i.encodeBase64)(i.VSBuffer.fromString(K.scheme),!0,!0)}`;return K.with({scheme:m.scheme,fragment:Fe})}m.generate=me;function te(K){if(K.scheme!==m.scheme)return;const X=K.fragment.indexOf("s");if(X<0)return;const de=parseInt(K.fragment.substring(0,X).replace(B,""),J),ye=(0,i.decodeBase64)(K.fragment.substring(X+1)).toString();if(!isNaN(de))return{handle:de,notebook:K.with({scheme:ye,fragment:null})}}m.parse=te;function oe(K,X){return K.with({scheme:E.Schemas.vscodeNotebookCellOutput,fragment:`op${X??""},${K.scheme!==E.Schemas.file?K.scheme:""}`})}m.generateCellOutputUri=oe;function ce(K){if(K.scheme!==E.Schemas.vscodeNotebookCellOutput)return;const X=/^op([0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12})?\,(.*)$/i.exec(K.fragment);if(!X)return;const de=X[1]&&X[1]!==""?X[1]:void 0,ye=X[2];return{outputId:de,notebook:K.with({scheme:ye||E.Schemas.file,fragment:null})}}m.parseCellOutputUri=ce;function we(K,X,de){return m.generate(K,X).with({scheme:de})}m.generateCellPropertyUri=we;function q(K,X){if(K.scheme===X)return m.parse(K.with({scheme:m.scheme}))}m.parseCellPropertyUri=q})(p=e.CellUri||(e.CellUri={}));const w=m=>S.isWindows?m.replace(/\//g,"\\"):m;class O{constructor(F=[],B=e.NOTEBOOK_DISPLAY_ORDER){this.e=B,this.d=[...new Set(F)].map(J=>({pattern:J,matches:T.parse(w(J))}))}sort(F){const B=new Map(I.Iterable.map(F,me=>[me,w(me)]));let J=[];for(const{matches:me}of this.d)for(const[te,oe]of B)if(me(oe)){J.push(te),B.delete(te);break}return B.size&&(J=J.concat([...B.keys()].sort((me,te)=>this.e.indexOf(me)-this.e.indexOf(te)))),J}prioritize(F,B){const J=this.f(F);if(J===-1){this.d.unshift({pattern:F,matches:T.parse(w(F))});return}const me=new Set(B.map(oe=>this.f(oe,J)));me.delete(-1);const te=Array.from(me).sort();this.d.splice(J+1,0,...te.map(oe=>this.d[oe]));for(let oe=te.length-1;oe>=0;oe--)this.d.splice(te[oe],1)}toArray(){return this.d.map(F=>F.pattern)}f(F,B=this.d.length){const J=w(F);for(let me=0;me<B;me++)if(this.d[me].matches(J))return me;return-1}}e.MimeTypeDisplayOrder=O;function v(m,F,B,J=(me,te)=>me===te){const me=[];function te(we,q,K){if(q===0&&K.length===0)return;const X=me[me.length-1];X&&X.start+X.deleteCount===we?(X.deleteCount+=q,X.toInsert.push(...K)):me.push({start:we,deleteCount:q,toInsert:K})}let oe=0,ce=0;for(;;){if(oe===m.length){te(oe,0,F.slice(ce));break}if(ce===F.length){te(oe,m.length-oe,[]);break}const we=m[oe],q=F[ce];if(J(we,q)){oe+=1,ce+=1;continue}B(q)?(te(oe,1,[]),oe+=1):(te(oe,0,[q]),ce+=1)}return me}e.diff=v,e.NOTEBOOK_EDITOR_CURSOR_BOUNDARY=new k.RawContextKey("notebookEditorCursorAtBoundary","none");var t;(function(m){m.default="default",m.option="option"})(t=e.NotebookEditorPriority||(e.NotebookEditorPriority={}));function d(m){const F=m;return!!((typeof F.include=="string"||T.isRelativePattern(F.include))&&(typeof F.exclude=="string"||T.isRelativePattern(F.exclude)))}e.isDocumentExcludePattern=d;function r(m,F,B){if(Array.isArray(m.viewType)&&m.viewType.indexOf(F)>=0||m.viewType===F)return!0;if(m.filenamePattern){const J=d(m.filenamePattern)?m.filenamePattern.include:m.filenamePattern,me=d(m.filenamePattern)?m.filenamePattern.exclude:void 0;if(T.match(J,(0,R.basename)(B.fsPath).toLowerCase()))return!(me&&T.match(me,(0,R.basename)(B.fsPath).toLowerCase()))}return!1}e.notebookDocumentFilterMatch=r,e.NotebookSetting={displayOrder:"notebook.displayOrder",cellToolbarLocation:"notebook.cellToolbarLocation",cellToolbarVisibility:"notebook.cellToolbarVisibility",showCellStatusBar:"notebook.showCellStatusBar",textDiffEditorPreview:"notebook.diff.enablePreview",experimentalInsertToolbarAlignment:"notebook.experimental.insertToolbarAlignment",compactView:"notebook.compactView",focusIndicator:"notebook.cellFocusIndicator",insertToolbarLocation:"notebook.insertToolbarLocation",globalToolbar:"notebook.globalToolbar",undoRedoPerCell:"notebook.undoRedoPerCell",consolidatedOutputButton:"notebook.consolidatedOutputButton",showFoldingControls:"notebook.showFoldingControls",dragAndDropEnabled:"notebook.dragAndDropEnabled",cellEditorOptionsCustomizations:"notebook.editorOptionsCustomizations",consolidatedRunButton:"notebook.consolidatedRunButton",openGettingStarted:"notebook.experimental.openGettingStarted",textOutputLineLimit:"notebook.output.textLineLimit",globalToolbarShowLabel:"notebook.globalToolbarShowLabel",markupFontSize:"notebook.markup.fontSize",interactiveWindowCollapseCodeCells:"interactiveWindow.collapseCellInputCode",outputLineHeight:"notebook.outputLineHeight",outputFontSize:"notebook.outputFontSize",outputFontFamily:"notebook.outputFontFamily",kernelPickerType:"notebook.kernelPicker.type",outputScrolling:"notebook.experimental.outputScrolling",outputWordWrap:"notebook.output.wordWrap",logging:"notebook.logging"};var u;(function(m){m[m.Left=1]="Left",m[m.Right=2]="Right"})(u=e.CellStatusbarAlignment||(e.CellStatusbarAlignment={}));class c{static create(F){return`${c.d}${F}`}static parse(F){if(F.startsWith(c.d))return F.substring(c.d.length)}}c.d="notebook/",e.NotebookWorkingCopyTypeIdentifier=c;function y(m){return["application/vnd.code.notebook.stdout","application/vnd.code.notebook.stderr"].includes(m)}e.isTextStreamMime=y;const n=new TextDecoder;function s(m){const F=[];let B=!1;for(const J of m)(F.length===0||B)&&(F.push(J),B=!0);return H(F),L(i.VSBuffer.concat(F.map(J=>i.VSBuffer.wrap(J))))}e.compressOutputItemStreams=s;const f=`${String.fromCharCode(27)}[A`,A=f.split("").map(m=>m.charCodeAt(0)),P=10;function H(m){m.forEach((F,B)=>{if(B===0||F.length<f.length)return;const J=m[B-1],me=F.subarray(0,f.length);if(me[0]===A[0]&&me[1]===A[1]&&me[2]===A[2]){const te=J.lastIndexOf(P);if(te===-1)return;m[B-1]=J.subarray(0,te),m[B]=F.subarray(f.length)}})}function Y(m){let F=m;do m=F,F=m.replace(/[^\n]\x08/gm,"");while(F.length<m.length);return m}function Z(m){for(m=m.replace(/\r+\n/gm,`
`);m.search(/\r[^$]/g)>-1;){const F=m.match(/^(.*)\r+/m)[1];let B=m.match(/\r+(.*)$/m)[1];B=B+F.slice(B.length,F.length),m=m.replace(/\r+.*$/m,"\r").replace(/^.*\r/m,B)}return m}const _="\b".charCodeAt(0),j="\r".charCodeAt(0);function L(m){return!m.buffer.includes(_)&&!m.buffer.includes(j)?m:i.VSBuffer.fromString(Z(Y(n.decode(m.buffer))))}}),define(ke[187],Te([1,0,3]),function(ne,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.INotebookExecutionService=e.CellExecutionUpdateType=void 0;var T;(function(I){I[I.Output=1]="Output",I[I.OutputItems=2]="OutputItems",I[I.ExecutionState=3]="ExecutionState"})(T=e.CellExecutionUpdateType||(e.CellExecutionUpdateType={})),e.INotebookExecutionService=(0,i.createDecorator)("INotebookExecutionService")}),define(ke[45],Te([1,0]),function(ne,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TestId=e.TestPosition=e.TestIdPathParts=void 0;var i;(function(N){N.Delimiter="\0"})(i=e.TestIdPathParts||(e.TestIdPathParts={}));var T;(function(N){N[N.IsSame=0]="IsSame",N[N.Disconnected=1]="Disconnected",N[N.IsChild=2]="IsChild",N[N.IsParent=3]="IsParent"})(T=e.TestPosition||(e.TestPosition={}));class I{static fromExtHostTestItem(E,R,S=E.parent){if(E._isRoot)return new I([R]);const k=[E.id];for(let M=S;M&&M.id!==R;M=M.parent)k.push(M.id);return k.push(R),new I(k.reverse())}static isRoot(E){return!E.includes("\0")}static root(E){const R=E.indexOf("\0");return R===-1?E:E.slice(0,R)}static fromString(E){return new I(E.split("\0"))}static join(E,R){return new I([...E.path,R])}static joinToString(E,R){return E.toString()+"\0"+R}static parentId(E){const R=E.lastIndexOf("\0");return R===-1?void 0:E.slice(0,R)}static localId(E){const R=E.lastIndexOf("\0");return R===-1?E:E.slice(R+1)}static compare(E,R){return E===R?0:R.startsWith(E+"\0")?2:E.startsWith(R+"\0")?3:1}constructor(E,R=E.length){if(this.path=E,this.d=R,E.length===0||R<1)throw new Error("cannot create test with empty path")}get parentId(){return this.d>1?new I(this.path,this.d-1):void 0}get localId(){return this.path[this.d-1]}get controllerId(){return this.path[0]}get isRoot(){return this.d===1}*idsFromRoot(){for(let E=1;E<=this.d;E++)yield new I(this.path,E)}*idsToRoot(){for(let E=this.d;E>0;E--)yield new I(this.path,E)}compare(E){if(typeof E=="string")return I.compare(this.toString(),E);for(let R=0;R<E.d&&R<this.d;R++)if(E.path[R]!==this.path[R])return 1;return E.d>this.d?2:E.d<this.d?3:0}toJSON(){return this.toString()}toString(){if(!this.c){this.c=this.path[0];for(let E=1;E<this.d;E++)this.c+="\0",this.c+=this.path[E]}return this.c}}e.TestId=I}),define(ke[56],Te([1,0,2,44,45]),function(ne,e,i,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractIncrementalTestCollection=e.TestsDiffOp=e.TestDiffOpType=e.DetailType=e.TestResultItem=e.applyTestItemUpdate=e.ITestItemUpdate=e.InternalTestItem=e.TestItemExpandState=e.ITestItem=e.denamespaceTestTag=e.namespaceTestTag=e.ITestTaskState=e.ITestMessage=e.ITestOutputMessage=e.getMarkId=e.ITestErrorMessage=e.TestMessageType=e.IRichLocation=e.isStartControllerTests=e.testRunProfileBitsetList=e.TestRunProfileBitset=e.TestResultState=void 0;var N;(function(n){n[n.Unset=0]="Unset",n[n.Queued=1]="Queued",n[n.Running=2]="Running",n[n.Passed=3]="Passed",n[n.Failed=4]="Failed",n[n.Skipped=5]="Skipped",n[n.Errored=6]="Errored"})(N=e.TestResultState||(e.TestResultState={}));var E;(function(n){n[n.Run=2]="Run",n[n.Debug=4]="Debug",n[n.Coverage=8]="Coverage",n[n.HasNonDefaultProfile=16]="HasNonDefaultProfile",n[n.HasConfigurable=32]="HasConfigurable",n[n.SupportsContinuousRun=64]="SupportsContinuousRun"})(E=e.TestRunProfileBitset||(e.TestRunProfileBitset={})),e.testRunProfileBitsetList=[2,4,8,16,32,64];const R=n=>"runId"in n;e.isStartControllerTests=R;var S;(function(n){n.serialize=s=>({range:s.range.toJSON(),uri:s.uri.toJSON()}),n.deserialize=s=>({range:T.Range.lift(s.range),uri:i.URI.revive(s.uri)})})(S=e.IRichLocation||(e.IRichLocation={}));var k;(function(n){n[n.Error=0]="Error",n[n.Output=1]="Output"})(k=e.TestMessageType||(e.TestMessageType={}));var M;(function(n){n.serialize=s=>({message:s.message,type:0,expected:s.expected,actual:s.actual,location:s.location&&S.serialize(s.location)}),n.deserialize=s=>({message:s.message,type:0,expected:s.expected,actual:s.actual,location:s.location&&S.deserialize(s.location)})})(M=e.ITestErrorMessage||(e.ITestErrorMessage={}));const D=(n,s)=>`${s?"s":"e"}${n}`;e.getMarkId=D;var h;(function(n){n.serialize=s=>({message:s.message,type:1,offset:s.offset,length:s.length,location:s.location&&S.serialize(s.location)}),n.deserialize=s=>({message:s.message,type:1,offset:s.offset,length:s.length,location:s.location&&S.deserialize(s.location)})})(h=e.ITestOutputMessage||(e.ITestOutputMessage={}));var b;(function(n){n.serialize=s=>s.type===0?M.serialize(s):h.serialize(s),n.deserialize=s=>s.type===0?M.deserialize(s):h.deserialize(s)})(b=e.ITestMessage||(e.ITestMessage={}));var g;(function(n){n.serializeWithoutMessages=s=>({state:s.state,duration:s.duration,messages:[]}),n.serialize=s=>({state:s.state,duration:s.duration,messages:s.messages.map(b.serialize)}),n.deserialize=s=>({state:s.state,duration:s.duration,messages:s.messages.map(b.deserialize)})})(g=e.ITestTaskState||(e.ITestTaskState={}));const a="\0",o=(n,s)=>n+a+s;e.namespaceTestTag=o;const l=n=>{const s=n.indexOf(a);return{ctrlId:n.slice(0,s),tagId:n.slice(s+1)}};e.denamespaceTestTag=l;var p;(function(n){n.serialize=s=>({extId:s.extId,label:s.label,tags:s.tags,busy:s.busy,children:void 0,uri:s.uri?.toJSON(),range:s.range?.toJSON()||null,description:s.description,error:s.error,sortText:s.sortText}),n.deserialize=s=>({extId:s.extId,label:s.label,tags:s.tags,busy:s.busy,children:void 0,uri:s.uri?i.URI.revive(s.uri):void 0,range:s.range?T.Range.lift(s.range):null,description:s.description,error:s.error,sortText:s.sortText})})(p=e.ITestItem||(e.ITestItem={}));var w;(function(n){n[n.NotExpandable=0]="NotExpandable",n[n.Expandable=1]="Expandable",n[n.BusyExpanding=2]="BusyExpanding",n[n.Expanded=3]="Expanded"})(w=e.TestItemExpandState||(e.TestItemExpandState={}));var O;(function(n){n.serialize=s=>({expand:s.expand,item:p.serialize(s.item)}),n.deserialize=s=>({controllerId:I.TestId.root(s.item.extId),expand:s.expand,item:p.deserialize(s.item)})})(O=e.InternalTestItem||(e.InternalTestItem={}));var v;(function(n){n.serialize=s=>{let f;return s.item&&(f={},s.item.label!==void 0&&(f.label=s.item.label),s.item.tags!==void 0&&(f.tags=s.item.tags),s.item.busy!==void 0&&(f.busy=s.item.busy),s.item.uri!==void 0&&(f.uri=s.item.uri?.toJSON()),s.item.range!==void 0&&(f.range=s.item.range?.toJSON()),s.item.description!==void 0&&(f.description=s.item.description),s.item.error!==void 0&&(f.error=s.item.error),s.item.sortText!==void 0&&(f.sortText=s.item.sortText)),{extId:s.extId,expand:s.expand,item:f}},n.deserialize=s=>{let f;return s.item&&(f={},s.item.label!==void 0&&(f.label=s.item.label),s.item.tags!==void 0&&(f.tags=s.item.tags),s.item.busy!==void 0&&(f.busy=s.item.busy),s.item.range!==void 0&&(f.range=s.item.range?T.Range.lift(s.item.range):null),s.item.description!==void 0&&(f.description=s.item.description),s.item.error!==void 0&&(f.error=s.item.error),s.item.sortText!==void 0&&(f.sortText=s.item.sortText)),{extId:s.extId,expand:s.expand,item:f}}})(v=e.ITestItemUpdate||(e.ITestItemUpdate={}));const t=(n,s)=>{s.expand!==void 0&&(n.expand=s.expand),s.item!==void 0&&(n.item=n.item?Object.assign(n.item,s.item):s.item)};e.applyTestItemUpdate=t;var d;(function(n){n.serializeWithoutMessages=s=>({...O.serialize(s),ownComputedState:s.ownComputedState,computedState:s.computedState,tasks:s.tasks.map(g.serializeWithoutMessages),retired:s.retired}),n.serialize=s=>({...O.serialize(s),ownComputedState:s.ownComputedState,computedState:s.computedState,tasks:s.tasks.map(g.serialize),retired:s.retired}),n.deserialize=s=>({...O.deserialize(s),ownComputedState:s.ownComputedState,computedState:s.computedState,tasks:s.tasks.map(g.deserialize),retired:!0})})(d=e.TestResultItem||(e.TestResultItem={}));var r;(function(n){n[n.Function=0]="Function",n[n.Statement=1]="Statement"})(r=e.DetailType||(e.DetailType={}));var u;(function(n){n[n.Add=0]="Add",n[n.Update=1]="Update",n[n.DocumentSynced=2]="DocumentSynced",n[n.Remove=3]="Remove",n[n.IncrementPendingExtHosts=4]="IncrementPendingExtHosts",n[n.Retire=5]="Retire",n[n.AddTag=6]="AddTag",n[n.RemoveTag=7]="RemoveTag"})(u=e.TestDiffOpType||(e.TestDiffOpType={}));var c;(function(n){n.deserialize=s=>s.op===0?{op:s.op,item:O.deserialize(s.item)}:s.op===1?{op:s.op,item:v.deserialize(s.item)}:s.op===2?{op:s.op,uri:i.URI.revive(s.uri),docv:s.docv}:s,n.serialize=s=>s.op===0?{op:s.op,item:O.serialize(s.item)}:s.op===1?{op:s.op,item:v.serialize(s.item)}:s})(c=e.TestsDiffOp||(e.TestsDiffOp={}));class y{constructor(){this.c=new Map,this.d=new Map,this.f=new Set,this.g=0,this.h=0,this.tags=this.c}apply(s){const f=this.o();for(const A of s)switch(A.op){case 0:this.j(O.deserialize(A.item),f);break;case 1:this.k(v.deserialize(A.item),f);break;case 3:this.l(A.itemId,f);break;case 5:this.m(A.itemId);break;case 4:this.updatePendingRoots(A.amount);break;case 6:this.c.set(A.tag.id,A.tag);break;case 7:this.c.delete(A.id);break}f.complete?.()}j(s,f){const A=I.TestId.parentId(s.item.extId)?.toString();let P;if(!A)P=this.p(s),this.f.add(P),this.d.set(s.item.extId,P);else if(this.d.has(A)){const H=this.d.get(A);H.children.add(s.item.extId),P=this.p(s,H),this.d.set(s.item.extId,P)}else{console.error(`Test with unknown parent ID: ${JSON.stringify(s)}`);return}return f.add?.(P),s.expand===2&&this.g++,P}k(s,f){const A=this.d.get(s.extId);if(!!A)return s.expand!==void 0&&(A.expand===2&&this.g--,s.expand===2&&this.g++),(0,e.applyTestItemUpdate)(A,s),f.update?.(A),A}l(s,f){const A=this.d.get(s);if(!A)return;const P=I.TestId.parentId(A.item.extId)?.toString();P?this.d.get(P).children.delete(A.item.extId):this.f.delete(A);const H=[[s]];for(;H.length;)for(const Y of H.pop()){const Z=this.d.get(Y);Z&&(H.push(Z.children),this.d.delete(Y),f.remove?.(Z,Z!==A),Z.expand===2&&this.g--)}}m(s){}updatePendingRoots(s){this.h+=s}o(){return{}}}e.AbstractIncrementalTestCollection=y}),define(ke[72],Te([1,0,17,4,6,49,56,45]),function(ne,e,i,T,I,N,E,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTestItemChildren=e.MixedTestItemController=e.InvalidTestItemError=e.DuplicateTestItemError=e.TestItemCollection=e.TestItemEventOp=void 0;var S;(function(p){p[p.Upsert=0]="Upsert",p[p.SetTags=1]="SetTags",p[p.UpdateCanResolveChildren=2]="UpdateCanResolveChildren",p[p.RemoveChild=3]="RemoveChild",p[p.SetProp=4]="SetProp",p[p.Bulk=5]="Bulk",p[p.DocumentSynced=6]="DocumentSynced"})(S=e.TestItemEventOp||(e.TestItemEventOp={}));const k=(p,w)=>p===w,D=Object.entries({range:(p,w)=>p===w?!0:!p||!w?!1:p.equalsRange(w),busy:k,label:k,description:k,error:k,sortText:k,tags:(p,w)=>!(p.length!==w.length||p.some(O=>!w.includes(O)))}),h=(p,w)=>{let O;for(const[v,t]of D)t(p[v],w[v])||(O?O[v]=w[v]:O={[v]:w[v]});return O};class b extends I.Disposable{get root(){return this.m.root}constructor(w){super(),this.m=w,this.f=this.B(new i.RunOnceScheduler(()=>this.flushDiff(),200)),this.g=this.B(new T.Emitter),this.tree=new Map,this.j=new Map,this.k=[],this.onDidGenerateDiff=this.g.event,this.root.canResolveChildren=!0,this.u(this.root,void 0)}set resolveHandler(w){this.h=w;for(const O of this.tree.values())this.G(O)}get resolveHandler(){return this.h}collectDiff(){const w=this.k;return this.k=[],w}pushDiff(w){switch(w.op){case 2:{for(const O of this.k)if(O.op===2&&O.uri===w.uri){O.docv=w.docv;return}break}case 1:{const O=this.k[this.k.length-1];if(O){if(O.op===1&&O.item.extId===w.item.extId){(0,E.applyTestItemUpdate)(O.item,w.item);return}if(O.op===0&&O.item.item.extId===w.item.extId){(0,E.applyTestItemUpdate)(O.item,w.item);return}}break}}this.k.push(w),this.f.isScheduled()||this.f.schedule()}expand(w,O){const v=this.tree.get(w);if(!!v){if((v.expandLevels===void 0||O>v.expandLevels)&&(v.expandLevels=O),v.expand===1){const t=this.I(v);return t.isOpen()?this.H(v,O-1):t.wait().then(()=>this.H(v,O-1))}else if(v.expand===3)return v.resolveBarrier?.isOpen()===!1?v.resolveBarrier.wait().then(()=>this.H(v,O-1)):this.H(v,O-1)}}dispose(){for(const w of this.tree.values())this.m.getApiFor(w.actual).listener=void 0;this.tree.clear(),this.k=[],super.dispose()}p(w,O){switch(O.op){case 3:this.L(R.TestId.joinToString(w.fullId,O.id));break;case 0:this.u(O.item,w);break;case 5:for(const v of O.ops)this.p(w,v);break;case 1:this.w(O.new,O.old,w.fullId.toString());break;case 2:this.G(w);break;case 4:this.pushDiff({op:1,item:{extId:w.fullId.toString(),item:O.update}});break;case 6:this.s(w.actual.uri);break;default:(0,N.assertNever)(O)}}s(w){w&&this.pushDiff({op:2,uri:w,docv:this.m.getDocumentVersion(w)})}u(w,O){const v=R.TestId.fromExtHostTestItem(w,this.root.id,O?.actual),t=this.m.getApiFor(w);t.parent&&t.parent!==O?.actual&&this.m.getChildren(t.parent).delete(w.id);let d=this.tree.get(v.toString());if(!d){d={fullId:v,actual:w,expandLevels:O?.expandLevels?O.expandLevels-1:void 0,expand:0},w.tags.forEach(this.y,this),this.tree.set(d.fullId.toString(),d),this.C(w,O),this.pushDiff({op:0,item:{controllerId:this.m.controllerId,expand:d.expand,item:this.m.toITestItem(w)}}),this.F(w,d,O);return}if(d.actual===w){this.D(w,d,O);return}if(d.actual.uri?.toString()!==w.uri?.toString())return this.L(v.toString()),this.u(w,O);const r=this.m.getChildren(d.actual),u=d.actual,c=h(this.m.toITestItem(u),this.m.toITestItem(w));this.m.getApiFor(u).listener=void 0,d.actual=w,d.expand=0,c&&(c.hasOwnProperty("tags")&&(this.w(w.tags,u.tags,v.toString()),delete c.tags),this.p(d,{op:4,update:c})),this.F(w,d,O);for(const[y,n]of r)this.m.getChildren(w).get(n.id)||this.L(R.TestId.joinToString(v,n.id));this.s(d.actual.uri)}w(w,O,v){const t=new Set(O.map(d=>d.id));for(const d of w)t.delete(d.id)||this.y(d);this.pushDiff({op:1,item:{extId:v,item:{tags:w.map(d=>(0,E.namespaceTestTag)(this.m.controllerId,d.id))}}}),t.forEach(this.z,this)}y(w){const O=this.j.get(w.id);O?O.refCount++:(this.j.set(w.id,{refCount:1}),this.pushDiff({op:6,tag:{id:(0,E.namespaceTestTag)(this.m.controllerId,w.id)}}))}z(w){const O=this.j.get(w);O&&!--O.refCount&&(this.j.delete(w),this.pushDiff({op:7,id:(0,E.namespaceTestTag)(this.m.controllerId,w)}))}C(w,O){this.m.getApiFor(w).parent=O&&O.actual!==this.root?O.actual:void 0}D(w,O,v){this.C(w,v);const t=this.m.getApiFor(w);t.parent=v?.actual,t.listener=d=>this.p(O,d),this.G(O)}F(w,O,v){this.D(w,O,v);for(const[t,d]of this.m.getChildren(w))this.u(d,O)}G(w){let O;this.h?w.resolveBarrier?O=w.resolveBarrier.isOpen()?3:2:O=w.actual.canResolveChildren?1:0:O=0,O!==w.expand&&(w.expand=O,this.pushDiff({op:1,item:{extId:w.fullId.toString(),expand:O}}),O===1&&w.expandLevels!==void 0&&this.I(w))}H(w,O){if(O<0)return;const v=[];for(const[t,d]of this.m.getChildren(w.actual)){const r=this.expand(R.TestId.joinToString(w.fullId,d.id),O);(0,i.isThenable)(r)&&v.push(r)}if(v.length)return Promise.all(v).then(()=>{})}I(w){if(w.resolveBarrier)return w.resolveBarrier;if(!this.h){const d=new i.Barrier;return d.open(),d}w.expand=2,this.J(w);const O=w.resolveBarrier=new i.Barrier,v=d=>{console.error(`Unhandled error in resolveHandler of test controller "${this.m.controllerId}"`,d)};let t;try{t=this.h(w.actual===this.root?void 0:w.actual)}catch(d){v(d)}return(0,i.isThenable)(t)?t.catch(v).then(()=>{O.open(),this.G(w)}):(O.open(),this.G(w)),w.resolveBarrier}J(w){this.pushDiff({op:1,item:{extId:w.fullId.toString(),expand:w.expand}})}L(w){const O=this.tree.get(w);if(!O)throw new Error("attempting to remove non-existent child");this.pushDiff({op:3,itemId:w});const v=[O];for(;v.length;){const t=v.pop();if(!!t){this.m.getApiFor(t.actual).listener=void 0;for(const d of t.actual.tags)this.z(d.id);this.tree.delete(t.fullId.toString());for(const[d,r]of this.m.getChildren(t.actual))v.push(this.tree.get(R.TestId.joinToString(t.fullId,r.id)))}}}flushDiff(){const w=this.collectDiff();w.length&&this.g.fire(w)}}e.TestItemCollection=b;class g extends Error{constructor(w){super(`Attempted to insert a duplicate test item ID ${w}`)}}e.DuplicateTestItemError=g;class a extends Error{constructor(w){super(`TestItem with ID "${w}" is invalid. Make sure to create it from the createTestItem method.`)}}e.InvalidTestItemError=a;class o extends Error{constructor(w,O,v){super(`TestItem with ID "${w}" is from controller "${O}" and cannot be added as a child of an item from controller "${v}".`)}}e.MixedTestItemController=o;const l=(p,w,O)=>{let v=new Map;return{get size(){return v.size},forEach(t,d){for(const r of v.values())t.call(d,r,this)},[Symbol.iterator](){return v.entries()},replace(t){const d=new Map,r=new Set(v.keys()),u={op:5,ops:[]};for(const c of t){if(!(c instanceof O))throw new a(c.id);const y=w(c).controllerId;if(y!==p.controllerId)throw new o(c.id,y,p.controllerId);if(d.has(c.id))throw new g(c.id);d.set(c.id,c),r.delete(c.id),u.ops.push({op:0,item:c})}for(const c of r.keys())u.ops.push({op:3,id:c});p.listener?.(u),v=d},add(t){if(!(t instanceof O))throw new a(t.id);v.set(t.id,t),p.listener?.({op:0,item:t})},delete(t){v.delete(t)&&p.listener?.({op:3,id:t})},get(t){return v.get(t)},toJSON(){return Array.from(v.values())}}};e.createTestItemChildren=l}),define(ke[96],Te([1,0,72]),function(ne,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPrivateApiFor=e.createPrivateApiFor=void 0;const T=new WeakMap,I=(E,R)=>{const S={controllerId:R};return T.set(E,S),S};e.createPrivateApiFor=I;const N=E=>{const R=T.get(E);if(!R)throw new i.InvalidTestItemError(E?.id||"<unknown>");return R};e.getPrivateApiFor=N}),define(ke[73],Te([1,0,15,2]),function(ne,e,i,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decodeAuthority=e.asWebviewUri=e.webviewGenericCspSource=e.webviewRootResourceAuthority=e.webviewResourceBaseHost=void 0,e.webviewResourceBaseHost="vscode-cdn.net",e.webviewRootResourceAuthority=`vscode-resource.${e.webviewResourceBaseHost}`,e.webviewGenericCspSource=`'self' https://*.${e.webviewResourceBaseHost}`;function I(R,S){return R.scheme===i.Schemas.http||R.scheme===i.Schemas.https?R:(S&&S.authority&&S.isRemote&&R.scheme===i.Schemas.file&&(R=T.URI.from({scheme:i.Schemas.vscodeRemote,authority:S.authority,path:R.path})),T.URI.from({scheme:i.Schemas.https,authority:`${R.scheme}+${N(R.authority)}.${e.webviewRootResourceAuthority}`,path:R.path,fragment:R.fragment,query:R.query}))}e.asWebviewUri=I;function N(R){return R.replace(/./g,S=>{const k=S.charCodeAt(0);return k>=97&&k<=122||k>=65&&k<=90||k>=48&&k<=57?S:"-"+k.toString(16).padStart(4,"0")})}function E(R){return R.replace(/-([0-9a-f]{4})/g,(S,k)=>String.fromCharCode(parseInt(k,16)))}e.decodeAuthority=E}),define(ke[188],Te([1,0,4,6,73]),function(ne,e,i,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostEditorInsets=void 0;class N{constructor(R,S,k){this.d=R,this.e=S,this.f=k,this.a=0,this.b=new T.DisposableStore,this.c=new Map,this.b.add(S.onDidChangeVisibleTextEditors(()=>{const M=S.getVisibleTextEditors();for(const D of this.c.values())M.indexOf(D.editor)<0&&D.inset.dispose()}))}dispose(){this.c.forEach(R=>R.inset.dispose()),this.b.dispose()}createWebviewEditorInset(R,S,k,M,D){let h;for(const w of this.e.getVisibleTextEditors(!0))if(w.value===R){h=w;break}if(!h)throw new Error("not a visible editor");const b=this,g=this.a++,a=new i.Emitter,o=new i.Emitter,l=new class{constructor(){this.a="",this.b=Object.create(null)}asWebviewUri(w){return(0,I.asWebviewUri)(w,b.f)}get cspSource(){return I.webviewGenericCspSource}set options(w){this.b=w,b.d.$setOptions(g,w)}get options(){return this.b}set html(w){this.a=w,b.d.$setHtml(g,w)}get html(){return this.a}get onDidReceiveMessage(){return a.event}postMessage(w){return b.d.$postMessage(g,w)}},p=new class{constructor(){this.editor=R,this.line=S,this.height=k,this.webview=l,this.onDidDispose=o.event}dispose(){b.c.has(g)&&(b.c.delete(g),b.d.$disposeEditorInset(g),o.fire(),o.dispose(),a.dispose())}};return this.d.$createEditorInset(g,h.id,h.value.document.uri,S+1,k,M||{},D.identifier,D.extensionLocation),this.c.set(g,{editor:R,inset:p,onDidReceiveMessage:a}),p}$onDidDispose(R){const S=this.c.get(R);S&&S.inset.dispose()}$onDidReceiveMessage(R,S){this.c.get(R)?.onDidReceiveMessage.fire(S)}}e.ExtHostEditorInsets=N}),define(ke[189],Te([1,0,3]),function(ne,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VariableError=e.VariableKind=e.IConfigurationResolverService=void 0,e.IConfigurationResolverService=(0,i.createDecorator)("configurationResolverService");var T;(function(N){N.Unknown="unknown",N.Env="env",N.Config="config",N.Command="command",N.Input="input",N.ExtensionInstallFolder="extensionInstallFolder",N.WorkspaceFolder="workspaceFolder",N.Cwd="cwd",N.WorkspaceFolderBasename="workspaceFolderBasename",N.UserHome="userHome",N.LineNumber="lineNumber",N.SelectedText="selectedText",N.File="file",N.FileWorkspaceFolder="fileWorkspaceFolder",N.RelativeFile="relativeFile",N.RelativeFileDirname="relativeFileDirname",N.FileDirname="fileDirname",N.FileExtname="fileExtname",N.FileBasename="fileBasename",N.FileBasenameNoExtension="fileBasenameNoExtension",N.FileDirnameBasename="fileDirnameBasename",N.ExecPath="execPath",N.ExecInstallFolder="execInstallFolder",N.PathSeparator="pathSeparator"})(T=e.VariableKind||(e.VariableKind={}));class I extends Error{constructor(E,R){super(R),this.variable=E}}e.VariableError=I}),define(ke[190],Te([1,0,19,51,9,22,20,87,153,189,10]),function(ne,e,i,T,I,N,E,R,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractVariableResolverService=void 0;class D{constructor(b,g,a,o){this.g=new Map,this.a=b,this.b=g,this.d=a,o&&(this.c=o.then(l=>this.h(l)))}h(b){if(E.isWindows){const g=Object.create(null);return Object.keys(b).forEach(a=>{g[a.toLowerCase()]=b[a]}),g}return b}resolveWithEnvironment(b,g,a){return this.j({env:this.h(b),userHome:void 0},g?g.uri:void 0,a)}async resolveAsync(b,g){const a={env:await this.c,userHome:await this.d};return this.j(a,b?b.uri:void 0,g)}async i(b,g,a,o){const l=N.deepClone(g);E.isWindows&&l.windows?Object.keys(l.windows).forEach(w=>l[w]=l.windows[w]):E.isMacintosh&&l.osx?Object.keys(l.osx).forEach(w=>l[w]=l.osx[w]):E.isLinux&&l.linux&&Object.keys(l.linux).forEach(w=>l[w]=l.linux[w]),delete l.windows,delete l.osx,delete l.linux;const p={env:await this.c,userHome:await this.d};return this.j(p,b?b.uri:void 0,l,a,o)}async resolveAnyAsync(b,g,a){return this.i(b,g,a)}async resolveAnyMap(b,g,a){const o=new Map;return{newConfig:await this.i(b,g,a,o),resolvedVariables:o}}resolveWithInteractionReplace(b,g,a,o){throw new Error("resolveWithInteractionReplace not implemented.")}resolveWithInteraction(b,g,a,o){throw new Error("resolveWithInteraction not implemented.")}contributeVariable(b,g){if(this.g.has(b))throw new Error("Variable "+b+" is contributed twice.");this.g.set(b,g)}async j(b,g,a,o,l){if(I.isString(a))return this.l(b,g,a,o,l);if(Array.isArray(a))return Promise.all(a.map(p=>this.j(b,g,p,o,l)));if(I.isObject(a)){const p=Object.create(null),w=await Promise.all(Object.keys(a).map(async O=>[await this.l(b,g,O,o,l),await this.j(b,g,a[O],o,l)]));for(const[O,v]of w)p[O]=v;return p}return a}l(b,g,a,o,l){return(0,M.replaceAsync)(a,D.VARIABLE_REGEXP,async(p,w)=>{if(w.includes(D.VARIABLE_LHS))return p;let O=await this.n(b,p,w,g,o);return l?.set(w,O),O!==p&&I.isString(O)&&O.match(D.VARIABLE_REGEXP)&&(O=await this.l(b,g,O,o,l)),O})}m(b){return this.b?this.b.getUriLabel(b,{noPrefix:!0}):b.fsPath}async n(b,g,a,o,l){let p;const w=a.split(":");w.length>1&&(a=w[0],p=w[1]);const O=d=>{const r=this.a.getFilePath();if(r)return(0,R.normalizeDriveLetter)(r);throw new k.VariableError(d,(0,S.localize)(0,null,g))},v=d=>{const r=O(d);if(this.a.getWorkspaceFolderPathForFile){const u=this.a.getWorkspaceFolderPathForFile();if(u)return(0,R.normalizeDriveLetter)(u)}throw new k.VariableError(d,(0,S.localize)(1,null,g,i.basename(r)))},t=d=>{if(p){const r=this.a.getFolderUri(p);if(r)return r;throw new k.VariableError(d,(0,S.localize)(2,null,g,p))}if(o)return o;throw this.a.getWorkspaceFolderCount()>1?new k.VariableError(d,(0,S.localize)(3,null,g)):new k.VariableError(d,(0,S.localize)(4,null,g))};switch(a){case"env":if(p){if(b.env){const d=b.env[E.isWindows?p.toLowerCase():p];if(I.isString(d))return d}return""}throw new k.VariableError(k.VariableKind.Env,(0,S.localize)(5,null,g));case"config":if(p){const d=this.a.getConfigurationValue(o,p);if(I.isUndefinedOrNull(d))throw new k.VariableError(k.VariableKind.Config,(0,S.localize)(6,null,g,p));if(I.isObject(d))throw new k.VariableError(k.VariableKind.Config,(0,S.localize)(7,null,g,p));return d}throw new k.VariableError(k.VariableKind.Config,(0,S.localize)(8,null,g));case"command":return this.o(k.VariableKind.Command,g,p,l,"command");case"input":return this.o(k.VariableKind.Input,g,p,l,"input");case"extensionInstallFolder":if(p){const d=await this.a.getExtension(p);if(!d)throw new k.VariableError(k.VariableKind.ExtensionInstallFolder,(0,S.localize)(9,null,g,p));return this.m(d.extensionLocation)}throw new k.VariableError(k.VariableKind.ExtensionInstallFolder,(0,S.localize)(10,null,g));default:switch(a){case"workspaceRoot":case"workspaceFolder":return(0,R.normalizeDriveLetter)(this.m(t(k.VariableKind.WorkspaceFolder)));case"cwd":return o||p?(0,R.normalizeDriveLetter)(this.m(t(k.VariableKind.Cwd))):T.cwd();case"workspaceRootFolderName":case"workspaceFolderBasename":return(0,R.normalizeDriveLetter)(i.basename(this.m(t(k.VariableKind.WorkspaceFolderBasename))));case"userHome":{if(b.userHome)return b.userHome;throw new k.VariableError(k.VariableKind.UserHome,(0,S.localize)(11,null,g))}case"lineNumber":{const d=this.a.getLineNumber();if(d)return d;throw new k.VariableError(k.VariableKind.LineNumber,(0,S.localize)(12,null,g))}case"selectedText":{const d=this.a.getSelectedText();if(d)return d;throw new k.VariableError(k.VariableKind.SelectedText,(0,S.localize)(13,null,g))}case"file":return O(k.VariableKind.File);case"fileWorkspaceFolder":return v(k.VariableKind.FileWorkspaceFolder);case"relativeFile":return o||p?i.relative(this.m(t(k.VariableKind.RelativeFile)),O(k.VariableKind.RelativeFile)):O(k.VariableKind.RelativeFile);case"relativeFileDirname":{const d=i.dirname(O(k.VariableKind.RelativeFileDirname));if(o||p){const r=i.relative(this.m(t(k.VariableKind.RelativeFileDirname)),d);return r.length===0?".":r}return d}case"fileDirname":return i.dirname(O(k.VariableKind.FileDirname));case"fileExtname":return i.extname(O(k.VariableKind.FileExtname));case"fileBasename":return i.basename(O(k.VariableKind.FileBasename));case"fileBasenameNoExtension":{const d=i.basename(O(k.VariableKind.FileBasenameNoExtension));return d.slice(0,d.length-i.extname(d).length)}case"fileDirnameBasename":return i.basename(i.dirname(O(k.VariableKind.FileDirnameBasename)));case"execPath":{const d=this.a.getExecPath();return d||g}case"execInstallFolder":{const d=this.a.getAppRoot();return d||g}case"pathSeparator":return i.sep;default:try{const d=p?`${a}:${p}`:a;return this.o(k.VariableKind.Unknown,g,d,l,void 0)}catch{return g}}}}o(b,g,a,o,l){if(a&&o){const p=l===void 0?o[a]:o[l+":"+a];if(typeof p=="string")return p;throw new k.VariableError(b,(0,S.localize)(14,null,g))}return g}}D.VARIABLE_LHS="${",D.VARIABLE_REGEXP=/\$\{(.*?)\}/g,e.AbstractVariableResolverService=D}),define(ke[97],Te([1,0,3,95]),function(ne,e,i,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.preferredSideBySideGroupDirection=e.isEditorGroup=e.OpenEditorContext=e.GroupsOrder=e.isEditorReplacement=e.MergeGroupMode=e.GroupsArrangement=e.GroupLocation=e.GroupOrientation=e.GroupDirection=e.IEditorGroupsService=void 0,e.IEditorGroupsService=(0,i.createDecorator)("editorGroupsService");var I;(function(g){g[g.UP=0]="UP",g[g.DOWN=1]="DOWN",g[g.LEFT=2]="LEFT",g[g.RIGHT=3]="RIGHT"})(I=e.GroupDirection||(e.GroupDirection={}));var N;(function(g){g[g.HORIZONTAL=0]="HORIZONTAL",g[g.VERTICAL=1]="VERTICAL"})(N=e.GroupOrientation||(e.GroupOrientation={}));var E;(function(g){g[g.FIRST=0]="FIRST",g[g.LAST=1]="LAST",g[g.NEXT=2]="NEXT",g[g.PREVIOUS=3]="PREVIOUS"})(E=e.GroupLocation||(e.GroupLocation={}));var R;(function(g){g[g.MAXIMIZE=0]="MAXIMIZE",g[g.EVEN=1]="EVEN",g[g.TOGGLE=2]="TOGGLE"})(R=e.GroupsArrangement||(e.GroupsArrangement={}));var S;(function(g){g[g.COPY_EDITORS=0]="COPY_EDITORS",g[g.MOVE_EDITORS=1]="MOVE_EDITORS"})(S=e.MergeGroupMode||(e.MergeGroupMode={}));function k(g){const a=g;return(0,T.isEditorInput)(a?.editor)&&(0,T.isEditorInput)(a?.replacement)}e.isEditorReplacement=k;var M;(function(g){g[g.CREATION_TIME=0]="CREATION_TIME",g[g.MOST_RECENTLY_ACTIVE=1]="MOST_RECENTLY_ACTIVE",g[g.GRID_APPEARANCE=2]="GRID_APPEARANCE"})(M=e.GroupsOrder||(e.GroupsOrder={}));var D;(function(g){g[g.NEW_EDITOR=1]="NEW_EDITOR",g[g.MOVE_EDITOR=2]="MOVE_EDITOR",g[g.COPY_EDITOR=3]="COPY_EDITOR"})(D=e.OpenEditorContext||(e.OpenEditorContext={}));function h(g){const a=g;return!!a&&typeof a.id=="number"&&Array.isArray(a.editors)}e.isEditorGroup=h;function b(g){return g.getValue("workbench.editor.openSideBySideDirection")==="down"?1:3}e.preferredSideBySideGroupDirection=b}),define(ke[191],Te([1,0,3,97]),function(ne,e,i,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isPreferredGroup=e.SIDE_GROUP=e.ACTIVE_GROUP=e.IEditorService=void 0,e.IEditorService=(0,i.createDecorator)("editorService"),e.ACTIVE_GROUP=-1,e.SIDE_GROUP=-2;function I(N){const E=N;return typeof N=="number"||(0,T.isEditorGroup)(E)}e.isPreferredGroup=I}),define(ke[192],Te([1,0,3,160]),function(ne,e,i,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IWorkbenchEnvironmentService=void 0,e.IWorkbenchEnvironmentService=(0,i.refineServiceDecorator)(T.IEnvironmentService)}),define(ke[98],Te([1,0,26,4,19]),function(ne,e,i,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionDescriptionRegistry=e.DeltaExtensionsResult=void 0;class N{constructor(D){this.removedDueToLooping=D}}e.DeltaExtensionsResult=N;class E{static isHostExtension(D,h,b){if(h.getExtensionDescription(D))return!1;const g=b.getExtensionDescription(D);return g?!!((g.main||g.browser)&&g.api==="none"):!1}constructor(D){this.c=new T.Emitter,this.onDidChange=this.c.event,this.d=D,this.h()}h(){this.d.sort(S),this.e=new Map,this.f=[],this.g=new Map;for(const D of this.d){if(this.e.has(i.ExtensionIdentifier.toKey(D.identifier))){console.error("Extension `"+D.identifier.value+"` is already registered");continue}if(this.e.set(i.ExtensionIdentifier.toKey(D.identifier),D),this.f.push(D),Array.isArray(D.activationEvents))for(let h of D.activationEvents)h==="onUri"&&(h=`onUri:${i.ExtensionIdentifier.toKey(D.identifier)}`),this.g.has(h)||this.g.set(h,[]),this.g.get(h).push(D)}}set(D){this.d=D,this.h(),this.c.fire(void 0)}deltaExtensions(D,h){this.d=k(this.d,h),this.d=this.d.concat(D);const b=E.j(this.d);return this.d=k(this.d,b.map(g=>g.identifier)),this.h(),this.c.fire(void 0),new N(b)}static j(D){const h=new class{constructor(){this.c=new Map,this.d=new Set,this.e=[]}addNode(l){this.d.has(l)||(this.d.add(l),this.e.push(l))}addArc(l,p){this.addNode(l),this.addNode(p),this.c.has(l)?this.c.get(l).push(p):this.c.set(l,[p])}getArcs(l){return this.c.has(l)?this.c.get(l):[]}hasOnlyGoodArcs(l,p){const w=h.getArcs(l);for(let O=0;O<w.length;O++)if(!p.has(w[O]))return!1;return!0}getNodes(){return this.e}},b=new Map;for(const l of D){const p=i.ExtensionIdentifier.toKey(l.identifier);if(b.set(p,l),l.extensionDependencies)for(const w of l.extensionDependencies){const O=i.ExtensionIdentifier.toKey(w);h.addArc(p,O)}}const g=new Set;h.getNodes().filter(l=>h.getArcs(l).length===0).forEach(l=>g.add(l));const a=h.getNodes().filter(l=>!g.has(l));let o;do{o=!1;for(let l=0;l<a.length;l++){const p=a[l];h.hasOnlyGoodArcs(p,g)&&(a.splice(l,1),l--,g.add(p),o=!0)}}while(o);return a.map(l=>b.get(l))}containsActivationEvent(D){return this.g.has(D)}containsExtension(D){return this.e.has(i.ExtensionIdentifier.toKey(D))}getExtensionDescriptionsForActivationEvent(D){const h=this.g.get(D);return h?h.slice(0):[]}getAllExtensionDescriptions(){return this.f.slice(0)}getExtensionDescription(D){const h=this.e.get(i.ExtensionIdentifier.toKey(D));return h||void 0}getExtensionDescriptionByUUID(D){for(const h of this.f)if(h.uuid===D)return h}getExtensionDescriptionByIdOrUUID(D,h){return this.getExtensionDescription(D)??(h?this.getExtensionDescriptionByUUID(h):void 0)}}e.ExtensionDescriptionRegistry=E;var R;(function(M){M[M.Builtin=0]="Builtin",M[M.User=1]="User",M[M.Dev=2]="Dev"})(R||(R={}));function S(M,D){const h=M.isBuiltin?0:M.isUnderDevelopment?2:1,b=D.isBuiltin?0:D.isUnderDevelopment?2:1;if(h!==b)return h-b;const g=I.posix.basename(M.extensionLocation.path),a=I.posix.basename(D.extensionLocation.path);return g<a?-1:g>a?1:0}function k(M,D){const h=new Set;return D.forEach(b=>h.add(i.ExtensionIdentifier.toKey(b))),M.filter(b=>!h.has(i.ExtensionIdentifier.toKey(b.identifier)))}}),define(ke[74],Te([1,0,23]),function(ne,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NativeLogMarkers=e.isMessageOfType=e.createMessageOfType=e.MessageType=e.ExtensionHostExitCode=e.UIKind=void 0;var T;(function(k){k[k.Desktop=1]="Desktop",k[k.Web=2]="Web"})(T=e.UIKind||(e.UIKind={}));var I;(function(k){k[k.VersionMismatch=55]="VersionMismatch",k[k.UnexpectedError=81]="UnexpectedError"})(I=e.ExtensionHostExitCode||(e.ExtensionHostExitCode={}));var N;(function(k){k[k.Initialized=0]="Initialized",k[k.Ready=1]="Ready",k[k.Terminate=2]="Terminate"})(N=e.MessageType||(e.MessageType={}));function E(k){const M=i.VSBuffer.alloc(1);switch(k){case 0:M.writeUInt8(1,0);break;case 1:M.writeUInt8(2,0);break;case 2:M.writeUInt8(3,0);break}return M}e.createMessageOfType=E;function R(k,M){if(k.byteLength!==1)return!1;switch(k.readUInt8(0)){case 1:return M===0;case 2:return M===1;case 3:return M===2;default:return!1}}e.isMessageOfType=R;var S;(function(k){k.Start="START_NATIVE_LOG",k.End="END_NATIVE_LOG"})(S=e.NativeLogMarkers||(e.NativeLogMarkers={}))}),define(ke[57],Te([1,0,3,4,12,27,74,50,52,22,2,6,143]),function(ne,e,i,T,I,N,E,R,S,k,M,D,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IExtHostTelemetry=e.isNewAppInstall=e.ExtHostTelemetryLogger=e.ExtHostTelemetry=void 0;let b=class extends D.Disposable{constructor(l,p){super(),this.m=l,this.n=p,this.a=this.B(new T.Emitter),this.onDidChangeTelemetryEnabled=this.a.event,this.b=this.B(new T.Emitter),this.onDidChangeTelemetryConfiguration=this.b.event,this.c={usage:!0,error:!0},this.f=0,this.g=!1,this.i=!1,this.l=new Map,this.j=M.URI.revive(this.m.environment.extensionTelemetryLogResource),this.i=this.m.environment.isExtensionTelemetryLoggingOnly,this.k=p.createLogger(this.j,{id:S.extensionTelemetryLogChannelId,name:(0,h.localize)(0,null,this.i?" (Not Sent)":""),hidden:!0}),this.B(p.onDidChangeLogLevel(w=>{(0,I.isLogLevel)(w)&&this.p()})),this.k.info("Below are logs for extension telemetry events sent to the telemetry output channel API once the log level is set to trace."),this.k.info("===========================================================")}p(){this.n.setVisibility(this.j,this.g&&this.n.getLogLevel()===I.LogLevel.Trace)}getTelemetryConfiguration(){return this.f===3}getTelemetryDetails(){return{isCrashEnabled:this.f>=1,isErrorsEnabled:this.c.error?this.f>=2:!1,isUsageEnabled:this.c.usage?this.f>=3:!1}}instantiateLogger(l,p,w){const O=this.getTelemetryDetails(),v=new g(p,w,l,this.k,this.i,this.getBuiltInCommonProperties(l),{isUsageEnabled:O.isUsageEnabled,isErrorsEnabled:O.isErrorsEnabled});return this.l.set(l.identifier.value,v),v.apiTelemetryLogger}$initializeTelemetryLevel(l,p,w){this.f=l,this.g=p,this.c=w??{usage:!0,error:!0},this.p()}getBuiltInCommonProperties(l){const p={};switch(p["common.extname"]=`${l.publisher}.${l.name}`,p["common.extversion"]=l.version,p["common.vscodemachineid"]=this.m.telemetryInfo.machineId,p["common.vscodesessionid"]=this.m.telemetryInfo.sessionId,p["common.vscodeversion"]=this.m.version,p["common.isnewappinstall"]=a(this.m.telemetryInfo.firstSessionDate),p["common.product"]=this.m.environment.appHost,this.m.uiKind){case E.UIKind.Web:p["common.uikind"]="web";break;case E.UIKind.Desktop:p["common.uikind"]="desktop";break;default:p["common.uikind"]="unknown"}return p["common.remotename"]=(0,R.getRemoteName)((0,S.cleanRemoteAuthority)(this.m.remote.authority)),p}$onDidChangeTelemetryLevel(l){this.h=this.getTelemetryConfiguration(),this.f=l;const p=this.getTelemetryDetails();this.l.forEach(w=>{w.updateTelemetryEnablements(p.isUsageEnabled,p.isErrorsEnabled)}),this.h!==this.getTelemetryConfiguration()&&this.a.fire(this.getTelemetryConfiguration()),this.b.fire(this.getTelemetryDetails()),this.p()}onExtensionError(l,p){const w=this.l.get(l.value);return!w||w.ignoreUnhandledExtHostErrors?!1:(w.logError(p),!0)}};b=qe([Ve(0,N.IExtHostInitDataService),Ve(1,I.ILoggerService)],b),e.ExtHostTelemetry=b;class g{static validateSender(l){if(typeof l!="object")throw new TypeError("TelemetrySender argument is invalid");if(typeof l.sendEventData!="function")throw new TypeError("TelemetrySender.sendEventData must be a function");if(typeof l.sendErrorData!="function")throw new TypeError("TelemetrySender.sendErrorData must be a function");if(typeof l.flush<"u"&&typeof l.flush!="function")throw new TypeError("TelemetrySender.flush must be a function or undefined")}constructor(l,p,w,O,v,t,d){this.g=w,this.h=O,this.i=v,this.j=t,this.a=new T.Emitter,this.ignoreUnhandledExtHostErrors=p?.ignoreUnhandledErrors??!1,this.b=p?.ignoreBuiltInCommonProperties??!1,this.c=p?.additionalCommonProperties,this.f=l,this.d={isUsageEnabled:d.isUsageEnabled,isErrorsEnabled:d.isErrorsEnabled}}updateTelemetryEnablements(l,p){this.e&&(this.d={isUsageEnabled:l,isErrorsEnabled:p},this.a.fire(this.e))}mixInCommonPropsAndCleanData(l){let p=l.properties??l;return p=(0,S.cleanData)(p,[]),this.c&&(p=(0,k.mixin)(p,this.c)),this.b||(p=(0,k.mixin)(p,this.j)),l.properties?l.properties=p:l=p,l}k(l,p){!this.f||(this.g.publisher==="vscode"?l=this.g.name+"/"+l:l=this.g.identifier.value+"/"+l,p=this.mixInCommonPropsAndCleanData(p||{}),this.i||this.f?.sendEventData(l,p),this.h.trace(l,p))}logUsage(l,p){!this.d.isUsageEnabled||this.k(l,p)}logError(l,p){!this.d.isErrorsEnabled||!this.f||(typeof l=="string"?this.k(l,p):this.f.sendErrorData(l,p))}get apiTelemetryLogger(){if(!this.e){const l=this,p={logUsage:l.logUsage.bind(l),get isUsageEnabled(){return l.d.isUsageEnabled},get isErrorsEnabled(){return l.d.isErrorsEnabled},logError:l.logError.bind(l),dispose:l.dispose.bind(l),onDidChangeEnableStates:l.a.event.bind(l)};this.e=Object.freeze(p)}return this.e}dispose(){this.f?.flush&&(Promise.resolve(this.f.flush()).then(this.f=void 0),this.e=void 0)}}e.ExtHostTelemetryLogger=g;function a(o){const l=Date.now()-new Date(o).getTime();return isNaN(l)?!1:l<1e3*60*60*24}e.isNewAppInstall=a,e.IExtHostTelemetry=(0,i.createDecorator)("IExtHostTelemetry")}),define(ke[25],Te([1,0,4,2,3,26,170]),function(ne,e,i,T,I,N,E){"use strict";var R;Object.defineProperty(e,"__esModule",{value:!0}),e.NullExtensionService=e.toExtensionDescription=e.toExtension=e.ActivationKind=e.ExtensionHostLogFileName=e.ExtensionPointContribution=e.ActivationTimes=e.checkProposedApiEnabled=e.isProposedApiEnabled=e.extensionIdentifiersArrayToSet=e.ExtensionIdentifierSet=e.ExtensionHostExtensions=e.extensionHostKindToString=e.ExtensionHostKind=e.MissingExtensionDependency=e.RemoteRunningLocation=e.LocalWebWorkerRunningLocation=e.LocalProcessRunningLocation=e.IExtensionService=e.webWorkerExtHostConfig=e.nullExtensionDescription=void 0,e.nullExtensionDescription=Object.freeze({identifier:new N.ExtensionIdentifier("nullExtensionDescription"),name:"Null Extension Description",version:"0.0.0",publisher:"vscode",engines:{vscode:""},extensionLocation:T.URI.parse("void:location"),isBuiltin:!1,targetPlatform:"undefined",isUserBuiltin:!1,isUnderDevelopment:!1}),e.webWorkerExtHostConfig="extensions.webWorker",e.IExtensionService=(0,I.createDecorator)("extensionService");class S{constructor(y){this.affinity=y,this.kind=1}equals(y){return this.kind===y.kind&&this.affinity===y.affinity}asString(){return this.affinity===0?"LocalProcess":`LocalProcess${this.affinity}`}}e.LocalProcessRunningLocation=S;class k{constructor(y){this.affinity=y,this.kind=2}equals(y){return this.kind===y.kind&&this.affinity===y.affinity}asString(){return this.affinity===0?"LocalWebWorker":`LocalWebWorker${this.affinity}`}}e.LocalWebWorkerRunningLocation=k;class M{constructor(){this.kind=3,this.affinity=0}equals(y){return this.kind===y.kind}asString(){return"Remote"}}e.RemoteRunningLocation=M;class D{constructor(y){this.dependency=y}}e.MissingExtensionDependency=D;var h;(function(c){c[c.LocalProcess=1]="LocalProcess",c[c.LocalWebWorker=2]="LocalWebWorker",c[c.Remote=3]="Remote"})(h=e.ExtensionHostKind||(e.ExtensionHostKind={}));function b(c){if(c===null)return"None";switch(c){case 1:return"LocalProcess";case 2:return"LocalWebWorker";case 3:return"Remote"}}e.extensionHostKindToString=b;class g{constructor(){this.c=[],this.d=[]}toDelta(){return{toRemove:[],toAdd:this.c,myToRemove:[],myToAdd:this.d}}set(y,n){const s=[],f=[],A=[],P=[],H=l(this.c),Y=l(y),Z=(m,F)=>m.extensionLocation.toString()===F.extensionLocation.toString()||m.isBuiltin===F.isBuiltin||m.isUserBuiltin===F.isUserBuiltin||m.isUnderDevelopment===F.isUnderDevelopment;for(const m of this.c){const F=Y.get(N.ExtensionIdentifier.toKey(m.identifier));if(!F){s.push(m.identifier),H.delete(N.ExtensionIdentifier.toKey(m.identifier));continue}if(!Z(m,F)){s.push(m.identifier),H.delete(N.ExtensionIdentifier.toKey(m.identifier));continue}}for(const m of y){const F=H.get(N.ExtensionIdentifier.toKey(m.identifier));if(!F){f.push(m);continue}if(!Z(F,m)){s.push(F.identifier),H.delete(N.ExtensionIdentifier.toKey(F.identifier));continue}}const _=o(this.d),j=o(n);for(const m of this.d)j.has(N.ExtensionIdentifier.toKey(m))||A.push(m);for(const m of n)_.has(N.ExtensionIdentifier.toKey(m))||P.push(m);const L={toRemove:s,toAdd:f,myToRemove:A,myToAdd:P};return this.delta(L),L}delta(y){const{toRemove:n,toAdd:s,myToRemove:f,myToAdd:A}=y,P=o(n),H=o(f);for(let Y=0;Y<this.c.length;Y++)P.has(N.ExtensionIdentifier.toKey(this.c[Y].identifier))&&(this.c.splice(Y,1),Y--);for(let Y=0;Y<this.d.length;Y++)H.has(N.ExtensionIdentifier.toKey(this.d[Y]))&&(this.d.splice(Y,1),Y--);for(const Y of s)this.c.push(Y);for(const Y of A)this.d.push(Y)}containsExtension(y){for(const n of this.d)if(N.ExtensionIdentifier.equals(n,y))return!0;return!1}}e.ExtensionHostExtensions=g;class a{constructor(y){if(this[R]="ExtensionIdentifierSet",this.c=new Map,this.d=N.ExtensionIdentifier.toKey,y)for(const n of y)this.add(n)}get size(){return this.c.size}add(y){return this.c.set(this.d(y),y),this}clear(){this.c.clear()}delete(y){return this.c.delete(this.d(y))}has(y){return this.c.has(this.d(y))}forEach(y,n){this.c.forEach(s=>y.call(n,s,s,this))}*entries(){for(const[y,n]of this.c)yield[n,n]}keys(){return this.c.values()}values(){return this.c.values()}[(R=Symbol.toStringTag,Symbol.iterator)](){return this.c.values()}}e.ExtensionIdentifierSet=a;function o(c){const y=new Set;for(const n of c)y.add(N.ExtensionIdentifier.toKey(n));return y}e.extensionIdentifiersArrayToSet=o;function l(c){const y=new Map;for(const n of c)y.set(N.ExtensionIdentifier.toKey(n.identifier),n);return y}function p(c,y){return c.enabledApiProposals?c.enabledApiProposals.includes(y):!1}e.isProposedApiEnabled=p;function w(c,y){if(!p(c,y))throw new Error(`Extension '${c.identifier.value}' CANNOT use API proposal: ${y}.
Its package.json#enabledApiProposals-property declares: ${c.enabledApiProposals?.join(", ")??"[]"} but NOT ${y}.
 The missing proposal MUST be added and you must start in extension development mode or use the following command line switch: --enable-proposed-api ${c.identifier.value}`)}e.checkProposedApiEnabled=w;class O{constructor(y,n,s,f){this.codeLoadingTime=y,this.activateCallTime=n,this.activateResolvedTime=s,this.activationReason=f}}e.ActivationTimes=O;class v{constructor(y,n){this.description=y,this.value=n}}e.ExtensionPointContribution=v,e.ExtensionHostLogFileName="exthost";var t;(function(c){c[c.Normal=0]="Normal",c[c.Immediate=1]="Immediate"})(t=e.ActivationKind||(e.ActivationKind={}));function d(c){return{type:c.isBuiltin?0:1,isBuiltin:c.isBuiltin||c.isUserBuiltin,identifier:{id:(0,E.getGalleryExtensionId)(c.publisher,c.name),uuid:c.uuid},manifest:c,location:c.extensionLocation,targetPlatform:c.targetPlatform,validations:[],isValid:!0}}e.toExtension=d;function r(c,y){return{identifier:new N.ExtensionIdentifier((0,E.getExtensionId)(c.manifest.publisher,c.manifest.name)),isBuiltin:c.type===0,isUserBuiltin:c.type===1&&c.isBuiltin,isUnderDevelopment:!!y,extensionLocation:c.location,...c.manifest,uuid:c.identifier.uuid,targetPlatform:c.targetPlatform,browserNlsBundleUris:c.browserNlsBundleUris}}e.toExtensionDescription=r;class u{constructor(){this.onDidRegisterExtensions=i.Event.None,this.onDidChangeExtensionsStatus=i.Event.None,this.onDidChangeExtensions=i.Event.None,this.onWillActivateByEvent=i.Event.None,this.onDidChangeResponsiveChange=i.Event.None,this.extensions=[]}activateByEvent(y){return Promise.resolve(void 0)}activationEventIsDone(y){return!1}whenInstalledExtensionsRegistered(){return Promise.resolve(!0)}getExtension(){return Promise.resolve(void 0)}readExtensionPointContributions(y){return Promise.resolve(Object.create(null))}getExtensionsStatus(){return Object.create(null)}getInspectPort(y,n){return Promise.resolve(0)}getInspectPorts(y,n){return Promise.resolve([])}stopExtensionHosts(){}async restartExtensionHost(){}async startExtensionHosts(){}async setRemoteEnvironment(y){}canAddExtension(){return!1}canRemoveExtension(){return!1}}e.NullExtensionService=u}),define(ke[193],Te([1,0,11,98,26,25,12,17]),function(ne,e,i,T,I,N,E,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionsActivator=e.HostExtension=e.EmptyExtension=e.ActivatedExtension=e.ExtensionActivationTimesBuilder=e.ExtensionActivationTimes=void 0;class S{constructor(l,p,w,O){this.startup=l,this.codeLoadingTime=p,this.activateCallTime=w,this.activateResolvedTime=O}}S.NONE=new S(!1,-1,-1,-1),e.ExtensionActivationTimes=S;class k{constructor(l){this.a=l,this.b=-1,this.c=-1,this.d=-1,this.f=-1,this.g=-1,this.h=-1}j(l,p){return l===-1||p===-1?-1:p-l}build(){return new S(this.a,this.j(this.b,this.c),this.j(this.d,this.f),this.j(this.g,this.h))}codeLoadingStart(){this.b=Date.now()}codeLoadingStop(){this.c=Date.now()}activateCallStart(){this.d=Date.now()}activateCallStop(){this.f=Date.now()}activateResolveStart(){this.g=Date.now()}activateResolveStop(){this.h=Date.now()}}e.ExtensionActivationTimesBuilder=k;class M{constructor(l,p,w,O,v,t){this.activationFailed=l,this.activationFailedError=p,this.activationTimes=w,this.module=O,this.exports=v,this.subscriptions=t}}e.ActivatedExtension=M;class D extends M{constructor(l){super(!1,null,l,{activate:void 0,deactivate:void 0},void 0,[])}}e.EmptyExtension=D;class h extends M{constructor(){super(!1,null,S.NONE,{activate:void 0,deactivate:void 0},void 0,[])}}e.HostExtension=h;class b extends M{constructor(l){super(!0,l,S.NONE,{activate:void 0,deactivate:void 0},void 0,[])}}let g=class{constructor(l,p,w,O){this.g=O,this.a=l,this.b=p,this.c=w,this.d=new Map,this.f=Object.create(null)}dispose(){for(const[l,p]of this.d)p.dispose()}isActivated(l){const p=this.d.get(I.ExtensionIdentifier.toKey(l));return Boolean(p&&p.value)}getActivatedExtension(l){const p=this.d.get(I.ExtensionIdentifier.toKey(l));if(!p||!p.value)throw new Error(`Extension '${l.value}' is not known or not activated`);return p.value}async activateByEvent(l,p){if(this.f[l])return;const w=this.a.getExtensionDescriptionsForActivationEvent(l);await this.h(w.map(O=>({id:O.identifier,reason:{startup:p,extensionId:O.identifier,activationEvent:l}}))),this.f[l]=!0}activateById(l,p){const w=this.a.getExtensionDescription(l);if(!w)throw new Error(`Extension '${l}' is not known`);return this.h([{id:w.identifier,reason:p}])}async h(l){const p=l.filter(w=>!this.isActivated(w.id)).map(w=>this.j(w));await Promise.all(p.map(w=>w.wait()))}j(l){if(this.d.has(I.ExtensionIdentifier.toKey(l.id)))return this.d.get(I.ExtensionIdentifier.toKey(l.id));if(this.l(l.id))return this.k(l,null,[],null);const p=this.a.getExtensionDescription(l.id);if(!p){const v=new Error(`Cannot activate unknown extension '${l.id.value}'`),t=this.k(l,null,[],new b(v));return this.c.onExtensionActivationError(l.id,v,new N.MissingExtensionDependency(l.id.value)),t}const w=[],O=typeof p.extensionDependencies>"u"?[]:p.extensionDependencies;for(const v of O){if(this.m(v))continue;const t=this.d.get(I.ExtensionIdentifier.toKey(v));if(t){w.push(t);continue}if(this.l(v)){w.push(this.j({id:this.b.getExtensionDescription(v).identifier,reason:l.reason}));continue}const d=this.a.getExtensionDescription(v);if(d){if(!d.main&&!d.browser)continue;w.push(this.j({id:d.identifier,reason:l.reason}));continue}const r=p.displayName||p.identifier.value,u=new Error(`Cannot activate the '${r}' extension because it depends on unknown extension '${v}'`),c=this.k(l,p.displayName,[],new b(u));return this.c.onExtensionActivationError(p.identifier,u,new N.MissingExtensionDependency(v)),c}return this.k(l,p.displayName,w,null)}k(l,p,w,O){const v=new a(l.id,p,l.reason,w,O,this.c,this.g);return this.d.set(I.ExtensionIdentifier.toKey(l.id),v),v}l(l){return T.ExtensionDescriptionRegistry.isHostExtension(l,this.a,this.b)}m(l){const p=this.b.getExtensionDescription(l);return p?!p.main&&!p.browser:!1}};g=qe([Ve(3,E.ILogService)],g),e.ExtensionsActivator=g;let a=class{get value(){return this.h}get friendlyName(){return this.d||this.c.value}constructor(l,p,w,O,v,t,d){this.c=l,this.d=p,this.f=w,this.g=O,this.h=v,this.j=t,this.k=d,this.a=new R.Barrier,this.b=!1,this.l()}dispose(){this.b=!0}wait(){return this.a.wait()}async l(){await this.m(),this.a.open()}async m(){if(!this.h){for(;this.g.length>0;){for(let l=0;l<this.g.length;l++){const p=this.g[l];if(p.value&&!p.value.activationFailed){this.g.splice(l,1),l--;continue}if(p.value&&p.value.activationFailed){const w=new Error(`Cannot activate the '${this.friendlyName}' extension because its dependency '${p.friendlyName}' failed to activate`);w.detail=p.value.activationFailedError,this.h=new b(w),this.j.onExtensionActivationError(this.c,w,null);return}}this.g.length>0&&await Promise.race(this.g.map(l=>l.wait()))}await this.n()}}async n(){try{this.h=await this.j.actualActivateExtension(this.c,this.f)}catch(l){const p=new Error;if(l&&l.name&&(p.name=l.name),l&&l.message?p.message=`Activating extension '${this.c.value}' failed: ${l.message}.`:p.message=`Activating extension '${this.c.value}' failed: ${l}.`,l&&l.stack&&(p.stack=l.stack),this.h=new b(p),this.b&&i.isCancellationError(l))return;this.j.onExtensionActivationError(this.c,p,null),this.k.error(`Activating extension ${this.c.value} failed due to an error:`),this.k.error(l)}}};a=qe([Ve(6,E.ILogService)],a)});var Je=this&&this.__classPrivateFieldSet||function(ne,e,i,T,I){if(T==="m")throw new TypeError("Private method is not writable");if(T==="a"&&!I)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?ne!==e||!I:!e.has(ne))throw new TypeError("Cannot write private member to an object whose class did not declare it");return T==="a"?I.call(ne,i):I?I.value=i:e.set(ne,i),i},Le=this&&this.__classPrivateFieldGet||function(ne,e,i,T){if(i==="a"&&!T)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?ne!==e||!T:!e.has(ne))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?T:i==="a"?T.call(ne):T?T.value:e.get(ne)};define(ke[7],Te([1,0,16,11,86,28,65,10,9,2,34,43,94,71,25]),function(ne,e,i,T,I,N,E,R,S,k,M,D,h,b,g){"use strict";var a,o,l,p,w,O,v,t,d,r,u,c,y,n,s,f,A,P,H,Y,Z,_,j;Object.defineProperty(e,"__esModule",{value:!0}),e.InteractiveWindowInput=e.TerminalEditorTabInput=e.NotebookDiffEditorTabInput=e.NotebookEditorTabInput=e.WebviewEditorTabInput=e.CustomEditorTabInput=e.TextMergeTabInput=e.TextDiffTabInput=e.TextTabInput=e.TypeHierarchyItem=e.PortAutoForwardAction=e.WorkspaceTrustState=e.ExternalUriOpenerPriority=e.FunctionCoverage=e.BranchCoverage=e.StatementCoverage=e.FileCoverage=e.CoveredCount=e.TestTag=e.TestMessage=e.TestRunRequest2=e.TestRunRequest=e.TestRunProfileKind=e.TestResultState=e.PortAttributes=e.LinkedEditingRanges=e.StandardTokenType=e.ExtensionRuntime=e.ExtensionMode=e.TimelineItem=e.NotebookKernelSourceAction=e.NotebookRendererScript=e.NotebookControllerAffinity2=e.NotebookControllerAffinity=e.NotebookCellStatusBarItem=e.NotebookEditorRevealType=e.NotebookCellStatusBarAlignment=e.NotebookCellExecutionState=e.NotebookCellKind=e.NotebookCellOutput=e.NotebookCellOutputItem=e.NotebookData=e.NotebookCellData=e.NotebookRange=e.ColorThemeKind=e.ColorTheme=e.FileDecoration=e.ExtensionKind=e.InputBoxValidationSeverity=e.QuickPickItemKind=e.QuickInputButtons=e.DebugConsoleMode=e.SemanticTokensEdits=e.SemanticTokensEdit=e.SemanticTokens=e.SemanticTokensBuilder=e.SemanticTokensLegend=e.CommentThreadState=e.CommentMode=e.CommentThreadCollapsibleState=e.FoldingRangeKind=e.FoldingRange=e.FileSystemError=e.FileChangeType=e.InlineValueContext=e.InlineValueEvaluatableExpression=e.InlineValueVariableLookup=e.InlineValueText=e.InlineCompletionTriggerKind=e.EvaluatableExpression=e.DebugAdapterInlineImplementation=e.DebugAdapterNamedPipeServer=e.DebugAdapterServer=e.DebugAdapterExecutable=e.DataBreakpoint=e.FunctionBreakpoint=e.SourceBreakpoint=e.Breakpoint=e.setBreakpointId=e.RelativePattern=e.ConfigurationTarget=e.ThemeColor=e.ThemeIcon=e.DocumentPasteEdit=e.DocumentDropEdit=e.DataTransfer=e.DataTransferItem=e.TreeItemCheckboxState=e.TreeItemCollapsibleState=e.TreeItem=e.ViewBadge=e.ProgressLocation=e.Task=e.CustomExecution=e.TaskScope=e.ShellQuoting=e.ShellExecution=e.ProcessExecution=e.TaskGroup=e.TaskPanelKind=e.TaskRevealKind=e.TerminalProfile=e.TerminalLocation=e.TerminalQuickFixCommand=e.TerminalQuickFixOpener=e.TerminalLink=e.TerminalExitReason=e.SourceControlInputBoxValidationType=e.ColorFormat=e.ColorPresentation=e.ColorInformation=e.Color=e.DocumentLink=e.DecorationRangeBehavior=e.TextDocumentChangeReason=e.TextEditorSelectionChangeKind=e.TextEditorRevealType=e.TextDocumentSaveReason=e.TextEditorLineNumbersStyle=e.StatusBarAlignment=e.ViewColumn=e.InlineSuggestionList=e.InlineSuggestion=e.CompletionList=e.CompletionItem=e.CompletionItemTag=e.CompletionItemKind=e.CompletionTriggerKind=e.InlayHint=e.InlayHintLabelPart=e.InlayHintKind=e.SignatureHelpTriggerKind=e.SignatureHelp=e.SignatureInformation=e.ParameterInformation=e.MarkdownString=e.CodeLens=e.LanguageStatusSeverity=e.CallHierarchyOutgoingCall=e.CallHierarchyIncomingCall=e.CallHierarchyItem=e.SelectionRange=e.CodeActionKind=e.CodeAction=e.CodeActionTriggerKind=e.DocumentSymbol=e.SymbolInformation=e.SymbolTag=e.SymbolKind=e.DocumentHighlight=e.DocumentHighlightKind=e.Hover=e.Diagnostic=e.DiagnosticRelatedInformation=e.Location=e.DiagnosticSeverity=e.DiagnosticTag=e.SnippetString=e.WorkspaceEdit=e.FileEditType=e.SnippetTextEdit=e.NotebookEdit=e.TextEdit=e.EnvironmentVariableMutatorType=e.EndOfLine=e.RemoteAuthorityResolverError=e.ResolvedAuthority=e.Selection=e.Range=e.Position=e.Disposable=e.TerminalQuickFixType=e.TerminalOutputAnchor=void 0;function L(z){return Object.assign(z,{apply:function(){const re=arguments.length===1?[]:arguments[1];return Reflect.construct(z,re,arguments[0].constructor)},call:function(){if(arguments.length===0)return Reflect.construct(z,[]);{const[re,...Ee]=arguments;return Reflect.construct(z,Ee,re.constructor)}}})}var m;(function(z){z[z.Top=0]="Top",z[z.Bottom=1]="Bottom"})(m=e.TerminalOutputAnchor||(e.TerminalOutputAnchor={}));var F;(function(z){z[z.Command=0]="Command",z[z.Opener=1]="Opener"})(F=e.TerminalQuickFixType||(e.TerminalQuickFixType={}));let B=O=class{static from(...U){let re=U;return new O(function(){if(re){for(const Ee of re)Ee&&typeof Ee.dispose=="function"&&Ee.dispose();re=void 0}})}constructor(U){a.set(this,void 0),Je(this,a,U,"f")}dispose(){typeof Le(this,a,"f")=="function"&&(Le(this,a,"f").call(this),Je(this,a,void 0,"f"))}};a=new WeakMap,B=O=qe([L],B),e.Disposable=B;let J=v=class{static Min(...U){if(U.length===0)throw new TypeError;let re=U[0];for(let Ee=1;Ee<U.length;Ee++){const Ke=U[Ee];Ke.isBefore(re)&&(re=Ke)}return re}static Max(...U){if(U.length===0)throw new TypeError;let re=U[0];for(let Ee=1;Ee<U.length;Ee++){const Ke=U[Ee];Ke.isAfter(re)&&(re=Ke)}return re}static isPosition(U){if(!U)return!1;if(U instanceof v)return!0;const{line:re,character:Ee}=U;return typeof re=="number"&&typeof Ee=="number"}static of(U){if(U instanceof v)return U;if(this.isPosition(U))return new v(U.line,U.character);throw new Error("Invalid argument, is NOT a position-like object")}get line(){return this.c}get character(){return this.e}constructor(U,re){if(U<0)throw(0,T.illegalArgument)("line must be non-negative");if(re<0)throw(0,T.illegalArgument)("character must be non-negative");this.c=U,this.e=re}isBefore(U){return this.c<U.c?!0:U.c<this.c?!1:this.e<U.e}isBeforeOrEqual(U){return this.c<U.c?!0:U.c<this.c?!1:this.e<=U.e}isAfter(U){return!this.isBeforeOrEqual(U)}isAfterOrEqual(U){return!this.isBefore(U)}isEqual(U){return this.c===U.c&&this.e===U.e}compareTo(U){return this.c<U.c?-1:this.c>U.line?1:this.e<U.e?-1:this.e>U.e?1:0}translate(U,re=0){if(U===null||re===null)throw(0,T.illegalArgument)();let Ee;return typeof U>"u"?Ee=0:typeof U=="number"?Ee=U:(Ee=typeof U.lineDelta=="number"?U.lineDelta:0,re=typeof U.characterDelta=="number"?U.characterDelta:0),Ee===0&&re===0?this:new v(this.line+Ee,this.character+re)}with(U,re=this.character){if(U===null||re===null)throw(0,T.illegalArgument)();let Ee;return typeof U>"u"?Ee=this.line:typeof U=="number"?Ee=U:(Ee=typeof U.line=="number"?U.line:this.line,re=typeof U.character=="number"?U.character:this.character),Ee===this.line&&re===this.character?this:new v(Ee,re)}toJSON(){return{line:this.line,character:this.character}}};J=v=qe([L],J),e.Position=J;let me=t=class{static isRange(U){return U instanceof t?!0:U?J.isPosition(U.start)&&J.isPosition(U.end):!1}static of(U){if(U instanceof t)return U;if(this.isRange(U))return new t(U.start,U.end);throw new Error("Invalid argument, is NOT a range-like object")}get start(){return this.c}get end(){return this.e}constructor(U,re,Ee,Ke){let _e,ot;if(typeof U=="number"&&typeof re=="number"&&typeof Ee=="number"&&typeof Ke=="number"?(_e=new J(U,re),ot=new J(Ee,Ke)):J.isPosition(U)&&J.isPosition(re)&&(_e=J.of(U),ot=J.of(re)),!_e||!ot)throw new Error("Invalid arguments");_e.isBefore(ot)?(this.c=_e,this.e=ot):(this.c=ot,this.e=_e)}contains(U){return t.isRange(U)?this.contains(U.start)&&this.contains(U.end):J.isPosition(U)?!(J.of(U).isBefore(this.c)||this.e.isBefore(U)):!1}isEqual(U){return this.c.isEqual(U.c)&&this.e.isEqual(U.e)}intersection(U){const re=J.Max(U.start,this.c),Ee=J.Min(U.end,this.e);if(!re.isAfter(Ee))return new t(re,Ee)}union(U){if(this.contains(U))return this;if(U.contains(this))return U;const re=J.Min(U.start,this.c),Ee=J.Max(U.end,this.end);return new t(re,Ee)}get isEmpty(){return this.c.isEqual(this.e)}get isSingleLine(){return this.c.line===this.e.line}with(U,re=this.end){if(U===null||re===null)throw(0,T.illegalArgument)();let Ee;return U?J.isPosition(U)?Ee=U:(Ee=U.start||this.start,re=U.end||this.end):Ee=this.start,Ee.isEqual(this.c)&&re.isEqual(this.end)?this:new t(Ee,re)}toJSON(){return[this.start,this.end]}};me=t=qe([L],me),e.Range=me;let te=d=class extends me{static isSelection(U){return U instanceof d?!0:U?me.isRange(U)&&J.isPosition(U.anchor)&&J.isPosition(U.active)&&typeof U.isReversed=="boolean":!1}get anchor(){return this.f}get active(){return this.g}constructor(U,re,Ee,Ke){let _e,ot;if(typeof U=="number"&&typeof re=="number"&&typeof Ee=="number"&&typeof Ke=="number"?(_e=new J(U,re),ot=new J(Ee,Ke)):J.isPosition(U)&&J.isPosition(re)&&(_e=J.of(U),ot=J.of(re)),!_e||!ot)throw new Error("Invalid arguments");super(_e,ot),this.f=_e,this.g=ot}get isReversed(){return this.f===this.e}toJSON(){return{start:this.start,end:this.end,active:this.active,anchor:this.anchor}}};te=d=qe([L],te),e.Selection=te;class oe{constructor(U,re,Ee){if(typeof U!="string"||U.length===0)throw(0,T.illegalArgument)("host");if(typeof re!="number"||re===0||Math.round(re)!==re)throw(0,T.illegalArgument)("port");if(typeof Ee<"u"&&(typeof Ee!="string"||Ee.length===0||!/^[0-9A-Za-z_\-]+$/.test(Ee)))throw(0,T.illegalArgument)("connectionToken");this.host=U,this.port=Math.round(re),this.connectionToken=Ee}}e.ResolvedAuthority=oe;class ce extends Error{static NotAvailable(U,re){return new ce(U,h.RemoteAuthorityResolverErrorCode.NotAvailable,re)}static TemporarilyNotAvailable(U){return new ce(U,h.RemoteAuthorityResolverErrorCode.TemporarilyNotAvailable)}constructor(U,re=h.RemoteAuthorityResolverErrorCode.Unknown,Ee){super(U),this._message=U,this._code=re,this._detail=Ee,Object.setPrototypeOf(this,ce.prototype)}}e.RemoteAuthorityResolverError=ce;var we;(function(z){z[z.LF=1]="LF",z[z.CRLF=2]="CRLF"})(we=e.EndOfLine||(e.EndOfLine={}));var q;(function(z){z[z.Replace=1]="Replace",z[z.Append=2]="Append",z[z.Prepend=3]="Prepend"})(q=e.EnvironmentVariableMutatorType||(e.EnvironmentVariableMutatorType={}));let K=r=class{static isTextEdit(U){return U instanceof r?!0:U?me.isRange(U)&&typeof U.newText=="string":!1}static replace(U,re){return new r(U,re)}static insert(U,re){return r.replace(new me(U,U),re)}static delete(U){return r.replace(U,"")}static setEndOfLine(U){const re=new r(new me(new J(0,0),new J(0,0)),"");return re.newEol=U,re}get range(){return this.c}set range(U){if(U&&!me.isRange(U))throw(0,T.illegalArgument)("range");this.c=U}get newText(){return this.e||""}set newText(U){if(U&&typeof U!="string")throw(0,T.illegalArgument)("newText");this.e=U}get newEol(){return this.f}set newEol(U){if(U&&typeof U!="number")throw(0,T.illegalArgument)("newEol");this.f=U}constructor(U,re){this.c=U,this.e=re}toJSON(){return{range:this.range,newText:this.newText,newEol:this.f}}};K=r=qe([L],K),e.TextEdit=K;let X=u=class{static isNotebookCellEdit(U){return U instanceof u?!0:U?jt.isNotebookRange(U)&&Array.isArray(U.newCells):!1}static replaceCells(U,re){return new u(U,re)}static insertCells(U,re){return new u(new jt(U,U),re)}static deleteCells(U){return new u(U,[])}static updateCellMetadata(U,re){const Ee=new u(new jt(U,U),[]);return Ee.newCellMetadata=re,Ee}static updateNotebookMetadata(U){const re=new u(new jt(0,0),[]);return re.newNotebookMetadata=U,re}constructor(U,re){this.range=U,this.newCells=re}};X=u=qe([L],X),e.NotebookEdit=X;class de{static isSnippetTextEdit(U){return U instanceof de?!0:U?me.isRange(U.range)&&ze.isSnippetString(U.snippet):!1}static replace(U,re){return new de(U,re)}static insert(U,re){return de.replace(new me(U,U),re)}constructor(U,re){this.range=U,this.snippet=re}}e.SnippetTextEdit=de;var ye;(function(z){z[z.File=1]="File",z[z.Text=2]="Text",z[z.Cell=3]="Cell",z[z.CellReplace=5]="CellReplace",z[z.Snippet=6]="Snippet"})(ye=e.FileEditType||(e.FileEditType={}));let Fe=class{constructor(){this.c=[]}_allEntries(){return this.c}renameFile(U,re,Ee,Ke){this.c.push({_type:1,from:U,to:re,options:Ee,metadata:Ke})}createFile(U,re,Ee){this.c.push({_type:1,from:void 0,to:U,options:re,metadata:Ee})}deleteFile(U,re,Ee){this.c.push({_type:1,from:U,to:void 0,options:re,metadata:Ee})}e(U,re,Ee){this.c.push({_type:3,metadata:Ee,uri:U,edit:{editType:5,metadata:re},notebookMetadata:re})}f(U,re,Ee,Ke){const _e=re.start,ot=re.end;(_e!==ot||Ee.length>0)&&this.c.push({_type:5,uri:U,index:_e,count:ot-_e,cells:Ee,metadata:Ke})}g(U,re,Ee,Ke){this.c.push({_type:3,metadata:Ke,uri:U,edit:{editType:8,index:re,metadata:Ee}})}replace(U,re,Ee,Ke){this.c.push({_type:2,uri:U,edit:new K(re,Ee),metadata:Ke})}insert(U,re,Ee,Ke){this.replace(U,new me(re,re),Ee,Ke)}delete(U,re,Ee){this.replace(U,re,"",Ee)}has(U){return this.c.some(re=>re._type===2&&re.uri.toString()===U.toString())}set(U,re){if(re)for(const Ee of re){if(!Ee)continue;let Ke,_e;Array.isArray(Ee)?(Ke=Ee[0],_e=Ee[1]):Ke=Ee,X.isNotebookCellEdit(Ke)?Ke.newCellMetadata?this.g(U,Ke.range.start,Ke.newCellMetadata,_e):Ke.newNotebookMetadata?this.e(U,Ke.newNotebookMetadata,_e):this.f(U,Ke.range,Ke.newCells,_e):de.isSnippetTextEdit(Ke)?this.c.push({_type:6,uri:U,range:Ke.range,edit:Ke.snippet,metadata:_e}):this.c.push({_type:2,uri:U,edit:Ke,metadata:_e})}else{for(let Ee=0;Ee<this.c.length;Ee++){const Ke=this.c[Ee];switch(Ke._type){case 2:case 6:case 3:case 5:Ke.uri.toString()===U.toString()&&(this.c[Ee]=void 0);break}}(0,i.coalesceInPlace)(this.c)}}get(U){const re=[];for(const Ee of this.c)Ee._type===2&&Ee.uri.toString()===U.toString()&&re.push(Ee.edit);return re}entries(){const U=new N.ResourceMap;for(const re of this.c)if(re._type===2){let Ee=U.get(re.uri);Ee||(Ee=[re.uri,[]],U.set(re.uri,Ee)),Ee[1].push(re.edit)}return[...U.values()]}get size(){return this.entries().length}toJSON(){return this.entries()}};Fe=qe([L],Fe),e.WorkspaceEdit=Fe;let ze=c=class{static isSnippetString(U){return U instanceof c?!0:U?typeof U.value=="string":!1}static c(U){return U.replace(/\$|}|\\/g,"\\$&")}constructor(U){this.e=1,this.value=U||""}appendText(U){return this.value+=c.c(U),this}appendTabstop(U=this.e++){return this.value+="$",this.value+=U,this}appendPlaceholder(U,re=this.e++){if(typeof U=="function"){const Ee=new c;Ee.e=this.e,U(Ee),this.e=Ee.e,U=Ee.value}else U=c.c(U);return this.value+="${",this.value+=re,this.value+=":",this.value+=U,this.value+="}",this}appendChoice(U,re=this.e++){const Ee=U.map(Ke=>Ke.replace(/\$|}|\\|,/g,"\\$&")).join(",");return this.value+="${",this.value+=re,this.value+="|",this.value+=Ee,this.value+="|}",this}appendVariable(U,re){if(typeof re=="function"){const Ee=new c;Ee.e=this.e,re(Ee),this.e=Ee.e,re=Ee.value}else typeof re=="string"&&(re=re.replace(/\$|}/g,"\\$&"));return this.value+="${",this.value+=U,re&&(this.value+=":",this.value+=re),this.value+="}",this}};ze=c=qe([L],ze),e.SnippetString=ze;var Pe;(function(z){z[z.Unnecessary=1]="Unnecessary",z[z.Deprecated=2]="Deprecated"})(Pe=e.DiagnosticTag||(e.DiagnosticTag={}));var Ie;(function(z){z[z.Hint=3]="Hint",z[z.Information=2]="Information",z[z.Warning=1]="Warning",z[z.Error=0]="Error"})(Ie=e.DiagnosticSeverity||(e.DiagnosticSeverity={}));let Se=y=class{static isLocation(U){return U instanceof y?!0:U?me.isRange(U.range)&&k.URI.isUri(U.uri):!1}constructor(U,re){if(this.uri=U,re)if(me.isRange(re))this.range=me.of(re);else if(J.isPosition(re))this.range=new me(re,re);else throw new Error("Illegal argument")}toJSON(){return{uri:this.uri,range:this.range}}};Se=y=qe([L],Se),e.Location=Se;let ae=class{static is(U){return U?typeof U.message=="string"&&U.location&&me.isRange(U.location.range)&&k.URI.isUri(U.location.uri):!1}constructor(U,re){this.location=U,this.message=re}static isEqual(U,re){return U===re?!0:!U||!re?!1:U.message===re.message&&U.location.range.isEqual(re.location.range)&&U.location.uri.toString()===re.location.uri.toString()}};ae=qe([L],ae),e.DiagnosticRelatedInformation=ae;let le=class{constructor(U,re,Ee=Ie.Error){if(!me.isRange(U))throw new TypeError("range must be set");if(!re)throw new TypeError("message must be set");this.range=U,this.message=re,this.severity=Ee}toJSON(){return{severity:Ie[this.severity],message:this.message,range:this.range,source:this.source,code:this.code}}static isEqual(U,re){return U===re?!0:!U||!re?!1:U.message===re.message&&U.severity===re.severity&&U.code===re.code&&U.severity===re.severity&&U.source===re.source&&U.range.isEqual(re.range)&&(0,i.equals)(U.tags,re.tags)&&(0,i.equals)(U.relatedInformation,re.relatedInformation,ae.isEqual)}};le=qe([L],le),e.Diagnostic=le;let ee=class{constructor(U,re){if(!U)throw new Error("Illegal argument, contents must be defined");Array.isArray(U)?this.contents=U:this.contents=[U],this.range=re}};ee=qe([L],ee),e.Hover=ee;var C;(function(z){z[z.Text=0]="Text",z[z.Read=1]="Read",z[z.Write=2]="Write"})(C=e.DocumentHighlightKind||(e.DocumentHighlightKind={}));let $=class{constructor(U,re=C.Text){this.range=U,this.kind=re}toJSON(){return{range:this.range,kind:C[this.kind]}}};$=qe([L],$),e.DocumentHighlight=$;var W;(function(z){z[z.File=0]="File",z[z.Module=1]="Module",z[z.Namespace=2]="Namespace",z[z.Package=3]="Package",z[z.Class=4]="Class",z[z.Method=5]="Method",z[z.Property=6]="Property",z[z.Field=7]="Field",z[z.Constructor=8]="Constructor",z[z.Enum=9]="Enum",z[z.Interface=10]="Interface",z[z.Function=11]="Function",z[z.Variable=12]="Variable",z[z.Constant=13]="Constant",z[z.String=14]="String",z[z.Number=15]="Number",z[z.Boolean=16]="Boolean",z[z.Array=17]="Array",z[z.Object=18]="Object",z[z.Key=19]="Key",z[z.Null=20]="Null",z[z.EnumMember=21]="EnumMember",z[z.Struct=22]="Struct",z[z.Event=23]="Event",z[z.Operator=24]="Operator",z[z.TypeParameter=25]="TypeParameter"})(W=e.SymbolKind||(e.SymbolKind={}));var V;(function(z){z[z.Deprecated=1]="Deprecated"})(V=e.SymbolTag||(e.SymbolTag={}));let ie=n=class{static validate(U){if(!U.name)throw new Error("name must not be falsy")}constructor(U,re,Ee,Ke,_e){this.name=U,this.kind=re,this.containerName=_e,typeof Ee=="string"&&(this.containerName=Ee),Ke instanceof Se?this.location=Ke:Ee instanceof me&&(this.location=new Se(Ke,Ee)),n.validate(this)}toJSON(){return{name:this.name,kind:W[this.kind],location:this.location,containerName:this.containerName}}};ie=n=qe([L],ie),e.SymbolInformation=ie;let fe=s=class{static validate(U){if(!U.name)throw new Error("name must not be falsy");if(!U.range.contains(U.selectionRange))throw new Error("selectionRange must be contained in fullRange");U.children?.forEach(s.validate)}constructor(U,re,Ee,Ke,_e){this.name=U,this.detail=re,this.kind=Ee,this.range=Ke,this.selectionRange=_e,this.children=[],s.validate(this)}};fe=s=qe([L],fe),e.DocumentSymbol=fe;var De;(function(z){z[z.Invoke=1]="Invoke",z[z.Automatic=2]="Automatic"})(De=e.CodeActionTriggerKind||(e.CodeActionTriggerKind={}));let ue=class{constructor(U,re){this.title=U,this.kind=re}};ue=qe([L],ue),e.CodeAction=ue;let ve=f=class{constructor(U){this.value=U}append(U){return new f(this.value?this.value+f.c+U:U)}intersects(U){return this.contains(U)||U.contains(this)}contains(U){return this.value===U.value||U.value.startsWith(this.value+f.c)}};ve.c=".",ve=f=qe([L],ve),e.CodeActionKind=ve,ve.Empty=new ve(""),ve.QuickFix=ve.Empty.append("quickfix"),ve.Refactor=ve.Empty.append("refactor"),ve.RefactorExtract=ve.Refactor.append("extract"),ve.RefactorInline=ve.Refactor.append("inline"),ve.RefactorMove=ve.Refactor.append("move"),ve.RefactorRewrite=ve.Refactor.append("rewrite"),ve.Source=ve.Empty.append("source"),ve.SourceOrganizeImports=ve.Source.append("organizeImports"),ve.SourceFixAll=ve.Source.append("fixAll");let be=class{constructor(U,re){if(this.range=U,this.parent=re,re&&!re.range.contains(this.range))throw new Error("Invalid argument: parent must contain this range")}};be=qe([L],be),e.SelectionRange=be;class He{constructor(U,re,Ee,Ke,_e,ot){this.kind=U,this.name=re,this.detail=Ee,this.uri=Ke,this.range=_e,this.selectionRange=ot}}e.CallHierarchyItem=He;class je{constructor(U,re){this.fromRanges=re,this.from=U}}e.CallHierarchyIncomingCall=je;class it{constructor(U,re){this.fromRanges=re,this.to=U}}e.CallHierarchyOutgoingCall=it;var Xe;(function(z){z[z.Information=0]="Information",z[z.Warning=1]="Warning",z[z.Error=2]="Error"})(Xe=e.LanguageStatusSeverity||(e.LanguageStatusSeverity={}));let et=class{constructor(U,re){this.range=U,this.command=re}get isResolved(){return!!this.command}};et=qe([L],et),e.CodeLens=et;let nt=A=class{static isMarkdownString(U){return U instanceof A?!0:U&&U.appendCodeblock&&U.appendMarkdown&&U.appendText&&U.value!==void 0}constructor(U,re=!1){o.set(this,void 0),Je(this,o,new I.MarkdownString(U,{supportThemeIcons:re}),"f")}get value(){return Le(this,o,"f").value}set value(U){Le(this,o,"f").value=U}get isTrusted(){return Le(this,o,"f").isTrusted}set isTrusted(U){Le(this,o,"f").isTrusted=U}get supportThemeIcons(){return Le(this,o,"f").supportThemeIcons}set supportThemeIcons(U){Le(this,o,"f").supportThemeIcons=U}get supportHtml(){return Le(this,o,"f").supportHtml}set supportHtml(U){Le(this,o,"f").supportHtml=U}get baseUri(){return Le(this,o,"f").baseUri}set baseUri(U){Le(this,o,"f").baseUri=U}appendText(U){return Le(this,o,"f").appendText(U),this}appendMarkdown(U){return Le(this,o,"f").appendMarkdown(U),this}appendCodeblock(U,re){return Le(this,o,"f").appendCodeblock(re??"",U),this}};o=new WeakMap,nt=A=qe([L],nt),e.MarkdownString=nt;let Ne=class{constructor(U,re){this.label=U,this.documentation=re}};Ne=qe([L],Ne),e.ParameterInformation=Ne;let rt=class{constructor(U,re){this.label=U,this.documentation=re,this.parameters=[]}};rt=qe([L],rt),e.SignatureInformation=rt;let G=class{constructor(){this.activeSignature=0,this.activeParameter=0,this.signatures=[]}};G=qe([L],G),e.SignatureHelp=G;var Q;(function(z){z[z.Invoke=1]="Invoke",z[z.TriggerCharacter=2]="TriggerCharacter",z[z.ContentChange=3]="ContentChange"})(Q=e.SignatureHelpTriggerKind||(e.SignatureHelpTriggerKind={}));var pe;(function(z){z[z.Type=1]="Type",z[z.Parameter=2]="Parameter"})(pe=e.InlayHintKind||(e.InlayHintKind={}));let We=class{constructor(U){this.value=U}};We=qe([L],We),e.InlayHintLabelPart=We;let $e=class{constructor(U,re,Ee){this.position=U,this.label=re,this.kind=Ee}};$e=qe([L],$e),e.InlayHint=$e;var Qe;(function(z){z[z.Invoke=0]="Invoke",z[z.TriggerCharacter=1]="TriggerCharacter",z[z.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(Qe=e.CompletionTriggerKind||(e.CompletionTriggerKind={}));var xe;(function(z){z[z.Text=0]="Text",z[z.Method=1]="Method",z[z.Function=2]="Function",z[z.Constructor=3]="Constructor",z[z.Field=4]="Field",z[z.Variable=5]="Variable",z[z.Class=6]="Class",z[z.Interface=7]="Interface",z[z.Module=8]="Module",z[z.Property=9]="Property",z[z.Unit=10]="Unit",z[z.Value=11]="Value",z[z.Enum=12]="Enum",z[z.Keyword=13]="Keyword",z[z.Snippet=14]="Snippet",z[z.Color=15]="Color",z[z.File=16]="File",z[z.Reference=17]="Reference",z[z.Folder=18]="Folder",z[z.EnumMember=19]="EnumMember",z[z.Constant=20]="Constant",z[z.Struct=21]="Struct",z[z.Event=22]="Event",z[z.Operator=23]="Operator",z[z.TypeParameter=24]="TypeParameter",z[z.User=25]="User",z[z.Issue=26]="Issue"})(xe=e.CompletionItemKind||(e.CompletionItemKind={}));var tt;(function(z){z[z.Deprecated=1]="Deprecated"})(tt=e.CompletionItemTag||(e.CompletionItemTag={}));let at=class{constructor(U,re){this.label=U,this.kind=re}toJSON(){return{label:this.label,kind:this.kind&&xe[this.kind],detail:this.detail,documentation:this.documentation,sortText:this.sortText,filterText:this.filterText,preselect:this.preselect,insertText:this.insertText,textEdit:this.textEdit}}};at=qe([L],at),e.CompletionItem=at;let Et=class{constructor(U=[],re=!1){this.items=U,this.isIncomplete=re}};Et=qe([L],Et),e.CompletionList=Et;let Ct=class{constructor(U,re,Ee){this.insertText=U,this.range=re,this.command=Ee}};Ct=qe([L],Ct),e.InlineSuggestion=Ct;let It=class{constructor(U){this.commands=void 0,this.items=U}};It=qe([L],It),e.InlineSuggestionList=It;var Dt;(function(z){z[z.Active=-1]="Active",z[z.Beside=-2]="Beside",z[z.One=1]="One",z[z.Two=2]="Two",z[z.Three=3]="Three",z[z.Four=4]="Four",z[z.Five=5]="Five",z[z.Six=6]="Six",z[z.Seven=7]="Seven",z[z.Eight=8]="Eight",z[z.Nine=9]="Nine"})(Dt=e.ViewColumn||(e.ViewColumn={}));var ut;(function(z){z[z.Left=1]="Left",z[z.Right=2]="Right"})(ut=e.StatusBarAlignment||(e.StatusBarAlignment={}));var ft;(function(z){z[z.Off=0]="Off",z[z.On=1]="On",z[z.Relative=2]="Relative"})(ft=e.TextEditorLineNumbersStyle||(e.TextEditorLineNumbersStyle={}));var xt;(function(z){z[z.Manual=1]="Manual",z[z.AfterDelay=2]="AfterDelay",z[z.FocusOut=3]="FocusOut"})(xt=e.TextDocumentSaveReason||(e.TextDocumentSaveReason={}));var Vt;(function(z){z[z.Default=0]="Default",z[z.InCenter=1]="InCenter",z[z.InCenterIfOutsideViewport=2]="InCenterIfOutsideViewport",z[z.AtTop=3]="AtTop"})(Vt=e.TextEditorRevealType||(e.TextEditorRevealType={}));var kt;(function(z){z[z.Keyboard=1]="Keyboard",z[z.Mouse=2]="Mouse",z[z.Command=3]="Command"})(kt=e.TextEditorSelectionChangeKind||(e.TextEditorSelectionChangeKind={}));var ht;(function(z){z[z.Undo=1]="Undo",z[z.Redo=2]="Redo"})(ht=e.TextDocumentChangeReason||(e.TextDocumentChangeReason={}));var Tt;(function(z){z[z.OpenOpen=0]="OpenOpen",z[z.ClosedClosed=1]="ClosedClosed",z[z.OpenClosed=2]="OpenClosed",z[z.ClosedOpen=3]="ClosedOpen"})(Tt=e.DecorationRangeBehavior||(e.DecorationRangeBehavior={})),function(z){function U(re){switch(re){case"keyboard":return z.Keyboard;case"mouse":return z.Mouse;case"api":return z.Command}}z.fromValue=U}(kt=e.TextEditorSelectionChangeKind||(e.TextEditorSelectionChangeKind={}));let $t=class{constructor(U,re){if(re&&!k.URI.isUri(re))throw(0,T.illegalArgument)("target");if(!me.isRange(U)||U.isEmpty)throw(0,T.illegalArgument)("range");this.range=U,this.target=re}};$t=qe([L],$t),e.DocumentLink=$t;let At=class{constructor(U,re,Ee,Ke){this.red=U,this.green=re,this.blue=Ee,this.alpha=Ke}};At=qe([L],At),e.Color=At;let Ge=class{constructor(U,re){if(re&&!(re instanceof At))throw(0,T.illegalArgument)("color");if(!me.isRange(U)||U.isEmpty)throw(0,T.illegalArgument)("range");this.range=U,this.color=re}};Ge=qe([L],Ge),e.ColorInformation=Ge;let Ft=class{constructor(U){if(!U||typeof U!="string")throw(0,T.illegalArgument)("label");this.label=U}};Ft=qe([L],Ft),e.ColorPresentation=Ft;var Kt;(function(z){z[z.RGB=0]="RGB",z[z.HEX=1]="HEX",z[z.HSL=2]="HSL"})(Kt=e.ColorFormat||(e.ColorFormat={}));var Nt;(function(z){z[z.Error=0]="Error",z[z.Warning=1]="Warning",z[z.Information=2]="Information"})(Nt=e.SourceControlInputBoxValidationType||(e.SourceControlInputBoxValidationType={}));var mt;(function(z){z[z.Unknown=0]="Unknown",z[z.Shutdown=1]="Shutdown",z[z.Process=2]="Process",z[z.User=3]="User",z[z.Extension=4]="Extension"})(mt=e.TerminalExitReason||(e.TerminalExitReason={}));class Ce{constructor(U,re,Ee){if(this.startIndex=U,this.length=re,this.tooltip=Ee,typeof U!="number"||U<0)throw(0,T.illegalArgument)("startIndex");if(typeof re!="number"||re<1)throw(0,T.illegalArgument)("length");if(Ee!==void 0&&typeof Ee!="string")throw(0,T.illegalArgument)("tooltip")}}e.TerminalLink=Ce;class Ae{constructor(U){this.uri=U}}e.TerminalQuickFixOpener=Ae;class ge{constructor(U){this.terminalCommand=U}}e.TerminalQuickFixCommand=ge;var x;(function(z){z[z.Panel=1]="Panel",z[z.Editor=2]="Editor"})(x=e.TerminalLocation||(e.TerminalLocation={}));class Re{constructor(U){if(this.options=U,typeof U!="object")throw(0,T.illegalArgument)("options")}}e.TerminalProfile=Re;var Ue;(function(z){z[z.Always=1]="Always",z[z.Silent=2]="Silent",z[z.Never=3]="Never"})(Ue=e.TaskRevealKind||(e.TaskRevealKind={}));var Ye;(function(z){z[z.Shared=1]="Shared",z[z.Dedicated=2]="Dedicated",z[z.New=3]="New"})(Ye=e.TaskPanelKind||(e.TaskPanelKind={}));let Be=P=class{static from(U){switch(U){case"clean":return P.Clean;case"build":return P.Build;case"rebuild":return P.Rebuild;case"test":return P.Test;default:return}}constructor(U,re){if(this.label=re,typeof U!="string"||typeof re!="string")throw(0,T.illegalArgument)("name");this.c=U}get id(){return this.c}};Be.Clean=new P("clean","Clean"),Be.Build=new P("build","Build"),Be.Rebuild=new P("rebuild","Rebuild"),Be.Test=new P("test","Test"),Be=P=qe([L],Be),e.TaskGroup=Be;function Ze(z){let U="";for(let re=0;re<z.length;re++)U+=z[re].replace(/,/g,",,")+",";return U}let ct=class{constructor(U,re,Ee){if(typeof U!="string")throw(0,T.illegalArgument)("process");this.e=[],this.c=U,re!==void 0&&(Array.isArray(re)?(this.e=re,this.f=Ee):this.f=re)}get process(){return this.c}set process(U){if(typeof U!="string")throw(0,T.illegalArgument)("process");this.c=U}get args(){return this.e}set args(U){Array.isArray(U)||(U=[]),this.e=U}get options(){return this.f}set options(U){this.f=U}computeId(){const U=[];if(U.push("process"),this.c!==void 0&&U.push(this.c),this.e&&this.e.length>0)for(const re of this.e)U.push(re);return Ze(U)}};ct=qe([L],ct),e.ProcessExecution=ct;let Pt=class{constructor(U,re,Ee){if(this.f=[],Array.isArray(re)){if(!U)throw(0,T.illegalArgument)("command can't be undefined or null");if(typeof U!="string"&&typeof U.value!="string")throw(0,T.illegalArgument)("command");this.e=U,this.f=re,this.g=Ee}else{if(typeof U!="string")throw(0,T.illegalArgument)("commandLine");this.c=U,this.g=re}}get commandLine(){return this.c}set commandLine(U){if(typeof U!="string")throw(0,T.illegalArgument)("commandLine");this.c=U}get command(){return this.e?this.e:""}set command(U){if(typeof U!="string"&&typeof U.value!="string")throw(0,T.illegalArgument)("command");this.e=U}get args(){return this.f}set args(U){this.f=U||[]}get options(){return this.g}set options(U){this.g=U}computeId(){const U=[];if(U.push("shell"),this.c!==void 0&&U.push(this.c),this.e!==void 0&&U.push(typeof this.e=="string"?this.e:this.e.value),this.f&&this.f.length>0)for(const re of this.f)U.push(typeof re=="string"?re:re.value);return Ze(U)}};Pt=qe([L],Pt),e.ShellExecution=Pt;var vt;(function(z){z[z.Escape=1]="Escape",z[z.Strong=2]="Strong",z[z.Weak=3]="Weak"})(vt=e.ShellQuoting||(e.ShellQuoting={}));var wt;(function(z){z[z.Global=1]="Global",z[z.Workspace=2]="Workspace"})(wt=e.TaskScope||(e.TaskScope={}));class pt{constructor(U){this.c=U}computeId(){return"customExecution"+(0,M.generateUuid)()}set callback(U){this.c=U}get callback(){return this.c}}e.CustomExecution=pt;let Rt=H=class{constructor(U,re,Ee,Ke,_e,ot){this.j=!1,this.k=this.definition=U;let dt;typeof re=="string"?(this.m=this.name=re,this.t=this.source=Ee,this.execution=Ke,dt=_e,this.j=!0):re===wt.Global||re===wt.Workspace?(this.target=re,this.m=this.name=Ee,this.t=this.source=Ke,this.execution=_e,dt=ot):(this.target=re,this.m=this.name=Ee,this.t=this.source=Ke,this.execution=_e,dt=ot),typeof dt=="string"?(this.o=[dt],this.q=!0):Array.isArray(dt)?(this.o=dt,this.q=!0):(this.o=[],this.q=!1),this.r=!1,this.v=Object.create(null),this.w=Object.create(null)}get _id(){return this.h}set _id(U){this.h=U}get _deprecated(){return this.j}y(){this.h!==void 0&&(this.h=void 0,this.l=void 0,this.z())}z(){this.n instanceof ct?this.k={type:H.e,id:this.n.computeId()}:this.n instanceof Pt?this.k={type:H.f,id:this.n.computeId()}:this.n instanceof pt?this.k={type:H.c,id:this.n.computeId()}:this.k={type:H.g,id:(0,M.generateUuid)()}}get definition(){return this.k}set definition(U){if(U==null)throw(0,T.illegalArgument)("Kind can't be undefined or null");this.y(),this.k=U}get scope(){return this.l}set target(U){this.y(),this.l=U}get name(){return this.m}set name(U){if(typeof U!="string")throw(0,T.illegalArgument)("name");this.y(),this.m=U}get execution(){return this.n}set execution(U){U===null&&(U=void 0),this.y(),this.n=U;const re=this.k.type;(H.g===re||H.e===re||H.f===re||H.c===re)&&this.z()}get problemMatchers(){return this.o}set problemMatchers(U){if(Array.isArray(U))this.y(),this.o=U,this.q=!0;else{this.y(),this.o=[],this.q=!1;return}}get hasDefinedMatchers(){return this.q}get isBackground(){return this.r}set isBackground(U){U!==!0&&U!==!1&&(U=!1),this.y(),this.r=U}get source(){return this.t}set source(U){if(typeof U!="string"||U.length===0)throw(0,T.illegalArgument)("source must be a string of length > 0");this.y(),this.t=U}get group(){return this.u}set group(U){U===null&&(U=void 0),this.y(),this.u=U}get detail(){return this.x}set detail(U){U===null&&(U=void 0),this.x=U}get presentationOptions(){return this.v}set presentationOptions(U){U==null&&(U=Object.create(null)),this.y(),this.v=U}get runOptions(){return this.w}set runOptions(U){U==null&&(U=Object.create(null)),this.y(),this.w=U}};Rt.c="customExecution",Rt.e="process",Rt.f="shell",Rt.g="$empty",Rt=H=qe([L],Rt),e.Task=Rt;var bt;(function(z){z[z.SourceControl=1]="SourceControl",z[z.Window=10]="Window",z[z.Notification=15]="Notification"})(bt=e.ProgressLocation||(e.ProgressLocation={}));var ri;(function(z){function U(re){const Ee=re;return(0,S.isNumber)(Ee.value)?Ee.tooltip&&!(0,S.isString)(Ee.tooltip)?(console.log("INVALID view badge, invalid tooltip",Ee.tooltip),!1):!0:(console.log("INVALID view badge, invalid value",Ee.value),!1)}z.isViewBadge=U})(ri=e.ViewBadge||(e.ViewBadge={}));let ei=Y=class{static isTreeItem(U,re){const Ee=U;if(Ee.checkboxState!==void 0){(0,g.checkProposedApiEnabled)(re,"treeItemCheckbox");const Ke=(0,S.isNumber)(Ee.checkboxState)?Ee.checkboxState:(0,S.isObject)(Ee.checkboxState)&&(0,S.isNumber)(Ee.checkboxState.state)?Ee.checkboxState.state:void 0,_e=!(0,S.isNumber)(Ee.checkboxState)&&(0,S.isObject)(Ee.checkboxState)?Ee.checkboxState.tooltip:void 0;if(Ke===void 0||Ke!==si.Checked&&Ke!==si.Unchecked||_e!==void 0&&!(0,S.isString)(_e))return console.log("INVALID tree item, invalid checkboxState",Ee.checkboxState),!1}if(U instanceof Y)return!0;if(Ee.label!==void 0&&!(0,S.isString)(Ee.label)&&!Ee.label?.label)return console.log("INVALID tree item, invalid label",Ee.label),!1;if(Ee.id!==void 0&&!(0,S.isString)(Ee.id))return console.log("INVALID tree item, invalid id",Ee.id),!1;if(Ee.iconPath!==void 0&&!(0,S.isString)(Ee.iconPath)&&!k.URI.isUri(Ee.iconPath)&&(!Ee.iconPath||!(0,S.isString)(Ee.iconPath.id))){const Ke=Ee.iconPath;if(!Ke||!(0,S.isString)(Ke.light)&&!k.URI.isUri(Ke.light)&&!(0,S.isString)(Ke.dark)&&!k.URI.isUri(Ke.dark))return console.log("INVALID tree item, invalid iconPath",Ee.iconPath),!1}return Ee.description!==void 0&&!(0,S.isString)(Ee.description)&&typeof Ee.description!="boolean"?(console.log("INVALID tree item, invalid description",Ee.description),!1):Ee.resourceUri!==void 0&&!k.URI.isUri(Ee.resourceUri)?(console.log("INVALID tree item, invalid resourceUri",Ee.resourceUri),!1):Ee.tooltip!==void 0&&!(0,S.isString)(Ee.tooltip)&&!(Ee.tooltip instanceof nt)?(console.log("INVALID tree item, invalid tooltip",Ee.tooltip),!1):Ee.command!==void 0&&!Ee.command.command?(console.log("INVALID tree item, invalid command",Ee.command),!1):Ee.collapsibleState!==void 0&&Ee.collapsibleState<St.None&&Ee.collapsibleState>St.Expanded?(console.log("INVALID tree item, invalid collapsibleState",Ee.collapsibleState),!1):Ee.contextValue!==void 0&&!(0,S.isString)(Ee.contextValue)?(console.log("INVALID tree item, invalid contextValue",Ee.contextValue),!1):Ee.accessibilityInformation!==void 0&&!Ee.accessibilityInformation?.label?(console.log("INVALID tree item, invalid accessibilityInformation",Ee.accessibilityInformation),!1):!0}constructor(U,re=St.None){this.collapsibleState=re,k.URI.isUri(U)?this.resourceUri=U:this.label=U}};ei=Y=qe([L],ei),e.TreeItem=ei;var St;(function(z){z[z.None=0]="None",z[z.Collapsed=1]="Collapsed",z[z.Expanded=2]="Expanded"})(St=e.TreeItemCollapsibleState||(e.TreeItemCollapsibleState={}));var si;(function(z){z[z.Unchecked=0]="Unchecked",z[z.Checked=1]="Checked"})(si=e.TreeItemCheckboxState||(e.TreeItemCheckboxState={}));let oi=class{async asString(){return typeof this.value=="string"?this.value:JSON.stringify(this.value)}asFile(){}constructor(U,re){this.value=U,this.id=re??(0,M.generateUuid)()}};oi=qe([L],oi),e.DataTransferItem=oi;let _t=class{constructor(U){l.set(this,new Map);for(const[re,Ee]of U??[]){const Ke=Le(this,l,"f").get(re);Ke?Ke.push(Ee):Le(this,l,"f").set(re,[Ee])}}get(U){return Le(this,l,"f").get(U)?.[0]}set(U,re){Le(this,l,"f").set(U,[re])}forEach(U,re){for(const[Ee,Ke]of Le(this,l,"f"))for(const _e of Ke)U.call(re,_e,Ee,this)}*[(l=new WeakMap,Symbol.iterator)](){for(const[U,re]of Le(this,l,"f"))for(const Ee of re)yield[U,Ee]}};_t=qe([L],_t),e.DataTransfer=_t;let vi=class{constructor(U){this.insertText=U}};vi=qe([L],vi),e.DocumentDropEdit=vi;let Ot=class{constructor(U){this.insertText=U}};Ot=qe([L],Ot),e.DocumentPasteEdit=Ot;let zt=class{constructor(U,re){this.id=U,this.color=re}static isThemeIcon(U){return typeof U.id!="string"?(console.log("INVALID ThemeIcon, invalid id",U.id),!1):!0}};zt=qe([L],zt),e.ThemeIcon=zt,zt.File=new zt("file"),zt.Folder=new zt("folder");let bi=class{constructor(U){this.id=U}};bi=qe([L],bi),e.ThemeColor=bi;var ai;(function(z){z[z.Global=1]="Global",z[z.Workspace=2]="Workspace",z[z.WorkspaceFolder=3]="WorkspaceFolder"})(ai=e.ConfigurationTarget||(e.ConfigurationTarget={}));let Jt=class{get base(){return this.c}set base(U){this.c=U,this.e=k.URI.file(U)}get baseUri(){return this.e}set baseUri(U){this.e=U,this.c=U.fsPath}constructor(U,re){if(typeof U!="string"&&(!U||!k.URI.isUri(U)&&!k.URI.isUri(U.uri)))throw(0,T.illegalArgument)("base");if(typeof re!="string")throw(0,T.illegalArgument)("pattern");typeof U=="string"?this.baseUri=k.URI.file(U):k.URI.isUri(U)?this.baseUri=U:this.baseUri=U.uri,this.pattern=re}toJSON(){return{pattern:this.pattern,base:this.base,baseUri:this.baseUri.toJSON()}}};Jt=qe([L],Jt),e.RelativePattern=Jt;const lt=new WeakMap;function $i(z,U){lt.set(z,U)}e.setBreakpointId=$i;let Ut=class{constructor(U,re,Ee,Ke){this.enabled=typeof U=="boolean"?U:!0,typeof re=="string"&&(this.condition=re),typeof Ee=="string"&&(this.hitCondition=Ee),typeof Ke=="string"&&(this.logMessage=Ke)}get id(){return this.c||(this.c=lt.get(this)??(0,M.generateUuid)()),this.c}};Ut=qe([L],Ut),e.Breakpoint=Ut;let Xt=class extends Ut{constructor(U,re,Ee,Ke,_e){if(super(re,Ee,Ke,_e),U===null)throw(0,T.illegalArgument)("location");this.location=U}};Xt=qe([L],Xt),e.SourceBreakpoint=Xt;let ci=class extends Ut{constructor(U,re,Ee,Ke,_e){super(re,Ee,Ke,_e),this.functionName=U}};ci=qe([L],ci),e.FunctionBreakpoint=ci;let Ei=class extends Ut{constructor(U,re,Ee,Ke,_e,ot,dt){if(super(Ke,_e,ot,dt),!re)throw(0,T.illegalArgument)("dataId");this.label=U,this.dataId=re,this.canPersist=Ee}};Ei=qe([L],Ei),e.DataBreakpoint=Ei;let wi=class{constructor(U,re,Ee){this.command=U,this.args=re||[],this.options=Ee}};wi=qe([L],wi),e.DebugAdapterExecutable=wi;let ui=class{constructor(U,re){this.port=U,this.host=re}};ui=qe([L],ui),e.DebugAdapterServer=ui;let Si=class{constructor(U){this.path=U}};Si=qe([L],Si),e.DebugAdapterNamedPipeServer=Si;let li=class{constructor(U){this.implementation=U}};li=qe([L],li),e.DebugAdapterInlineImplementation=li;let Zt=class{constructor(U,re){this.range=U,this.expression=re}};Zt=qe([L],Zt),e.EvaluatableExpression=Zt;var Bi;(function(z){z[z.Invoke=0]="Invoke",z[z.Automatic=1]="Automatic"})(Bi=e.InlineCompletionTriggerKind||(e.InlineCompletionTriggerKind={}));let ti=class{constructor(U,re){this.range=U,this.text=re}};ti=qe([L],ti),e.InlineValueText=ti;let ii=class{constructor(U,re,Ee=!0){this.range=U,this.variableName=re,this.caseSensitiveLookup=Ee}};ii=qe([L],ii),e.InlineValueVariableLookup=ii;let yi=class{constructor(U,re){this.range=U,this.expression=re}};yi=qe([L],yi),e.InlineValueEvaluatableExpression=yi;let Di=class{constructor(U,re){this.frameId=U,this.stoppedLocation=re}};Di=qe([L],Di),e.InlineValueContext=Di;var ni;(function(z){z[z.Changed=1]="Changed",z[z.Created=2]="Created",z[z.Deleted=3]="Deleted"})(ni=e.FileChangeType||(e.FileChangeType={}));let Ii=Z=class extends Error{static FileExists(U){return new Z(U,D.FileSystemProviderErrorCode.FileExists,Z.FileExists)}static FileNotFound(U){return new Z(U,D.FileSystemProviderErrorCode.FileNotFound,Z.FileNotFound)}static FileNotADirectory(U){return new Z(U,D.FileSystemProviderErrorCode.FileNotADirectory,Z.FileNotADirectory)}static FileIsADirectory(U){return new Z(U,D.FileSystemProviderErrorCode.FileIsADirectory,Z.FileIsADirectory)}static NoPermissions(U){return new Z(U,D.FileSystemProviderErrorCode.NoPermissions,Z.NoPermissions)}static Unavailable(U){return new Z(U,D.FileSystemProviderErrorCode.Unavailable,Z.Unavailable)}constructor(U,re=D.FileSystemProviderErrorCode.Unknown,Ee){super(k.URI.isUri(U)?U.toString(!0):U),this.code=Ee?.name??"Unknown",(0,D.markAsFileSystemProviderError)(this,re),Object.setPrototypeOf(this,Z.prototype),typeof Error.captureStackTrace=="function"&&typeof Ee=="function"&&Error.captureStackTrace(this,Ee)}};Ii=Z=qe([L],Ii),e.FileSystemError=Ii;let Ci=class{constructor(U,re,Ee){this.start=U,this.end=re,this.kind=Ee}};Ci=qe([L],Ci),e.FoldingRange=Ci;var zi;(function(z){z[z.Comment=1]="Comment",z[z.Imports=2]="Imports",z[z.Region=3]="Region"})(zi=e.FoldingRangeKind||(e.FoldingRangeKind={}));var Wi;(function(z){z[z.Collapsed=0]="Collapsed",z[z.Expanded=1]="Expanded"})(Wi=e.CommentThreadCollapsibleState||(e.CommentThreadCollapsibleState={}));var Hi;(function(z){z[z.Editing=0]="Editing",z[z.Preview=1]="Preview"})(Hi=e.CommentMode||(e.CommentMode={}));var ki;(function(z){z[z.Unresolved=0]="Unresolved",z[z.Resolved=1]="Resolved"})(ki=e.CommentThreadState||(e.CommentThreadState={}));class Ri{constructor(U,re=[]){this.tokenTypes=U,this.tokenModifiers=re}}e.SemanticTokensLegend=Ri;function Oi(z){return typeof z>"u"||(0,S.isStringArray)(z)}class Me{constructor(U){if(this.c=0,this.e=0,this.f=!0,this.g=[],this.h=0,this.j=new Map,this.k=new Map,this.l=!1,U){this.l=!0;for(let re=0,Ee=U.tokenTypes.length;re<Ee;re++)this.j.set(U.tokenTypes[re],re);for(let re=0,Ee=U.tokenModifiers.length;re<Ee;re++)this.k.set(U.tokenModifiers[re],re)}}push(U,re,Ee,Ke,_e){if(typeof U=="number"&&typeof re=="number"&&typeof Ee=="number"&&typeof Ke=="number"&&(typeof _e=="number"||typeof _e>"u"))return typeof _e>"u"&&(_e=0),this.n(U,re,Ee,Ke,_e);if(me.isRange(U)&&typeof re=="string"&&Oi(Ee))return this.m(U,re,Ee);throw(0,T.illegalArgument)()}m(U,re,Ee){if(!this.l)throw new Error("Legend must be provided in constructor");if(U.start.line!==U.end.line)throw new Error("`range` cannot span multiple lines");if(!this.j.has(re))throw new Error("`tokenType` is not in the provided legend");const Ke=U.start.line,_e=U.start.character,ot=U.end.character-U.start.character,dt=this.j.get(re);let Mt=0;if(Ee)for(const Ht of Ee){if(!this.k.has(Ht))throw new Error("`tokenModifier` is not in the provided legend");const qt=this.k.get(Ht);Mt|=1<<qt>>>0}this.n(Ke,_e,ot,dt,Mt)}n(U,re,Ee,Ke,_e){if(this.f&&(U<this.c||U===this.c&&re<this.e)){this.f=!1;const Mt=this.g.length/5|0;let Ht=0,qt=0;for(let Gt=0;Gt<Mt;Gt++){let Qt=this.g[5*Gt],Pi=this.g[5*Gt+1];Qt===0?(Qt=Ht,Pi+=qt):Qt+=Ht,this.g[5*Gt]=Qt,this.g[5*Gt+1]=Pi,Ht=Qt,qt=Pi}}let ot=U,dt=re;this.f&&this.h>0&&(ot-=this.c,ot===0&&(dt-=this.e)),this.g[this.h++]=ot,this.g[this.h++]=dt,this.g[this.h++]=Ee,this.g[this.h++]=Ke,this.g[this.h++]=_e,this.c=U,this.e=re}static o(U){const re=[],Ee=U.length/5|0;for(let dt=0;dt<Ee;dt++)re[dt]=dt;re.sort((dt,Mt)=>{const Ht=U[5*dt],qt=U[5*Mt];if(Ht===qt){const Gt=U[5*dt+1],Qt=U[5*Mt+1];return Gt-Qt}return Ht-qt});const Ke=new Uint32Array(U.length);let _e=0,ot=0;for(let dt=0;dt<Ee;dt++){const Mt=5*re[dt],Ht=U[Mt+0],qt=U[Mt+1],Gt=U[Mt+2],Qt=U[Mt+3],Pi=U[Mt+4],sn=Ht-_e,Rn=sn===0?qt-ot:qt,Ai=5*dt;Ke[Ai+0]=sn,Ke[Ai+1]=Rn,Ke[Ai+2]=Gt,Ke[Ai+3]=Qt,Ke[Ai+4]=Pi,_e=Ht,ot=qt}return Ke}build(U){return this.f?new Wt(new Uint32Array(this.g),U):new Wt(Me.o(this.g),U)}}e.SemanticTokensBuilder=Me;class Wt{constructor(U,re){this.resultId=re,this.data=U}}e.SemanticTokens=Wt;class Li{constructor(U,re,Ee){this.start=U,this.deleteCount=re,this.data=Ee}}e.SemanticTokensEdit=Li;class gt{constructor(U,re){this.resultId=re,this.edits=U}}e.SemanticTokensEdits=gt;var Vi;(function(z){z[z.Separate=0]="Separate",z[z.MergeWithParent=1]="MergeWithParent"})(Vi=e.DebugConsoleMode||(e.DebugConsoleMode={}));let di=class{constructor(){}};di.Back={iconPath:new zt("arrow-left")},di=qe([L],di),e.QuickInputButtons=di;var Fi;(function(z){z[z.Separator=-1]="Separator",z[z.Default=0]="Default"})(Fi=e.QuickPickItemKind||(e.QuickPickItemKind={}));var ji;(function(z){z[z.Info=1]="Info",z[z.Warning=2]="Warning",z[z.Error=3]="Error"})(ji=e.InputBoxValidationSeverity||(e.InputBoxValidationSeverity={}));var hi;(function(z){z[z.UI=1]="UI",z[z.Workspace=2]="Workspace"})(hi=e.ExtensionKind||(e.ExtensionKind={}));class qi{static validate(U){if(typeof U.badge=="string"){let re=(0,R.nextCharLength)(U.badge,0);if(re<U.badge.length&&(re+=(0,R.nextCharLength)(U.badge,re)),U.badge.length>re)throw new Error("The 'badge'-property must be undefined or a short character")}else if(U.badge&&!zt.isThemeIcon(U.badge))throw new Error("The 'badge'-property is not a valid ThemeIcon");if(!U.color&&!U.badge&&!U.tooltip)throw new Error("The decoration is empty");return!0}constructor(U,re,Ee){this.badge=U,this.tooltip=re,this.color=Ee}}e.FileDecoration=qi;let Ti=class{constructor(U){this.kind=U}};Ti=qe([L],Ti),e.ColorTheme=Ti;var xi;(function(z){z[z.Light=1]="Light",z[z.Dark=2]="Dark",z[z.HighContrast=3]="HighContrast",z[z.HighContrastLight=4]="HighContrastLight"})(xi=e.ColorThemeKind||(e.ColorThemeKind={}));class jt{static isNotebookRange(U){return U instanceof jt?!0:U?typeof U.start=="number"&&typeof U.end=="number":!1}get start(){return this.c}get end(){return this.e}get isEmpty(){return this.c===this.e}constructor(U,re){if(U<0)throw(0,T.illegalArgument)("start must be positive");if(re<0)throw(0,T.illegalArgument)("end must be positive");U<=re?(this.c=U,this.e=re):(this.c=re,this.e=U)}with(U){let re=this.c,Ee=this.e;return U.start!==void 0&&(re=U.start),U.end!==void 0&&(Ee=U.end),re===this.c&&Ee===this.e?this:new jt(re,Ee)}}e.NotebookRange=jt;class fi{static validate(U){if(typeof U.kind!="number")throw new Error("NotebookCellData MUST have 'kind' property");if(typeof U.value!="string")throw new Error("NotebookCellData MUST have 'value' property");if(typeof U.languageId!="string")throw new Error("NotebookCellData MUST have 'languageId' property")}static isNotebookCellDataArray(U){return Array.isArray(U)&&U.every(re=>fi.isNotebookCellData(re))}static isNotebookCellData(U){return!0}constructor(U,re,Ee,Ke,_e,ot,dt){this.kind=U,this.value=re,this.languageId=Ee,this.mime=Ke,this.outputs=_e??[],this.metadata=ot,this.executionSummary=dt,fi.validate(this)}}e.NotebookCellData=fi;class Ki{constructor(U){this.cells=U}}e.NotebookData=Ki;class Bt{static isNotebookCellOutputItem(U){return U instanceof Bt?!0:U?typeof U.mime=="string"&&U.data instanceof Uint8Array:!1}static error(U){const re={name:U.name,message:U.message,stack:U.stack};return Bt.json(re,"application/vnd.code.notebook.error")}static stdout(U){return Bt.text(U,"application/vnd.code.notebook.stdout")}static stderr(U){return Bt.text(U,"application/vnd.code.notebook.stderr")}static bytes(U,re="application/octet-stream"){return new Bt(U,re)}static text(U,re=E.Mimes.text){const Ee=Le(Bt,p,"f",w).encode(String(U));return new Bt(Ee,re)}static json(U,re="text/x-json"){const Ee=JSON.stringify(U,void 0,"	");return Bt.text(Ee,re)}constructor(U,re){this.data=U,this.mime=re;const Ee=(0,E.normalizeMimeType)(re,!0);if(!Ee)throw new Error(`INVALID mime type: ${re}. Must be in the format "type/subtype[;optionalparameter]"`);this.mime=Ee}}p=Bt,w={value:new TextEncoder},e.NotebookCellOutputItem=Bt;class mi{static isNotebookCellOutput(U){return U instanceof mi?!0:!U||typeof U!="object"?!1:typeof U.id=="string"&&Array.isArray(U.items)}static ensureUniqueMimeTypes(U,re=!1){const Ee=new Set,Ke=new Set;for(let _e=0;_e<U.length;_e++){const ot=U[_e],dt=(0,E.normalizeMimeType)(ot.mime);if(!Ee.has(dt)||(0,b.isTextStreamMime)(dt)){Ee.add(dt);continue}Ke.add(_e),re&&console.warn(`DUPLICATED mime type '${ot.mime}' will be dropped`)}return Ke.size===0?U:U.filter((_e,ot)=>!Ke.has(ot))}constructor(U,re,Ee){this.items=mi.ensureUniqueMimeTypes(U,!0),typeof re=="string"?(this.id=re,this.metadata=Ee):(this.id=(0,M.generateUuid)(),this.metadata=re??Ee)}}e.NotebookCellOutput=mi;var Gi;(function(z){z[z.Markup=1]="Markup",z[z.Code=2]="Code"})(Gi=e.NotebookCellKind||(e.NotebookCellKind={}));var Xi;(function(z){z[z.Idle=1]="Idle",z[z.Pending=2]="Pending",z[z.Executing=3]="Executing"})(Xi=e.NotebookCellExecutionState||(e.NotebookCellExecutionState={}));var se;(function(z){z[z.Left=1]="Left",z[z.Right=2]="Right"})(se=e.NotebookCellStatusBarAlignment||(e.NotebookCellStatusBarAlignment={}));var he;(function(z){z[z.Default=0]="Default",z[z.InCenter=1]="InCenter",z[z.InCenterIfOutsideViewport=2]="InCenterIfOutsideViewport",z[z.AtTop=3]="AtTop"})(he=e.NotebookEditorRevealType||(e.NotebookEditorRevealType={}));class Oe{constructor(U,re){this.text=U,this.alignment=re}}e.NotebookCellStatusBarItem=Oe;var st;(function(z){z[z.Default=1]="Default",z[z.Preferred=2]="Preferred"})(st=e.NotebookControllerAffinity||(e.NotebookControllerAffinity={}));var yt;(function(z){z[z.Default=1]="Default",z[z.Preferred=2]="Preferred",z[z.Hidden=-1]="Hidden"})(yt=e.NotebookControllerAffinity2||(e.NotebookControllerAffinity2={}));class Lt{constructor(U,re=[]){this.uri=U,this.provides=(0,i.asArray)(re)}}e.NotebookRendererScript=Lt;class un{constructor(U){this.label=U}}e.NotebookKernelSourceAction=un;let Qi=class{constructor(U,re){this.label=U,this.timestamp=re}};Qi=qe([L],Qi),e.TimelineItem=Qi;var ln;(function(z){z[z.Production=1]="Production",z[z.Development=2]="Development",z[z.Test=3]="Test"})(ln=e.ExtensionMode||(e.ExtensionMode={}));var dn;(function(z){z[z.Node=1]="Node",z[z.Webworker=2]="Webworker"})(dn=e.ExtensionRuntime||(e.ExtensionRuntime={}));var hn;(function(z){z[z.Other=0]="Other",z[z.Comment=1]="Comment",z[z.String=2]="String",z[z.RegEx=3]="RegEx"})(hn=e.StandardTokenType||(e.StandardTokenType={}));class fn{constructor(U,re){this.ranges=U,this.wordPattern=re}}e.LinkedEditingRanges=fn;class mn{constructor(U,re){this.c=U,this.e=re}get port(){return this.c}get autoForwardAction(){return this.e}}e.PortAttributes=mn;var gn;(function(z){z[z.Queued=1]="Queued",z[z.Running=2]="Running",z[z.Passed=3]="Passed",z[z.Failed=4]="Failed",z[z.Skipped=5]="Skipped",z[z.Errored=6]="Errored"})(gn=e.TestResultState||(e.TestResultState={}));var pn;(function(z){z[z.Run=1]="Run",z[z.Debug=2]="Debug",z[z.Coverage=3]="Coverage"})(pn=e.TestRunProfileKind||(e.TestRunProfileKind={}));let Ni=class{constructor(U=void 0,re=void 0,Ee=void 0){this.include=U,this.exclude=re,this.profile=Ee}};Ni=qe([L],Ni),e.TestRunRequest=Ni;let Yi=class extends Ni{constructor(U=void 0,re=void 0,Ee=void 0,Ke=!1){super(U,re,Ee),this.continuous=Ke}};Yi=qe([L],Yi),e.TestRunRequest2=Yi;let _i=_=class{static diff(U,re,Ee){const Ke=new _(U);return Ke.expectedOutput=re,Ke.actualOutput=Ee,Ke}constructor(U){this.message=U}};_i=_=qe([L],_i),e.TestMessage=_i;let Ji=class{constructor(U){this.id=U}};Ji=qe([L],Ji),e.TestTag=Ji;let gi=class{constructor(U,re){this.covered=U,this.total=re}};gi=qe([L],gi),e.CoveredCount=gi;let Zi=j=class{static fromDetails(U,re){const Ee=new gi(0,0),Ke=new gi(0,0),_e=new gi(0,0);for(const dt of re)if("branches"in dt){Ee.total+=1,Ee.covered+=dt.executionCount>0?1:0;for(const Mt of dt.branches)Ke.total+=1,Ke.covered+=Mt.executionCount>0?1:0}else _e.total+=1,_e.covered+=dt.executionCount>0?1:0;const ot=new j(U,Ee,Ke.total>0?Ke:void 0,_e.total>0?_e:void 0);return ot.detailedCoverage=re,ot}constructor(U,re,Ee,Ke){this.uri=U,this.statementCoverage=re,this.branchCoverage=Ee,this.functionCoverage=Ke}};Zi=j=qe([L],Zi),e.FileCoverage=Zi;let en=class{constructor(U,re,Ee=[]){this.executionCount=U,this.location=re,this.branches=Ee}};en=qe([L],en),e.StatementCoverage=en;let tn=class{constructor(U,re){this.executionCount=U,this.location=re}};tn=qe([L],tn),e.BranchCoverage=tn;let nn=class{constructor(U,re){this.executionCount=U,this.location=re}};nn=qe([L],nn),e.FunctionCoverage=nn;var vn;(function(z){z[z.None=0]="None",z[z.Option=1]="Option",z[z.Default=2]="Default",z[z.Preferred=3]="Preferred"})(vn=e.ExternalUriOpenerPriority||(e.ExternalUriOpenerPriority={}));var bn;(function(z){z[z.Untrusted=0]="Untrusted",z[z.Trusted=1]="Trusted",z[z.Unspecified=2]="Unspecified"})(bn=e.WorkspaceTrustState||(e.WorkspaceTrustState={}));var En;(function(z){z[z.Notify=1]="Notify",z[z.OpenBrowser=2]="OpenBrowser",z[z.OpenPreview=3]="OpenPreview",z[z.Silent=4]="Silent",z[z.Ignore=5]="Ignore",z[z.OpenBrowserOnce=6]="OpenBrowserOnce"})(En=e.PortAutoForwardAction||(e.PortAutoForwardAction={}));class wn{constructor(U,re,Ee,Ke,_e,ot){this.kind=U,this.name=re,this.detail=Ee,this.uri=Ke,this.range=_e,this.selectionRange=ot}}e.TypeHierarchyItem=wn;class Sn{constructor(U){this.uri=U}}e.TextTabInput=Sn;class yn{constructor(U,re){this.original=U,this.modified=re}}e.TextDiffTabInput=yn;class Dn{constructor(U,re,Ee,Ke){this.base=U,this.input1=re,this.input2=Ee,this.result=Ke}}e.TextMergeTabInput=Dn;class In{constructor(U,re){this.uri=U,this.viewType=re}}e.CustomEditorTabInput=In;class Cn{constructor(U){this.viewType=U}}e.WebviewEditorTabInput=Cn;class kn{constructor(U,re){this.uri=U,this.notebookType=re}}e.NotebookEditorTabInput=kn;class Tn{constructor(U,re,Ee){this.original=U,this.modified=re,this.notebookType=Ee}}e.NotebookDiffEditorTabInput=Tn;class Pn{constructor(){}}e.TerminalEditorTabInput=Pn;class An{constructor(U,re){this.uri=U,this.inputBoxUri=re}}e.InteractiveWindowInput=An}),define(ke[99],Te([1,0,49,15,10,259,131,7,16]),function(ne,e,i,T,I,N,E,R,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostDocumentLine=e.ExtHostDocumentData=e.setWordDefinitionFor=void 0;const k=new Map;function M(g,a){a?k.set(g,a):k.delete(g)}e.setWordDefinitionFor=M;function D(g){return k.get(g)}class h extends N.MirrorTextModel{constructor(a,o,l,p,w,O,v,t){super(o,l,p,w),this.m=a,this.p=O,this.q=v,this.notebook=t,this.b=!1}dispose(){(0,i.ok)(!this.b),this.b=!0,this.q=!1}equalLines(a){return(0,S.equals)(this.d,a)}get document(){if(!this.a){const a=this;this.a={get uri(){return a.c},get fileName(){return a.c.fsPath},get isUntitled(){return a.c.scheme===T.Schemas.untitled},get languageId(){return a.p},get version(){return a.g},get isClosed(){return a.b},get isDirty(){return a.q},save(){return a.r()},getText(o){return o?a.s(o):a.getText()},get eol(){return a.f===`
`?R.EndOfLine.LF:R.EndOfLine.CRLF},get lineCount(){return a.d.length},lineAt(o){return a.t(o)},offsetAt(o){return a.u(o)},positionAt(o){return a.v(o)},validateRange(o){return a.w(o)},validatePosition(o){return a.x(o)},getWordRangeAtPosition(o,l){return a.y(o,l)}}}return Object.freeze(this.a)}_acceptLanguageId(a){(0,i.ok)(!this.b),this.p=a}_acceptIsDirty(a){(0,i.ok)(!this.b),this.q=a}r(){return this.b?Promise.reject(new Error("Document has been closed")):this.m.$trySaveDocument(this.c)}s(a){const o=this.w(a);if(o.isEmpty)return"";if(o.isSingleLine)return this.d[o.start.line].substring(o.start.character,o.end.character);const l=this.f,p=o.start.line,w=o.end.line,O=[];O.push(this.d[p].substring(o.start.character));for(let v=p+1;v<w;v++)O.push(this.d[v]);return O.push(this.d[w].substring(0,o.end.character)),O.join(l)}t(a){let o;if(a instanceof R.Position?o=a.line:typeof a=="number"&&(o=a),typeof o!="number"||o<0||o>=this.d.length||Math.floor(o)!==o)throw new Error("Illegal value for `line`");return new b(o,this.d[o],o===this.d.length-1)}u(a){return a=this.x(a),this.k(),this.h.getPrefixSum(a.line-1)+a.character}v(a){a=Math.floor(a),a=Math.max(0,a),this.k();const o=this.h.getIndexOf(a),l=this.d[o.index].length;return new R.Position(o.index,Math.min(o.remainder,l))}w(a){if(!(a instanceof R.Range))throw new Error("Invalid argument");const o=this.x(a.start),l=this.x(a.end);return o===a.start&&l===a.end?a:new R.Range(o.line,o.character,l.line,l.character)}x(a){if(!(a instanceof R.Position))throw new Error("Invalid argument");if(this.d.length===0)return a.with(0,0);let{line:o,character:l}=a,p=!1;if(o<0)o=0,l=0,p=!0;else if(o>=this.d.length)o=this.d.length-1,l=this.d[o].length,p=!0;else{const w=this.d[o].length;l<0?(l=0,p=!0):l>w&&(l=w,p=!0)}return p?new R.Position(o,l):a}y(a,o){const l=this.x(a);if(!o)o=D(this.p);else if((0,I.regExpLeadsToEndlessLoop)(o))throw new Error(`[getWordRangeAtPosition]: ignoring custom regexp '${o.source}' because it matches the empty string.`);const p=(0,E.getWordAtText)(l.character+1,(0,E.ensureValidWordDefinition)(o),this.d[l.line],0);if(p)return new R.Range(l.line,p.startColumn-1,l.line,p.endColumn-1)}}e.ExtHostDocumentData=h;class b{constructor(a,o,l){this.a=a,this.b=o,this.c=l}get lineNumber(){return this.a}get text(){return this.b}get range(){return new R.Range(this.a,0,this.a,this.b.length)}get rangeIncludingLineBreak(){return this.c?this.range:new R.Range(this.a,0,this.a+1,0)}get firstNonWhitespaceCharacterIndex(){return/^(\s*)/.exec(this.b)[1].length}get isEmptyOrWhitespace(){return this.firstNonWhitespaceCharacterIndex===this.b.length}}e.ExtHostDocumentLine=b}),define(ke[194],Te([1,0,7,18,4]),function(ne,e,i,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostTheming=void 0;let N=class{constructor(R){this.a=new i.ColorTheme(i.ColorThemeKind.Dark),this.b=new I.Emitter}get activeColorTheme(){return this.a}$onColorThemeChange(R){let S;switch(R){case"light":S=i.ColorThemeKind.Light;break;case"hcDark":S=i.ColorThemeKind.HighContrast;break;case"hcLight":S=i.ColorThemeKind.HighContrastLight;break;default:S=i.ColorThemeKind.Dark}this.a=new i.ColorTheme(S),this.b.fire(this.a)}get onDidChangeActiveColorTheme(){return this.b.event}};N=qe([Ve(0,T.IExtHostRpcService)],N),e.ExtHostTheming=N}),define(ke[8],Te([1,0,16,23,116,195,86,28,112,66,65,22,9,2,44,75,91,96,95,71,45,56,191,7]),function(ne,e,i,T,I,N,E,R,S,k,M,D,h,b,g,a,o,l,p,w,O,v,t,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataTransfer=e.DataTransferItem=e.ViewBadge=e.TypeHierarchyItem=e.CodeActionTriggerKind=e.TestCoverage=e.TestResults=e.TestItem=e.TestTag=e.TestMessage=e.NotebookRendererScript=e.NotebookDocumentContentOptions=e.NotebookKernelSourceAction=e.NotebookStatusBarItem=e.NotebookExclusiveDocumentPattern=e.NotebookCellOutput=e.NotebookCellOutputItem=e.NotebookCellData=e.NotebookData=e.NotebookCellKind=e.NotebookCellExecutionState=e.NotebookCellExecutionSummary=e.NotebookRange=e.LanguageSelector=e.GlobPattern=e.TextEditorOpenOptions=e.FoldingRangeKind=e.FoldingRange=e.ProgressLocation=e.EndOfLine=e.TextEditorLineNumbersStyle=e.TextDocumentSaveReason=e.SelectionRange=e.Color=e.ColorPresentation=e.DocumentLink=e.InlayHintKind=e.InlayHintLabelPart=e.InlayHint=e.SignatureHelp=e.SignatureInformation=e.ParameterInformation=e.CompletionItem=e.CompletionItemKind=e.CompletionItemTag=e.CompletionContext=e.CompletionTriggerKind=e.DocumentHighlight=e.InlineValueContext=e.InlineValue=e.EvaluatableExpression=e.Hover=e.DefinitionLink=e.location=e.CallHierarchyOutgoingCall=e.CallHierarchyIncomingCall=e.CallHierarchyItem=e.DocumentSymbol=e.WorkspaceSymbol=e.SymbolTag=e.SymbolKind=e.WorkspaceEdit=e.TextEdit=e.DecorationRenderOptions=e.DecorationRangeBehavior=e.ThemableDecorationRenderOptions=e.ThemableDecorationAttachmentRenderOptions=e.pathOrURIToURI=e.fromRangeOrRangeWithMessage=e.MarkdownString=e.isDecorationOptionsArr=e.ViewColumn=e.DiagnosticSeverity=e.DiagnosticRelatedInformation=e.Diagnostic=e.DiagnosticTag=e.DocumentSelector=e.Position=e.TokenType=e.Range=e.Selection=void 0;var r;(function(Ce){function Ae(x){const{selectionStartLineNumber:Re,selectionStartColumn:Ue,positionLineNumber:Ye,positionColumn:Be}=x,Ze=new d.Position(Re-1,Ue-1),ct=new d.Position(Ye-1,Be-1);return new d.Selection(Ze,ct)}Ce.to=Ae;function ge(x){const{anchor:Re,active:Ue}=x;return{selectionStartLineNumber:Re.line+1,selectionStartColumn:Re.character+1,positionLineNumber:Ue.line+1,positionColumn:Ue.character+1}}Ce.from=ge})(r=e.Selection||(e.Selection={}));var u;(function(Ce){function Ae(x){if(!x)return;const{start:Re,end:Ue}=x;return{startLineNumber:Re.line+1,startColumn:Re.character+1,endLineNumber:Ue.line+1,endColumn:Ue.character+1}}Ce.from=Ae;function ge(x){if(!x)return;const{startLineNumber:Re,startColumn:Ue,endLineNumber:Ye,endColumn:Be}=x;return new d.Range(Re-1,Ue-1,Ye-1,Be-1)}Ce.to=ge})(u=e.Range||(e.Range={}));var c;(function(Ce){function Ae(ge){switch(ge){case 1:return d.StandardTokenType.Comment;case 0:return d.StandardTokenType.Other;case 3:return d.StandardTokenType.RegEx;case 2:return d.StandardTokenType.String}}Ce.to=Ae})(c=e.TokenType||(e.TokenType={}));var y;(function(Ce){function Ae(x){return new d.Position(x.lineNumber-1,x.column-1)}Ce.to=Ae;function ge(x){return{lineNumber:x.line+1,column:x.character+1}}Ce.from=ge})(y=e.Position||(e.Position={}));var n;(function(Ce){function Ae(Re,Ue){return(0,i.coalesce)((0,i.asArray)(Re).map(Ye=>ge(Ye,Ue)))}Ce.from=Ae;function ge(Re,Ue){if(typeof Re=="string")return{$serialized:!0,language:Re};if(Re)return{$serialized:!0,language:Re.language,scheme:x(Re.scheme,Ue),pattern:pe.from(Re.pattern)??void 0,exclusive:Re.exclusive,notebookType:Re.notebookType}}function x(Re,Ue){return Ue&&typeof Re=="string"?Ue.transformOutgoingScheme(Re):Re}})(n=e.DocumentSelector||(e.DocumentSelector={}));var s;(function(Ce){function Ae(x){switch(x){case d.DiagnosticTag.Unnecessary:return 1;case d.DiagnosticTag.Deprecated:return 2}}Ce.from=Ae;function ge(x){switch(x){case 1:return d.DiagnosticTag.Unnecessary;case 2:return d.DiagnosticTag.Deprecated;default:return}}Ce.to=ge})(s=e.DiagnosticTag||(e.DiagnosticTag={}));var f;(function(Ce){function Ae(x){let Re;return x.code&&((0,h.isString)(x.code)||(0,h.isNumber)(x.code)?Re=String(x.code):Re={value:String(x.code.value),target:x.code.target}),{...u.from(x.range),message:x.message,source:x.source,code:Re,severity:P.from(x.severity),relatedInformation:x.relatedInformation&&x.relatedInformation.map(A.from),tags:Array.isArray(x.tags)?(0,i.coalesce)(x.tags.map(s.from)):void 0}}Ce.from=Ae;function ge(x){const Re=new d.Diagnostic(u.to(x),x.message,P.to(x.severity));return Re.source=x.source,Re.code=(0,h.isString)(x.code)?x.code:x.code?.value,Re.relatedInformation=x.relatedInformation&&x.relatedInformation.map(A.to),Re.tags=x.tags&&(0,i.coalesce)(x.tags.map(s.to)),Re}Ce.to=ge})(f=e.Diagnostic||(e.Diagnostic={}));var A;(function(Ce){function Ae(x){return{...u.from(x.location.range),message:x.message,resource:x.location.uri}}Ce.from=Ae;function ge(x){return new d.DiagnosticRelatedInformation(new d.Location(x.resource,u.to(x)),x.message)}Ce.to=ge})(A=e.DiagnosticRelatedInformation||(e.DiagnosticRelatedInformation={}));var P;(function(Ce){function Ae(x){switch(x){case d.DiagnosticSeverity.Error:return o.MarkerSeverity.Error;case d.DiagnosticSeverity.Warning:return o.MarkerSeverity.Warning;case d.DiagnosticSeverity.Information:return o.MarkerSeverity.Info;case d.DiagnosticSeverity.Hint:return o.MarkerSeverity.Hint}return o.MarkerSeverity.Error}Ce.from=Ae;function ge(x){switch(x){case o.MarkerSeverity.Info:return d.DiagnosticSeverity.Information;case o.MarkerSeverity.Warning:return d.DiagnosticSeverity.Warning;case o.MarkerSeverity.Error:return d.DiagnosticSeverity.Error;case o.MarkerSeverity.Hint:return d.DiagnosticSeverity.Hint;default:return d.DiagnosticSeverity.Error}}Ce.to=ge})(P=e.DiagnosticSeverity||(e.DiagnosticSeverity={}));var H;(function(Ce){function Ae(x){return typeof x=="number"&&x>=d.ViewColumn.One?x-1:x===d.ViewColumn.Beside?t.SIDE_GROUP:t.ACTIVE_GROUP}Ce.from=Ae;function ge(x){if(typeof x=="number"&&x>=0)return x+1;throw new Error("invalid 'EditorGroupColumn'")}Ce.to=ge})(H=e.ViewColumn||(e.ViewColumn={}));function Y(Ce){return typeof Ce.range<"u"}function Z(Ce){return Ce.length===0?!0:!!Y(Ce[0])}e.isDecorationOptionsArr=Z;var _;(function(Ce){function Ae(Be){return Be.map(Ce.from)}Ce.fromMany=Ae;function ge(Be){return Be&&typeof Be=="object"&&typeof Be.language=="string"&&typeof Be.value=="string"}function x(Be){let Ze;if(ge(Be)){const{language:wt,value:pt}=Be;Ze={value:"```"+wt+`
`+pt+"\n```\n"}}else d.MarkdownString.isMarkdownString(Be)?Ze={value:Be.value,isTrusted:Be.isTrusted,supportThemeIcons:Be.supportThemeIcons,supportHtml:Be.supportHtml,baseUri:Be.baseUri}:typeof Be=="string"?Ze={value:Be}:Ze={value:""};const ct=Object.create(null);Ze.uris=ct;const Pt=wt=>{try{let pt=b.URI.parse(wt,!0);pt=pt.with({query:Re(pt.query,ct)}),ct[wt]=pt}catch{}return""},vt=new S.marked.Renderer;return vt.link=Pt,vt.image=wt=>typeof wt=="string"?Pt(E.parseHrefAndDimensions(wt).href):"",(0,S.marked)(Ze.value,{renderer:vt}),Ze}Ce.from=x;function Re(Be,Ze){if(!Be)return Be;let ct;try{ct=(0,k.parse)(Be)}catch{}if(!ct)return Be;let Pt=!1;return ct=(0,D.cloneAndChange)(ct,vt=>{if(b.URI.isUri(vt)){const wt=`__uri_${Math.random().toString(16).slice(2,8)}`;return Ze[wt]=vt,Pt=!0,wt}else return}),Pt?JSON.stringify(ct):Be}function Ue(Be){const Ze=new d.MarkdownString(Be.value,Be.supportThemeIcons);return Ze.isTrusted=Be.isTrusted,Ze.supportHtml=Be.supportHtml,Ze.baseUri=Be.baseUri?b.URI.from(Be.baseUri):void 0,Ze}Ce.to=Ue;function Ye(Be){if(!!Be)return typeof Be=="string"?Be:Ce.from(Be)}Ce.fromStrict=Ye})(_=e.MarkdownString||(e.MarkdownString={}));function j(Ce){return Z(Ce)?Ce.map(Ae=>({range:u.from(Ae.range),hoverMessage:Array.isArray(Ae.hoverMessage)?_.fromMany(Ae.hoverMessage):Ae.hoverMessage?_.from(Ae.hoverMessage):void 0,renderOptions:Ae.renderOptions})):Ce.map(Ae=>({range:u.from(Ae)}))}e.fromRangeOrRangeWithMessage=j;function L(Ce){return typeof Ce>"u"?Ce:typeof Ce=="string"?b.URI.file(Ce):Ce}e.pathOrURIToURI=L;var m;(function(Ce){function Ae(ge){return typeof ge>"u"?ge:{contentText:ge.contentText,contentIconPath:ge.contentIconPath?L(ge.contentIconPath):void 0,border:ge.border,borderColor:ge.borderColor,fontStyle:ge.fontStyle,fontWeight:ge.fontWeight,textDecoration:ge.textDecoration,color:ge.color,backgroundColor:ge.backgroundColor,margin:ge.margin,width:ge.width,height:ge.height}}Ce.from=Ae})(m=e.ThemableDecorationAttachmentRenderOptions||(e.ThemableDecorationAttachmentRenderOptions={}));var F;(function(Ce){function Ae(ge){return typeof ge>"u"?ge:{backgroundColor:ge.backgroundColor,outline:ge.outline,outlineColor:ge.outlineColor,outlineStyle:ge.outlineStyle,outlineWidth:ge.outlineWidth,border:ge.border,borderColor:ge.borderColor,borderRadius:ge.borderRadius,borderSpacing:ge.borderSpacing,borderStyle:ge.borderStyle,borderWidth:ge.borderWidth,fontStyle:ge.fontStyle,fontWeight:ge.fontWeight,textDecoration:ge.textDecoration,cursor:ge.cursor,color:ge.color,opacity:ge.opacity,letterSpacing:ge.letterSpacing,gutterIconPath:ge.gutterIconPath?L(ge.gutterIconPath):void 0,gutterIconSize:ge.gutterIconSize,overviewRulerColor:ge.overviewRulerColor,before:ge.before?m.from(ge.before):void 0,after:ge.after?m.from(ge.after):void 0}}Ce.from=Ae})(F=e.ThemableDecorationRenderOptions||(e.ThemableDecorationRenderOptions={}));var B;(function(Ce){function Ae(ge){if(typeof ge>"u")return ge;switch(ge){case d.DecorationRangeBehavior.OpenOpen:return 0;case d.DecorationRangeBehavior.ClosedClosed:return 1;case d.DecorationRangeBehavior.OpenClosed:return 2;case d.DecorationRangeBehavior.ClosedOpen:return 3}}Ce.from=Ae})(B=e.DecorationRangeBehavior||(e.DecorationRangeBehavior={}));var J;(function(Ce){function Ae(ge){return{isWholeLine:ge.isWholeLine,rangeBehavior:ge.rangeBehavior?B.from(ge.rangeBehavior):void 0,overviewRulerLane:ge.overviewRulerLane,light:ge.light?F.from(ge.light):void 0,dark:ge.dark?F.from(ge.dark):void 0,backgroundColor:ge.backgroundColor,outline:ge.outline,outlineColor:ge.outlineColor,outlineStyle:ge.outlineStyle,outlineWidth:ge.outlineWidth,border:ge.border,borderColor:ge.borderColor,borderRadius:ge.borderRadius,borderSpacing:ge.borderSpacing,borderStyle:ge.borderStyle,borderWidth:ge.borderWidth,fontStyle:ge.fontStyle,fontWeight:ge.fontWeight,textDecoration:ge.textDecoration,cursor:ge.cursor,color:ge.color,opacity:ge.opacity,letterSpacing:ge.letterSpacing,gutterIconPath:ge.gutterIconPath?L(ge.gutterIconPath):void 0,gutterIconSize:ge.gutterIconSize,overviewRulerColor:ge.overviewRulerColor,before:ge.before?m.from(ge.before):void 0,after:ge.after?m.from(ge.after):void 0}}Ce.from=Ae})(J=e.DecorationRenderOptions||(e.DecorationRenderOptions={}));var me;(function(Ce){function Ae(x){return{text:x.newText,eol:x.newEol&&nt.from(x.newEol),range:u.from(x.range)}}Ce.from=Ae;function ge(x){const Re=new d.TextEdit(u.to(x.range),x.text);return Re.newEol=typeof x.eol>"u"?void 0:nt.to(x.eol),Re}Ce.to=ge})(me=e.TextEdit||(e.TextEdit={}));var te;(function(Ce){function Ae(x,Re){const Ue={edits:[]};if(x instanceof d.WorkspaceEdit){const Ye=new R.ResourceSet;for(const Be of x._allEntries())Be._type===1&&b.URI.isUri(Be.to)&&Be.from===void 0&&Ye.add(Be.to);for(const Be of x._allEntries())Be._type===1?Ue.edits.push({oldResource:Be.from,newResource:Be.to,options:{...Be.options,contentsBase64:Be.options?.contents&&(0,T.encodeBase64)(T.VSBuffer.wrap(Be.options.contents))},metadata:Be.metadata}):Be._type===2?Ue.edits.push({resource:Be.uri,textEdit:me.from(Be.edit),versionId:Ye.has(Be.uri)?void 0:Re?.getTextDocumentVersion(Be.uri),metadata:Be.metadata}):Be._type===6?Ue.edits.push({resource:Be.uri,textEdit:{range:u.from(Be.range),text:Be.edit.value,insertAsSnippet:!0},versionId:Ye.has(Be.uri)?void 0:Re?.getTextDocumentVersion(Be.uri),metadata:Be.metadata}):Be._type===3?Ue.edits.push({metadata:Be.metadata,resource:Be.uri,cellEdit:Be.edit,notebookMetadata:Be.notebookMetadata,notebookVersionId:Re?.getNotebookDocumentVersion(Be.uri)}):Be._type===5&&Ue.edits.push({metadata:Be.metadata,resource:Be.uri,notebookVersionId:Re?.getNotebookDocumentVersion(Be.uri),cellEdit:{editType:1,index:Be.index,count:Be.count,cells:Be.cells.map(Et.from)}})}return Ue}Ce.from=Ae;function ge(x){const Re=new d.WorkspaceEdit;for(const Ue of x.edits)Ue.textEdit?Re.replace(b.URI.revive(Ue.resource),u.to(Ue.textEdit.range),Ue.textEdit.text):Re.renameFile(b.URI.revive(Ue.oldResource),b.URI.revive(Ue.newResource),Ue.options);return Re}Ce.to=ge})(te=e.WorkspaceEdit||(e.WorkspaceEdit={}));var oe;(function(Ce){const Ae=Object.create(null);Ae[d.SymbolKind.File]=0,Ae[d.SymbolKind.Module]=1,Ae[d.SymbolKind.Namespace]=2,Ae[d.SymbolKind.Package]=3,Ae[d.SymbolKind.Class]=4,Ae[d.SymbolKind.Method]=5,Ae[d.SymbolKind.Property]=6,Ae[d.SymbolKind.Field]=7,Ae[d.SymbolKind.Constructor]=8,Ae[d.SymbolKind.Enum]=9,Ae[d.SymbolKind.Interface]=10,Ae[d.SymbolKind.Function]=11,Ae[d.SymbolKind.Variable]=12,Ae[d.SymbolKind.Constant]=13,Ae[d.SymbolKind.String]=14,Ae[d.SymbolKind.Number]=15,Ae[d.SymbolKind.Boolean]=16,Ae[d.SymbolKind.Array]=17,Ae[d.SymbolKind.Object]=18,Ae[d.SymbolKind.Key]=19,Ae[d.SymbolKind.Null]=20,Ae[d.SymbolKind.EnumMember]=21,Ae[d.SymbolKind.Struct]=22,Ae[d.SymbolKind.Event]=23,Ae[d.SymbolKind.Operator]=24,Ae[d.SymbolKind.TypeParameter]=25;function ge(Re){return typeof Ae[Re]=="number"?Ae[Re]:6}Ce.from=ge;function x(Re){for(const Ue in Ae)if(Ae[Ue]===Re)return Number(Ue);return d.SymbolKind.Property}Ce.to=x})(oe=e.SymbolKind||(e.SymbolKind={}));var ce;(function(Ce){function Ae(x){switch(x){case d.SymbolTag.Deprecated:return 1}}Ce.from=Ae;function ge(x){switch(x){case 1:return d.SymbolTag.Deprecated}}Ce.to=ge})(ce=e.SymbolTag||(e.SymbolTag={}));var we;(function(Ce){function Ae(x){return{name:x.name,kind:oe.from(x.kind),tags:x.tags&&x.tags.map(ce.from),containerName:x.containerName,location:ye.from(x.location)}}Ce.from=Ae;function ge(x){const Re=new d.SymbolInformation(x.name,oe.to(x.kind),x.containerName,ye.to(x.location));return Re.tags=x.tags&&x.tags.map(ce.to),Re}Ce.to=ge})(we=e.WorkspaceSymbol||(e.WorkspaceSymbol={}));var q;(function(Ce){function Ae(x){const Re={name:x.name||"!!MISSING: name!!",detail:x.detail,range:u.from(x.range),selectionRange:u.from(x.selectionRange),kind:oe.from(x.kind),tags:x.tags?.map(ce.from)??[]};return x.children&&(Re.children=x.children.map(Ae)),Re}Ce.from=Ae;function ge(x){const Re=new d.DocumentSymbol(x.name,x.detail,oe.to(x.kind),u.to(x.range),u.to(x.selectionRange));return(0,i.isNonEmptyArray)(x.tags)&&(Re.tags=x.tags.map(ce.to)),x.children&&(Re.children=x.children.map(ge)),Re}Ce.to=ge})(q=e.DocumentSymbol||(e.DocumentSymbol={}));var K;(function(Ce){function Ae(x){const Re=new d.CallHierarchyItem(oe.to(x.kind),x.name,x.detail||"",b.URI.revive(x.uri),u.to(x.range),u.to(x.selectionRange));return Re._sessionId=x._sessionId,Re._itemId=x._itemId,Re}Ce.to=Ae;function ge(x,Re,Ue){if(Re=Re??x._sessionId,Ue=Ue??x._itemId,Re===void 0||Ue===void 0)throw new Error("invalid item");return{_sessionId:Re,_itemId:Ue,name:x.name,detail:x.detail,kind:oe.from(x.kind),uri:x.uri,range:u.from(x.range),selectionRange:u.from(x.selectionRange),tags:x.tags?.map(ce.from)}}Ce.from=ge})(K=e.CallHierarchyItem||(e.CallHierarchyItem={}));var X;(function(Ce){function Ae(ge){return new d.CallHierarchyIncomingCall(K.to(ge.from),ge.fromRanges.map(x=>u.to(x)))}Ce.to=Ae})(X=e.CallHierarchyIncomingCall||(e.CallHierarchyIncomingCall={}));var de;(function(Ce){function Ae(ge){return new d.CallHierarchyOutgoingCall(K.to(ge.to),ge.fromRanges.map(x=>u.to(x)))}Ce.to=Ae})(de=e.CallHierarchyOutgoingCall||(e.CallHierarchyOutgoingCall={}));var ye;(function(Ce){function Ae(x){return{range:x.range&&u.from(x.range),uri:x.uri}}Ce.from=Ae;function ge(x){return new d.Location(b.URI.revive(x.uri),u.to(x.range))}Ce.to=ge})(ye=e.location||(e.location={}));var Fe;(function(Ce){function Ae(x){const Re=x,Ue=x;return{originSelectionRange:Re.originSelectionRange?u.from(Re.originSelectionRange):void 0,uri:Re.targetUri?Re.targetUri:Ue.uri,range:u.from(Re.targetRange?Re.targetRange:Ue.range),targetSelectionRange:Re.targetSelectionRange?u.from(Re.targetSelectionRange):void 0}}Ce.from=Ae;function ge(x){return{targetUri:b.URI.revive(x.uri),targetRange:u.to(x.range),targetSelectionRange:x.targetSelectionRange?u.to(x.targetSelectionRange):void 0,originSelectionRange:x.originSelectionRange?u.to(x.originSelectionRange):void 0}}Ce.to=ge})(Fe=e.DefinitionLink||(e.DefinitionLink={}));var ze;(function(Ce){function Ae(x){return{range:u.from(x.range),contents:_.fromMany(x.contents)}}Ce.from=Ae;function ge(x){return new d.Hover(x.contents.map(_.to),u.to(x.range))}Ce.to=ge})(ze=e.Hover||(e.Hover={}));var Pe;(function(Ce){function Ae(x){return{range:u.from(x.range),expression:x.expression}}Ce.from=Ae;function ge(x){return new d.EvaluatableExpression(u.to(x.range),x.expression)}Ce.to=ge})(Pe=e.EvaluatableExpression||(e.EvaluatableExpression={}));var Ie;(function(Ce){function Ae(x){if(x instanceof d.InlineValueText)return{type:"text",range:u.from(x.range),text:x.text};if(x instanceof d.InlineValueVariableLookup)return{type:"variable",range:u.from(x.range),variableName:x.variableName,caseSensitiveLookup:x.caseSensitiveLookup};if(x instanceof d.InlineValueEvaluatableExpression)return{type:"expression",range:u.from(x.range),expression:x.expression};throw new Error("Unknown 'InlineValue' type")}Ce.from=Ae;function ge(x){switch(x.type){case"text":return{range:u.to(x.range),text:x.text};case"variable":return{range:u.to(x.range),variableName:x.variableName,caseSensitiveLookup:x.caseSensitiveLookup};case"expression":return{range:u.to(x.range),expression:x.expression}}}Ce.to=ge})(Ie=e.InlineValue||(e.InlineValue={}));var Se;(function(Ce){function Ae(x){return{frameId:x.frameId,stoppedLocation:u.from(x.stoppedLocation)}}Ce.from=Ae;function ge(x){return new d.InlineValueContext(x.frameId,u.to(x.stoppedLocation))}Ce.to=ge})(Se=e.InlineValueContext||(e.InlineValueContext={}));var ae;(function(Ce){function Ae(x){return{range:u.from(x.range),kind:x.kind}}Ce.from=Ae;function ge(x){return new d.DocumentHighlight(u.to(x.range),x.kind)}Ce.to=ge})(ae=e.DocumentHighlight||(e.DocumentHighlight={}));var le;(function(Ce){function Ae(ge){switch(ge){case 1:return d.CompletionTriggerKind.TriggerCharacter;case 2:return d.CompletionTriggerKind.TriggerForIncompleteCompletions;case 0:default:return d.CompletionTriggerKind.Invoke}}Ce.to=Ae})(le=e.CompletionTriggerKind||(e.CompletionTriggerKind={}));var ee;(function(Ce){function Ae(ge){return{triggerKind:le.to(ge.triggerKind),triggerCharacter:ge.triggerCharacter}}Ce.to=Ae})(ee=e.CompletionContext||(e.CompletionContext={}));var C;(function(Ce){function Ae(x){switch(x){case d.CompletionItemTag.Deprecated:return 1}}Ce.from=Ae;function ge(x){switch(x){case 1:return d.CompletionItemTag.Deprecated}}Ce.to=ge})(C=e.CompletionItemTag||(e.CompletionItemTag={}));var $;(function(Ce){const Ae=new Map([[d.CompletionItemKind.Method,0],[d.CompletionItemKind.Function,1],[d.CompletionItemKind.Constructor,2],[d.CompletionItemKind.Field,3],[d.CompletionItemKind.Variable,4],[d.CompletionItemKind.Class,5],[d.CompletionItemKind.Interface,7],[d.CompletionItemKind.Struct,6],[d.CompletionItemKind.Module,8],[d.CompletionItemKind.Property,9],[d.CompletionItemKind.Unit,12],[d.CompletionItemKind.Value,13],[d.CompletionItemKind.Constant,14],[d.CompletionItemKind.Enum,15],[d.CompletionItemKind.EnumMember,16],[d.CompletionItemKind.Keyword,17],[d.CompletionItemKind.Snippet,27],[d.CompletionItemKind.Text,18],[d.CompletionItemKind.Color,19],[d.CompletionItemKind.File,20],[d.CompletionItemKind.Reference,21],[d.CompletionItemKind.Folder,23],[d.CompletionItemKind.Event,10],[d.CompletionItemKind.Operator,11],[d.CompletionItemKind.TypeParameter,24],[d.CompletionItemKind.Issue,26],[d.CompletionItemKind.User,25]]);function ge(Ue){return Ae.get(Ue)??9}Ce.from=ge;const x=new Map([[0,d.CompletionItemKind.Method],[1,d.CompletionItemKind.Function],[2,d.CompletionItemKind.Constructor],[3,d.CompletionItemKind.Field],[4,d.CompletionItemKind.Variable],[5,d.CompletionItemKind.Class],[7,d.CompletionItemKind.Interface],[6,d.CompletionItemKind.Struct],[8,d.CompletionItemKind.Module],[9,d.CompletionItemKind.Property],[12,d.CompletionItemKind.Unit],[13,d.CompletionItemKind.Value],[14,d.CompletionItemKind.Constant],[15,d.CompletionItemKind.Enum],[16,d.CompletionItemKind.EnumMember],[17,d.CompletionItemKind.Keyword],[27,d.CompletionItemKind.Snippet],[18,d.CompletionItemKind.Text],[19,d.CompletionItemKind.Color],[20,d.CompletionItemKind.File],[21,d.CompletionItemKind.Reference],[23,d.CompletionItemKind.Folder],[10,d.CompletionItemKind.Event],[11,d.CompletionItemKind.Operator],[24,d.CompletionItemKind.TypeParameter],[25,d.CompletionItemKind.User],[26,d.CompletionItemKind.Issue]]);function Re(Ue){return x.get(Ue)??d.CompletionItemKind.Property}Ce.to=Re})($=e.CompletionItemKind||(e.CompletionItemKind={}));var W;(function(Ce){function Ae(ge,x){const Re=new d.CompletionItem(ge.label);return Re.insertText=ge.insertText,Re.kind=$.to(ge.kind),Re.tags=ge.tags?.map(C.to),Re.detail=ge.detail,Re.documentation=E.isMarkdownString(ge.documentation)?_.to(ge.documentation):ge.documentation,Re.sortText=ge.sortText,Re.filterText=ge.filterText,Re.preselect=ge.preselect,Re.commitCharacters=ge.commitCharacters,g.Range.isIRange(ge.range)?Re.range=u.to(ge.range):typeof ge.range=="object"&&(Re.range={inserting:u.to(ge.range.insert),replacing:u.to(ge.range.replace)}),Re.keepWhitespace=typeof ge.insertTextRules>"u"?!1:Boolean(ge.insertTextRules&1),typeof ge.insertTextRules<"u"&&ge.insertTextRules&4?Re.insertText=new d.SnippetString(ge.insertText):(Re.insertText=ge.insertText,Re.textEdit=Re.range instanceof d.Range?new d.TextEdit(Re.range,Re.insertText):void 0),ge.additionalTextEdits&&ge.additionalTextEdits.length>0&&(Re.additionalTextEdits=ge.additionalTextEdits.map(Ue=>me.to(Ue))),Re.command=x&&ge.command?x.fromInternal(ge.command):void 0,Re}Ce.to=Ae})(W=e.CompletionItem||(e.CompletionItem={}));var V;(function(Ce){function Ae(x){if(typeof x.label!="string"&&!Array.isArray(x.label))throw new TypeError("Invalid label");return{label:x.label,documentation:_.fromStrict(x.documentation)}}Ce.from=Ae;function ge(x){return{label:x.label,documentation:E.isMarkdownString(x.documentation)?_.to(x.documentation):x.documentation}}Ce.to=ge})(V=e.ParameterInformation||(e.ParameterInformation={}));var ie;(function(Ce){function Ae(x){return{label:x.label,documentation:_.fromStrict(x.documentation),parameters:Array.isArray(x.parameters)?x.parameters.map(V.from):[],activeParameter:x.activeParameter}}Ce.from=Ae;function ge(x){return{label:x.label,documentation:E.isMarkdownString(x.documentation)?_.to(x.documentation):x.documentation,parameters:Array.isArray(x.parameters)?x.parameters.map(V.to):[],activeParameter:x.activeParameter}}Ce.to=ge})(ie=e.SignatureInformation||(e.SignatureInformation={}));var fe;(function(Ce){function Ae(x){return{activeSignature:x.activeSignature,activeParameter:x.activeParameter,signatures:Array.isArray(x.signatures)?x.signatures.map(ie.from):[]}}Ce.from=Ae;function ge(x){return{activeSignature:x.activeSignature,activeParameter:x.activeParameter,signatures:Array.isArray(x.signatures)?x.signatures.map(ie.to):[]}}Ce.to=ge})(fe=e.SignatureHelp||(e.SignatureHelp={}));var De;(function(Ce){function Ae(ge,x){const Re=new d.InlayHint(y.to(x.position),typeof x.label=="string"?x.label:x.label.map(ue.to.bind(void 0,ge)),x.kind&&ve.to(x.kind));return Re.textEdits=x.textEdits&&x.textEdits.map(me.to),Re.tooltip=E.isMarkdownString(x.tooltip)?_.to(x.tooltip):x.tooltip,Re.paddingLeft=x.paddingLeft,Re.paddingRight=x.paddingRight,Re}Ce.to=Ae})(De=e.InlayHint||(e.InlayHint={}));var ue;(function(Ce){function Ae(ge,x){const Re=new d.InlayHintLabelPart(x.label);return Re.tooltip=E.isMarkdownString(x.tooltip)?_.to(x.tooltip):x.tooltip,a.Command.is(x.command)&&(Re.command=ge.fromInternal(x.command)),x.location&&(Re.location=ye.to(x.location)),Re}Ce.to=Ae})(ue=e.InlayHintLabelPart||(e.InlayHintLabelPart={}));var ve;(function(Ce){function Ae(x){return x}Ce.from=Ae;function ge(x){return x}Ce.to=ge})(ve=e.InlayHintKind||(e.InlayHintKind={}));var be;(function(Ce){function Ae(x){return{range:u.from(x.range),url:x.target,tooltip:x.tooltip}}Ce.from=Ae;function ge(x){let Re;if(x.url)try{Re=typeof x.url=="string"?b.URI.parse(x.url,!0):b.URI.revive(x.url)}catch{}return new d.DocumentLink(u.to(x.range),Re)}Ce.to=ge})(be=e.DocumentLink||(e.DocumentLink={}));var He;(function(Ce){function Ae(x){const Re=new d.ColorPresentation(x.label);return x.textEdit&&(Re.textEdit=me.to(x.textEdit)),x.additionalTextEdits&&(Re.additionalTextEdits=x.additionalTextEdits.map(Ue=>me.to(Ue))),Re}Ce.to=Ae;function ge(x){return{label:x.label,textEdit:x.textEdit?me.from(x.textEdit):void 0,additionalTextEdits:x.additionalTextEdits?x.additionalTextEdits.map(Re=>me.from(Re)):void 0}}Ce.from=ge})(He=e.ColorPresentation||(e.ColorPresentation={}));var je;(function(Ce){function Ae(x){return new d.Color(x[0],x[1],x[2],x[3])}Ce.to=Ae;function ge(x){return[x.red,x.green,x.blue,x.alpha]}Ce.from=ge})(je=e.Color||(e.Color={}));var it;(function(Ce){function Ae(x){return{range:u.from(x.range)}}Ce.from=Ae;function ge(x){return new d.SelectionRange(u.to(x.range))}Ce.to=ge})(it=e.SelectionRange||(e.SelectionRange={}));var Xe;(function(Ce){function Ae(ge){switch(ge){case 2:return d.TextDocumentSaveReason.AfterDelay;case 1:return d.TextDocumentSaveReason.Manual;case 3:case 4:return d.TextDocumentSaveReason.FocusOut}}Ce.to=Ae})(Xe=e.TextDocumentSaveReason||(e.TextDocumentSaveReason={}));var et;(function(Ce){function Ae(x){switch(x){case d.TextEditorLineNumbersStyle.Off:return 0;case d.TextEditorLineNumbersStyle.Relative:return 2;case d.TextEditorLineNumbersStyle.On:default:return 1}}Ce.from=Ae;function ge(x){switch(x){case 0:return d.TextEditorLineNumbersStyle.Off;case 2:return d.TextEditorLineNumbersStyle.Relative;case 1:default:return d.TextEditorLineNumbersStyle.On}}Ce.to=ge})(et=e.TextEditorLineNumbersStyle||(e.TextEditorLineNumbersStyle={}));var nt;(function(Ce){function Ae(x){if(x===d.EndOfLine.CRLF)return 1;if(x===d.EndOfLine.LF)return 0}Ce.from=Ae;function ge(x){if(x===1)return d.EndOfLine.CRLF;if(x===0)return d.EndOfLine.LF}Ce.to=ge})(nt=e.EndOfLine||(e.EndOfLine={}));var Ne;(function(Ce){function Ae(ge){if(typeof ge=="object")return ge.viewId;switch(ge){case d.ProgressLocation.SourceControl:return 3;case d.ProgressLocation.Window:return 10;case d.ProgressLocation.Notification:return 15}throw new Error("Unknown 'ProgressLocation'")}Ce.from=Ae})(Ne=e.ProgressLocation||(e.ProgressLocation={}));var rt;(function(Ce){function Ae(x){const Re={start:x.start+1,end:x.end+1};return x.kind&&(Re.kind=G.from(x.kind)),Re}Ce.from=Ae;function ge(x){const Re={start:x.start-1,end:x.end-1};return x.kind&&(Re.kind=G.to(x.kind)),Re}Ce.to=ge})(rt=e.FoldingRange||(e.FoldingRange={}));var G;(function(Ce){function Ae(x){if(x)switch(x){case d.FoldingRangeKind.Comment:return a.FoldingRangeKind.Comment;case d.FoldingRangeKind.Imports:return a.FoldingRangeKind.Imports;case d.FoldingRangeKind.Region:return a.FoldingRangeKind.Region}}Ce.from=Ae;function ge(x){if(x)switch(x.value){case a.FoldingRangeKind.Comment.value:return d.FoldingRangeKind.Comment;case a.FoldingRangeKind.Imports.value:return d.FoldingRangeKind.Imports;case a.FoldingRangeKind.Region.value:return d.FoldingRangeKind.Region}}Ce.to=ge})(G=e.FoldingRangeKind||(e.FoldingRangeKind={}));var Q;(function(Ce){function Ae(ge){if(ge)return{pinned:typeof ge.preview=="boolean"?!ge.preview:void 0,inactive:ge.background,preserveFocus:ge.preserveFocus,selection:typeof ge.selection=="object"?u.from(ge.selection):void 0,override:typeof ge.override=="boolean"?p.DEFAULT_EDITOR_ASSOCIATION.id:void 0}}Ce.from=Ae})(Q=e.TextEditorOpenOptions||(e.TextEditorOpenOptions={}));var pe;(function(Ce){function Ae(Ue){return Ue instanceof d.RelativePattern?Ue.toJSON():typeof Ue=="string"?Ue:ge(Ue)||x(Ue)?new d.RelativePattern(Ue.baseUri??Ue.base,Ue.pattern).toJSON():Ue}Ce.from=Ae;function ge(Ue){const Ye=Ue;return Ye?b.URI.isUri(Ye.baseUri)&&typeof Ye.pattern=="string":!1}function x(Ue){const Ye=Ue;return Ye?typeof Ye.base=="string"&&typeof Ye.pattern=="string":!1}function Re(Ue){return typeof Ue=="string"?Ue:new d.RelativePattern(b.URI.revive(Ue.baseUri),Ue.pattern)}Ce.to=Re})(pe=e.GlobPattern||(e.GlobPattern={}));var We;(function(Ce){function Ae(ge){if(ge){if(Array.isArray(ge))return ge.map(Ae);if(typeof ge=="string")return ge;{const x=ge;return{language:x.language,scheme:x.scheme,pattern:pe.from(x.pattern),exclusive:x.exclusive,notebookType:x.notebookType}}}else return}Ce.from=Ae})(We=e.LanguageSelector||(e.LanguageSelector={}));var $e;(function(Ce){function Ae(x){return{start:x.start,end:x.end}}Ce.from=Ae;function ge(x){return new d.NotebookRange(x.start,x.end)}Ce.to=ge})($e=e.NotebookRange||(e.NotebookRange={}));var Qe;(function(Ce){function Ae(x){return{timing:typeof x.runStartTime=="number"&&typeof x.runEndTime=="number"?{startTime:x.runStartTime,endTime:x.runEndTime}:void 0,executionOrder:x.executionOrder,success:x.lastRunSuccess}}Ce.to=Ae;function ge(x){return{lastRunSuccess:x.success,runStartTime:x.timing?.startTime,runEndTime:x.timing?.endTime,executionOrder:x.executionOrder}}Ce.from=ge})(Qe=e.NotebookCellExecutionSummary||(e.NotebookCellExecutionSummary={}));var xe;(function(Ce){function Ae(ge){if(ge===w.NotebookCellExecutionState.Unconfirmed)return d.NotebookCellExecutionState.Pending;if(ge===w.NotebookCellExecutionState.Pending)return;if(ge===w.NotebookCellExecutionState.Executing)return d.NotebookCellExecutionState.Executing;throw new Error(`Unknown state: ${ge}`)}Ce.to=Ae})(xe=e.NotebookCellExecutionState||(e.NotebookCellExecutionState={}));var tt;(function(Ce){function Ae(x){switch(x){case d.NotebookCellKind.Markup:return w.CellKind.Markup;case d.NotebookCellKind.Code:default:return w.CellKind.Code}}Ce.from=Ae;function ge(x){switch(x){case w.CellKind.Markup:return d.NotebookCellKind.Markup;case w.CellKind.Code:default:return d.NotebookCellKind.Code}}Ce.to=ge})(tt=e.NotebookCellKind||(e.NotebookCellKind={}));var at;(function(Ce){function Ae(x){const Re={metadata:x.metadata??Object.create(null),cells:[]};for(const Ue of x.cells)d.NotebookCellData.validate(Ue),Re.cells.push(Et.from(Ue));return Re}Ce.from=Ae;function ge(x){const Re=new d.NotebookData(x.cells.map(Et.to));return(0,h.isEmptyObject)(x.metadata)||(Re.metadata=x.metadata),Re}Ce.to=ge})(at=e.NotebookData||(e.NotebookData={}));var Et;(function(Ce){function Ae(x){return{cellKind:tt.from(x.kind),language:x.languageId,mime:x.mime,source:x.value,metadata:x.metadata,internalMetadata:Qe.from(x.executionSummary??{}),outputs:x.outputs?x.outputs.map(It.from):[]}}Ce.from=Ae;function ge(x){return new d.NotebookCellData(tt.to(x.cellKind),x.source,x.language,x.mime,x.outputs?x.outputs.map(It.to):void 0,x.metadata,x.internalMetadata?Qe.to(x.internalMetadata):void 0)}Ce.to=ge})(Et=e.NotebookCellData||(e.NotebookCellData={}));var Ct;(function(Ce){function Ae(x){return{mime:x.mime,valueBytes:T.VSBuffer.wrap(x.data)}}Ce.from=Ae;function ge(x){return new d.NotebookCellOutputItem(x.valueBytes.buffer,x.mime)}Ce.to=ge})(Ct=e.NotebookCellOutputItem||(e.NotebookCellOutputItem={}));var It;(function(Ce){function Ae(x){return{outputId:x.id,items:x.items.map(Ct.from),metadata:x.metadata}}Ce.from=Ae;function ge(x){const Re=x.items.map(Ct.to);return new d.NotebookCellOutput(Re,x.outputId,x.metadata)}Ce.to=ge})(It=e.NotebookCellOutput||(e.NotebookCellOutput={}));var Dt;(function(Ce){function Ae(Re){return x(Re)?{include:(0,h.withNullAsUndefined)(pe.from(Re.include)),exclude:(0,h.withNullAsUndefined)(pe.from(Re.exclude))}:(0,h.withNullAsUndefined)(pe.from(Re))}Ce.from=Ae;function ge(Re){return x(Re)?{include:pe.to(Re.include),exclude:pe.to(Re.exclude)}:pe.to(Re)}Ce.to=ge;function x(Re){const Ue=Re;return Ue?!(0,h.isUndefinedOrNull)(Ue.include)&&!(0,h.isUndefinedOrNull)(Ue.exclude):!1}})(Dt=e.NotebookExclusiveDocumentPattern||(e.NotebookExclusiveDocumentPattern={}));var ut;(function(Ce){function Ae(ge,x,Re){const Ue=typeof ge.command=="string"?{title:"",command:ge.command}:ge.command;return{alignment:ge.alignment===d.NotebookCellStatusBarAlignment.Left?1:2,command:x.toInternal(Ue,Re),text:ge.text,tooltip:ge.tooltip,accessibilityInformation:ge.accessibilityInformation,priority:ge.priority}}Ce.from=Ae})(ut=e.NotebookStatusBarItem||(e.NotebookStatusBarItem={}));var ft;(function(Ce){function Ae(ge,x,Re){const Ue=typeof ge.command=="string"?{title:"",command:ge.command}:ge.command;return{command:x.toInternal(Ue,Re),label:ge.label,description:ge.description,detail:ge.detail,documentation:ge.documentation}}Ce.from=Ae})(ft=e.NotebookKernelSourceAction||(e.NotebookKernelSourceAction={}));var xt;(function(Ce){function Ae(ge){return{transientOutputs:ge?.transientOutputs??!1,transientCellMetadata:ge?.transientCellMetadata??{},transientDocumentMetadata:ge?.transientDocumentMetadata??{},cellContentMetadata:ge?.cellContentMetadata??{}}}Ce.from=Ae})(xt=e.NotebookDocumentContentOptions||(e.NotebookDocumentContentOptions={}));var Vt;(function(Ce){function Ae(x){return{uri:x.uri,provides:x.provides}}Ce.from=Ae;function ge(x){return new d.NotebookRendererScript(b.URI.revive(x.uri),x.provides)}Ce.to=ge})(Vt=e.NotebookRendererScript||(e.NotebookRendererScript={}));var kt;(function(Ce){function Ae(x){return{message:_.fromStrict(x.message)||"",type:0,expected:x.expectedOutput,actual:x.actualOutput,location:x.location&&{range:u.from(x.location.range),uri:x.location.uri}}}Ce.from=Ae;function ge(x){const Re=new d.TestMessage(typeof x.message=="string"?x.message:_.to(x.message));return Re.actualOutput=x.actual,Re.expectedOutput=x.expected,Re.location=x.location?ye.to(x.location):void 0,Re}Ce.to=ge})(kt=e.TestMessage||(e.TestMessage={}));var ht;(function(Ce){Ce.namespace=v.namespaceTestTag,Ce.denamespace=v.denamespaceTestTag})(ht=e.TestTag||(e.TestTag={}));var Tt;(function(Ce){function Ae(x){const Re=(0,l.getPrivateApiFor)(x).controllerId;return{extId:O.TestId.fromExtHostTestItem(x,Re).toString(),label:x.label,uri:b.URI.revive(x.uri),busy:x.busy,tags:x.tags.map(Ue=>ht.namespace(Re,Ue.id)),range:g.Range.lift(u.from(x.range)),description:x.description||null,sortText:x.sortText||null,error:x.error&&_.fromStrict(x.error)||null}}Ce.from=Ae;function ge(x){return{parent:void 0,error:void 0,id:O.TestId.fromString(x.extId).localId,label:x.label,uri:b.URI.revive(x.uri),tags:(x.tags||[]).map(Re=>{const{tagId:Ue}=ht.denamespace(Re);return new d.TestTag(Ue)}),children:{add:()=>{},delete:()=>{},forEach:()=>{},*[Symbol.iterator](){},get:()=>{},replace:()=>{},size:0},range:u.to(x.range||void 0),canResolveChildren:!1,busy:x.busy,description:x.description||void 0,sortText:x.sortText||void 0}}Ce.toPlain=ge})(Tt=e.TestItem||(e.TestItem={})),function(Ce){function Ae(x){return{id:x.id}}Ce.from=Ae;function ge(x){return new d.TestTag(x.id)}Ce.to=ge}(ht=e.TestTag||(e.TestTag={}));var $t;(function(Ce){const Ae=(x,Re)=>{const Ue=[];for(const[Be,Ze]of Re)O.TestId.compare(Ze.item.extId,Be)===2&&(Re.delete(Be),Ue.push(Ze));const Ye={...Tt.toPlain(x.item),parent:void 0,taskStates:x.tasks.map(Be=>({state:Be.state,duration:Be.duration,messages:Be.messages.filter(Ze=>Ze.type===0).map(kt.to)})),children:Ue.map(Be=>Ae(Be,Re))};for(const Be of Ye.children)Be.parent=Ye;return Ye};function ge(x){const Re=[],Ue=new Map;for(const Ye of x.items){Ue.set(Ye.item.extId,Ye);const Be=O.TestId.root(Ye.item.extId);x.request.targets.some(Ze=>Ze.controllerId===Be&&Ze.testIds.includes(Ye.item.extId))&&Re.push(Ye)}return{completedAt:x.completedAt,results:Re.map(Ye=>Ae(Ye,Ue))}}Ce.to=ge})($t=e.TestResults||(e.TestResults={}));var At;(function(Ce){function Ae(Ue){return{covered:Ue.covered,total:Ue.covered}}function ge(Ue){return"line"in Ue?y.from(Ue):u.from(Ue)}function x(Ue){return"branches"in Ue?{count:Ue.executionCount,location:ge(Ue.location),type:1,branches:Ue.branches.length?Ue.branches.map(Ye=>({count:Ye.executionCount,location:Ye.location&&ge(Ye.location)})):void 0}:{type:0,count:Ue.executionCount,location:ge(Ue.location)}}Ce.fromDetailed=x;function Re(Ue){return{uri:Ue.uri,statement:Ae(Ue.statementCoverage),branch:Ue.branchCoverage&&Ae(Ue.branchCoverage),function:Ue.functionCoverage&&Ae(Ue.functionCoverage),details:Ue.detailedCoverage?.map(x)}}Ce.fromFile=Re})(At=e.TestCoverage||(e.TestCoverage={}));var Ge;(function(Ce){function Ae(ge){switch(ge){case 1:return d.CodeActionTriggerKind.Invoke;case 2:return d.CodeActionTriggerKind.Automatic}}Ce.to=Ae})(Ge=e.CodeActionTriggerKind||(e.CodeActionTriggerKind={}));var Ft;(function(Ce){function Ae(x){const Re=new d.TypeHierarchyItem(oe.to(x.kind),x.name,x.detail||"",b.URI.revive(x.uri),u.to(x.range),u.to(x.selectionRange));return Re._sessionId=x._sessionId,Re._itemId=x._itemId,Re}Ce.to=Ae;function ge(x,Re,Ue){if(Re=Re??x._sessionId,Ue=Ue??x._itemId,Re===void 0||Ue===void 0)throw new Error("invalid item");return{_sessionId:Re,_itemId:Ue,kind:oe.from(x.kind),name:x.name,detail:x.detail??"",uri:x.uri,range:u.from(x.range),selectionRange:u.from(x.selectionRange),tags:x.tags?.map(ce.from)}}Ce.from=ge})(Ft=e.TypeHierarchyItem||(e.TypeHierarchyItem={}));var Kt;(function(Ce){function Ae(ge){if(!!ge)return{value:ge.value,tooltip:ge.tooltip}}Ce.from=Ae})(Kt=e.ViewBadge||(e.ViewBadge={}));var Nt;(function(Ce){function Ae(Ue,Ye,Be){const Ze=Ye.fileData;return Ze?new class extends d.DataTransferItem{asFile(){return{name:Ze.name,uri:b.URI.revive(Ze.uri),data:(0,N.once)(()=>Be())}}}("",Ye.id):Ue===M.Mimes.uriList&&Ye.uriListData?new d.DataTransferItem(Re(Ye.uriListData)):new d.DataTransferItem(Ye.asString)}Ce.to=Ae;async function ge(Ue,Ye){const Be=await Ye.asString();if(Ue===M.Mimes.uriList)return{id:Ye.id,asString:Be,fileData:void 0,uriListData:x(Be)};const Ze=Ye.asFile();return{id:Ye.id,asString:Be,fileData:Ze?{name:Ze.name,uri:Ze.uri}:void 0}}Ce.from=ge;function x(Ue){return I.UriList.split(Ue).map(Ye=>{if(Ye.startsWith("#"))return Ye;try{return b.URI.parse(Ye)}catch{}return Ye})}function Re(Ue){return I.UriList.create(Ue.map(Ye=>typeof Ye=="string"?Ye:b.URI.revive(Ye)))}})(Nt=e.DataTransferItem||(e.DataTransferItem={}));var mt;(function(Ce){function Ae(x,Re){const Ue=x.items.map(([Ye,Be])=>[Ye,Nt.to(Ye,Be,()=>Re(Be.id))]);return new d.DataTransfer(Ue)}Ce.toDataTransfer=Ae;async function ge(x){const Re={items:[]},Ue=[];return x.forEach((Ye,Be)=>{Ue.push((async()=>{Re.items.push([Be,await Nt.from(Be,Ye)])})())}),await Promise.all(Ue),Re}Ce.toDataTransferDTO=ge})(mt=e.DataTransfer||(e.DataTransfer={}))}),define(ke[196],Te([1,0,2,11,7,8,162]),function(ne,e,i,T,I,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostDocumentSaveParticipant=void 0;class R{constructor(k,M,D,h={timeout:1500,errors:3}){this.c=k,this.d=M,this.f=D,this.g=h,this.a=new E.LinkedList,this.b=new WeakMap}dispose(){this.a.clear()}getOnWillSaveTextDocumentEvent(k){return(M,D,h)=>{const g={dispose:this.a.push([M,D,k])};return Array.isArray(h)&&h.push(g),g}}async $participateInSave(k,M){const D=i.URI.revive(k);let h=!1;const b=setTimeout(()=>h=!0,this.g.timeout),g=[];try{for(const a of[...this.a]){if(h)break;const o=this.d.getDocument(D),l=await this.h(a,{document:o,reason:N.TextDocumentSaveReason.to(M)});g.push(l)}}finally{clearTimeout(b)}return g}h([k,M,D],h){const b=this.b.get(k);return typeof b=="number"&&b>this.g.errors?Promise.resolve(!1):this.i(D,k,M,h).then(()=>!0,g=>{if(this.c.error(`onWillSaveTextDocument-listener from extension '${D.identifier.value}' threw ERROR`),this.c.error(g),!(g instanceof Error)||g.message!=="concurrent_edits"){const a=this.b.get(k);this.b.set(k,a?a+1:1),typeof a=="number"&&a>this.g.errors&&this.c.info(`onWillSaveTextDocument-listener from extension '${D.identifier.value}' will now be IGNORED because of timeouts and/or errors`)}return!1})}i(k,M,D,h){const b=[],g=Date.now(),{document:a,reason:o}=h,{version:l}=a,p=Object.freeze({document:a,reason:o,waitUntil(w){if(Object.isFrozen(b))throw(0,T.illegalState)("waitUntil can not be called async");b.push(Promise.resolve(w))}});try{M.apply(D,[p])}catch(w){return Promise.reject(w)}return Object.freeze(b),new Promise((w,O)=>{const v=setTimeout(()=>O(new Error("timeout")),this.g.timeout);return Promise.all(b).then(t=>{this.c.debug(`onWillSaveTextDocument-listener from extension '${k.identifier.value}' finished after ${Date.now()-g}ms`),clearTimeout(v),w(t)}).catch(t=>{clearTimeout(v),O(t)})}).then(w=>{const O={edits:[]};for(const v of w)if(Array.isArray(v)&&v.every(t=>t instanceof I.TextEdit))for(const{newText:t,newEol:d,range:r}of v)O.edits.push({resource:a.uri,versionId:void 0,textEdit:{range:r&&N.Range.from(r),text:t,eol:d&&N.EndOfLine.from(d)}});if(O.edits.length!==0)return l===a.version?this.f.$tryApplyWorkspaceEdit(O):Promise.reject(new Error("concurrent_edits"))})}}e.ExtHostDocumentSaveParticipant=R}),define(ke[197],Te([1,0,15,2,8,7,71]),function(ne,e,i,T,I,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostNotebookDocument=e.ExtHostCell=void 0;class R{constructor(D,h,b,g){this.start=D,this.deletedCount=h,this.deletedItems=b,this.items=g}asApiEvent(){return{range:new N.NotebookRange(this.start,this.start+this.deletedCount),addedCells:this.items.map(D=>D.apiCell),removedCells:this.deletedItems}}}class S{static asModelAddData(D,h){return{EOL:h.eol,lines:h.source,languageId:h.language,uri:h.uri,isDirty:!1,versionId:1,notebook:D}}constructor(D,h,b){this.notebook=D,this.h=h,this.j=b,this.handle=b.handle,this.uri=T.URI.revive(b.uri),this.cellKind=b.cellKind,this.a=b.outputs.map(I.NotebookCellOutput.to),this.e=b.internalMetadata??{},this.b=Object.freeze(b.metadata??{}),this.d=Object.freeze(I.NotebookCellExecutionSummary.to(b.internalMetadata??{}))}get internalMetadata(){return this.e}get apiCell(){if(!this.f){const D=this,h=this.h.getDocument(this.uri);if(!h)throw new Error(`MISSING extHostDocument for notebook cell: ${this.uri}`);const b={get index(){return D.notebook.getCellIndex(D)},notebook:D.notebook.apiNotebook,kind:I.NotebookCellKind.to(this.j.cellKind),document:h.document,get mime(){return D.g},set mime(g){D.g=g},get outputs(){return D.a.slice(0)},get metadata(){return D.b},get executionSummary(){return D.d}};this.f=Object.freeze(b)}return this.f}setOutputs(D){this.a=D.map(I.NotebookCellOutput.to)}setOutputItems(D,h,b){const g=b.map(I.NotebookCellOutputItem.to),a=this.a.find(o=>o.id===D);if(a&&(h||(a.items.length=0),a.items.push(...g),a.items.length>1&&a.items.every(o=>E.isTextStreamMime(o.mime)))){const o=new Map,l=[];a.items.forEach(p=>{let w;o.has(p.mime)?w=o.get(p.mime):(w=[],o.set(p.mime,w),l.push(p.mime)),w.push(p.data)}),a.items.length=0,l.forEach(p=>{const w=E.compressOutputItemStreams(o.get(p));a.items.push({mime:p,data:w.buffer})})}}setMetadata(D){this.b=Object.freeze(D)}setInternalMetadata(D){this.e=D,this.d=Object.freeze(I.NotebookCellExecutionSummary.to(D))}setMime(D){}}e.ExtHostCell=S;class k{constructor(D,h,b,g,a){this.k=D,this.l=h,this.m=b,this.uri=g,this.handle=k.a++,this.b=[],this.g=0,this.h=!1,this.j=!1,this.d=a.viewType,this.f=Object.freeze(a.metadata??Object.create(null)),this.r([[0,0,a.cells]],!0,void 0),this.g=a.versionId}dispose(){this.j=!0}get apiNotebook(){if(!this.e){const D=this,h={get uri(){return D.uri},get version(){return D.g},get notebookType(){return D.d},get isDirty(){return D.h},get isUntitled(){return D.uri.scheme===i.Schemas.untitled},get isClosed(){return D.j},get metadata(){return D.f},get cellCount(){return D.b.length},cellAt(b){return b=D.n(b),D.b[b].apiCell},getCells(b){return(b?D.p(b):D.b).map(a=>a.apiCell)},save(){return D.q()}};this.e=Object.freeze(h)}return this.e}acceptDocumentPropertiesChanged(D){D.metadata&&(this.f=Object.freeze({...this.f,...D.metadata}))}acceptDirty(D){this.h=D}acceptModelChanged(D,h,b){this.g=D.versionId,this.h=h,this.acceptDocumentPropertiesChanged({metadata:b});const g={notebook:this.apiNotebook,metadata:b,cellChanges:[],contentChanges:[]},a=[];for(const l of D.rawEvents)l.kind===E.NotebookCellsChangeType.ModelChange?this.r(l.changes,!1,g.contentChanges):l.kind===E.NotebookCellsChangeType.Move?this.s(l.index,l.length,l.newIdx,g.contentChanges):l.kind===E.NotebookCellsChangeType.Output?(this.t(l.index,l.outputs),a.push({cell:this.b[l.index].apiCell,outputs:this.b[l.index].apiCell.outputs})):l.kind===E.NotebookCellsChangeType.OutputItem?(this.u(l.index,l.outputId,l.append,l.outputItems),a.push({cell:this.b[l.index].apiCell,outputs:this.b[l.index].apiCell.outputs})):l.kind===E.NotebookCellsChangeType.ChangeCellLanguage?(this.v(l.index,l.language),a.push({cell:this.b[l.index].apiCell,document:this.b[l.index].apiCell.document})):l.kind===E.NotebookCellsChangeType.ChangeCellContent?a.push({cell:this.b[l.index].apiCell,document:this.b[l.index].apiCell.document}):l.kind===E.NotebookCellsChangeType.ChangeCellMime?this.w(l.index,l.mime):l.kind===E.NotebookCellsChangeType.ChangeCellMetadata?(this.x(l.index,l.metadata),a.push({cell:this.b[l.index].apiCell,metadata:this.b[l.index].apiCell.metadata})):l.kind===E.NotebookCellsChangeType.ChangeCellInternalMetadata&&(this.y(l.index,l.internalMetadata),a.push({cell:this.b[l.index].apiCell,executionSummary:this.b[l.index].apiCell.executionSummary}));const o=new Map;for(let l=0;l<a.length;l++){const p=a[l],w=o.get(p.cell);if(w===void 0){const O=g.cellChanges.push({document:void 0,executionSummary:void 0,metadata:void 0,outputs:void 0,...p});o.set(p.cell,O-1)}else g.cellChanges[w]={...g.cellChanges[w],...p}}return Object.freeze(g),Object.freeze(g.cellChanges),Object.freeze(g.contentChanges),g}n(D){return D=D|0,D<0?0:D>=this.b.length?this.b.length-1:D}o(D){let h=D.start|0,b=D.end|0;return h<0&&(h=0),b>this.b.length&&(b=this.b.length),D.with({start:h,end:b})}p(D){D=this.o(D);const h=[];for(let b=D.start;b<D.end;b++)h.push(this.b[b]);return h}async q(){return this.j?Promise.reject(new Error("Notebook has been closed")):this.k.$trySaveNotebook(this.uri)}r(D,h,b){if(this.j)return;const g=[],a=[],o=[];if(D.reverse().forEach(l=>{const w=l[2].map(t=>{const d=new S(this,this.l,t);return h||a.push(S.asModelAddData(this.apiNotebook,t)),d}),O=new R(l[0],l[1],[],w),v=this.b.splice(l[0],l[1],...w);for(const t of v)o.push(t.uri),O.deletedItems.push(t.apiCell);g.push(O)}),this.l.acceptDocumentsAndEditorsDelta({addedDocuments:a,removedDocuments:o}),b)for(const l of g)b.push(l.asApiEvent())}s(D,h,b,g){const a=this.b.splice(D,h);this.b.splice(b,0,...a);const o=[new R(D,h,a.map(l=>l.apiCell),[]),new R(b,0,[],a)];for(const l of o)g.push(l.asApiEvent())}t(D,h){this.b[D].setOutputs(h)}u(D,h,b,g){this.b[D].setOutputItems(h,b,g)}v(D,h){const b=this.b[D];b.apiCell.document.languageId!==h&&this.m.$acceptModelLanguageChanged(b.uri,h)}w(D,h){const b=this.b[D];b.apiCell.mime=h}x(D,h){this.b[D].setMetadata(h)}y(D,h){this.b[D].setInternalMetadata(h)}getCellFromApiCell(D){return this.b.find(h=>h.apiCell===D)}getCellFromIndex(D){return this.b[D]}getCell(D){return this.b.find(h=>h.handle===D)}getCellIndex(D){return this.b.indexOf(D)}}k.a=0,e.ExtHostNotebookDocument=k}),define(ke[100],Te([1,0,11,8,7]),function(ne,e,i,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostNotebookEditor=void 0;class N{constructor(R,S,k,M,D,h){this.id=R,this.f=S,this.notebookData=k,this.a=[],this.b=[],this.d=!1,this.a=D,this.b=M,this.c=h}get apiEditor(){if(!this.e){const R=this;this.e={get notebook(){return R.notebookData.apiNotebook},get selection(){return R.a[0]},set selection(S){this.selections=[S]},get selections(){return R.a},set selections(S){if(!Array.isArray(S)||!S.every(I.NotebookRange.isNotebookRange))throw(0,i.illegalArgument)("selections");R.a=S,R.g(S)},get visibleRanges(){return R.b},revealRange(S,k){R.f.$tryRevealRange(R.id,T.NotebookRange.from(S),k??I.NotebookEditorRevealType.Default)},get viewColumn(){return R.c}},N.apiEditorsToExtHost.set(this.e,this)}return this.e}get visible(){return this.d}_acceptVisibility(R){this.d=R}_acceptVisibleRanges(R){this.b=R}_acceptSelections(R){this.a=R}g(R){this.f.$trySetSelections(this.id,R.map(T.NotebookRange.from))}_acceptViewColumn(R){this.c=R}}N.apiEditorsToExtHost=new WeakMap,e.ExtHostNotebookEditor=N}),define(ke[198],Te([1,0,4,12,8]),function(ne,e,i,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostNotebookEditors=void 0;let N=class{constructor(R,S){this.c=R,this.d=S,this.a=new i.Emitter,this.b=new i.Emitter,this.onDidChangeNotebookEditorSelection=this.a.event,this.onDidChangeNotebookEditorVisibleRanges=this.b.event}$acceptEditorPropertiesChanged(R,S){this.c.debug("ExtHostNotebook#$acceptEditorPropertiesChanged",R,S);const k=this.d.getEditorById(R);S.visibleRanges&&k._acceptVisibleRanges(S.visibleRanges.ranges.map(I.NotebookRange.to)),S.selections&&k._acceptSelections(S.selections.selections.map(I.NotebookRange.to)),S.visibleRanges&&this.b.fire({notebookEditor:k.apiEditor,visibleRanges:k.apiEditor.visibleRanges}),S.selections&&this.a.fire(Object.freeze({notebookEditor:k.apiEditor,selections:k.apiEditor.selections}))}$acceptEditorViewColumns(R){for(const S in R)this.d.getEditorById(S)._acceptViewColumn(I.ViewColumn.to(R[S]))}};N=qe([Ve(0,T.ILogService)],N),e.ExtHostNotebookEditors=N}),define(ke[199],Te([1,0,8,166,141,21,64,11]),function(ne,e,i,T,I,N,E,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostProgress=void 0;class S{constructor(h){this.b=0,this.c=new Map,this.a=h}async withProgress(h,b,g){const a=this.b++,{title:o,location:l,cancellable:p}=b,w={label:(0,I.localize)(0,null,h.displayName||h.name),id:h.identifier.value};return this.a.$startProgress(a,{location:i.ProgressLocation.from(l),title:o,source:w,cancellable:p},h.isUnderDevelopment?void 0:h.identifier.value).catch(R.onUnexpectedExternalError),this.d(a,g,!!p)}d(h,b,g){let a;g&&(a=new N.CancellationTokenSource,this.c.set(h,a));const o=p=>{this.a.$progressEnd(p),this.c.delete(p),a?.dispose()};let l;try{l=b(new M(this.a,h),g&&a?a.token:N.CancellationToken.None)}catch(p){throw o(h),p}return l.then(p=>o(h),p=>o(h)),l}$acceptProgressCanceled(h){const b=this.c.get(h);b&&(b.cancel(),this.c.delete(h))}}e.ExtHostProgress=S;function k(D,h){return D.message=h.message,typeof h.increment=="number"&&(typeof D.increment=="number"?D.increment+=h.increment:D.increment=h.increment),D}class M extends T.Progress{constructor(h,b){super(g=>this.throttledReport(g)),this.c=h,this.d=b}throttledReport(h){this.c.$progressReport(this.d,h)}}qe([(0,E.throttle)(100,(D,h)=>k(D,h),()=>Object.create(null))],M.prototype,"throttledReport",null)}),define(ke[101],Te([1,0,44,96,45,72,56,8,2]),function(ne,e,i,T,I,N,E,R,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostTestItemCollection=e.TestItemRootImpl=e.TestItemImpl=e.toItemFromContext=void 0;const k=(w,O,v,t)=>{let d=O;return{enumerable:!0,configurable:!1,get(){return d},set(r){if(!v(d,r)){const u=d;d=r,w.listener?.(t(r,u))}}}},M=(w,O)=>w===O,D={range:(w,O)=>w===O?!0:!w||!O?!1:w.isEqual(O),label:M,description:M,sortText:M,busy:M,error:M,canResolveChildren:M,tags:(w,O)=>!(w.length!==O.length||w.some(v=>!O.find(t=>v.id===t.id)))},h=w=>O=>({op:4,update:w(O)}),b=(w,O)=>({range:(()=>{let v;const t=h(d=>({range:i.Range.lift(R.Range.from(d))}));return{enumerable:!0,configurable:!1,get(){return v},set(d){w.listener?.({op:6}),D.range(v,d)||(v=d,w.listener?.(t(d)))}}})(),label:k(w,O,D.label,h(v=>({label:v}))),description:k(w,void 0,D.description,h(v=>({description:v}))),sortText:k(w,void 0,D.sortText,h(v=>({sortText:v}))),canResolveChildren:k(w,!1,D.canResolveChildren,v=>({op:2,state:v})),busy:k(w,!1,D.busy,h(v=>({busy:v}))),error:k(w,void 0,D.error,h(v=>({error:R.MarkdownString.fromStrict(v)||null}))),tags:k(w,[],D.tags,(v,t)=>({op:1,new:v.map(R.TestTag.from),old:t.map(R.TestTag.from)}))}),g=w=>{const O=I.TestId.fromString(w.extId),v=new o(O.controllerId,O.localId,w.label,S.URI.revive(w.uri)||void 0);return v.range=R.Range.to(w.range||void 0),v.description=w.description||void 0,v.sortText=w.sortText||void 0,v.tags=w.tags.map(t=>R.TestTag.to({id:(0,E.denamespaceTestTag)(t).tagId})),v},a=w=>{let O;for(const v of w.tests){const t=g(v.item);(0,T.getPrivateApiFor)(t).parent=O,O=t}return O};e.toItemFromContext=a;class o{constructor(O,v,t,d){if(v.includes("\0"))throw new Error(`Test IDs may not include the ${JSON.stringify(v)} symbol`);const r=(0,T.createPrivateApiFor)(this,O);Object.defineProperties(this,{id:{value:v,enumerable:!0,writable:!1},uri:{value:d,enumerable:!0,writable:!1},parent:{enumerable:!1,get(){return r.parent instanceof l?void 0:r.parent}},children:{value:(0,N.createTestItemChildren)(r,T.getPrivateApiFor,o),enumerable:!0,writable:!1},...b(r,t)})}}e.TestItemImpl=o;class l extends o{constructor(O,v){super(O,O,v,void 0),this._isRoot=!0}}e.TestItemRootImpl=l;class p extends N.TestItemCollection{constructor(O,v,t){super({controllerId:O,getDocumentVersion:d=>d&&t.getDocument(d)?.version,getApiFor:T.getPrivateApiFor,getChildren:d=>d.children,root:new l(O,v),toITestItem:R.TestItem.from})}}e.ExtHostTestItemCollection=p}),define(ke[102],Te([1,0,49,11,83,8,7]),function(ne,e,i,T,I,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostTextEditor=e.ExtHostTextEditorOptions=e.TextEditorDecorationType=void 0;class R{constructor(h,b,g){const a=R.c.nextId();h.$registerTextEditorDecorationType(b.identifier,a,N.DecorationRenderOptions.from(g)),this.value=Object.freeze({key:a,dispose(){h.$removeTextEditorDecorationType(a)}})}}R.c=new I.IdGenerator("TextEditorDecorationType"),e.TextEditorDecorationType=R;class S{constructor(h,b){this.g=[],this.h=void 0,this.j=!1,this.c=h,this.d=h.version,this.e=b.undoStopBefore,this.f=b.undoStopAfter}finalize(){return this.j=!0,{documentVersionId:this.d,edits:this.g,setEndOfLine:this.h,undoStopBefore:this.e,undoStopAfter:this.f}}k(){if(this.j)throw new Error("Edit is only valid while callback runs")}replace(h,b){this.k();let g=null;if(h instanceof E.Position)g=new E.Range(h,h);else if(h instanceof E.Range)g=h;else throw new Error("Unrecognized location");this.l(g,b,!1)}insert(h,b){this.k(),this.l(new E.Range(h,h),b,!0)}delete(h){this.k();let b=null;if(h instanceof E.Range)b=h;else throw new Error("Unrecognized location");this.l(b,null,!0)}l(h,b,g){const a=this.c.validateRange(h);this.g.push({range:a,text:b,forceMoveMarkers:g})}setEndOfLine(h){if(this.k(),h!==E.EndOfLine.LF&&h!==E.EndOfLine.CRLF)throw(0,T.illegalArgument)("endOfLine");this.h=h}}class k{constructor(h,b,g,a){this.c=h,this.d=b,this._accept(g),this.e=a;const o=this;this.value={get tabSize(){return o.f},set tabSize(l){o.m(l)},get indentSize(){return o.g},set indentSize(l){o.o(l)},get insertSpaces(){return o.h},set insertSpaces(l){o.q(l)},get cursorStyle(){return o.j},set cursorStyle(l){o.s(l)},get lineNumbers(){return o.k},set lineNumbers(l){o.t(l)}}}_accept(h){this.f=h.tabSize,this.g=h.indentSize,this.h=h.insertSpaces,this.j=h.cursorStyle,this.k=N.TextEditorLineNumbersStyle.to(h.lineNumbers)}l(h){if(h==="auto")return"auto";if(typeof h=="number"){const b=Math.floor(h);return b>0?b:null}if(typeof h=="string"){const b=parseInt(h,10);return isNaN(b)?null:b>0?b:null}return null}m(h){const b=this.l(h);if(b!==null){if(typeof b=="number"){if(this.f===b)return;this.f=b}this.u("setTabSize",this.c.$trySetOptions(this.d,{tabSize:b}))}}n(h){if(h==="tabSize")return"tabSize";if(typeof h=="number"){const b=Math.floor(h);return b>0?b:null}if(typeof h=="string"){const b=parseInt(h,10);return isNaN(b)?null:b>0?b:null}return null}o(h){const b=this.n(h);if(b!==null){if(typeof b=="number"){if(this.g===b)return;this.g=b}this.u("setIndentSize",this.c.$trySetOptions(this.d,{indentSize:b}))}}p(h){return h==="auto"?"auto":h==="false"?!1:Boolean(h)}q(h){const b=this.p(h);if(typeof b=="boolean"){if(this.h===b)return;this.h=b}this.u("setInsertSpaces",this.c.$trySetOptions(this.d,{insertSpaces:b}))}s(h){this.j!==h&&(this.j=h,this.u("setCursorStyle",this.c.$trySetOptions(this.d,{cursorStyle:h})))}t(h){this.k!==h&&(this.k=h,this.u("setLineNumbers",this.c.$trySetOptions(this.d,{lineNumbers:N.TextEditorLineNumbersStyle.from(h)})))}assign(h){const b={};let g=!1;if(typeof h.tabSize<"u"){const a=this.l(h.tabSize);a==="auto"?(g=!0,b.tabSize=a):typeof a=="number"&&this.f!==a&&(this.f=a,g=!0,b.tabSize=a)}if(typeof h.indentSize<"u"){const a=this.n(h.indentSize);a==="tabSize"?(g=!0,b.indentSize=a):typeof a=="number"&&this.g!==a&&(this.g=a,g=!0,b.indentSize=a)}if(typeof h.insertSpaces<"u"){const a=this.p(h.insertSpaces);a==="auto"?(g=!0,b.insertSpaces=a):this.h!==a&&(this.h=a,g=!0,b.insertSpaces=a)}typeof h.cursorStyle<"u"&&this.j!==h.cursorStyle&&(this.j=h.cursorStyle,g=!0,b.cursorStyle=h.cursorStyle),typeof h.lineNumbers<"u"&&this.k!==h.lineNumbers&&(this.k=h.lineNumbers,g=!0,b.lineNumbers=N.TextEditorLineNumbersStyle.from(h.lineNumbers)),g&&this.u("setOptions",this.c.$trySetOptions(this.d,b))}u(h,b){b.catch(g=>{this.e.warn(`ExtHostTextEditorOptions '${h}' failed:'`),this.e.warn(g)})}}e.ExtHostTextEditorOptions=k;class M{constructor(h,b,g,a,o,l,p,w){this.id=h,this.j=b,this.k=g,this.g=!1,this.h=new Set,this.c=o,this.d=new k(this.j,this.id,l,g),this.e=p,this.f=w;const O=this;this.value=Object.freeze({get document(){return a.value},set document(v){throw(0,T.readonly)("document")},get selection(){return O.c&&O.c[0]},set selection(v){if(!(v instanceof E.Selection))throw(0,T.illegalArgument)("selection");O.c=[v],O.l()},get selections(){return O.c},set selections(v){if(!Array.isArray(v)||v.some(t=>!(t instanceof E.Selection)))throw(0,T.illegalArgument)("selections");O.c=v,O.l()},get visibleRanges(){return O.e},set visibleRanges(v){throw(0,T.readonly)("visibleRanges")},get options(){return O.d.value},set options(v){O.g||O.d.assign(v)},get viewColumn(){return O.f},set viewColumn(v){throw(0,T.readonly)("viewColumn")},edit(v,t={undoStopBefore:!0,undoStopAfter:!0}){if(O.g)return Promise.reject(new Error("TextEditor#edit not possible on closed editors"));const d=new S(a.value,t);return v(d),O.m(d)},insertSnippet(v,t,d={undoStopBefore:!0,undoStopAfter:!0}){if(O.g)return Promise.reject(new Error("TextEditor#insertSnippet not possible on closed editors"));let r;if(!t||Array.isArray(t)&&t.length===0)r=O.c.map(u=>N.Range.from(u));else if(t instanceof E.Position){const{lineNumber:u,column:c}=N.Position.from(t);r=[{startLineNumber:u,startColumn:c,endLineNumber:u,endColumn:c}]}else if(t instanceof E.Range)r=[N.Range.from(t)];else{r=[];for(const u of t)if(u instanceof E.Range)r.push(N.Range.from(u));else{const{lineNumber:c,column:y}=N.Position.from(u);r.push({startLineNumber:c,startColumn:y,endLineNumber:c,endColumn:y})}}return b.$tryInsertSnippet(h,a.value.version,v.value,r,d)},setDecorations(v,t){const d=t.length===0;d&&!O.h.has(v.key)||(d?O.h.delete(v.key):O.h.add(v.key),O.n(()=>{if(N.isDecorationOptionsArr(t))return b.$trySetDecorations(h,v.key,N.fromRangeOrRangeWithMessage(t));{const r=new Array(4*t.length);for(let u=0,c=t.length;u<c;u++){const y=t[u];r[4*u]=y.start.line+1,r[4*u+1]=y.start.character+1,r[4*u+2]=y.end.line+1,r[4*u+3]=y.end.character+1}return b.$trySetDecorationsFast(h,v.key,r)}}))},revealRange(v,t){O.n(()=>b.$tryRevealRange(h,N.Range.from(v),t||E.TextEditorRevealType.Default))},show(v){b.$tryShowEditor(h,N.ViewColumn.from(v))},hide(){b.$tryHideEditor(h)}})}dispose(){(0,i.ok)(!this.g),this.g=!0}_acceptOptions(h){(0,i.ok)(!this.g),this.d._accept(h)}_acceptVisibleRanges(h){(0,i.ok)(!this.g),this.e=h}_acceptViewColumn(h){(0,i.ok)(!this.g),this.f=h}_acceptSelections(h){(0,i.ok)(!this.g),this.c=h}async l(){const h=this.c.map(N.Selection.from);return await this.n(()=>this.j.$trySetSelections(this.id,h)),this.value}m(h){const b=h.finalize();if(b.edits.length===0&&!b.setEndOfLine)return Promise.resolve(!0);const g=b.edits.map(o=>o.range);g.sort((o,l)=>o.end.line===l.end.line?o.end.character===l.end.character?o.start.line===l.start.line?o.start.character-l.start.character:o.start.line-l.start.line:o.end.character-l.end.character:o.end.line-l.end.line);for(let o=0,l=g.length-1;o<l;o++){const p=g[o].end;if(g[o+1].start.isBefore(p))return Promise.reject(new Error("Overlapping ranges are not allowed!"))}const a=b.edits.map(o=>({range:N.Range.from(o.range),text:o.text,forceMoveMarkers:o.forceMoveMarkers}));return this.j.$tryApplyEdits(this.id,b.documentVersionId,a,{setEndOfLine:typeof b.setEndOfLine=="number"?N.EndOfLine.from(b.setEndOfLine):void 0,undoStopBefore:b.undoStopBefore,undoStopAfter:b.undoStopAfter})}n(h){return this.g?(this.k.warn("TextEditor is closed/disposed"),Promise.resolve(void 0)):h().then(()=>this,b=>(b instanceof Error&&b.name==="DISPOSED"||this.k.warn(b),null))}}e.ExtHostTextEditor=M}),define(ke[200],Te([1,0]),function(ne,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.allApiProposals=void 0,e.allApiProposals=Object.freeze({authSession:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.authSession.d.ts",codiconDecoration:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.codiconDecoration.d.ts",contribCommentEditorActionsMenu:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribCommentEditorActionsMenu.d.ts",contribCommentPeekContext:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribCommentPeekContext.d.ts",contribCommentThreadAdditionalMenu:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribCommentThreadAdditionalMenu.d.ts",contribEditSessions:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribEditSessions.d.ts",contribEditorContentMenu:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribEditorContentMenu.d.ts",contribLabelFormatterWorkspaceTooltip:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribLabelFormatterWorkspaceTooltip.d.ts",contribMenuBarHome:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribMenuBarHome.d.ts",contribMergeEditorMenus:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribMergeEditorMenus.d.ts",contribNotebookStaticPreloads:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribNotebookStaticPreloads.d.ts",contribRemoteHelp:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribRemoteHelp.d.ts",contribShareMenu:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribShareMenu.d.ts",contribViewsRemote:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribViewsRemote.d.ts",contribViewsWelcome:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.contribViewsWelcome.d.ts",customEditorMove:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.customEditorMove.d.ts",diffCommand:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.diffCommand.d.ts",diffContentOptions:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.diffContentOptions.d.ts",documentFiltersExclusive:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.documentFiltersExclusive.d.ts",documentPaste:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.documentPaste.d.ts",editSessionIdentityProvider:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.editSessionIdentityProvider.d.ts",editorInsets:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.editorInsets.d.ts",envShellEvent:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.envShellEvent.d.ts",extensionRuntime:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.extensionRuntime.d.ts",extensionsAny:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.extensionsAny.d.ts",externalUriOpener:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.externalUriOpener.d.ts",fileSearchProvider:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.fileSearchProvider.d.ts",findTextInFiles:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.findTextInFiles.d.ts",fsChunks:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.fsChunks.d.ts",idToken:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.idToken.d.ts",indentSize:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.indentSize.d.ts",inlineCompletionsAdditions:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.inlineCompletionsAdditions.d.ts",interactiveWindow:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.interactiveWindow.d.ts",ipc:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.ipc.d.ts",notebookCellExecutionState:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookCellExecutionState.d.ts",notebookControllerAffinityHidden:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookControllerAffinityHidden.d.ts",notebookControllerKind:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookControllerKind.d.ts",notebookDeprecated:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookDeprecated.d.ts",notebookKernelSource:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookKernelSource.d.ts",notebookLiveShare:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookLiveShare.d.ts",notebookMessaging:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookMessaging.d.ts",notebookMime:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.notebookMime.d.ts",portsAttributes:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.portsAttributes.d.ts",profileContentHandlers:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.profileContentHandlers.d.ts",quickDiffProvider:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.quickDiffProvider.d.ts",quickPickItemTooltip:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.quickPickItemTooltip.d.ts",quickPickSortByLabel:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.quickPickSortByLabel.d.ts",resolvers:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.resolvers.d.ts",scmActionButton:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.scmActionButton.d.ts",scmSelectedProvider:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.scmSelectedProvider.d.ts",scmValidation:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.scmValidation.d.ts",showLocal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.showLocal.d.ts",tabInputTextMerge:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.tabInputTextMerge.d.ts",taskPresentationGroup:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.taskPresentationGroup.d.ts",telemetry:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.telemetry.d.ts",terminalDataWriteEvent:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.terminalDataWriteEvent.d.ts",terminalDimensions:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.terminalDimensions.d.ts",terminalQuickFixProvider:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.terminalQuickFixProvider.d.ts",testContinuousRun:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.testContinuousRun.d.ts",testCoverage:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.testCoverage.d.ts",testObserver:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.testObserver.d.ts",textSearchProvider:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.textSearchProvider.d.ts",timeline:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.timeline.d.ts",tokenInformation:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.tokenInformation.d.ts",treeItemCheckbox:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.treeItemCheckbox.d.ts",treeViewReveal:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.treeViewReveal.d.ts",tunnels:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.tunnels.d.ts",workspaceTrust:"https://raw.githubusercontent.com/microsoft/vscode/main/src/vscode-dts/vscode.proposed.workspaceTrust.d.ts"})}),define(ke[201],Te([1,0,154,11,29,90,69,30,26,200,165,157]),function(ne,e,i,T,I,N,E,R,S,k,M,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionsRegistry=e.ExtensionsRegistryImpl=e.schema=e.ExtensionPoint=e.ExtensionPointUserDelta=e.ExtensionMessageCollector=void 0;const h=R.Registry.as(E.Extensions.JSONContribution);class b{constructor(v,t,d){this.a=v,this.b=t,this.c=d}d(v,t){this.a({type:v,message:t,extensionId:this.b.identifier,extensionPointId:this.c})}error(v){this.d(I.default.Error,v)}warn(v){this.d(I.default.Warning,v)}info(v){this.d(I.default.Info,v)}}e.ExtensionMessageCollector=b;class g{static a(v){const t=new Set;for(let d=0,r=v.length;d<r;d++)t.add(S.ExtensionIdentifier.toKey(v[d].description.identifier));return t}static compute(v,t){if(!v||!v.length)return new g(t,[]);if(!t||!t.length)return new g([],v);const d=this.a(v),r=this.a(t),u=t.filter(y=>!d.has(S.ExtensionIdentifier.toKey(y.description.identifier))),c=v.filter(y=>!r.has(S.ExtensionIdentifier.toKey(y.description.identifier)));return new g(u,c)}constructor(v,t){this.added=v,this.removed=t}}e.ExtensionPointUserDelta=g;class a{constructor(v,t){this.name=v,this.defaultExtensionKind=t,this.a=null,this.b=null,this.c=null}setHandler(v){if(this.a!==null)throw new Error("Handler already set!");this.a=v,this.d()}acceptUsers(v){this.c=g.compute(this.b,v),this.b=v,this.d()}d(){if(!(this.a===null||this.b===null||this.c===null))try{this.a(this.b,this.c)}catch(v){(0,T.onUnexpectedError)(v)}}}e.ExtensionPoint=a;const o={type:"string",enum:["ui","workspace"],enumDescriptions:[i.localize(0,null),i.localize(1,null)]},l="vscode://schemas/vscode-extensions";e.schema={properties:{engines:{type:"object",description:i.localize(2,null),properties:{vscode:{type:"string",description:i.localize(3,null),default:"^1.22.0"}}},publisher:{description:i.localize(4,null),type:"string"},displayName:{description:i.localize(5,null),type:"string"},categories:{description:i.localize(6,null),type:"array",uniqueItems:!0,items:{oneOf:[{type:"string",enum:S.EXTENSION_CATEGORIES},{type:"string",const:"Languages",deprecationMessage:i.localize(7,null)}]}},galleryBanner:{type:"object",description:i.localize(8,null),properties:{color:{description:i.localize(9,null),type:"string"},theme:{description:i.localize(10,null),type:"string",enum:["dark","light"]}}},contributes:{description:i.localize(11,null),type:"object",properties:{},default:{}},preview:{type:"boolean",description:i.localize(12,null)},enableProposedApi:{type:"boolean",deprecationMessage:i.localize(13,null)},enabledApiProposals:{markdownDescription:i.localize(14,null),type:"array",uniqueItems:!0,items:{type:"string",enum:Object.keys(k.allApiProposals),markdownEnumDescriptions:Object.values(k.allApiProposals)}},api:{markdownDescription:i.localize(15,null),type:"string",enum:["none"],enumDescriptions:[i.localize(16,null)]},activationEvents:{description:i.localize(17,null),type:"array",items:{type:"string",defaultSnippets:[{label:"onWebviewPanel",description:i.localize(18,null),body:"onWebviewPanel:viewType"},{label:"onLanguage",description:i.localize(19,null),body:"onLanguage:${1:languageId}"},{label:"onCommand",description:i.localize(20,null),body:"onCommand:${2:commandId}"},{label:"onDebug",description:i.localize(21,null),body:"onDebug"},{label:"onDebugInitialConfigurations",description:i.localize(22,null),body:"onDebugInitialConfigurations"},{label:"onDebugDynamicConfigurations",description:i.localize(23,null),body:"onDebugDynamicConfigurations"},{label:"onDebugResolve",description:i.localize(24,null),body:"onDebugResolve:${6:type}"},{label:"onDebugAdapterProtocolTracker",description:i.localize(25,null),body:"onDebugAdapterProtocolTracker:${6:type}"},{label:"workspaceContains",description:i.localize(26,null),body:"workspaceContains:${4:filePattern}"},{label:"onStartupFinished",description:i.localize(27,null),body:"onStartupFinished"},{label:"onTaskType",description:i.localize(28,null),body:"onTaskType:${1:taskType}"},{label:"onFileSystem",description:i.localize(29,null),body:"onFileSystem:${1:scheme}"},{label:"onEditSession",description:i.localize(30,null),body:"onEditSession:${1:scheme}"},{label:"onSearch",description:i.localize(31,null),body:"onSearch:${7:scheme}"},{label:"onView",body:"onView:${5:viewId}",description:i.localize(32,null)},{label:"onUri",body:"onUri",description:i.localize(33,null)},{label:"onOpenExternalUri",body:"onOpenExternalUri",description:i.localize(34,null)},{label:"onCustomEditor",body:"onCustomEditor:${9:viewType}",description:i.localize(35,null)},{label:"onNotebook",body:"onNotebook:${1:type}",description:i.localize(36,null)},{label:"onAuthenticationRequest",body:"onAuthenticationRequest:${11:authenticationProviderId}",description:i.localize(37,null)},{label:"onRenderer",description:i.localize(38,null),body:"onRenderer:${11:rendererId}"},{label:"onTerminalProfile",body:"onTerminalProfile:${1:terminalId}",description:i.localize(39,null)},{label:"onTerminalQuickFixRequest",body:"onTerminalQuickFixRequest:${1:quickFixId}",description:i.localize(40,null)},{label:"onWalkthrough",body:"onWalkthrough:${1:walkthroughID}",description:i.localize(41,null)},{label:"*",description:i.localize(42,null),body:"*"}]}},badges:{type:"array",description:i.localize(43,null),items:{type:"object",required:["url","href","description"],properties:{url:{type:"string",description:i.localize(44,null)},href:{type:"string",description:i.localize(45,null)},description:{type:"string",description:i.localize(46,null)}}}},markdown:{type:"string",description:i.localize(47,null),enum:["github","standard"],default:"github"},qna:{default:"marketplace",description:i.localize(48,null),anyOf:[{type:["string","boolean"],enum:["marketplace",!1]},{type:"string"}]},extensionDependencies:{description:i.localize(49,null),type:"array",uniqueItems:!0,items:{type:"string",pattern:N.EXTENSION_IDENTIFIER_PATTERN}},extensionPack:{description:i.localize(50,null),type:"array",uniqueItems:!0,items:{type:"string",pattern:N.EXTENSION_IDENTIFIER_PATTERN}},extensionKind:{description:i.localize(51,null),type:"array",items:o,default:["workspace"],defaultSnippets:[{body:["ui"],description:i.localize(52,null)},{body:["workspace"],description:i.localize(53,null)},{body:["ui","workspace"],description:i.localize(54,null)},{body:["workspace","ui"],description:i.localize(55,null)},{body:[],description:i.localize(56,null)}]},capabilities:{description:i.localize(57,null),type:"object",properties:{virtualWorkspaces:{description:i.localize(58,null),type:["boolean","object"],defaultSnippets:[{label:"limited",body:{supported:"${1:limited}",description:"${2}"}},{label:"false",body:{supported:!1,description:"${2}"}}],default:(!0).valueOf,properties:{supported:{markdownDescription:i.localize(59,null),type:["string","boolean"],enum:["limited",!0,!1],enumDescriptions:[i.localize(60,null),i.localize(61,null),i.localize(62,null)]},description:{type:"string",markdownDescription:i.localize(63,null)}}},untrustedWorkspaces:{description:i.localize(64,null),type:"object",required:["supported"],defaultSnippets:[{body:{supported:"${1:limited}",description:"${2}"}}],properties:{supported:{markdownDescription:i.localize(65,null),type:["string","boolean"],enum:["limited",!0,!1],enumDescriptions:[i.localize(66,null),i.localize(67,null),i.localize(68,null)]},restrictedConfigurations:{description:i.localize(69,null),type:"array",items:{type:"string"}},description:{type:"string",markdownDescription:i.localize(70,null)}}}}},sponsor:{description:i.localize(71,null),type:"object",defaultSnippets:[{body:{url:"${1:https:}"}}],properties:{url:{description:i.localize(72,null),type:"string"}}},scripts:{type:"object",properties:{"vscode:prepublish":{description:i.localize(73,null),type:"string"},"vscode:uninstall":{description:i.localize(74,null),type:"string"}}},icon:{type:"string",description:i.localize(75,null)},l10n:{type:"string",description:i.localize(76,null)}}};class p{constructor(){this.a=new Map}registerExtensionPoint(v){if(this.a.has(v.extensionPoint))throw new Error("Duplicate extension point: "+v.extensionPoint);const t=new a(v.extensionPoint,v.defaultExtensionKind);return this.a.set(v.extensionPoint,t),v.activationEventsGenerator&&D.ImplicitActivationEvents.register(v.extensionPoint,v.activationEventsGenerator),e.schema.properties.contributes.properties[v.extensionPoint]=v.jsonSchema,h.registerSchema(l,e.schema),t}getExtensionPoints(){return Array.from(this.a.values())}}e.ExtensionsRegistryImpl=p;const w={ExtensionsRegistry:"ExtensionsRegistry"};R.Registry.add(w.ExtensionsRegistry,new p),e.ExtensionsRegistry=R.Registry.as(w.ExtensionsRegistry),h.registerSchema(l,e.schema),h.registerSchema(M.productSchemaId,{properties:{extensionEnabledApiProposals:{description:i.localize(77,null),type:"object",properties:{},additionalProperties:{anyOf:[{type:"array",uniqueItems:!0,items:{type:"string",enum:Object.keys(k.allApiProposals),markdownEnumDescriptions:Object.values(k.allApiProposals)}}]}}}})}),define(ke[202],Te([1,0,151,9,22,201,42,4]),function(ne,e,i,T,I,N,E,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TaskDefinitionRegistry=void 0;const S={type:"object",additionalProperties:!1,properties:{type:{type:"string",description:i.localize(0,null)},required:{type:"array",items:{type:"string"}},properties:{type:"object",description:i.localize(1,null),additionalProperties:{$ref:"http://json-schema.org/draft-07/schema#"}},when:{type:"string",markdownDescription:i.localize(2,null),default:""}}};var k;(function(h){function b(g,a,o){if(!g)return;const l=T.isString(g.type)?g.type:void 0;if(!l||l.length===0){o.error(i.localize(3,null));return}const p=[];if(Array.isArray(g.required))for(const w of g.required)T.isString(w)&&p.push(w);return{extensionId:a.value,taskType:l,required:p,properties:g.properties?I.deepClone(g.properties):{},when:g.when?E.ContextKeyExpr.deserialize(g.when):void 0}}h.from=b})(k||(k={}));const M=N.ExtensionsRegistry.registerExtensionPoint({extensionPoint:"taskDefinitions",activationEventsGenerator:(h,b)=>{for(const g of h)g.type&&b.push(`onTaskType:${g.type}`)},jsonSchema:{description:i.localize(4,null),type:"array",items:S}});class D{constructor(){this.d=new R.Emitter,this.onDefinitionsChanged=this.d.event,this.a=Object.create(null),this.b=new Promise((b,g)=>{M.setHandler((a,o)=>{this.c=void 0;try{for(const l of o.removed){const p=l.value;for(const w of p)this.a&&w.type&&this.a[w.type]&&delete this.a[w.type]}for(const l of o.added){const p=l.value;for(const w of p){const O=k.from(w,l.description.identifier,l.collector);O&&(this.a[O.taskType]=O)}}(o.removed.length>0||o.added.length>0)&&this.d.fire()}catch{}b(void 0)})})}onReady(){return this.b}get(b){return this.a[b]}all(){return Object.keys(this.a).map(b=>this.a[b])}getJsonSchema(){if(this.c===void 0){const b=[];for(const g of this.all()){const a={type:"object",additionalProperties:!1};g.required.length>0&&(a.required=g.required.slice(0)),g.properties!==void 0?a.properties=I.deepClone(g.properties):a.properties=Object.create(null),a.properties.type={type:"string",enum:[g.taskType]},b.push(a)}this.c={oneOf:b}}return this.c}}e.TaskDefinitionRegistry=new D}),define(ke[203],Te([1,0,152,9,24,22,42,202]),function(ne,e,i,T,I,N,E,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TaskDefinition=e.TasksSchemaProperties=e.TaskSettingId=e.KeyedTaskIdentifier=e.TaskEvent=e.TaskRunSource=e.TaskRunType=e.TaskEventKind=e.TaskSorter=e.JsonSchemaVersion=e.ExecutionEngine=e.InMemoryTask=e.ContributedTask=e.ConfiguringTask=e.CustomTask=e.CommonTask=e.RunOptions=e.RunOnOptions=e.DependsOrder=e.TaskSourceKind=e.TaskScope=e.TaskGroup=e.CommandString=e.RuntimeType=e.PresentationOptions=e.PanelKind=e.RevealProblemKind=e.RevealKind=e.CommandOptions=e.CUSTOMIZED_TASK_TYPE=e.ShellQuoting=e.TASKS_CATEGORY=e.TASK_RUNNING_STATE=e.USER_TASKS_GROUP_KEY=void 0,e.USER_TASKS_GROUP_KEY="settings",e.TASK_RUNNING_STATE=new E.RawContextKey("taskRunning",!1,i.localize(0,null)),e.TASKS_CATEGORY={value:i.localize(1,null),original:"Tasks"};var S;(function(L){L[L.Escape=1]="Escape",L[L.Strong=2]="Strong",L[L.Weak=3]="Weak"})(S=e.ShellQuoting||(e.ShellQuoting={})),e.CUSTOMIZED_TASK_TYPE="$customized",function(L){function m(F){if(!F)return L.Strong;switch(F.toLowerCase()){case"escape":return L.Escape;case"strong":return L.Strong;case"weak":return L.Weak;default:return L.Strong}}L.from=m}(S=e.ShellQuoting||(e.ShellQuoting={}));var k;(function(L){L.defaults={cwd:"${workspaceFolder}"}})(k=e.CommandOptions||(e.CommandOptions={}));var M;(function(L){L[L.Always=1]="Always",L[L.Silent=2]="Silent",L[L.Never=3]="Never"})(M=e.RevealKind||(e.RevealKind={})),function(L){function m(F){switch(F.toLowerCase()){case"always":return L.Always;case"silent":return L.Silent;case"never":return L.Never;default:return L.Always}}L.fromString=m}(M=e.RevealKind||(e.RevealKind={}));var D;(function(L){L[L.Never=1]="Never",L[L.OnProblem=2]="OnProblem",L[L.Always=3]="Always"})(D=e.RevealProblemKind||(e.RevealProblemKind={})),function(L){function m(F){switch(F.toLowerCase()){case"always":return L.Always;case"never":return L.Never;case"onproblem":return L.OnProblem;default:return L.OnProblem}}L.fromString=m}(D=e.RevealProblemKind||(e.RevealProblemKind={}));var h;(function(L){L[L.Shared=1]="Shared",L[L.Dedicated=2]="Dedicated",L[L.New=3]="New"})(h=e.PanelKind||(e.PanelKind={})),function(L){function m(F){switch(F.toLowerCase()){case"shared":return L.Shared;case"dedicated":return L.Dedicated;case"new":return L.New;default:return L.Shared}}L.fromString=m}(h=e.PanelKind||(e.PanelKind={}));var b;(function(L){L.defaults={echo:!0,reveal:M.Always,revealProblems:D.Never,focus:!1,panel:h.Shared,showReuseMessage:!0,clear:!1}})(b=e.PresentationOptions||(e.PresentationOptions={}));var g;(function(L){L[L.Shell=1]="Shell",L[L.Process=2]="Process",L[L.CustomExecution=3]="CustomExecution"})(g=e.RuntimeType||(e.RuntimeType={})),function(L){function m(B){switch(B.toLowerCase()){case"shell":return L.Shell;case"process":return L.Process;case"customExecution":return L.CustomExecution;default:return L.Process}}L.fromString=m;function F(B){switch(B){case L.Shell:return"shell";case L.Process:return"process";case L.CustomExecution:return"customExecution";default:return"process"}}L.toString=F}(g=e.RuntimeType||(e.RuntimeType={}));var a;(function(L){function m(F){return T.isString(F)?F:F.value}L.value=m})(a=e.CommandString||(e.CommandString={}));var o;(function(L){L.Clean={_id:"clean",isDefault:!1},L.Build={_id:"build",isDefault:!1},L.Rebuild={_id:"rebuild",isDefault:!1},L.Test={_id:"test",isDefault:!1};function m(B){return B===L.Clean._id||B===L.Build._id||B===L.Rebuild._id||B===L.Test._id}L.is=m;function F(B){if(B!==void 0)return T.isString(B)?m(B)?{_id:B,isDefault:!1}:void 0:B}L.from=F})(o=e.TaskGroup||(e.TaskGroup={}));var l;(function(L){L[L.Global=1]="Global",L[L.Workspace=2]="Workspace",L[L.Folder=3]="Folder"})(l=e.TaskScope||(e.TaskScope={}));var p;(function(L){L.Workspace="workspace",L.Extension="extension",L.InMemory="inMemory",L.WorkspaceFile="workspaceFile",L.User="user";function m(F){switch(F){case L.User:return 2;case L.WorkspaceFile:return 5;default:return 6}}L.toConfigurationTarget=m})(p=e.TaskSourceKind||(e.TaskSourceKind={}));var w;(function(L){L.parallel="parallel",L.sequence="sequence"})(w=e.DependsOrder||(e.DependsOrder={}));var O;(function(L){L[L.default=1]="default",L[L.folderOpen=2]="folderOpen"})(O=e.RunOnOptions||(e.RunOnOptions={}));var v;(function(L){L.defaults={reevaluateOnRerun:!0,runOn:O.default,instanceLimit:1}})(v=e.RunOptions||(e.RunOptions={}));class t{constructor(m,F,B,J,me,te){this._label="",this._id=m,F&&(this._label=F),B&&(this.type=B),this.runOptions=J,this.configurationProperties=me,this._source=te}getDefinition(m){}getMapKey(){return this._id}getRecentlyUsedKey(){}getCommonTaskId(){const m={folder:this.d(),id:this._id};return JSON.stringify(m)}clone(){return this.f(Object.assign({},this))}getWorkspaceFolder(){}getWorkspaceFileName(){}getTelemetryKind(){return"unknown"}matches(m,F=!1){if(m===void 0)return!1;if(T.isString(m))return m===this._label||m===this.configurationProperties.identifier||F&&m===this._id;const B=this.getDefinition(!0);return B!==void 0&&B._key===m._key}getQualifiedLabel(){const m=this.getWorkspaceFolder();return m?`${this._label} (${m.name})`:this._label}getTaskExecution(){return{id:this._id,task:this}}addTaskLoadMessages(m){this.c===void 0&&(this.c=[]),m&&(this.c=this.c.concat(m))}get taskLoadMessages(){return this.c}}e.CommonTask=t;class d extends t{constructor(m,F,B,J,me,te,oe,ce){super(m,B,void 0,oe,ce,F),this.command={},this._source=F,this.hasDefinedMatchers=te,me&&(this.command=me)}clone(){return new d(this._id,this._source,this._label,this.type,this.command,this.hasDefinedMatchers,this.runOptions,this.configurationProperties)}customizes(){if(this._source&&this._source.customizes)return this._source.customizes}getDefinition(m=!1){if(m&&this._source.customizes!==void 0)return this._source.customizes;{let F;switch(this.command?this.command.runtime:void 0){case g.Shell:F="shell";break;case g.Process:F="process";break;case g.CustomExecution:F="customExecution";break;case void 0:F="$composite";break;default:throw new Error("Unexpected task runtime")}return{type:F,_key:this._id,id:this._id}}}static is(m){return m instanceof d}getMapKey(){const m=this._source.config.workspaceFolder;return m?`${m.uri.toString()}|${this._id}|${this.instance}`:`${this._id}|${this.instance}`}d(){return this._source.kind===p.User?e.USER_TASKS_GROUP_KEY:this._source.config.workspaceFolder?.uri.toString()}getCommonTaskId(){return this._source.customizes?super.getCommonTaskId():this.getRecentlyUsedKey()??super.getCommonTaskId()}getRecentlyUsedKey(){const m=this.d();if(!m)return;let F=this.configurationProperties.identifier;this._source.kind!==p.Workspace&&(F+=this._source.kind);const B={type:e.CUSTOMIZED_TASK_TYPE,folder:m,id:F};return JSON.stringify(B)}getWorkspaceFolder(){return this._source.config.workspaceFolder}getWorkspaceFileName(){return this._source.config.workspace&&this._source.config.workspace.configuration?I.basename(this._source.config.workspace.configuration):void 0}getTelemetryKind(){return this._source.customizes?"workspace>extension":"workspace"}f(m){return new d(m._id,m._source,m._label,m.type,m.command,m.hasDefinedMatchers,m.runOptions,m.configurationProperties)}}e.CustomTask=d;class r extends t{constructor(m,F,B,J,me,te,oe){super(m,B,J,te,oe,F),this._source=F,this.configures=me}static is(m){return m instanceof r}f(m){return m}getDefinition(){return this.configures}getWorkspaceFileName(){return this._source.config.workspace&&this._source.config.workspace.configuration?I.basename(this._source.config.workspace.configuration):void 0}getWorkspaceFolder(){return this._source.config.workspaceFolder}d(){return this._source.kind===p.User?e.USER_TASKS_GROUP_KEY:this._source.config.workspaceFolder?.uri.toString()}getRecentlyUsedKey(){const m=this.d();if(!m)return;let F=this.configurationProperties.identifier;this._source.kind!==p.Workspace&&(F+=this._source.kind);const B={type:e.CUSTOMIZED_TASK_TYPE,folder:m,id:F};return JSON.stringify(B)}}e.ConfiguringTask=r;class u extends t{constructor(m,F,B,J,me,te,oe,ce,we){super(m,B,J,ce,we,F),this.defines=me,this.hasDefinedMatchers=oe,this.command=te,this.icon=we.icon,this.hide=we.hide}clone(){return new u(this._id,this._source,this._label,this.type,this.defines,this.command,this.hasDefinedMatchers,this.runOptions,this.configurationProperties)}getDefinition(){return this.defines}static is(m){return m instanceof u}getMapKey(){const m=this._source.workspaceFolder;return m?`${this._source.scope.toString()}|${m.uri.toString()}|${this._id}|${this.instance}`:`${this._source.scope.toString()}|${this._id}|${this.instance}`}d(){if(this._source.scope===3&&this._source.workspaceFolder)return this._source.workspaceFolder.uri.toString()}getRecentlyUsedKey(){const m={type:"contributed",scope:this._source.scope,id:this._id};return m.folder=this.d(),JSON.stringify(m)}getWorkspaceFolder(){return this._source.workspaceFolder}getTelemetryKind(){return"extension"}f(m){return new u(m._id,m._source,m._label,m.type,m.defines,m.command,m.hasDefinedMatchers,m.runOptions,m.configurationProperties)}}e.ContributedTask=u;class c extends t{constructor(m,F,B,J,me,te){super(m,B,J,me,te,F),this._source=F}clone(){return new c(this._id,this._source,this._label,this.type,this.runOptions,this.configurationProperties)}static is(m){return m instanceof c}getTelemetryKind(){return"composite"}getMapKey(){return`${this._id}|${this.instance}`}d(){}f(m){return new c(m._id,m._source,m._label,m.type,m.runOptions,m.configurationProperties)}}e.InMemoryTask=c;var y;(function(L){L[L.Process=1]="Process",L[L.Terminal=2]="Terminal"})(y=e.ExecutionEngine||(e.ExecutionEngine={})),function(L){L._default=L.Terminal}(y=e.ExecutionEngine||(e.ExecutionEngine={}));var n;(function(L){L[L.V0_1_0=1]="V0_1_0",L[L.V2_0_0=2]="V2_0_0"})(n=e.JsonSchemaVersion||(e.JsonSchemaVersion={}));class s{constructor(m){this.c=new Map;for(let F=0;F<m.length;F++)this.c.set(m[F].uri.toString(),F)}compare(m,F){const B=m.getWorkspaceFolder(),J=F.getWorkspaceFolder();if(B&&J){let me=this.c.get(B.uri.toString());me=me===void 0?0:me+1;let te=this.c.get(J.uri.toString());return te=te===void 0?0:te+1,me===te?m._label.localeCompare(F._label):me-te}else return!B&&J?-1:B&&!J?1:0}}e.TaskSorter=s;var f;(function(L){L.DependsOnStarted="dependsOnStarted",L.AcquiredInput="acquiredInput",L.Start="start",L.ProcessStarted="processStarted",L.Active="active",L.Inactive="inactive",L.Changed="changed",L.Terminated="terminated",L.ProcessEnded="processEnded",L.End="end"})(f=e.TaskEventKind||(e.TaskEventKind={}));var A;(function(L){L.SingleRun="singleRun",L.Background="background"})(A=e.TaskRunType||(e.TaskRunType={}));var P;(function(L){L[L.System=0]="System",L[L.User=1]="User",L[L.FolderOpen=2]="FolderOpen",L[L.ConfigurationChange=3]="ConfigurationChange",L[L.Reconnect=4]="Reconnect"})(P=e.TaskRunSource||(e.TaskRunSource={}));var H;(function(L){function m(F,B,J,me){if(B){const te={kind:F,taskId:B._id,taskName:B.configurationProperties.name,runType:B.configurationProperties.isBackground?"background":"singleRun",group:B.configurationProperties.group,processId:void 0,exitCode:void 0,terminalId:J,__task:B};return F==="start"?te.resolvedVariables=me:F==="processStarted"?te.processId=me:F==="processEnded"&&(te.exitCode=me),Object.freeze(te)}else return Object.freeze({kind:"changed"})}L.create=m})(H=e.TaskEvent||(e.TaskEvent={}));var Y;(function(L){function m(B){const J=Object.keys(B).sort();let me="";for(const te of J){let oe=B[te];oe instanceof Object?oe=m(oe):typeof oe=="string"&&(oe=oe.replace(/,/g,",,")),me+=te+","+oe+","}return me}function F(B){const me={_key:m(B),type:B.taskType};return Object.assign(me,B),me}L.create=F})(Y=e.KeyedTaskIdentifier||(e.KeyedTaskIdentifier={}));var Z;(function(L){L.AutoDetect="task.autoDetect",L.SaveBeforeRun="task.saveBeforeRun",L.ShowDecorations="task.showDecorations",L.ProblemMatchersNeverPrompt="task.problemMatchers.neverPrompt",L.SlowProviderWarning="task.slowProviderWarning",L.QuickOpenHistory="task.quickOpen.history",L.QuickOpenDetail="task.quickOpen.detail",L.QuickOpenSkip="task.quickOpen.skip",L.QuickOpenShowAll="task.quickOpen.showAll",L.AllowAutomaticTasks="task.allowAutomaticTasks",L.Reconnection="task.reconnection"})(Z=e.TaskSettingId||(e.TaskSettingId={}));var _;(function(L){L.Tasks="tasks",L.SuppressTaskName="tasks.suppressTaskName",L.Windows="tasks.windows",L.Osx="tasks.osx",L.Linux="tasks.linux",L.ShowOutput="tasks.showOutput",L.IsShellCommand="tasks.isShellCommand",L.ServiceTestSetting="tasks.service.testSetting"})(_=e.TasksSchemaProperties||(e.TasksSchemaProperties={}));var j;(function(L){function m(F,B){const J=R.TaskDefinitionRegistry.get(F.type);if(J===void 0){const ce=N.deepClone(F);return delete ce._key,Y.create(ce)}const me=Object.create(null);me.type=J.taskType;const te=new Set;J.required.forEach(ce=>te.add(ce));const oe=J.properties;for(const ce of Object.keys(oe)){const we=F[ce];if(we!=null)me[ce]=we;else if(te.has(ce)){const q=oe[ce];if(q.default!==void 0)me[ce]=N.deepClone(q.default);else switch(q.type){case"boolean":me[ce]=!1;break;case"number":case"integer":me[ce]=0;break;case"string":me[ce]="";break;default:B.error(i.localize(2,null,JSON.stringify(F,void 0,0),ce));return}}}return Y.create(me)}L.createTaskIdentifier=m})(j=e.TaskDefinition||(e.TaskDefinition={}))}),define(ke[204],Te([1,0,11]),function(ne,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CanceledLazyPromise=e.LazyPromise=void 0;class T{constructor(){this.a=null,this.b=null,this.d=null,this.f=!1,this.g=null,this.h=!1,this.i=null}get[Symbol.toStringTag](){return this.toString()}j(){return this.a||(this.a=new Promise((E,R)=>{this.b=E,this.d=R,this.f&&this.b(this.g),this.h&&this.d(this.i)})),this.a}resolveOk(E){this.f||this.h||(this.f=!0,this.g=E,this.a&&this.b(E))}resolveErr(E){this.f||this.h||(this.h=!0,this.i=E,this.a?this.d(E):(0,i.onUnexpectedError)(E))}then(E,R){return this.j().then(E,R)}catch(E){return this.j().then(void 0,E)}finally(E){return this.j().finally(E)}}e.LazyPromise=T;class I extends T{constructor(){super(),this.h=!0,this.i=new i.CancellationError}}e.CanceledLazyPromise=I}),define(ke[46],Te([1,0]),function(ne,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SerializableObjectWithBuffers=e.getStringIdentifierForProxy=e.createProxyIdentifier=e.ProxyIdentifier=void 0;class i{constructor(S){this._proxyIdentifierBrand=void 0,this.sid=S,this.nid=++i.count}}i.count=0,e.ProxyIdentifier=i;const T=[];function I(R){const S=new i(R);return T[S.nid]=S,S}e.createProxyIdentifier=I;function N(R){return T[R].sid}e.getStringIdentifierForProxy=N;class E{constructor(S){this.value=S}}e.SerializableObjectWithBuffers=E}),define(ke[5],Te([1,0,46]),function(ne,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostContext=e.MainContext=e.ExtHostTestingResource=e.ISuggestResultDtoField=e.ISuggestDataDtoField=e.IdObject=e.CandidatePortSource=e.NotebookEditorRevealType=e.CellOutputKind=e.WebviewMessageArrayBufferViewType=e.WebviewEditorCapabilities=e.TabModelOperationKind=e.TabInputKind=e.TextEditorRevealType=void 0;var T;(function(a){a[a.Default=0]="Default",a[a.InCenter=1]="InCenter",a[a.InCenterIfOutsideViewport=2]="InCenterIfOutsideViewport",a[a.AtTop=3]="AtTop"})(T=e.TextEditorRevealType||(e.TextEditorRevealType={}));var I;(function(a){a[a.UnknownInput=0]="UnknownInput",a[a.TextInput=1]="TextInput",a[a.TextDiffInput=2]="TextDiffInput",a[a.TextMergeInput=3]="TextMergeInput",a[a.NotebookInput=4]="NotebookInput",a[a.NotebookDiffInput=5]="NotebookDiffInput",a[a.CustomEditorInput=6]="CustomEditorInput",a[a.WebviewEditorInput=7]="WebviewEditorInput",a[a.TerminalEditorInput=8]="TerminalEditorInput",a[a.InteractiveEditorInput=9]="InteractiveEditorInput"})(I=e.TabInputKind||(e.TabInputKind={}));var N;(function(a){a[a.TAB_OPEN=0]="TAB_OPEN",a[a.TAB_CLOSE=1]="TAB_CLOSE",a[a.TAB_UPDATE=2]="TAB_UPDATE",a[a.TAB_MOVE=3]="TAB_MOVE"})(N=e.TabModelOperationKind||(e.TabModelOperationKind={}));var E;(function(a){a[a.Editable=0]="Editable",a[a.SupportsHotExit=1]="SupportsHotExit"})(E=e.WebviewEditorCapabilities||(e.WebviewEditorCapabilities={}));var R;(function(a){a[a.Int8Array=1]="Int8Array",a[a.Uint8Array=2]="Uint8Array",a[a.Uint8ClampedArray=3]="Uint8ClampedArray",a[a.Int16Array=4]="Int16Array",a[a.Uint16Array=5]="Uint16Array",a[a.Int32Array=6]="Int32Array",a[a.Uint32Array=7]="Uint32Array",a[a.Float32Array=8]="Float32Array",a[a.Float64Array=9]="Float64Array",a[a.BigInt64Array=10]="BigInt64Array",a[a.BigUint64Array=11]="BigUint64Array"})(R=e.WebviewMessageArrayBufferViewType||(e.WebviewMessageArrayBufferViewType={}));var S;(function(a){a[a.Text=1]="Text",a[a.Error=2]="Error",a[a.Rich=3]="Rich"})(S=e.CellOutputKind||(e.CellOutputKind={}));var k;(function(a){a[a.Default=0]="Default",a[a.InCenter=1]="InCenter",a[a.InCenterIfOutsideViewport=2]="InCenterIfOutsideViewport",a[a.AtTop=3]="AtTop"})(k=e.NotebookEditorRevealType||(e.NotebookEditorRevealType={}));var M;(function(a){a[a.None=0]="None",a[a.Process=1]="Process",a[a.Output=2]="Output"})(M=e.CandidatePortSource||(e.CandidatePortSource={}));class D{static mixin(o){return o._id=D.a++,o}}D.a=0,e.IdObject=D;var h;(function(a){a.label="a",a.kind="b",a.detail="c",a.documentation="d",a.sortText="e",a.filterText="f",a.preselect="g",a.insertText="h",a.insertTextRules="i",a.range="j",a.commitCharacters="k",a.additionalTextEdits="l",a.kindModifier="m",a.commandIdent="n",a.commandId="o",a.commandArguments="p"})(h=e.ISuggestDataDtoField||(e.ISuggestDataDtoField={}));var b;(function(a){a.defaultRanges="a",a.completions="b",a.isIncomplete="c",a.duration="d"})(b=e.ISuggestResultDtoField||(e.ISuggestResultDtoField={}));var g;(function(a){a[a.Workspace=0]="Workspace",a[a.TextDocument=1]="TextDocument"})(g=e.ExtHostTestingResource||(e.ExtHostTestingResource={})),e.MainContext={MainThreadAuthentication:(0,i.createProxyIdentifier)("MainThreadAuthentication"),MainThreadBulkEdits:(0,i.createProxyIdentifier)("MainThreadBulkEdits"),MainThreadClipboard:(0,i.createProxyIdentifier)("MainThreadClipboard"),MainThreadCommands:(0,i.createProxyIdentifier)("MainThreadCommands"),MainThreadComments:(0,i.createProxyIdentifier)("MainThreadComments"),MainThreadConfiguration:(0,i.createProxyIdentifier)("MainThreadConfiguration"),MainThreadConsole:(0,i.createProxyIdentifier)("MainThreadConsole"),MainThreadDebugService:(0,i.createProxyIdentifier)("MainThreadDebugService"),MainThreadDecorations:(0,i.createProxyIdentifier)("MainThreadDecorations"),MainThreadDiagnostics:(0,i.createProxyIdentifier)("MainThreadDiagnostics"),MainThreadDialogs:(0,i.createProxyIdentifier)("MainThreadDiaglogs"),MainThreadDocuments:(0,i.createProxyIdentifier)("MainThreadDocuments"),MainThreadDocumentContentProviders:(0,i.createProxyIdentifier)("MainThreadDocumentContentProviders"),MainThreadTextEditors:(0,i.createProxyIdentifier)("MainThreadTextEditors"),MainThreadEditorInsets:(0,i.createProxyIdentifier)("MainThreadEditorInsets"),MainThreadEditorTabs:(0,i.createProxyIdentifier)("MainThreadEditorTabs"),MainThreadErrors:(0,i.createProxyIdentifier)("MainThreadErrors"),MainThreadTreeViews:(0,i.createProxyIdentifier)("MainThreadTreeViews"),MainThreadDownloadService:(0,i.createProxyIdentifier)("MainThreadDownloadService"),MainThreadKeytar:(0,i.createProxyIdentifier)("MainThreadKeytar"),MainThreadLanguageFeatures:(0,i.createProxyIdentifier)("MainThreadLanguageFeatures"),MainThreadLanguages:(0,i.createProxyIdentifier)("MainThreadLanguages"),MainThreadLogger:(0,i.createProxyIdentifier)("MainThreadLogger"),MainThreadMessageService:(0,i.createProxyIdentifier)("MainThreadMessageService"),MainThreadOutputService:(0,i.createProxyIdentifier)("MainThreadOutputService"),MainThreadProgress:(0,i.createProxyIdentifier)("MainThreadProgress"),MainThreadQuickDiff:(0,i.createProxyIdentifier)("MainThreadQuickDiff"),MainThreadQuickOpen:(0,i.createProxyIdentifier)("MainThreadQuickOpen"),MainThreadStatusBar:(0,i.createProxyIdentifier)("MainThreadStatusBar"),MainThreadSecretState:(0,i.createProxyIdentifier)("MainThreadSecretState"),MainThreadStorage:(0,i.createProxyIdentifier)("MainThreadStorage"),MainThreadTelemetry:(0,i.createProxyIdentifier)("MainThreadTelemetry"),MainThreadTerminalService:(0,i.createProxyIdentifier)("MainThreadTerminalService"),MainThreadWebviews:(0,i.createProxyIdentifier)("MainThreadWebviews"),MainThreadWebviewPanels:(0,i.createProxyIdentifier)("MainThreadWebviewPanels"),MainThreadWebviewViews:(0,i.createProxyIdentifier)("MainThreadWebviewViews"),MainThreadCustomEditors:(0,i.createProxyIdentifier)("MainThreadCustomEditors"),MainThreadUrls:(0,i.createProxyIdentifier)("MainThreadUrls"),MainThreadUriOpeners:(0,i.createProxyIdentifier)("MainThreadUriOpeners"),MainThreadProfileContentHandlers:(0,i.createProxyIdentifier)("MainThreadProfileContentHandlers"),MainThreadWorkspace:(0,i.createProxyIdentifier)("MainThreadWorkspace"),MainThreadFileSystem:(0,i.createProxyIdentifier)("MainThreadFileSystem"),MainThreadExtensionService:(0,i.createProxyIdentifier)("MainThreadExtensionService"),MainThreadSCM:(0,i.createProxyIdentifier)("MainThreadSCM"),MainThreadSearch:(0,i.createProxyIdentifier)("MainThreadSearch"),MainThreadTask:(0,i.createProxyIdentifier)("MainThreadTask"),MainThreadWindow:(0,i.createProxyIdentifier)("MainThreadWindow"),MainThreadLabelService:(0,i.createProxyIdentifier)("MainThreadLabelService"),MainThreadNotebook:(0,i.createProxyIdentifier)("MainThreadNotebook"),MainThreadNotebookDocuments:(0,i.createProxyIdentifier)("MainThreadNotebookDocumentsShape"),MainThreadNotebookEditors:(0,i.createProxyIdentifier)("MainThreadNotebookEditorsShape"),MainThreadNotebookKernels:(0,i.createProxyIdentifier)("MainThreadNotebookKernels"),MainThreadNotebookRenderers:(0,i.createProxyIdentifier)("MainThreadNotebookRenderers"),MainThreadInteractive:(0,i.createProxyIdentifier)("MainThreadInteractive"),MainThreadTheming:(0,i.createProxyIdentifier)("MainThreadTheming"),MainThreadTunnelService:(0,i.createProxyIdentifier)("MainThreadTunnelService"),MainThreadTimeline:(0,i.createProxyIdentifier)("MainThreadTimeline"),MainThreadTesting:(0,i.createProxyIdentifier)("MainThreadTesting"),MainThreadLocalization:(0,i.createProxyIdentifier)("MainThreadLocalizationShape")},e.ExtHostContext={ExtHostCommands:(0,i.createProxyIdentifier)("ExtHostCommands"),ExtHostConfiguration:(0,i.createProxyIdentifier)("ExtHostConfiguration"),ExtHostDiagnostics:(0,i.createProxyIdentifier)("ExtHostDiagnostics"),ExtHostDebugService:(0,i.createProxyIdentifier)("ExtHostDebugService"),ExtHostDecorations:(0,i.createProxyIdentifier)("ExtHostDecorations"),ExtHostDocumentsAndEditors:(0,i.createProxyIdentifier)("ExtHostDocumentsAndEditors"),ExtHostDocuments:(0,i.createProxyIdentifier)("ExtHostDocuments"),ExtHostDocumentContentProviders:(0,i.createProxyIdentifier)("ExtHostDocumentContentProviders"),ExtHostDocumentSaveParticipant:(0,i.createProxyIdentifier)("ExtHostDocumentSaveParticipant"),ExtHostEditors:(0,i.createProxyIdentifier)("ExtHostEditors"),ExtHostTreeViews:(0,i.createProxyIdentifier)("ExtHostTreeViews"),ExtHostFileSystem:(0,i.createProxyIdentifier)("ExtHostFileSystem"),ExtHostFileSystemInfo:(0,i.createProxyIdentifier)("ExtHostFileSystemInfo"),ExtHostFileSystemEventService:(0,i.createProxyIdentifier)("ExtHostFileSystemEventService"),ExtHostLanguages:(0,i.createProxyIdentifier)("ExtHostLanguages"),ExtHostLanguageFeatures:(0,i.createProxyIdentifier)("ExtHostLanguageFeatures"),ExtHostQuickOpen:(0,i.createProxyIdentifier)("ExtHostQuickOpen"),ExtHostQuickDiff:(0,i.createProxyIdentifier)("ExtHostQuickDiff"),ExtHostExtensionService:(0,i.createProxyIdentifier)("ExtHostExtensionService"),ExtHostLogLevelServiceShape:(0,i.createProxyIdentifier)("ExtHostLogLevelServiceShape"),ExtHostTerminalService:(0,i.createProxyIdentifier)("ExtHostTerminalService"),ExtHostSCM:(0,i.createProxyIdentifier)("ExtHostSCM"),ExtHostSearch:(0,i.createProxyIdentifier)("ExtHostSearch"),ExtHostTask:(0,i.createProxyIdentifier)("ExtHostTask"),ExtHostWorkspace:(0,i.createProxyIdentifier)("ExtHostWorkspace"),ExtHostWindow:(0,i.createProxyIdentifier)("ExtHostWindow"),ExtHostWebviews:(0,i.createProxyIdentifier)("ExtHostWebviews"),ExtHostWebviewPanels:(0,i.createProxyIdentifier)("ExtHostWebviewPanels"),ExtHostCustomEditors:(0,i.createProxyIdentifier)("ExtHostCustomEditors"),ExtHostWebviewViews:(0,i.createProxyIdentifier)("ExtHostWebviewViews"),ExtHostEditorInsets:(0,i.createProxyIdentifier)("ExtHostEditorInsets"),ExtHostEditorTabs:(0,i.createProxyIdentifier)("ExtHostEditorTabs"),ExtHostProgress:(0,i.createProxyIdentifier)("ExtHostProgress"),ExtHostComments:(0,i.createProxyIdentifier)("ExtHostComments"),ExtHostSecretState:(0,i.createProxyIdentifier)("ExtHostSecretState"),ExtHostStorage:(0,i.createProxyIdentifier)("ExtHostStorage"),ExtHostUrls:(0,i.createProxyIdentifier)("ExtHostUrls"),ExtHostUriOpeners:(0,i.createProxyIdentifier)("ExtHostUriOpeners"),ExtHostProfileContentHandlers:(0,i.createProxyIdentifier)("ExtHostProfileContentHandlers"),ExtHostOutputService:(0,i.createProxyIdentifier)("ExtHostOutputService"),ExtHosLabelService:(0,i.createProxyIdentifier)("ExtHostLabelService"),ExtHostNotebook:(0,i.createProxyIdentifier)("ExtHostNotebook"),ExtHostNotebookDocuments:(0,i.createProxyIdentifier)("ExtHostNotebookDocuments"),ExtHostNotebookEditors:(0,i.createProxyIdentifier)("ExtHostNotebookEditors"),ExtHostNotebookKernels:(0,i.createProxyIdentifier)("ExtHostNotebookKernels"),ExtHostNotebookRenderers:(0,i.createProxyIdentifier)("ExtHostNotebookRenderers"),ExtHostInteractive:(0,i.createProxyIdentifier)("ExtHostInteractive"),ExtHostTheming:(0,i.createProxyIdentifier)("ExtHostTheming"),ExtHostTunnelService:(0,i.createProxyIdentifier)("ExtHostTunnelService"),ExtHostAuthentication:(0,i.createProxyIdentifier)("ExtHostAuthentication"),ExtHostTimeline:(0,i.createProxyIdentifier)("ExtHostTimeline"),ExtHostTesting:(0,i.createProxyIdentifier)("ExtHostTesting"),ExtHostTelemetry:(0,i.createProxyIdentifier)("ExtHostTelemetry"),ExtHostLocalization:(0,i.createProxyIdentifier)("ExtHostLocalization")}}),define(ke[76],Te([1,0,3,12,5,18]),function(ne,e,i,T,I,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NullApiDeprecationService=e.ExtHostApiDeprecationService=e.IExtHostApiDeprecationService=void 0,e.IExtHostApiDeprecationService=(0,i.createDecorator)("IExtHostApiDeprecationService");let E=class{constructor(S,k){this.c=k,this.a=new Set,this.b=S.getProxy(I.MainContext.MainThreadTelemetry)}report(S,k,M){const D=this.d(S,k);this.a.has(D)||(this.a.add(D),k.isUnderDevelopment&&this.c.warn(`[Deprecation Warning] '${S}' is deprecated. ${M}`),this.b.$publicLog2("extHostDeprecatedApiUsage",{extensionId:k.identifier.value,apiId:S}))}d(S,k){return`${S}-${k.identifier.value}`}};E=qe([Ve(0,N.IExtHostRpcService),Ve(1,T.ILogService)],E),e.ExtHostApiDeprecationService=E,e.NullApiDeprecationService=Object.freeze(new class{report(R,S,k){}})}),define(ke[205],Te([1,0,4,5,7,26]),function(ne,e,i,T,I,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostAuthentication=void 0;class E{constructor(S){this.b=new Map,this.c=[],this.d=new i.Emitter,this.onDidChangeSessions=this.d.event,this.f=new Map,this.a=S.getProxy(T.MainContext.MainThreadAuthentication)}$setProviders(S){return this.c=S,Promise.resolve()}async getSession(S,k,M,D={}){const h=N.ExtensionIdentifier.toKey(S.identifier),b=this.f.get(h)||[],g=[...M].sort().join(" ");let a=b.find(o=>o.providerId===k&&o.scopes===g);if(a)return a.result;{const o=this.g(S,h,k,M,D);a={providerId:k,scopes:g,result:o},b.push(a),this.f.set(h,b);try{await o}finally{const l=b.findIndex(p=>p.providerId===k&&p.scopes===g);l>-1&&(b.splice(l),this.f.set(h,b))}return o}}async g(S,k,M,D,h={}){await this.a.$ensureProvider(M);const b=S.displayName||S.name;return this.a.$getSession(M,D,k,b,h)}async removeSession(S,k){const M=this.b.get(S);return M?M.provider.removeSession(k):this.a.$removeSession(S,k)}registerAuthenticationProvider(S,k,M,D){if(this.b.get(S))throw new Error(`An authentication provider with id '${S}' is already registered.`);this.b.set(S,{label:k,provider:M,options:D??{supportsMultipleAccounts:!1}}),this.c.find(b=>b.id===S)||this.c.push({id:S,label:k});const h=M.onDidChangeSessions(b=>{this.a.$sendDidChangeSessions(S,{added:b.added??[],changed:b.changed??[],removed:b.removed??[]})});return this.a.$registerAuthenticationProvider(S,k,D?.supportsMultipleAccounts??!1),new I.Disposable(()=>{h.dispose(),this.b.delete(S);const b=this.c.findIndex(g=>g.id===S);b>-1&&this.c.splice(b),this.a.$unregisterAuthenticationProvider(S)})}$createSession(S,k){const M=this.b.get(S);if(M)return Promise.resolve(M.provider.createSession(k));throw new Error(`Unable to find authentication provider with handle: ${S}`)}$removeSession(S,k){const M=this.b.get(S);if(M)return Promise.resolve(M.provider.removeSession(k));throw new Error(`Unable to find authentication provider with handle: ${S}`)}$getSessions(S,k){const M=this.b.get(S);if(M)return Promise.resolve(M.provider.getSessions(k));throw new Error(`Unable to find authentication provider with handle: ${S}`)}$onDidChangeAuthenticationSessions(S,k){return this.d.fire({provider:{id:S,label:k}}),Promise.resolve()}}e.ExtHostAuthentication=E}),define(ke[206],Te([1,0,5,18,8]),function(ne,e,i,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostBulkEdits=void 0;let N=class{constructor(R,S){this.a=R.getProxy(i.MainContext.MainThreadBulkEdits),this.b={getTextDocumentVersion:k=>S.getDocument(k)?.version,getNotebookDocumentVersion:()=>{}}}applyWorkspaceEdit(R,S,k){const M=I.WorkspaceEdit.from(R,this.b);return this.a.$tryApplyWorkspaceEdit(M,void 0,k?.isRefactoring??!1)}};N=qe([Ve(0,T.IExtHostRpcService)],N),e.ExtHostBulkEdits=N}),define(ke[207],Te([1,0,5]),function(ne,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostClipboard=void 0;class T{constructor(N){const E=N.getProxy(i.MainContext.MainThreadClipboard);this.value=Object.freeze({readText(){return E.$readText()},writeText(R){return E.$writeText(R)}})}}e.ExtHostClipboard=T});var Je=this&&this.__classPrivateFieldSet||function(ne,e,i,T,I){if(T==="m")throw new TypeError("Private method is not writable");if(T==="a"&&!I)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?ne!==e||!I:!e.has(ne))throw new TypeError("Cannot write private member to an object whose class did not declare it");return T==="a"?I.call(ne,i):I?I.value=i:e.set(ne,i),i},Le=this&&this.__classPrivateFieldGet||function(ne,e,i,T){if(i==="a"&&!T)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?ne!==e||!T:!e.has(ne))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?T:i==="a"?T.call(ne):T?T.value:e.get(ne)};define(ke[37],Te([1,0,9,7,8,22,5,16,12,66,44,260,2,6,3,18,101,23,46,39,77,52,57]),function(ne,e,i,T,I,N,E,R,S,k,M,D,h,b,g,a,o,l,p,w,O,v,t){"use strict";var d,r,u;Object.defineProperty(e,"__esModule",{value:!0}),e.ApiCommand=e.ApiCommandResult=e.ApiCommandArgument=e.CommandsConverter=e.IExtHostCommands=e.ExtHostCommands=void 0;let c=class{constructor(P,H,Y){d.set(this,void 0),this.b=new Map,this.c=new Map,r.set(this,void 0),u.set(this,void 0),Je(this,d,P.getProxy(E.MainContext.MainThreadCommands),"f"),this.d=H,Je(this,u,Y,"f"),Je(this,r,P.getProxy(E.MainContext.MainThreadTelemetry),"f"),this.converter=new y(this,Z=>{const _=this.c.get(Z);return _?.result===s.Void?_:void 0},H),this.f=[{processArgument(Z){return(0,k.revive)(Z)}},{processArgument(Z){return(0,N.cloneAndChange)(Z,function(_){if(M.Range.isIRange(_))return I.Range.to(_);if(D.Position.isIPosition(_))return I.Position.to(_);if(M.Range.isIRange(_.range)&&h.URI.isUri(_.uri))return I.location.to(_);if(_ instanceof l.VSBuffer)return _.buffer.buffer;if(!Array.isArray(_))return _})}}]}registerArgumentProcessor(P){this.f.push(P)}registerApiCommand(P){const H=this.registerCommand(!1,P.id,async(...Y)=>{const Z=P.args.map((j,L)=>{if(!j.validate(Y[L]))throw new Error(`Invalid argument '${j.name}' when running '${P.id}', received: ${Y[L]}`);return j.convert(Y[L])}),_=await this.executeCommand(P.internalId,...Z);return P.result.convert(_,Y,this.converter)},void 0,{description:P.description,args:P.args,returns:P.result.description});return this.c.set(P.id,P),new T.Disposable(()=>{H.dispose(),this.c.delete(P.id)})}registerCommand(P,H,Y,Z,_,j){if(this.d.trace("ExtHostCommands#registerCommand",H),!H.trim().length)throw new Error("invalid id");if(this.b.has(H))throw new Error(`command '${H}' already exists`);return this.b.set(H,{callback:Y,thisArg:Z,description:_,extension:j}),P&&Le(this,d,"f").$registerCommand(H),new T.Disposable(()=>{this.b.delete(H)&&P&&Le(this,d,"f").$unregisterCommand(H)})}executeCommand(P,...H){return this.d.trace("ExtHostCommands#executeCommand",P),this.g(P,H,!0)}async g(P,H,Y){if(this.b.has(P))return Le(this,d,"f").$fireCommandActivationEvent(P),this.h(P,H,!1);{let Z=!1;const _=(0,N.cloneAndChange)(H,function(j){if(j instanceof T.Position)return I.Position.from(j);if(j instanceof T.Range)return I.Range.from(j);if(j instanceof T.Location)return I.location.from(j);if(T.NotebookRange.isNotebookRange(j))return I.NotebookRange.from(j);if(j instanceof ArrayBuffer)return Z=!0,l.VSBuffer.wrap(new Uint8Array(j));if(j instanceof Uint8Array)return Z=!0,l.VSBuffer.wrap(j);if(j instanceof l.VSBuffer)return Z=!0,j;if(!Array.isArray(j))return j});try{const j=await Le(this,d,"f").$executeCommand(P,Z?new p.SerializableObjectWithBuffers(_):_,Y);return(0,k.revive)(j)}catch(j){if(j instanceof Error&&j.message==="$executeCommand:retry")return this.g(P,H,!1);throw j}}}async h(P,H,Y){const Z=this.b.get(P);if(!Z)throw new Error("Unknown command");const{callback:_,thisArg:j,description:L}=Z;if(L)for(let F=0;F<L.args.length;F++)try{(0,i.validateConstraint)(H[F],L.args[F].constraint)}catch{throw new Error(`Running the contributed command: '${P}' failed. Illegal argument '${L.args[F].name}' - ${L.args[F].description}`)}const m=O.StopWatch.create();try{return await _.apply(j,H)}catch(F){if(P===this.converter.delegatingCommandId){const B=this.converter.getActualCommand(...H);B&&(P=B.command)}if(this.d.error(F,P,Z.extension?.identifier),!Y)throw F;if(Z.extension?.identifier){const B=Le(this,u,"f").onExtensionError(Z.extension.identifier,F);this.d.trace("forwarded error to extension?",B,Z.extension?.identifier)}throw new class extends Error{constructor(){super((0,w.toErrorMessage)(F)),this.id=P,this.source=Z.extension?.displayName??Z.extension?.name}}}finally{this.j(Z,P,m.elapsed())}}j(P,H,Y){!P.extension||Le(this,r,"f").$publicLog2("Extension:ActionExecuted",{extensionId:P.extension.identifier.value,id:new v.TelemetryTrustedValue(H),duration:Y})}$executeContributedCommand(P,...H){this.d.trace("ExtHostCommands#$executeContributedCommand",P);const Y=this.b.get(P);return Y?(H=H.map(Z=>this.f.reduce((_,j)=>j.processArgument(_,Y.extension?.identifier),Z)),this.h(P,H,!0)):Promise.reject(new Error(`Contributed command '${P}' does not exist.`))}getCommands(P=!1){return this.d.trace("ExtHostCommands#getCommands",P),Le(this,d,"f").$getCommands().then(H=>(P&&(H=H.filter(Y=>Y[0]!=="_")),H))}$getContributedCommandHandlerDescriptions(){const P=Object.create(null);for(const[H,Y]of this.b){const{description:Z}=Y;Z&&(P[H]=Z)}return Promise.resolve(P)}};d=new WeakMap,r=new WeakMap,u=new WeakMap,c=qe([Ve(0,a.IExtHostRpcService),Ve(1,S.ILogService),Ve(2,t.IExtHostTelemetry)],c),e.ExtHostCommands=c,e.IExtHostCommands=(0,g.createDecorator)("IExtHostCommands");class y{constructor(P,H,Y){this.d=P,this.f=H,this.g=Y,this.delegatingCommandId=`__vsc${Date.now().toString(36)}`,this.b=new Map,this.c=0,this.d.registerCommand(!0,this.delegatingCommandId,this.h,this)}toInternal(P,H){if(!P)return;const Y={$ident:void 0,id:P.command,title:P.title,tooltip:P.tooltip};if(!P.command)return Y;const Z=this.f(P.command);if(Z)Y.id=Z.internalId,Y.arguments=Z.args.map((_,j)=>_.convert(P.arguments&&P.arguments[j]));else if((0,R.isNonEmptyArray)(P.arguments)){const _=`${P.command}/${++this.c}`;this.b.set(_,P),H.add((0,b.toDisposable)(()=>{this.b.delete(_),this.g.trace("CommandsConverter#DISPOSE",_)})),Y.$ident=_,Y.id=this.delegatingCommandId,Y.arguments=[_],this.g.trace("CommandsConverter#CREATE",P.command,_)}return Y}fromInternal(P){return typeof P.$ident=="string"?this.b.get(P.$ident):{command:P.id,title:P.title,arguments:P.arguments}}getActualCommand(...P){return this.b.get(P[0])}h(...P){const H=this.getActualCommand(...P);return this.g.trace("CommandsConverter#EXECUTE",P[0],H?H.command:"MISSING"),H?this.d.executeCommand(H.command,...H.arguments||[]):Promise.reject(`Actual command not found, wanted to execute ${P[0]}`)}}e.CommandsConverter=y;class n{constructor(P,H,Y,Z){this.name=P,this.description=H,this.validate=Y,this.convert=Z}optional(){return new n(this.name,`(optional) ${this.description}`,P=>P==null||this.validate(P),P=>P===void 0?void 0:P===null?null:this.convert(P))}with(P,H){return new n(P??this.name,H??this.description,this.validate,this.convert)}}n.Uri=new n("uri","Uri of a text document",A=>h.URI.isUri(A),A=>A),n.Position=new n("position","A position in a text document",A=>T.Position.isPosition(A),I.Position.from),n.Range=new n("range","A range in a text document",A=>T.Range.isRange(A),I.Range.from),n.Selection=new n("selection","A selection in a text document",A=>T.Selection.isSelection(A),I.Selection.from),n.Number=new n("number","",A=>typeof A=="number",A=>A),n.String=new n("string","",A=>typeof A=="string",A=>A),n.CallHierarchyItem=new n("item","A call hierarchy item",A=>A instanceof T.CallHierarchyItem,I.CallHierarchyItem.from),n.TypeHierarchyItem=new n("item","A type hierarchy item",A=>A instanceof T.TypeHierarchyItem,I.TypeHierarchyItem.from),n.TestItem=new n("testItem","A VS Code TestItem",A=>A instanceof o.TestItemImpl,I.TestItem.from),e.ApiCommandArgument=n;class s{constructor(P,H){this.description=P,this.convert=H}}s.Void=new s("no result",A=>A),e.ApiCommandResult=s;class f{constructor(P,H,Y,Z,_){this.id=P,this.internalId=H,this.description=Y,this.args=Z,this.result=_}}e.ApiCommand=f}),define(ke[208],Te([1,0,2,8,7,75,37,16,88,92,15]),function(ne,e,i,T,I,N,E,R,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostApiCommands=void 0;const D=[new E.ApiCommand("vscode.executeDocumentHighlights","_executeDocumentHighlights","Execute document highlight provider.",[E.ApiCommandArgument.Uri,E.ApiCommandArgument.Position],new E.ApiCommandResult("A promise that resolves to an array of DocumentHighlight-instances.",b(T.DocumentHighlight.to))),new E.ApiCommand("vscode.executeDocumentSymbolProvider","_executeDocumentSymbolProvider","Execute document symbol provider.",[E.ApiCommandArgument.Uri],new E.ApiCommandResult("A promise that resolves to an array of SymbolInformation and DocumentSymbol instances.",(a,o)=>{if((0,R.isFalsyOrEmpty)(a))return;class l extends I.SymbolInformation{static to(w){const O=new l(w.name,T.SymbolKind.to(w.kind),w.containerName||"",new I.Location(o[0],T.Range.to(w.range)));return O.detail=w.detail,O.range=O.location.range,O.selectionRange=T.Range.to(w.selectionRange),O.children=w.children?w.children.map(l.to):[],O}}return a.map(l.to)})),new E.ApiCommand("vscode.executeFormatDocumentProvider","_executeFormatDocumentProvider","Execute document format provider.",[E.ApiCommandArgument.Uri,new E.ApiCommandArgument("options","Formatting options",a=>!0,a=>a)],new E.ApiCommandResult("A promise that resolves to an array of TextEdits.",b(T.TextEdit.to))),new E.ApiCommand("vscode.executeFormatRangeProvider","_executeFormatRangeProvider","Execute range format provider.",[E.ApiCommandArgument.Uri,E.ApiCommandArgument.Range,new E.ApiCommandArgument("options","Formatting options",a=>!0,a=>a)],new E.ApiCommandResult("A promise that resolves to an array of TextEdits.",b(T.TextEdit.to))),new E.ApiCommand("vscode.executeFormatOnTypeProvider","_executeFormatOnTypeProvider","Execute format on type provider.",[E.ApiCommandArgument.Uri,E.ApiCommandArgument.Position,new E.ApiCommandArgument("ch","Trigger character",a=>typeof a=="string",a=>a),new E.ApiCommandArgument("options","Formatting options",a=>!0,a=>a)],new E.ApiCommandResult("A promise that resolves to an array of TextEdits.",b(T.TextEdit.to))),new E.ApiCommand("vscode.executeDefinitionProvider","_executeDefinitionProvider","Execute all definition providers.",[E.ApiCommandArgument.Uri,E.ApiCommandArgument.Position],new E.ApiCommandResult("A promise that resolves to an array of Location or LocationLink instances.",g)),new E.ApiCommand("vscode.executeTypeDefinitionProvider","_executeTypeDefinitionProvider","Execute all type definition providers.",[E.ApiCommandArgument.Uri,E.ApiCommandArgument.Position],new E.ApiCommandResult("A promise that resolves to an array of Location or LocationLink instances.",g)),new E.ApiCommand("vscode.executeDeclarationProvider","_executeDeclarationProvider","Execute all declaration providers.",[E.ApiCommandArgument.Uri,E.ApiCommandArgument.Position],new E.ApiCommandResult("A promise that resolves to an array of Location or LocationLink instances.",g)),new E.ApiCommand("vscode.executeImplementationProvider","_executeImplementationProvider","Execute all implementation providers.",[E.ApiCommandArgument.Uri,E.ApiCommandArgument.Position],new E.ApiCommandResult("A promise that resolves to an array of Location or LocationLink instances.",g)),new E.ApiCommand("vscode.executeReferenceProvider","_executeReferenceProvider","Execute all reference providers.",[E.ApiCommandArgument.Uri,E.ApiCommandArgument.Position],new E.ApiCommandResult("A promise that resolves to an array of Location-instances.",b(T.location.to))),new E.ApiCommand("vscode.executeHoverProvider","_executeHoverProvider","Execute all hover providers.",[E.ApiCommandArgument.Uri,E.ApiCommandArgument.Position],new E.ApiCommandResult("A promise that resolves to an array of Hover-instances.",b(T.Hover.to))),new E.ApiCommand("vscode.executeSelectionRangeProvider","_executeSelectionRangeProvider","Execute selection range provider.",[E.ApiCommandArgument.Uri,new E.ApiCommandArgument("position","A position in a text document",a=>Array.isArray(a)&&a.every(o=>I.Position.isPosition(o)),a=>a.map(T.Position.from))],new E.ApiCommandResult("A promise that resolves to an array of ranges.",a=>a.map(o=>{let l;for(const p of o.reverse())l=new I.SelectionRange(T.Range.to(p),l);return l}))),new E.ApiCommand("vscode.executeWorkspaceSymbolProvider","_executeWorkspaceSymbolProvider","Execute all workspace symbol providers.",[E.ApiCommandArgument.String.with("query","Search string")],new E.ApiCommandResult("A promise that resolves to an array of SymbolInformation-instances.",a=>a.map(T.WorkspaceSymbol.to))),new E.ApiCommand("vscode.prepareCallHierarchy","_executePrepareCallHierarchy","Prepare call hierarchy at a position inside a document",[E.ApiCommandArgument.Uri,E.ApiCommandArgument.Position],new E.ApiCommandResult("A promise that resolves to an array of CallHierarchyItem-instances",a=>a.map(T.CallHierarchyItem.to))),new E.ApiCommand("vscode.provideIncomingCalls","_executeProvideIncomingCalls","Compute incoming calls for an item",[E.ApiCommandArgument.CallHierarchyItem],new E.ApiCommandResult("A promise that resolves to an array of CallHierarchyIncomingCall-instances",a=>a.map(T.CallHierarchyIncomingCall.to))),new E.ApiCommand("vscode.provideOutgoingCalls","_executeProvideOutgoingCalls","Compute outgoing calls for an item",[E.ApiCommandArgument.CallHierarchyItem],new E.ApiCommandResult("A promise that resolves to an array of CallHierarchyOutgoingCall-instances",a=>a.map(T.CallHierarchyOutgoingCall.to))),new E.ApiCommand("vscode.prepareRename","_executePrepareRename","Execute the prepareRename of rename provider.",[E.ApiCommandArgument.Uri,E.ApiCommandArgument.Position],new E.ApiCommandResult("A promise that resolves to a range and placeholder text.",a=>{if(!!a)return{range:T.Range.to(a.range),placeholder:a.text}})),new E.ApiCommand("vscode.executeDocumentRenameProvider","_executeDocumentRenameProvider","Execute rename provider.",[E.ApiCommandArgument.Uri,E.ApiCommandArgument.Position,E.ApiCommandArgument.String.with("newName","The new symbol name")],new E.ApiCommandResult("A promise that resolves to a WorkspaceEdit.",a=>{if(!!a){if(a.rejectReason)throw new Error(a.rejectReason);return T.WorkspaceEdit.to(a)}})),new E.ApiCommand("vscode.executeLinkProvider","_executeLinkProvider","Execute document link provider.",[E.ApiCommandArgument.Uri,E.ApiCommandArgument.Number.with("linkResolveCount","Number of links that should be resolved, only when links are unresolved.").optional()],new E.ApiCommandResult("A promise that resolves to an array of DocumentLink-instances.",a=>a.map(T.DocumentLink.to))),new E.ApiCommand("vscode.provideDocumentSemanticTokensLegend","_provideDocumentSemanticTokensLegend","Provide semantic tokens legend for a document",[E.ApiCommandArgument.Uri],new E.ApiCommandResult("A promise that resolves to SemanticTokensLegend.",a=>{if(!!a)return new I.SemanticTokensLegend(a.tokenTypes,a.tokenModifiers)})),new E.ApiCommand("vscode.provideDocumentSemanticTokens","_provideDocumentSemanticTokens","Provide semantic tokens for a document",[E.ApiCommandArgument.Uri],new E.ApiCommandResult("A promise that resolves to SemanticTokens.",a=>{if(!a)return;const o=(0,S.decodeSemanticTokensDto)(a);if(o.type==="full")return new I.SemanticTokens(o.data,void 0)})),new E.ApiCommand("vscode.provideDocumentRangeSemanticTokensLegend","_provideDocumentRangeSemanticTokensLegend","Provide semantic tokens legend for a document range",[E.ApiCommandArgument.Uri,E.ApiCommandArgument.Range.optional()],new E.ApiCommandResult("A promise that resolves to SemanticTokensLegend.",a=>{if(!!a)return new I.SemanticTokensLegend(a.tokenTypes,a.tokenModifiers)})),new E.ApiCommand("vscode.provideDocumentRangeSemanticTokens","_provideDocumentRangeSemanticTokens","Provide semantic tokens for a document range",[E.ApiCommandArgument.Uri,E.ApiCommandArgument.Range],new E.ApiCommandResult("A promise that resolves to SemanticTokens.",a=>{if(!a)return;const o=(0,S.decodeSemanticTokensDto)(a);if(o.type==="full")return new I.SemanticTokens(o.data,void 0)})),new E.ApiCommand("vscode.executeCompletionItemProvider","_executeCompletionItemProvider","Execute completion item provider.",[E.ApiCommandArgument.Uri,E.ApiCommandArgument.Position,E.ApiCommandArgument.String.with("triggerCharacter","Trigger completion when the user types the character, like `,` or `(`").optional(),E.ApiCommandArgument.Number.with("itemResolveCount","Number of completions to resolve (too large numbers slow down completions)").optional()],new E.ApiCommandResult("A promise that resolves to a CompletionList-instance.",(a,o,l)=>{if(!a)return new I.CompletionList([]);const p=a.suggestions.map(w=>T.CompletionItem.to(w,l));return new I.CompletionList(p,a.incomplete)})),new E.ApiCommand("vscode.executeSignatureHelpProvider","_executeSignatureHelpProvider","Execute signature help provider.",[E.ApiCommandArgument.Uri,E.ApiCommandArgument.Position,E.ApiCommandArgument.String.with("triggerCharacter","Trigger signature help when the user types the character, like `,` or `(`").optional()],new E.ApiCommandResult("A promise that resolves to SignatureHelp.",a=>{if(a)return T.SignatureHelp.to(a)})),new E.ApiCommand("vscode.executeCodeLensProvider","_executeCodeLensProvider","Execute code lens provider.",[E.ApiCommandArgument.Uri,E.ApiCommandArgument.Number.with("itemResolveCount","Number of lenses that should be resolved and returned. Will only return resolved lenses, will impact performance)").optional()],new E.ApiCommandResult("A promise that resolves to an array of CodeLens-instances.",(a,o,l)=>b(p=>new I.CodeLens(T.Range.to(p.range),p.command&&l.fromInternal(p.command)))(a))),new E.ApiCommand("vscode.executeCodeActionProvider","_executeCodeActionProvider","Execute code action provider.",[E.ApiCommandArgument.Uri,new E.ApiCommandArgument("rangeOrSelection","Range in a text document. Some refactoring provider requires Selection object.",a=>I.Range.isRange(a),a=>I.Selection.isSelection(a)?T.Selection.from(a):T.Range.from(a)),E.ApiCommandArgument.String.with("kind","Code action kind to return code actions for").optional(),E.ApiCommandArgument.Number.with("itemResolveCount","Number of code actions to resolve (too large numbers slow down code actions)").optional()],new E.ApiCommandResult("A promise that resolves to an array of Command-instances.",(a,o,l)=>b(p=>{if(p._isSynthetic){if(!p.command)throw new Error("Synthetic code actions must have a command");return l.fromInternal(p.command)}else{const w=new I.CodeAction(p.title,p.kind?new I.CodeActionKind(p.kind):void 0);return p.edit&&(w.edit=T.WorkspaceEdit.to(p.edit)),p.command&&(w.command=l.fromInternal(p.command)),w.isPreferred=p.isPreferred,w}})(a))),new E.ApiCommand("vscode.executeDocumentColorProvider","_executeDocumentColorProvider","Execute document color provider.",[E.ApiCommandArgument.Uri],new E.ApiCommandResult("A promise that resolves to an array of ColorInformation objects.",a=>a?a.map(o=>new I.ColorInformation(T.Range.to(o.range),T.Color.to(o.color))):[])),new E.ApiCommand("vscode.executeColorPresentationProvider","_executeColorPresentationProvider","Execute color presentation provider.",[new E.ApiCommandArgument("color","The color to show and insert",a=>a instanceof I.Color,T.Color.from),new E.ApiCommandArgument("context","Context object with uri and range",a=>!0,a=>({uri:a.uri,range:T.Range.from(a.range)}))],new E.ApiCommandResult("A promise that resolves to an array of ColorPresentation objects.",a=>a?a.map(T.ColorPresentation.to):[])),new E.ApiCommand("vscode.executeInlayHintProvider","_executeInlayHintProvider","Execute inlay hints provider",[E.ApiCommandArgument.Uri,E.ApiCommandArgument.Range],new E.ApiCommandResult("A promise that resolves to an array of Inlay objects",(a,o,l)=>a.map(T.InlayHint.to.bind(void 0,l)))),new E.ApiCommand("vscode.executeFoldingRangeProvider","_executeFoldingRangeProvider","Execute folding range provider",[E.ApiCommandArgument.Uri],new E.ApiCommandResult("A promise that resolves to an array of FoldingRange objects",(a,o)=>{if(a)return a.map(T.FoldingRange.to)})),new E.ApiCommand("vscode.resolveNotebookContentProviders","_resolveNotebookContentProvider","Resolve Notebook Content Providers",[],new E.ApiCommandResult("A promise that resolves to an array of NotebookContentProvider static info objects.",b(a=>({viewType:a.viewType,displayName:a.displayName,options:{transientOutputs:a.options.transientOutputs,transientCellMetadata:a.options.transientCellMetadata,transientDocumentMetadata:a.options.transientDocumentMetadata},filenamePattern:a.filenamePattern.map(o=>T.NotebookExclusiveDocumentPattern.to(o))})))),new E.ApiCommand("vscode.executeInlineValueProvider","_executeInlineValueProvider","Execute inline value provider",[E.ApiCommandArgument.Uri,E.ApiCommandArgument.Range],new E.ApiCommandResult("A promise that resolves to an array of InlineValue objects",a=>a.map(T.InlineValue.to))),new E.ApiCommand("vscode.open","_workbench.open","Opens the provided resource in the editor. Can be a text or binary file, or an http(s) URL. If you need more control over the options for opening a text file, use vscode.window.showTextDocument instead.",[new E.ApiCommandArgument("uriOrString","Uri-instance or string (only http/https)",a=>i.URI.isUri(a)||typeof a=="string"&&(0,k.matchesSomeScheme)(a,M.Schemas.http,M.Schemas.https),a=>a),new E.ApiCommandArgument("columnOrOptions","Either the column in which to open or editor options, see vscode.TextDocumentShowOptions",a=>a===void 0||typeof a=="number"||typeof a=="object",a=>a&&(typeof a=="number"?[T.ViewColumn.from(a),void 0]:[T.ViewColumn.from(a.viewColumn),T.TextEditorOpenOptions.from(a)])).optional(),E.ApiCommandArgument.String.with("label","").optional()],E.ApiCommandResult.Void),new E.ApiCommand("vscode.openWith","_workbench.openWith","Opens the provided resource with a specific editor.",[E.ApiCommandArgument.Uri.with("resource","Resource to open"),E.ApiCommandArgument.String.with("viewId","Custom editor view id or 'default' to use VS Code's default editor"),new E.ApiCommandArgument("columnOrOptions","Either the column in which to open or editor options, see vscode.TextDocumentShowOptions",a=>a===void 0||typeof a=="number"||typeof a=="object",a=>a&&(typeof a=="number"?[T.ViewColumn.from(a),void 0]:[T.ViewColumn.from(a.viewColumn),T.TextEditorOpenOptions.from(a)])).optional()],E.ApiCommandResult.Void),new E.ApiCommand("vscode.diff","_workbench.diff","Opens the provided resources in the diff editor to compare their contents.",[E.ApiCommandArgument.Uri.with("left","Left-hand side resource of the diff editor"),E.ApiCommandArgument.Uri.with("right","Right-hand side resource of the diff editor"),E.ApiCommandArgument.String.with("title","Human readable title for the diff editor").optional(),new E.ApiCommandArgument("columnOrOptions","Either the column in which to open or editor options, see vscode.TextDocumentShowOptions",a=>a===void 0||typeof a=="object",a=>a&&[T.ViewColumn.from(a.viewColumn),T.TextEditorOpenOptions.from(a)]).optional()],E.ApiCommandResult.Void),new E.ApiCommand("vscode.prepareTypeHierarchy","_executePrepareTypeHierarchy","Prepare type hierarchy at a position inside a document",[E.ApiCommandArgument.Uri,E.ApiCommandArgument.Position],new E.ApiCommandResult("A promise that resolves to an array of TypeHierarchyItem-instances",a=>a.map(T.TypeHierarchyItem.to))),new E.ApiCommand("vscode.provideSupertypes","_executeProvideSupertypes","Compute supertypes for an item",[E.ApiCommandArgument.TypeHierarchyItem],new E.ApiCommandResult("A promise that resolves to an array of TypeHierarchyItem-instances",a=>a.map(T.TypeHierarchyItem.to))),new E.ApiCommand("vscode.provideSubtypes","_executeProvideSubtypes","Compute subtypes for an item",[E.ApiCommandArgument.TypeHierarchyItem],new E.ApiCommandResult("A promise that resolves to an array of TypeHierarchyItem-instances",a=>a.map(T.TypeHierarchyItem.to))),new E.ApiCommand("vscode.revealTestInExplorer","_revealTestInExplorer","Reveals a test instance in the explorer",[E.ApiCommandArgument.TestItem],E.ApiCommandResult.Void),new E.ApiCommand("vscode.experimental.editSession.continue","_workbench.editSessions.actions.continueEditSession","Continue the current edit session in a different workspace",[E.ApiCommandArgument.Uri.with("workspaceUri","The target workspace to continue the current edit session in")],E.ApiCommandResult.Void),new E.ApiCommand("setContext","_setContext","Set a custom context key value that can be used in when clauses.",[E.ApiCommandArgument.String.with("name","The context key name"),new E.ApiCommandArgument("value","The context key value",()=>!0,a=>a)],E.ApiCommandResult.Void)];class h{static register(o){D.forEach(o.registerApiCommand,o)}}e.ExtHostApiCommands=h;function b(a){return o=>{if(Array.isArray(o))return o.map(a)}}function g(a){if(!Array.isArray(a))return;const o=[];for(const l of a)N.isLocationLink(l)?o.push(T.DefinitionLink.to(l)):o.push(T.location.to(l));return o}}),define(ke[209],Te([1,0,17,64,4,6,2,75,26,8,7,5]),function(ne,e,i,T,I,N,E,R,S,k,M,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createExtHostComments=void 0;function h(b,g,a){const o=b.getProxy(D.MainContext.MainThreadComments);class l{constructor(){this.b=new Map,this.c=new Map,g.registerArgumentProcessor({processArgument:c=>{if(c&&c.$mid===6){const y=this.b.get(c.handle);return y?y.value:c}else if(c&&c.$mid===7){const y=this.b.get(c.commentControlHandle);if(!y)return c;const n=y.getCommentThread(c.commentThreadHandle);return n?n.value:c}else if(c&&(c.$mid===9||c.$mid===8)){const y=this.b.get(c.thread.commentControlHandle);if(!y)return c;const n=y.getCommentThread(c.thread.commentThreadHandle);return n?c.$mid===8?n.value:{thread:n.value,text:c.text}:c}else if(c&&c.$mid===10){const y=this.b.get(c.thread.commentControlHandle);if(!y)return c;const n=y.getCommentThread(c.thread.commentThreadHandle);if(!n)return c;const s=c.commentUniqueId,f=n.getCommentByUniqueId(s);return f||c}else if(c&&c.$mid===11){const y=this.b.get(c.thread.commentControlHandle);if(!y)return c;const n=y.getCommentThread(c.thread.commentThreadHandle);if(!n)return c;const s=c.text,f=c.commentUniqueId,A=n.getCommentByUniqueId(f);return A?(typeof A.body=="string"?A.body=s:A.body=new M.MarkdownString(s),A):c}return c}})}createCommentController(c,y,n){const s=l.a++,f=new w(c,s,y,n);this.b.set(f.handle,f);const A=this.c.get(S.ExtensionIdentifier.toKey(c.identifier))||[];return A.push(f),this.c.set(S.ExtensionIdentifier.toKey(c.identifier),A),f.value}$createCommentThreadTemplate(c,y,n){const s=this.b.get(c);!s||s.$createCommentThreadTemplate(y,n)}async $updateCommentThreadTemplate(c,y,n){const s=this.b.get(c);!s||s.$updateCommentThreadTemplate(y,n)}$deleteCommentThread(c,y){this.b.get(c)?.$deleteCommentThread(y)}$provideCommentingRanges(c,y,n){const s=this.b.get(c);if(!s||!s.commentingRangeProvider)return Promise.resolve(void 0);const f=a.getDocument(E.URI.revive(y));return(0,i.asPromise)(()=>s.commentingRangeProvider.provideCommentingRanges(f,n)).then(A=>A?A.map(P=>k.Range.from(P)):void 0)}$toggleReaction(c,y,n,s,f){const A=this.b.get(c);return!A||!A.reactionHandler?Promise.resolve(void 0):(0,i.asPromise)(()=>{const P=A.getCommentThread(y);if(P){const H=P.getCommentByUniqueId(s.uniqueIdInThread);if(A!==void 0&&H&&A.reactionHandler)return A.reactionHandler(H,t(f))}return Promise.resolve(void 0)})}dispose(){}}l.a=0;class p{set threadId(c){this.n=c}get threadId(){return this.n}get id(){return this.n}get resource(){return this.o}get uri(){return this.o}set range(c){c.isEqual(this.p)||(this.p=c,this.b.range=c,this.c.fire())}get range(){return this.p}set canReply(c){this.d!==c&&(this.d=c,this.b.canReply=c,this.c.fire())}get canReply(){return this.d}get label(){return this.e}set label(c){this.e=c,this.b.label=c,this.c.fire()}get contextValue(){return this.f}set contextValue(c){this.f=c,this.b.contextValue=c,this.c.fire()}get comments(){return this.q}set comments(c){this.q=c,this.b.comments=c,this.c.fire()}get collapsibleState(){return this.g}set collapsibleState(c){this.g=c,this.b.collapsibleState=c,this.c.fire()}get state(){return this.h}set state(c){this.h=c,this.b.state=c,this.c.fire()}get isDisposed(){return this.j}constructor(c,y,n,s,f,A,P,H){this.m=y,this.n=n,this.o=s,this.p=f,this.q=A,this.extensionDescription=P,this.r=H,this.handle=p.a++,this.commentHandle=0,this.b=Object.create(null),this.c=new I.Emitter,this.onDidUpdateCommentThread=this.c.event,this.d=!0,this.k=new Map,this.l=new N.MutableDisposable,this.l.value=new N.DisposableStore,this.n===void 0&&(this.n=`${c}.${this.handle}`),o.$createCommentThread(y,this.handle,this.n,this.o,k.Range.from(this.p),P.identifier,this.r),this.i=[],this.j=!1,this.i.push(this.onDidUpdateCommentThread(()=>{this.eventuallyUpdateCommentThread()})),this.comments=A,this.i.push({dispose:()=>{o.$deleteCommentThread(y,this.handle)}});const Y=this;this.value={get uri(){return Y.uri},get range(){return Y.range},set range(Z){Y.range=Z},get comments(){return Y.comments},set comments(Z){Y.comments=Z},get collapsibleState(){return Y.collapsibleState},set collapsibleState(Z){Y.collapsibleState=Z},get canReply(){return Y.canReply},set canReply(Z){Y.canReply=Z},get contextValue(){return Y.contextValue},set contextValue(Z){Y.contextValue=Z},get label(){return Y.label},set label(Z){Y.label=Z},get state(){return Y.state},set state(Z){Y.state=Z},dispose:()=>{Y.dispose()}}}s(){this.r&&(this.r=!1,this.b.isTemplate=!1)}eventuallyUpdateCommentThread(){if(this.j)return;this.s(),this.l.value||(this.l.value=new N.DisposableStore);const c=n=>Object.prototype.hasOwnProperty.call(this.b,n),y={};c("range")&&(y.range=k.Range.from(this.p)),c("label")&&(y.label=this.label),c("contextValue")&&(y.contextValue=this.contextValue??null),c("comments")&&(y.comments=this.q.map(n=>O(this,n,this.k))),c("collapsibleState")&&(y.collapseState=d(this.g)),c("canReply")&&(y.canReply=this.canReply),c("state")&&(y.state=r(this.h)),c("isTemplate")&&(y.isTemplate=this.r),this.b={},o.$updateCommentThread(this.m,this.handle,this.n,this.o,y)}getCommentByUniqueId(c){for(const y of this.k){const n=y[0],s=y[1];if(c===s)return n}}dispose(){this.j=!0,this.l.dispose(),this.i.forEach(c=>c.dispose())}}p.a=0,qe([(0,T.debounce)(100)],p.prototype,"eventuallyUpdateCommentThread",null);class w{get id(){return this.h}get label(){return this.i}get handle(){return this.g}get commentingRangeProvider(){return this.b}set commentingRangeProvider(c){this.b=c,o.$updateCommentingRanges(this.handle)}get reactionHandler(){return this.c}set reactionHandler(c){this.c=c,o.$updateCommentControllerFeatures(this.handle,{reactionHandler:!!c})}get options(){return this.d}set options(c){this.d=c,o.$updateCommentControllerFeatures(this.handle,{options:this.d})}constructor(c,y,n,s){this.f=c,this.g=y,this.h=n,this.i=s,this.a=new Map,o.$registerCommentController(this.handle,n,s);const f=this;this.value=Object.freeze({id:f.id,label:f.label,get options(){return f.options},set options(A){f.options=A},get commentingRangeProvider(){return f.commentingRangeProvider},set commentingRangeProvider(A){f.commentingRangeProvider=A},get reactionHandler(){return f.reactionHandler},set reactionHandler(A){f.reactionHandler=A},createCommentThread(A,P,H){return f.createCommentThread(A,P,H).value},dispose:()=>{f.dispose()}}),this.e=[],this.e.push({dispose:()=>{o.$unregisterCommentController(this.handle)}})}createCommentThread(c,y,n,s){if(typeof c=="string"){const f=new p(this.id,this.handle,c,y,n,s,this.f,!1);return this.a.set(f.handle,f),f}else{const f=new p(this.id,this.handle,void 0,c,y,n,this.f,!1);return this.a.set(f.handle,f),f}}$createCommentThreadTemplate(c,y){const n=new p(this.id,this.handle,void 0,E.URI.revive(c),k.Range.to(y),[],this.f,!0);return n.collapsibleState=R.CommentThreadCollapsibleState.Expanded,this.a.set(n.handle,n),n}$updateCommentThreadTemplate(c,y){const n=this.a.get(c);n&&(n.range=k.Range.to(y))}$deleteCommentThread(c){this.a.get(c)?.dispose(),this.a.delete(c)}getCommentThread(c){return this.a.get(c)}dispose(){this.a.forEach(c=>{c.dispose()}),this.e.forEach(c=>c.dispose())}}function O(u,c,y){let n=y.get(c);n||(n=++u.commentHandle,y.set(c,n));const s=c.author&&c.author.iconPath?c.author.iconPath.toString():void 0;return{mode:c.mode,contextValue:c.contextValue,uniqueIdInThread:n,body:typeof c.body=="string"?c.body:k.MarkdownString.from(c.body),userName:c.author.name,userIconPath:s,label:c.label,commentReactions:c.reactions?c.reactions.map(f=>v(f)):void 0,timestamp:c.timestamp?.toJSON()}}function v(u){return{label:u.label,iconPath:u.iconPath?k.pathOrURIToURI(u.iconPath):void 0,count:u.count,hasReacted:u.authorHasReacted}}function t(u){return{label:u.label||"",count:u.count||0,iconPath:u.iconPath?E.URI.revive(u.iconPath):"",authorHasReacted:u.hasReacted||!1}}function d(u){if(u!==void 0)switch(u){case M.CommentThreadCollapsibleState.Expanded:return R.CommentThreadCollapsibleState.Expanded;case M.CommentThreadCollapsibleState.Collapsed:return R.CommentThreadCollapsibleState.Collapsed}return R.CommentThreadCollapsibleState.Collapsed}function r(u){if(u!==void 0)switch(u){case M.CommentThreadState.Unresolved:return R.CommentThreadState.Unresolved;case M.CommentThreadState.Resolved:return R.CommentThreadState.Resolved}return R.CommentThreadState.Unresolved}return new l}e.createExtHostComments=h}),define(ke[210],Te([1,0,22,5,27,18]),function(ne,e,i,T,I,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractExtHostConsoleForwarder=void 0;let E=class{constructor(M,D){this.a=M.getProxy(T.MainContext.MainThreadConsole),this.b=D.consoleForward.includeStack,this.c=D.consoleForward.logNative,this.d("info","log"),this.d("log","log"),this.d("warn","warn"),this.d("error","error")}d(M,D){const h=this,b=console[M];Object.defineProperty(console,M,{set:()=>{},get:()=>function(){h.e(M,D,b,arguments)}})}e(M,D,h,b){this.a.$logExtensionHostMessage({type:"__$console",severity:D,arguments:S(b,this.b)}),this.c&&this.f(M,h,b)}};E=qe([Ve(0,N.IExtHostRpcService),Ve(1,I.IExtHostInitDataService)],E),e.AbstractExtHostConsoleForwarder=E;const R=1e5;function S(k,M){const D=[];if(k.length)for(let h=0;h<k.length;h++){let b=k[h];if(typeof b>"u")b="undefined";else if(b instanceof Error){const g=b;g.stack?b=g.stack:b=g.toString()}D.push(b)}if(M){const h=new Error().stack;h&&D.push({__$stack:h.split(`
`).slice(3).join(`
`)})}try{const h=(0,i.safeStringify)(D);return h.length>R?"Output omitted for a large object that exceeds the limits":h}catch(h){return`Output omitted for an object that cannot be inspected ('${h.toString()}')`}}}),define(ke[103],Te([1,0,2,5,7,3,18,12,16,10,19,25]),function(ne,e,i,T,I,N,E,R,S,k,M,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IExtHostDecorations=e.ExtHostDecorations=void 0;let h=class Mi{constructor(g,a){this.h=a,this.f=new Map,this.g=g.getProxy(T.MainContext.MainThreadDecorations)}registerFileDecorationProvider(g,a){const o=Mi.c++;this.f.set(o,{provider:g,extensionDescription:a}),this.g.$registerDecorationProvider(o,a.identifier.value);const l=g.onDidChangeFileDecorations&&g.onDidChangeFileDecorations(p=>{if(!p){this.g.$onDidChange(o,null);return}const w=(0,S.asArray)(p);if(w.length<=Mi.d){this.g.$onDidChange(o,w);return}this.h.warn("[Decorations] CAPPING events from decorations provider",a.identifier.value,w.length);const O=w.map(d=>({uri:d,rank:(0,k.count)(d.path,"/")})),v=(0,S.groupBy)(O,(d,r)=>d.rank-r.rank||(0,k.compare)(d.uri.path,r.uri.path)),t=[];e:for(const d of v){let r;for(const u of d){const c=(0,M.dirname)(u.uri.path);if(r!==c&&(r=c,t.push(u.uri)>=Mi.d))break e}}this.g.$onDidChange(o,t)});return new I.Disposable(()=>{l?.dispose(),this.g.$unregisterDecorationProvider(o),this.f.delete(o)})}async $provideDecorations(g,a,o){if(!this.f.has(g))return Object.create(null);const l=Object.create(null),{provider:p,extensionDescription:w}=this.f.get(g);return await Promise.all(a.map(async O=>{try{const{uri:v,id:t}=O,d=await Promise.resolve(p.provideFileDecoration(i.URI.revive(v),o));if(!d)return;try{I.FileDecoration.validate(d),d.badge&&typeof d.badge!="string"&&(0,D.checkProposedApiEnabled)(w,"codiconDecoration"),l[t]=[d.propagate,d.tooltip,d.badge,d.color]}catch(r){this.h.warn(`INVALID decoration from extension '${w}': ${r}`)}}catch(v){this.h.error(v)}})),l}};h.c=0,h.d=250,h=qe([Ve(0,E.IExtHostRpcService),Ve(1,R.ILogService)],h),e.ExtHostDecorations=h,e.IExtHostDecorations=(0,N.createDecorator)("IExtHostDecorations")});var Je=this&&this.__classPrivateFieldSet||function(ne,e,i,T,I){if(T==="m")throw new TypeError("Private method is not writable");if(T==="a"&&!I)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?ne!==e||!I:!e.has(ne))throw new TypeError("Cannot write private member to an object whose class did not declare it");return T==="a"?I.call(ne,i):I?I.value=i:e.set(ne,i),i},Le=this&&this.__classPrivateFieldGet||function(ne,e,i,T){if(i==="a"&&!T)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?ne!==e||!T:!e.has(ne))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?T:i==="a"?T.call(ne):T?T.value:e.get(ne)};define(ke[211],Te([1,0,139,91,2,5,7,8,4,12,28,36]),function(ne,e,i,T,I,N,E,R,S,k,M,D){"use strict";var h,b,g;Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostDiagnostics=e.DiagnosticCollection=void 0;class a{constructor(p,w,O,v,t,d,r){this.d=p,this.e=w,this.f=O,this.g=v,h.set(this,void 0),b.set(this,void 0),g.set(this,void 0),this.c=!1,Je(this,g,new M.ResourceMap(u=>t.getComparisonKey(u)),"f"),Je(this,h,d,"f"),Je(this,b,r,"f")}dispose(){this.c||(Le(this,b,"f").fire([...Le(this,g,"f").keys()]),Le(this,h,"f")?.$clear(this.e),Le(this,g,"f").clear(),this.c=!0)}get name(){return this.h(),this.d}set(p,w){if(!p){this.clear();return}this.h();let O=[];if(I.URI.isUri(p)){if(!w){this.delete(p);return}Le(this,g,"f").set(p,w.slice()),O=[p]}else if(Array.isArray(p)){O=[];let t;p=[...p].sort(a.j);for(const d of p){const[r,u]=d;if((!t||r.toString()!==t.toString())&&(t&&Le(this,g,"f").get(t).length===0&&Le(this,g,"f").delete(t),t=r,O.push(r),Le(this,g,"f").set(r,[])),u)Le(this,g,"f").get(r)?.push(...u);else{const c=Le(this,g,"f").get(r);c&&(c.length=0)}}}if(Le(this,b,"f").fire(O),!Le(this,h,"f"))return;const v=[];for(const t of O){let d=[];const r=Le(this,g,"f").get(t);if(r)if(r.length>this.f){d=[];const u=[E.DiagnosticSeverity.Error,E.DiagnosticSeverity.Warning,E.DiagnosticSeverity.Information,E.DiagnosticSeverity.Hint];e:for(let c=0;c<4;c++)for(const y of r)if(y.severity===u[c]&&d.push({...R.Diagnostic.from(y),modelVersionId:this.g(t)})===this.f)break e;d.push({severity:T.MarkerSeverity.Info,message:(0,i.localize)(0,null,r.length-this.f),startLineNumber:d[d.length-1].startLineNumber,startColumn:d[d.length-1].startColumn,endLineNumber:d[d.length-1].endLineNumber,endColumn:d[d.length-1].endColumn})}else d=r.map(u=>({...R.Diagnostic.from(u),modelVersionId:this.g(t)}));v.push([t,d])}Le(this,h,"f").$changeMany(this.e,v)}delete(p){this.h(),Le(this,b,"f").fire([p]),Le(this,g,"f").delete(p),Le(this,h,"f")?.$changeMany(this.e,[[p,void 0]])}clear(){this.h(),Le(this,b,"f").fire([...Le(this,g,"f").keys()]),Le(this,g,"f").clear(),Le(this,h,"f")?.$clear(this.e)}forEach(p,w){this.h();for(const[O,v]of this)p.call(w,O,v,this)}*[(h=new WeakMap,b=new WeakMap,g=new WeakMap,Symbol.iterator)](){this.h();for(const p of Le(this,g,"f").keys())yield[p,this.get(p)]}get(p){this.h();const w=Le(this,g,"f").get(p);return Array.isArray(w)?Object.freeze(w.slice(0)):[]}has(p){return this.h(),Array.isArray(Le(this,g,"f").get(p))}h(){if(this.c)throw new Error("illegal state - object is disposed")}static j(p,w){return p[0].toString()<w[0].toString()?-1:p[0].toString()>w[0].toString()?1:0}}e.DiagnosticCollection=a;let o=class pi{static _mapper(p){const w=new M.ResourceMap;for(const O of p)w.set(O,O);return{uris:Object.freeze(Array.from(w.values()))}}constructor(p,w,O,v){this.h=w,this.j=O,this.k=v,this.f=new Map,this.g=new S.DebounceEmitter({merge:t=>t.flat(),delay:50}),this.onDidChangeDiagnostics=S.Event.map(this.g.event,pi._mapper),this.e=p.getProxy(N.MainContext.MainThreadDiagnostics)}createDiagnosticCollection(p,w){const{f:O,e:v,g:t,h:d,j:r,k:u}=this,c=new class{$changeMany(s,f){v.$changeMany(s,f),d.trace("[DiagnosticCollection] change many (extension, owner, uris)",p.value,s,f.length===0?"CLEARING":f)}$clear(s){v.$clear(s),d.trace("[DiagnosticCollection] remove all (extension, owner)",p.value,s)}dispose(){v.dispose()}};let y;if(!w)w="_generated_diagnostic_collection_name_#"+pi.c++,y=w;else if(!O.has(w))y=w;else{this.h.warn(`DiagnosticCollection with name '${w}' does already exist.`);do y=w+pi.c++;while(O.has(y))}return new class extends a{constructor(){super(w,y,pi.d,s=>u.getDocument(s)?.version,r.extUri,c,t),O.set(y,this)}dispose(){super.dispose(),O.delete(y)}}}getDiagnostics(p){if(p)return this.l(p);{const w=new Map,O=[];for(const v of this.f.values())v.forEach((t,d)=>{let r=w.get(t.toString());typeof r>"u"&&(r=O.length,w.set(t.toString(),r),O.push([t,[]])),O[r][1]=O[r][1].concat(...d)});return O}}l(p){let w=[];for(const O of this.f.values())O.has(p)&&(w=w.concat(O.get(p)));return w}$acceptMarkersChange(p){if(!this.m){const w="_generated_mirror",O=new a(w,w,pi.d,v=>{},this.j.extUri,void 0,this.g);this.f.set(w,O),this.m=O}for(const[w,O]of p)this.m.set(I.URI.revive(w),O.map(R.Diagnostic.to))}};o.c=0,o.d=1e3,o=qe([Ve(1,k.ILogService),Ve(2,D.IExtHostFileSystemInfo)],o),e.ExtHostDiagnostics=o}),define(ke[212],Te([1,0,2,5,25]),function(ne,e,i,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostDialogs=void 0;class N{constructor(R){this.a=R.getProxy(T.MainContext.MainThreadDialogs)}showOpenDialog(R,S){return S?.allowUIResources&&(0,I.checkProposedApiEnabled)(R,"showLocal"),this.a.$showOpenDialog(S).then(k=>k?k.map(M=>i.URI.revive(M)):void 0)}showSaveDialog(R){return this.a.$showSaveDialog(R).then(S=>S?i.URI.revive(S):void 0)}}e.ExtHostDialogs=N}),define(ke[213],Te([1,0,11,2,7,5,15,21,10]),function(ne,e,i,T,I,N,E,R,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostDocumentContentProvider=void 0;class k{constructor(D,h,b){this.d=h,this.e=b,this.b=new Map,this.c=D.getProxy(N.MainContext.MainThreadDocumentContentProviders)}registerTextDocumentContentProvider(D,h){if(Object.keys(E.Schemas).indexOf(D)>=0)throw new Error(`scheme '${D}' already registered`);const b=k.a++;this.b.set(b,h),this.c.$registerTextContentProvider(b,D);let g;return typeof h.onDidChange=="function"&&(g=h.onDidChange(a=>{if(a.scheme!==D){this.e.warn(`Provider for scheme '${D}' is firing event for schema '${a.scheme}' which will be IGNORED`);return}this.d.getDocument(a)&&this.$provideTextDocumentContent(b,a).then(o=>{if(!o&&typeof o!="string")return;const l=this.d.getDocument(a);if(!l)return;const p=(0,S.splitLines)(o);if(!l.equalLines(p))return this.c.$onVirtualDocumentChange(a,o)},i.onUnexpectedError)})),new I.Disposable(()=>{this.b.delete(b)&&this.c.$unregisterTextContentProvider(b),g&&(g.dispose(),g=void 0)})}$provideTextDocumentContent(D,h){const b=this.b.get(D);return b?Promise.resolve(b.provideTextDocumentContent(T.URI.revive(h),R.CancellationToken.None)):Promise.reject(new Error(`unsupported uri-scheme: ${h.scheme}`))}}k.a=0,e.ExtHostDocumentContentProvider=k}),define(ke[214],Te([1,0,4,6,2,5,99,8,9,22,7]),function(ne,e,i,T,I,N,E,R,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostDocuments=void 0;class D{constructor(b,g){this.a=new i.Emitter,this.b=new i.Emitter,this.c=new i.Emitter,this.d=new i.Emitter,this.onDidAddDocument=this.a.event,this.onDidRemoveDocument=this.b.event,this.onDidChangeDocument=this.c.event,this.onDidSaveDocument=this.d.event,this.e=new T.DisposableStore,this.h=new Map,this.f=b.getProxy(N.MainContext.MainThreadDocuments),this.g=g,this.g.onDidRemoveDocuments(a=>{for(const o of a)this.b.fire(o.document)},void 0,this.e),this.g.onDidAddDocuments(a=>{for(const o of a)this.a.fire(o.document)},void 0,this.e)}dispose(){this.e.dispose()}getAllDocumentData(){return[...this.g.allDocuments()]}getDocumentData(b){if(!b)return;const g=this.g.getDocument(b);if(g)return g}getDocument(b){const g=this.getDocumentData(b);if(!g?.document)throw new Error(`Unable to retrieve document from URI '${b}'`);return g.document}ensureDocumentData(b){const g=this.g.getDocument(b);if(g)return Promise.resolve(g);let a=this.h.get(b.toString());return a||(a=this.f.$tryOpenDocument(b).then(o=>{this.h.delete(b.toString());const l=I.URI.revive(o);return(0,S.assertIsDefined)(this.g.getDocument(l))},o=>(this.h.delete(b.toString()),Promise.reject(o))),this.h.set(b.toString(),a)),a}createDocumentData(b){return this.f.$tryCreateDocument(b).then(g=>I.URI.revive(g))}$acceptModelLanguageChanged(b,g){const a=I.URI.revive(b),o=this.g.getDocument(a);if(!o)throw new Error("unknown document");this.b.fire(o.document),o._acceptLanguageId(g),this.a.fire(o.document)}$acceptModelSaved(b){const g=I.URI.revive(b),a=this.g.getDocument(g);if(!a)throw new Error("unknown document");this.$acceptDirtyStateChanged(b,!1),this.d.fire(a.document)}$acceptDirtyStateChanged(b,g){const a=I.URI.revive(b),o=this.g.getDocument(a);if(!o)throw new Error("unknown document");o._acceptIsDirty(g),this.c.fire({document:o.document,contentChanges:[],reason:void 0})}$acceptModelChanged(b,g,a){const o=I.URI.revive(b),l=this.g.getDocument(o);if(!l)throw new Error("unknown document");l._acceptIsDirty(a),l.onEvents(g);let p;g.isUndoing?p=M.TextDocumentChangeReason.Undo:g.isRedoing&&(p=M.TextDocumentChangeReason.Redo),this.c.fire((0,k.deepFreeze)({document:l.document,contentChanges:g.changes.map(w=>({range:R.Range.to(w.range),rangeOffset:w.rangeOffset,rangeLength:w.rangeLength,text:w.text})),reason:p}))}setWordDefinitionFor(b,g){(0,E.setWordDefinitionFor)(b,g)}}e.ExtHostDocuments=D}),define(ke[58],Te([1,0,49,4,6,2,3,5,99,18,102,8,12,28,15,186,85]),function(ne,e,i,T,I,N,E,R,S,k,M,D,h,b,g,a,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IExtHostDocumentsAndEditors=e.ExtHostDocumentsAndEditors=void 0;class l{constructor(O){this.value=O,this.a=0}ref(){this.a++}unref(){return--this.a===0}}let p=class{constructor(O,v){this.h=O,this.i=v,this.a=null,this.b=new Map,this.c=new b.ResourceMap,this.d=new T.Emitter,this.e=new T.Emitter,this.f=new T.Emitter,this.g=new T.Emitter,this.onDidAddDocuments=this.d.event,this.onDidRemoveDocuments=this.e.event,this.onDidChangeVisibleTextEditors=this.f.event,this.onDidChangeActiveTextEditor=this.g.event}$acceptDocumentsAndEditorsDelta(O){this.acceptDocumentsAndEditorsDelta(O)}acceptDocumentsAndEditorsDelta(O){const v=[],t=[],d=[];if(O.removedDocuments)for(const r of O.removedDocuments){const u=N.URI.revive(r),c=this.c.get(u);c?.unref()&&(this.c.delete(u),v.push(c.value))}if(O.addedDocuments)for(const r of O.addedDocuments){const u=N.URI.revive(r.uri);let c=this.c.get(u);if(c&&u.scheme!==g.Schemas.vscodeNotebookCell&&u.scheme!==g.Schemas.vscodeInteractiveInput)throw new Error(`document '${u} already exists!'`);c||(c=new l(new S.ExtHostDocumentData(this.h.getProxy(R.MainContext.MainThreadDocuments),u,r.lines,r.EOL,r.versionId,r.languageId,r.isDirty,r.notebook)),this.c.set(u,c),t.push(c.value)),c.ref()}if(O.removedEditors)for(const r of O.removedEditors){const u=this.b.get(r);this.b.delete(r),u&&d.push(u)}if(O.addedEditors)for(const r of O.addedEditors){const u=N.URI.revive(r.documentUri);i.ok(this.c.has(u),`document '${u}' does not exist`),i.ok(!this.b.has(r.id),`editor '${r.id}' already exists!`);const c=this.c.get(u).value,y=new M.ExtHostTextEditor(r.id,this.h.getProxy(R.MainContext.MainThreadTextEditors),this.i,new o.Lazy(()=>c.document),r.selections.map(D.Selection.to),r.options,r.visibleRanges.map(n=>D.Range.to(n)),typeof r.editorPosition=="number"?D.ViewColumn.to(r.editorPosition):void 0);this.b.set(r.id,y)}O.newActiveEditor!==void 0&&(i.ok(O.newActiveEditor===null||this.b.has(O.newActiveEditor),`active editor '${O.newActiveEditor}' does not exist`),this.a=O.newActiveEditor),(0,I.dispose)(v),(0,I.dispose)(d),O.removedDocuments&&this.e.fire(v),O.addedDocuments&&this.d.fire(t),(O.removedEditors||O.addedEditors)&&this.f.fire(this.allEditors().map(r=>r.value)),O.newActiveEditor!==void 0&&this.g.fire(this.activeEditor())}getDocument(O){return this.c.get(O)?.value}allDocuments(){return a.Iterable.map(this.c.values(),O=>O.value)}getEditor(O){return this.b.get(O)}activeEditor(O){if(!this.a)return;const v=this.b.get(this.a);return O?v:v?.value}allEditors(){return[...this.b.values()]}};p=qe([Ve(0,k.IExtHostRpcService),Ve(1,h.ILogService)],p),e.ExtHostDocumentsAndEditors=p,e.IExtHostDocumentsAndEditors=(0,E.createDecorator)("IExtHostDocumentsAndEditors")}),define(ke[59],Te([1,0,8,5,2,4,3,7,18,9,63]),function(ne,e,i,T,I,N,E,R,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostEditorTabs=e.IExtHostEditorTabs=void 0,e.IExtHostEditorTabs=(0,E.createDecorator)("IExtHostEditorTabs");class D{constructor(o,l,p){this.e=p,this.d=l,this.acceptDtoUpdate(o)}get apiObject(){if(!this.a){const o=this,l={get isActive(){return o.b.id===o.e()},get label(){return o.b.label},get input(){return o.c},get isDirty(){return o.b.isDirty},get isPinned(){return o.b.isPinned},get isPreview(){return o.b.isPreview},get group(){return o.d.apiObject}};this.a=Object.freeze(l)}return this.a}get tabId(){return this.b.id}acceptDtoUpdate(o){this.b=o,this.c=this.f()}f(){switch(this.b.input.kind){case 1:return new R.TextTabInput(I.URI.revive(this.b.input.uri));case 2:return new R.TextDiffTabInput(I.URI.revive(this.b.input.original),I.URI.revive(this.b.input.modified));case 3:return new R.TextMergeTabInput(I.URI.revive(this.b.input.base),I.URI.revive(this.b.input.input1),I.URI.revive(this.b.input.input2),I.URI.revive(this.b.input.result));case 6:return new R.CustomEditorTabInput(I.URI.revive(this.b.input.uri),this.b.input.viewType);case 7:return new R.WebviewEditorTabInput(this.b.input.viewType);case 4:return new R.NotebookEditorTabInput(I.URI.revive(this.b.input.uri),this.b.input.notebookType);case 5:return new R.NotebookDiffEditorTabInput(I.URI.revive(this.b.input.original),I.URI.revive(this.b.input.modified),this.b.input.notebookType);case 8:return new R.TerminalEditorTabInput;case 9:return new R.InteractiveWindowInput(I.URI.revive(this.b.input.uri),I.URI.revive(this.b.input.inputBoxUri));default:return}}}class h{constructor(o,l){this.c=[],this.d="",this.b=o,this.e=l;for(const p of o.tabs)p.isActive&&(this.d=p.id),this.c.push(new D(p,this,()=>this.activeTabId()))}get apiObject(){if(!this.a){const o=this,l={get isActive(){return o.b.groupId===o.e()},get viewColumn(){return i.ViewColumn.to(o.b.viewColumn)},get activeTab(){return o.c.find(p=>p.tabId===o.d)?.apiObject},get tabs(){return Object.freeze(o.c.map(p=>p.apiObject))}};this.a=Object.freeze(l)}return this.a}get groupId(){return this.b.groupId}get tabs(){return this.c}acceptGroupDtoUpdate(o){this.b=o}acceptTabOperation(o){if(o.kind===0){const p=new D(o.tabDto,this,()=>this.activeTabId());return this.c.splice(o.index,0,p),o.tabDto.isActive&&(this.d=p.tabId),p}else if(o.kind===1){const p=this.c.splice(o.index,1)[0];if(!p)throw new Error(`Tab close updated received for index ${o.index} which does not exist`);return p.tabId===this.d&&(this.d=""),p}else if(o.kind===3){if(o.oldIndex===void 0)throw new Error("Invalid old index on move IPC");const p=this.c.splice(o.oldIndex,1)[0];if(!p)throw new Error(`Tab move updated received for index ${o.oldIndex} which does not exist`);return this.c.splice(o.index,0,p),p}const l=this.c.find(p=>p.tabId===o.tabDto.id);if(!l)throw new Error("INVALID tab");return o.tabDto.isActive?this.d=o.tabDto.id:this.d===o.tabDto.id&&!o.tabDto.isActive&&(this.d=""),l.acceptDtoUpdate(o.tabDto),l}activeTabId(){return this.d}}let b=class{constructor(o){this.b=new N.Emitter,this.c=new N.Emitter,this.e=[],this.a=o.getProxy(T.MainContext.MainThreadEditorTabs)}get tabGroups(){if(!this.f){const o=this,l={onDidChangeTabGroups:o.c.event,onDidChangeTabs:o.b.event,get all(){return Object.freeze(o.e.map(p=>p.apiObject))},get activeTabGroup(){const p=o.d;return(0,k.assertIsDefined)(o.e.find(O=>O.groupId===p)?.apiObject)},close:async(p,w)=>{const O=Array.isArray(p)?p:[p];return O.length?g(O[0])?this.j(O,w):this.i(O,w):!0}};this.f=Object.freeze(l)}return this.f}$acceptEditorTabModel(o){const l=new Set(this.e.map(r=>r.groupId)),p=new Set(o.map(r=>r.groupId)),w=(0,M.diffSets)(l,p),O=this.e.filter(r=>w.removed.includes(r.groupId)).map(r=>r.apiObject),v=[],t=[];this.e=o.map(r=>{const u=new h(r,()=>this.d);return w.added.includes(u.groupId)?v.push(u.apiObject):t.push(u.apiObject),u});const d=(0,k.assertIsDefined)(o.find(r=>r.isActive===!0)?.groupId);d!==void 0&&this.d!==d&&(this.d=d),this.c.fire(Object.freeze({opened:v,closed:O,changed:t}))}$acceptTabGroupUpdate(o){const l=this.e.find(p=>p.groupId===o.groupId);if(!l)throw new Error("Update Group IPC call received before group creation.");l.acceptGroupDtoUpdate(o),o.isActive&&(this.d=o.groupId),this.c.fire(Object.freeze({changed:[l.apiObject],opened:[],closed:[]}))}$acceptTabOperation(o){const l=this.e.find(w=>w.groupId===o.groupId);if(!l)throw new Error("Update Tabs IPC call received before group creation.");const p=l.acceptTabOperation(o);switch(o.kind){case 0:this.b.fire(Object.freeze({opened:[p.apiObject],closed:[],changed:[]}));return;case 1:this.b.fire(Object.freeze({opened:[],closed:[p.apiObject],changed:[]}));return;case 3:case 2:this.b.fire(Object.freeze({opened:[],closed:[],changed:[p.apiObject]}));return}}g(o){for(const l of this.e)for(const p of l.tabs)if(p.apiObject===o)return p}h(o){return this.e.find(l=>l.apiObject===o)}async i(o,l){const p=[];for(const w of o){const O=this.g(w);if(!O)throw new Error("Tab close: Invalid tab not found!");p.push(O.tabId)}return this.a.$closeTab(p,l)}async j(o,l){const p=[];for(const w of o){const O=this.h(w);if(!O)throw new Error("Group close: Invalid group not found!");p.push(O.groupId)}return this.a.$closeGroup(p,l)}};b=qe([Ve(0,S.IExtHostRpcService)],b),e.ExtHostEditorTabs=b;function g(a){return a.tabs!==void 0}}),define(ke[215],Te([1,0,2,5,6,7,8,261,10,23,25]),function(ne,e,i,T,I,N,E,R,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostFileSystem=void 0;class D{constructor(){this.a=[]}add(g){this.b=void 0,this.a.push(g)}delete(g){const a=this.a.indexOf(g);a>=0&&(this.a.splice(a,1),this.b=void 0)}c(){if(!this.b){const g=this.a.sort(),a=[];let o,l,p=14,w=14;for(const O of g){let v=o?(0,S.commonPrefixLength)(o,O):0;for(v===0?l=1:l=w;v<O.length;v++)v+1===O.length?(p=w,w=9):w+=1,a.push([l,O.toUpperCase().charCodeAt(v),w]),a.push([l,O.toLowerCase().charCodeAt(v),w]),l=w;o=O,w=p}a.push([9,58,10]),a.push([10,47,12]),this.b=new R.StateMachine(a)}}provideDocumentLinks(g){this.c();const a=[],o=R.LinkComputer.computeLinks({getLineContent(l){return g.lineAt(l-1).text},getLineCount(){return g.lineCount}},this.b);for(const l of o){const p=E.DocumentLink.to(l);p.target&&a.push(p)}return a}}class h{constructor(g,a){this.i=a,this.b=new D,this.c=new Map,this.d=new Set,this.f=new Map,this.h=0,this.a=g.getProxy(T.MainContext.MainThreadFileSystem)}dispose(){this.g?.dispose()}registerFileSystemProvider(g,a,o,l={}){if(this.d.has(a))throw new Error(`a provider for the scheme '${a}' is already registered`);this.g||(this.g=this.i.registerDocumentLinkProvider(g,"*",this.b));const p=this.h++;this.b.add(a),this.d.add(a),this.c.set(p,o);let w=2;l.isCaseSensitive&&(w+=1024),l.isReadonly&&(w+=2048),typeof o.copy=="function"&&(w+=8),typeof o.open=="function"&&typeof o.close=="function"&&typeof o.read=="function"&&typeof o.write=="function"&&((0,M.checkProposedApiEnabled)(g,"fsChunks"),w+=4),this.a.$registerFileSystemProvider(p,a,w).catch(v=>{console.error(`FAILED to register filesystem provider of ${g.identifier.value}-extension for the scheme ${a}`),console.error(v)});const O=o.onDidChangeFile(v=>{const t=[];for(const d of v){const{uri:r,type:u}=d;if(r.scheme!==a)continue;let c;switch(u){case N.FileChangeType.Changed:c=0;break;case N.FileChangeType.Created:c=1;break;case N.FileChangeType.Deleted:c=2;break;default:throw new Error("Unknown FileChangeType")}t.push({resource:r,type:c})}this.a.$onFileSystemChange(p,t)});return(0,I.toDisposable)(()=>{O.dispose(),this.b.delete(a),this.d.delete(a),this.c.delete(p),this.a.$unregisterProvider(p)})}static j(g){const{type:a,ctime:o,mtime:l,size:p,permissions:w}=g;return{type:a,ctime:o,mtime:l,size:p,permissions:w}}$stat(g,a){return Promise.resolve(this.k(g).stat(i.URI.revive(a))).then(o=>h.j(o))}$readdir(g,a){return Promise.resolve(this.k(g).readDirectory(i.URI.revive(a)))}$readFile(g,a){return Promise.resolve(this.k(g).readFile(i.URI.revive(a))).then(o=>k.VSBuffer.wrap(o))}$writeFile(g,a,o,l){return Promise.resolve(this.k(g).writeFile(i.URI.revive(a),o.buffer,l))}$delete(g,a,o){return Promise.resolve(this.k(g).delete(i.URI.revive(a),o))}$rename(g,a,o,l){return Promise.resolve(this.k(g).rename(i.URI.revive(a),i.URI.revive(o),l))}$copy(g,a,o,l){const p=this.k(g);if(!p.copy)throw new Error('FileSystemProvider does not implement "copy"');return Promise.resolve(p.copy(i.URI.revive(a),i.URI.revive(o),l))}$mkdir(g,a){return Promise.resolve(this.k(g).createDirectory(i.URI.revive(a)))}$watch(g,a,o,l){const p=this.k(g).watch(i.URI.revive(o),l);this.f.set(a,p)}$unwatch(g,a){const o=this.f.get(a);o&&(o.dispose(),this.f.delete(a))}$open(g,a,o){const l=this.k(g);if(!l.open)throw new Error('FileSystemProvider does not implement "open"');return Promise.resolve(l.open(i.URI.revive(a),o))}$close(g,a){const o=this.k(g);if(!o.close)throw new Error('FileSystemProvider does not implement "close"');return Promise.resolve(o.close(a))}$read(g,a,o,l){const p=this.k(g);if(!p.read)throw new Error('FileSystemProvider does not implement "read"');const w=k.VSBuffer.alloc(l);return Promise.resolve(p.read(a,o,w.buffer,0,l)).then(O=>w.slice(0,O))}$write(g,a,o,l){const p=this.k(g);if(!p.write)throw new Error('FileSystemProvider does not implement "write"');return Promise.resolve(p.write(a,o,l.buffer,0,l.byteLength))}k(g){const a=this.c.get(g);if(!a){const o=new Error;throw o.name="ENOPRO",o.message="no provider",o}return a}}e.ExtHostFileSystem=h}),define(ke[60],Te([1,0,5,43,7,23,3,18,36,6]),function(ne,e,i,T,I,N,E,R,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IExtHostConsumerFileSystem=e.ExtHostConsumerFileSystem=void 0;let M=class Yt{constructor(h,b){this.b=new Map,this.a=h.getProxy(i.MainContext.MainThreadFileSystem);const g=this;this.value=Object.freeze({async stat(a){try{const o=g.b.get(a.scheme);if(!o)return await g.a.$stat(a);await g.a.$ensureActivation(a.scheme);const l=await o.stat(a);return{type:l.type,ctime:l.ctime,mtime:l.mtime,size:l.size,permissions:l.permissions}}catch(o){Yt.c(o)}},async readDirectory(a){try{const o=g.b.get(a.scheme);return o?(await g.a.$ensureActivation(a.scheme),(await o.readDirectory(a)).slice()):await g.a.$readdir(a)}catch(o){return Yt.c(o)}},async createDirectory(a){try{return await g.a.$mkdir(a)}catch(o){return Yt.c(o)}},async readFile(a){try{const o=g.b.get(a.scheme);return o?(await g.a.$ensureActivation(a.scheme),(await o.readFile(a)).slice()):(await g.a.$readFile(a)).buffer}catch(o){return Yt.c(o)}},async writeFile(a,o){try{return await g.a.$writeFile(a,N.VSBuffer.wrap(o))}catch(l){return Yt.c(l)}},async delete(a,o){try{const l=g.b.get(a.scheme);return l?(await g.a.$ensureActivation(a.scheme),await l.delete(a,{recursive:!1,...o})):await g.a.$delete(a,{recursive:!1,useTrash:!1,...o})}catch(l){return Yt.c(l)}},async rename(a,o,l){try{return await g.a.$rename(a,o,{overwrite:!1,...l})}catch(p){return Yt.c(p)}},async copy(a,o,l){try{return await g.a.$copy(a,o,{overwrite:!1,...l})}catch(p){return Yt.c(p)}},isWritableFileSystem(a){const o=b.getCapabilities(a);if(typeof o=="number")return!(o&2048)}})}static c(h){if(h instanceof I.FileSystemError)throw h;if(!(h instanceof Error))throw new I.FileSystemError(String(h));if(h.name==="ENOPRO"||h.message.includes("ENOPRO"))throw I.FileSystemError.Unavailable(h.message);switch(h.name){case T.FileSystemProviderErrorCode.FileExists:throw I.FileSystemError.FileExists(h.message);case T.FileSystemProviderErrorCode.FileNotFound:throw I.FileSystemError.FileNotFound(h.message);case T.FileSystemProviderErrorCode.FileNotADirectory:throw I.FileSystemError.FileNotADirectory(h.message);case T.FileSystemProviderErrorCode.FileIsADirectory:throw I.FileSystemError.FileIsADirectory(h.message);case T.FileSystemProviderErrorCode.NoPermissions:throw I.FileSystemError.NoPermissions(h.message);case T.FileSystemProviderErrorCode.Unavailable:throw I.FileSystemError.Unavailable(h.message);default:throw new I.FileSystemError(h.message,h.name)}}addFileSystemProvider(h,b){return this.b.set(h,b),(0,k.toDisposable)(()=>this.b.delete(h))}};M=qe([Ve(0,R.IExtHostRpcService),Ve(1,S.IExtHostFileSystemInfo)],M),e.ExtHostConsumerFileSystem=M,e.IExtHostConsumerFileSystem=(0,E.createDecorator)("IExtHostConsumerFileSystem")}),define(ke[216],Te([1,0,4,35,2,5,8,7]),function(ne,e,i,T,I,N,E,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostFileSystemEventService=void 0;class S{get ignoreCreateEvents(){return Boolean(this.g&1)}get ignoreChangeEvents(){return Boolean(this.g&2)}get ignoreDeleteEvents(){return Boolean(this.g&4)}constructor(D,h,b,g,a,o,l,p){this.a=new i.Emitter,this.b=new i.Emitter,this.c=new i.Emitter;const w=this.h(D,b,a);this.g=0,o&&(this.g+=1),l&&(this.g+=2),p&&(this.g+=4);const O=(0,T.parse)(a),v=typeof a=="string",t=g(d=>{if(!o)for(const r of d.created){const u=I.URI.revive(r);O(u.fsPath)&&(!v||h.getWorkspaceFolder(u))&&this.a.fire(u)}if(!l)for(const r of d.changed){const u=I.URI.revive(r);O(u.fsPath)&&(!v||h.getWorkspaceFolder(u))&&this.b.fire(u)}if(!p)for(const r of d.deleted){const u=I.URI.revive(r);O(u.fsPath)&&(!v||h.getWorkspaceFolder(u))&&this.c.fire(u)}});this.d=R.Disposable.from(w,this.a,this.b,this.c,t)}h(D,h,b){const g=R.Disposable.from();if(typeof b=="string")return g;const a=D.getProxy(N.MainContext.MainThreadFileSystem);let o=!1;(b.pattern.includes(T.GLOBSTAR)||b.pattern.includes(T.GLOB_SPLIT))&&(o=!0);const l=Math.random();return a.$watch(h.identifier.value,l,b.baseUri,{recursive:o,excludes:[]}),R.Disposable.from({dispose:()=>a.$unwatch(l)})}dispose(){this.d.dispose()}get onDidCreate(){return this.a.event}get onDidChange(){return this.b.event}get onDidDelete(){return this.c.event}}class k{constructor(D,h,b){this.j=D,this.k=h,this.l=b,this.a=new i.Emitter,this.b=new i.Emitter,this.c=new i.Emitter,this.d=new i.Emitter,this.g=new i.AsyncEmitter,this.h=new i.AsyncEmitter,this.i=new i.AsyncEmitter,this.onDidRenameFile=this.b.event,this.onDidCreateFile=this.c.event,this.onDidDeleteFile=this.d.event}createFileSystemWatcher(D,h,b,g,a,o){return new S(this.j,D,h,this.a.event,E.GlobPattern.from(b),g,a,o)}$onFileEvent(D){this.a.fire(D)}$onDidRunFileOperation(D,h){switch(D){case 2:this.b.fire(Object.freeze({files:h.map(b=>({oldUri:I.URI.revive(b.source),newUri:I.URI.revive(b.target)}))}));break;case 1:this.d.fire(Object.freeze({files:h.map(b=>I.URI.revive(b.target))}));break;case 0:case 3:this.c.fire(Object.freeze({files:h.map(b=>I.URI.revive(b.target))}));break;default:}}getOnWillRenameFileEvent(D){return this.m(D,this.g)}getOnWillCreateFileEvent(D){return this.m(D,this.h)}getOnWillDeleteFileEvent(D){return this.m(D,this.i)}m(D,h){return(b,g,a)=>{const o=function(p){b.call(g,p)};return o.extension=D,h.event(o,void 0,a)}}async $onWillRunFileOperation(D,h,b,g){switch(D){case 2:return await this.n(this.g,{files:h.map(a=>({oldUri:I.URI.revive(a.source),newUri:I.URI.revive(a.target)}))},b,g);case 1:return await this.n(this.i,{files:h.map(a=>I.URI.revive(a.target))},b,g);case 0:case 3:return await this.n(this.h,{files:h.map(a=>I.URI.revive(a.target))},b,g)}}async n(D,h,b,g){const a=new Set,o=[];if(await D.fireAsync(h,g,async(p,w)=>{const O=Date.now(),v=await Promise.resolve(p);v instanceof R.WorkspaceEdit&&(o.push([w.extension,v]),a.add(w.extension.displayName??w.extension.identifier.value)),Date.now()-O>b&&this.k.warn("SLOW file-participant",w.extension.identifier)}),g.isCancellationRequested||o.length===0)return;const l={edits:[]};for(const[,p]of o){const{edits:w}=E.WorkspaceEdit.from(p,{getTextDocumentVersion:O=>this.l.getDocument(O)?.version,getNotebookDocumentVersion:()=>{}});l.edits=l.edits.concat(w)}return{edit:l,extensionNames:Array.from(a)}}}e.ExtHostFileSystemEventService=k}),define(ke[217],Te([1,0,2,37]),function(ne,e,i,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostInteractive=void 0;class I{constructor(E,R,S,k,M){this.a=R,this.b=S,this.c=k;const D=new T.ApiCommand("interactive.open","_interactive.open","Open interactive window and return notebook editor and input URI",[new T.ApiCommandArgument("showOptions","Show Options",h=>!0,h=>h),new T.ApiCommandArgument("resource","Interactive resource Uri",h=>!0,h=>h),new T.ApiCommandArgument("controllerId","Notebook controller Id",h=>!0,h=>h),new T.ApiCommandArgument("title","Interactive editor title",h=>!0,h=>h)],new T.ApiCommandResult("Notebook and input URI",h=>{if(M.debug("[ExtHostInteractive] open iw with notebook editor id",h.notebookEditorId),h.notebookEditorId!==void 0){const b=this.a.getEditorById(h.notebookEditorId);return M.debug("[ExtHostInteractive] notebook editor found",b.id),{notebookUri:i.URI.revive(h.notebookUri),inputUri:i.URI.revive(h.inputUri),notebookEditor:b.apiEditor}}return M.debug("[ExtHostInteractive] notebook editor not found, uris for the interactive document",h.notebookUri,h.inputUri),{notebookUri:i.URI.revive(h.notebookUri),inputUri:i.URI.revive(h.inputUri)}}));this.c.registerApiCommand(D)}$willAddInteractiveDocument(E,R,S,k){this.b.acceptDocumentsAndEditorsDelta({addedDocuments:[{EOL:R,lines:[""],languageId:S,uri:E,isDirty:!1,versionId:1,notebook:this.a.getNotebookDocument(i.URI.revive(k))?.apiNotebook}]})}$willRemoveInteractiveDocument(E,R){this.b.acceptDocumentsAndEditorsDelta({removedDocuments:[E]})}}e.ExtHostInteractive=I}),define(ke[218],Te([1,0,6,5]),function(ne,e,i,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostLabelService=void 0;class I{constructor(E){this.b=0,this.a=E.getProxy(T.MainContext.MainThreadLabelService)}$registerResourceLabelFormatter(E){const R=this.b++;return this.a.$registerResourceLabelFormatter(R,E),(0,i.toDisposable)(()=>{this.a.$unregisterResourceLabelFormatter(R)})}}e.ExtHostLabelService=I}),define(ke[219],Te([1,0,2,22,8,7,75,5,10,44,16,9,262,21,6,88,83,54,77,11,17,25]),function(ne,e,i,T,I,N,E,R,S,k,M,D,h,b,g,a,o,l,p,w,O,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostLanguageFeatures=void 0;class t{constructor(C,$){this.d=C,this.e=$}async provideDocumentSymbols(C,$){const W=this.d.getDocument(C),V=await this.e.provideDocumentSymbols(W,$);if(!(0,M.isFalsyOrEmpty)(V))return V[0]instanceof N.DocumentSymbol?V.map(I.DocumentSymbol.from):t.f(V)}static f(C){C=C.slice(0).sort((V,ie)=>{let fe=V.location.range.start.compareTo(ie.location.range.start);return fe===0&&(fe=ie.location.range.end.compareTo(V.location.range.end)),fe});const $=[],W=[];for(const V of C){const ie={name:V.name||"!!MISSING: name!!",kind:I.SymbolKind.from(V.kind),tags:V.tags?.map(I.SymbolTag.from)||[],detail:"",containerName:V.containerName,range:I.Range.from(V.location.range),selectionRange:I.Range.from(V.location.range),children:[]};for(;;){if(W.length===0){W.push(ie),$.push(ie);break}const fe=W[W.length-1];if(k.Range.containsRange(fe.range,ie.range)&&!k.Range.equalsRange(fe.range,ie.range)){fe.children?.push(ie),W.push(ie);break}W.pop()}}return $}}class d{constructor(C,$,W){this.g=C,this.h=$,this.j=W,this.e=new l.Cache("CodeLens"),this.f=new Map}async provideCodeLenses(C,$){const W=this.g.getDocument(C),V=await this.j.provideCodeLenses(W,$);if(!V||$.isCancellationRequested)return;const ie=this.e.add(V),fe=new g.DisposableStore;this.f.set(ie,fe);const De={cacheId:ie,lenses:[]};for(let ue=0;ue<V.length;ue++)De.lenses.push({cacheId:[ie,ue],range:I.Range.from(V[ue].range),command:this.h.toInternal(V[ue].command,fe)});return De}async resolveCodeLens(C,$){const W=C.cacheId&&this.e.get(...C.cacheId);if(!W)return;let V;if(typeof this.j.resolveCodeLens!="function"||W.isResolved?V=W:V=await this.j.resolveCodeLens(W,$),V||(V=W),$.isCancellationRequested)return;const ie=C.cacheId&&this.f.get(C.cacheId[0]);if(!!ie)return C.command=this.h.toInternal(V.command??d.d,ie),C}releaseCodeLenses(C){this.f.get(C)?.dispose(),this.f.delete(C),this.e.delete(C)}}d.d={command:"missing",title:"!!MISSING: command!!"};function r(ee){return Array.isArray(ee)?ee.map(I.DefinitionLink.from):ee?[I.DefinitionLink.from(ee)]:[]}class u{constructor(C,$){this.d=C,this.e=$}async provideDefinition(C,$,W){const V=this.d.getDocument(C),ie=I.Position.to($),fe=await this.e.provideDefinition(V,ie,W);return r(fe)}}class c{constructor(C,$){this.d=C,this.e=$}async provideDeclaration(C,$,W){const V=this.d.getDocument(C),ie=I.Position.to($),fe=await this.e.provideDeclaration(V,ie,W);return r(fe)}}class y{constructor(C,$){this.d=C,this.e=$}async provideImplementation(C,$,W){const V=this.d.getDocument(C),ie=I.Position.to($),fe=await this.e.provideImplementation(V,ie,W);return r(fe)}}class n{constructor(C,$){this.d=C,this.e=$}async provideTypeDefinition(C,$,W){const V=this.d.getDocument(C),ie=I.Position.to($),fe=await this.e.provideTypeDefinition(V,ie,W);return r(fe)}}class s{constructor(C,$){this.d=C,this.e=$}async provideHover(C,$,W){const V=this.d.getDocument(C),ie=I.Position.to($),fe=await this.e.provideHover(V,ie,W);if(!(!fe||(0,M.isFalsyOrEmpty)(fe.contents)))return fe.range||(fe.range=V.getWordRangeAtPosition(ie)),fe.range||(fe.range=new N.Range(ie,ie)),I.Hover.from(fe)}}class f{constructor(C,$){this.d=C,this.e=$}async provideEvaluatableExpression(C,$,W){const V=this.d.getDocument(C),ie=I.Position.to($),fe=await this.e.provideEvaluatableExpression(V,ie,W);if(fe)return I.EvaluatableExpression.from(fe)}}class A{constructor(C,$){this.d=C,this.e=$}async provideInlineValues(C,$,W,V){const ie=this.d.getDocument(C),fe=await this.e.provideInlineValues(ie,I.Range.to($),I.InlineValueContext.to(W),V);if(Array.isArray(fe))return fe.map(De=>I.InlineValue.from(De))}}class P{constructor(C,$){this.d=C,this.e=$}async provideDocumentHighlights(C,$,W){const V=this.d.getDocument(C),ie=I.Position.to($),fe=await this.e.provideDocumentHighlights(V,ie,W);if(Array.isArray(fe))return fe.map(I.DocumentHighlight.from)}}class H{constructor(C,$){this.d=C,this.e=$}async provideLinkedEditingRanges(C,$,W){const V=this.d.getDocument(C),ie=I.Position.to($),fe=await this.e.provideLinkedEditingRanges(V,ie,W);if(fe&&Array.isArray(fe.ranges))return{ranges:(0,M.coalesce)(fe.ranges.map(I.Range.from)),wordPattern:fe.wordPattern}}}class Y{constructor(C,$){this.d=C,this.e=$}async provideReferences(C,$,W,V){const ie=this.d.getDocument(C),fe=I.Position.to($),De=await this.e.provideReferences(ie,fe,W,V);if(Array.isArray(De))return De.map(I.location.from)}}class Z{constructor(C,$,W,V,ie,fe,De){this.g=C,this.h=$,this.j=W,this.k=V,this.l=ie,this.m=fe,this.n=De,this.e=new l.Cache("CodeAction"),this.f=new Map}async provideCodeActions(C,$,W,V){const ie=this.g.getDocument(C),fe=h.Selection.isISelection($)?I.Selection.to($):I.Range.to($),De=[];for(const it of this.j.getDiagnostics(C))if(fe.intersection(it.range)&&De.push(it)>Z.d)break;const ue={diagnostics:De,only:W.only?new N.CodeActionKind(W.only):void 0,triggerKind:I.CodeActionTriggerKind.to(W.trigger)},ve=await this.k.provideCodeActions(ie,fe,ue,V);if(!(0,M.isNonEmptyArray)(ve)||V.isCancellationRequested)return;const be=this.e.add(ve),He=new g.DisposableStore;this.f.set(be,He);const je=[];for(let it=0;it<ve.length;it++){const Xe=ve[it];!Xe||(Z.o(Xe)?(this.n.report("CodeActionProvider.provideCodeActions - return commands",this.m,"Return 'CodeAction' instances instead."),je.push({_isSynthetic:!0,title:Xe.title,command:this.h.toInternal(Xe,He)})):(ue.only&&(Xe.kind?ue.only.contains(Xe.kind)||this.l.warn(`${this.m.identifier.value} - Code actions of kind '${ue.only.value} 'requested but returned code action is of kind '${Xe.kind.value}'. Code action will be dropped. Please check 'CodeActionContext.only' to only return requested code actions.`):this.l.warn(`${this.m.identifier.value} - Code actions of kind '${ue.only.value} 'requested but returned code action does not have a 'kind'. Code action will be dropped. Please set 'CodeAction.kind'.`)),je.push({cacheId:[be,it],title:Xe.title,command:Xe.command&&this.h.toInternal(Xe.command,He),diagnostics:Xe.diagnostics&&Xe.diagnostics.map(I.Diagnostic.from),edit:Xe.edit&&I.WorkspaceEdit.from(Xe.edit,void 0),kind:Xe.kind&&Xe.kind.value,isPreferred:Xe.isPreferred,disabled:Xe.disabled?.reason})))}return{cacheId:be,actions:je}}async resolveCodeAction(C,$){const[W,V]=C,ie=this.e.get(W,V);if(!ie||Z.o(ie)||!this.k.resolveCodeAction)return;const fe=await this.k.resolveCodeAction(ie,$)??ie;return fe?.edit?I.WorkspaceEdit.from(fe.edit,void 0):void 0}releaseCodeActions(C){this.f.get(C)?.dispose(),this.f.delete(C),this.e.delete(C)}static o(C){return typeof C.command=="string"&&typeof C.title=="string"}}Z.d=1e3;class _{constructor(C,$,W,V){this.d=C,this.e=$,this.f=W,this.g=V}async prepareDocumentPaste(C,$,W,V){if(!this.f.prepareDocumentPaste)return;const ie=this.e.getDocument(C),fe=$.map(ue=>I.Range.to(ue)),De=I.DataTransfer.toDataTransfer(W,()=>{throw new w.NotImplementedError});return await this.f.prepareDocumentPaste(ie,fe,De,V),I.DataTransfer.toDataTransferDTO(De)}async providePasteEdits(C,$,W,V,ie){const fe=this.e.getDocument($),De=W.map(be=>I.Range.to(be)),ue=I.DataTransfer.toDataTransfer(V,async be=>(await this.d.$resolvePasteFileData(this.g,C,be)).buffer),ve=await this.f.provideDocumentPasteEdits(fe,De,ue,ie);if(!!ve)return{insertText:typeof ve.insertText=="string"?ve.insertText:{snippet:ve.insertText.value},additionalEdit:ve.additionalEdit?I.WorkspaceEdit.from(ve.additionalEdit,void 0):void 0}}}class j{constructor(C,$){this.d=C,this.e=$}async provideDocumentFormattingEdits(C,$,W){const V=this.d.getDocument(C),ie=await this.e.provideDocumentFormattingEdits(V,$,W);if(Array.isArray(ie))return ie.map(I.TextEdit.from)}}class L{constructor(C,$){this.d=C,this.e=$}async provideDocumentRangeFormattingEdits(C,$,W,V){const ie=this.d.getDocument(C),fe=I.Range.to($),De=await this.e.provideDocumentRangeFormattingEdits(ie,fe,W,V);if(Array.isArray(De))return De.map(I.TextEdit.from)}}class m{constructor(C,$){this.d=C,this.e=$,this.autoFormatTriggerCharacters=[]}async provideOnTypeFormattingEdits(C,$,W,V,ie){const fe=this.d.getDocument(C),De=I.Position.to($),ue=await this.e.provideOnTypeFormattingEdits(fe,De,W,V,ie);if(Array.isArray(ue))return ue.map(I.TextEdit.from)}}class F{constructor(C,$){this.e=C,this.f=$,this.d=new l.Cache("WorkspaceSymbols")}async provideWorkspaceSymbols(C,$){const W=await this.e.provideWorkspaceSymbols(C,$);if(!(0,M.isNonEmptyArray)(W))return{symbols:[]};const V=this.d.add(W),ie={cacheId:V,symbols:[]};for(let fe=0;fe<W.length;fe++){const De=W[fe];if(!De||!De.name){this.f.warn("INVALID SymbolInformation",De);continue}ie.symbols.push({...I.WorkspaceSymbol.from(De),cacheId:[V,fe]})}return ie}async resolveWorkspaceSymbol(C,$){if(typeof this.e.resolveWorkspaceSymbol!="function"||!C.cacheId)return C;const W=this.d.get(...C.cacheId);if(W){const V=await this.e.resolveWorkspaceSymbol(W,$);return V&&(0,T.mixin)(C,I.WorkspaceSymbol.from(V),!0)}}releaseWorkspaceSymbols(C){this.d.delete(C)}}class B{static supportsResolving(C){return typeof C.prepareRename=="function"}constructor(C,$,W){this.d=C,this.e=$,this.f=W}async provideRenameEdits(C,$,W,V){const ie=this.d.getDocument(C),fe=I.Position.to($);try{const De=await this.e.provideRenameEdits(ie,fe,W,V);return De?I.WorkspaceEdit.from(De):void 0}catch(De){const ue=B.g(De);return ue?{rejectReason:ue,edits:void 0}:Promise.reject(De)}}async resolveRenameLocation(C,$,W){if(typeof this.e.prepareRename!="function")return Promise.resolve(void 0);const V=this.d.getDocument(C),ie=I.Position.to($);try{const fe=await this.e.prepareRename(V,ie,W);let De,ue;if(N.Range.isRange(fe)?(De=fe,ue=V.getText(fe)):(0,D.isObject)(fe)&&(De=fe.range,ue=fe.placeholder),!De||!ue)return;if(De.start.line>ie.line||De.end.line<ie.line){this.f.warn("INVALID rename location: position line must be within range start/end lines");return}return{range:I.Range.from(De),text:ue}}catch(fe){const De=B.g(fe);return De?{rejectReason:De,range:void 0,text:void 0}:Promise.reject(fe)}}static g(C){return typeof C=="string"?C:C instanceof Error&&typeof C.message=="string"?C.message:void 0}}class J{constructor(C,$){this.resultId=C,this.tokens=$}}class me{constructor(C,$){this.f=C,this.g=$,this.e=1,this.d=new Map}async provideDocumentSemanticTokens(C,$,W){const V=this.f.getDocument(C),ie=$!==0?this.d.get($):null;let fe=typeof ie?.resultId=="string"&&typeof this.g.provideDocumentSemanticTokensEdits=="function"?await this.g.provideDocumentSemanticTokensEdits(V,ie.resultId,W):await this.g.provideDocumentSemanticTokens(V,W);return ie&&this.d.delete($),fe?(fe=me.h(fe),this.o(me.n(ie,fe),fe)):null}async releaseDocumentSemanticColoring(C){this.d.delete(C)}static h(C){return me.j(C)?me.k(C)?C:new N.SemanticTokens(new Uint32Array(C.data),C.resultId):me.l(C)?me.m(C)?C:new N.SemanticTokensEdits(C.edits.map($=>new N.SemanticTokensEdit($.start,$.deleteCount,$.data?new Uint32Array($.data):$.data)),C.resultId):C}static j(C){return C&&!!C.data}static k(C){return C.data instanceof Uint32Array}static l(C){return C&&Array.isArray(C.edits)}static m(C){for(const $ of C.edits)if(!($.data instanceof Uint32Array))return!1;return!0}static n(C,$){if(!me.j($)||!C||!C.tokens)return $;const W=C.tokens,V=W.length,ie=$.data,fe=ie.length;let De=0;const ue=Math.min(V,fe);for(;De<ue&&W[De]===ie[De];)De++;if(De===V&&De===fe)return new N.SemanticTokensEdits([],$.resultId);let ve=0;const be=ue-De;for(;ve<be&&W[V-ve-1]===ie[fe-ve-1];)ve++;return new N.SemanticTokensEdits([{start:De,deleteCount:V-De-ve,data:ie.subarray(De,fe-ve)}],$.resultId)}o(C,$){if(me.j(C)){const W=this.e++;return this.d.set(W,new J(C.resultId,C.data)),(0,a.encodeSemanticTokensDto)({id:W,type:"full",data:C.data})}if(me.l(C)){const W=this.e++;return me.j($)?this.d.set(W,new J($.resultId,$.data)):this.d.set(W,new J(C.resultId)),(0,a.encodeSemanticTokensDto)({id:W,type:"delta",deltas:(C.edits||[]).map(V=>({start:V.start,deleteCount:V.deleteCount,data:V.data}))})}return null}}class te{constructor(C,$){this.d=C,this.e=$}async provideDocumentRangeSemanticTokens(C,$,W){const V=this.d.getDocument(C),ie=await this.e.provideDocumentRangeSemanticTokens(V,I.Range.to($),W);return ie?this.f(ie):null}f(C){return(0,a.encodeSemanticTokensDto)({id:0,type:"full",data:C.data})}}class oe{static supportsResolving(C){return typeof C.resolveCompletionItem=="function"}constructor(C,$,W,V,ie){this.f=C,this.g=$,this.h=W,this.j=V,this.k=ie,this.d=new l.Cache("CompletionItem"),this.e=new Map}async provideCompletionItems(C,$,W,V){const ie=this.f.getDocument(C),fe=I.Position.to($),De=ie.getWordRangeAtPosition(fe)||new N.Range(fe,fe),ue=De.with({end:fe}),ve=new p.StopWatch(!0),be=await this.h.provideCompletionItems(ie,fe,V,I.CompletionContext.to(W));if(!be||V.isCancellationRequested)return;const He=Array.isArray(be)?new N.CompletionList(be):be,je=oe.supportsResolving(this.h)?this.d.add(He.items):this.d.add([]),it=new g.DisposableStore;this.e.set(je,it);const Xe=[],et={x:je,b:Xe,a:{replace:I.Range.from(De),insert:I.Range.from(ue)},c:He.isIncomplete||void 0,d:ve.elapsed()};for(let nt=0;nt<He.items.length;nt++){const Ne=He.items[nt],rt=this.l(Ne,[je,nt],ue,De);Xe.push(rt)}return et}async resolveCompletionItem(C,$){if(typeof this.h.resolveCompletionItem!="function")return;const W=this.d.get(...C);if(!W)return;const V=await this.h.resolveCompletionItem(W,$);if(!!V)return this.l(V,C)}releaseCompletionItems(C){this.e.get(C)?.dispose(),this.e.delete(C),this.d.delete(C)}l(C,$,W,V){const ie=this.e.get($[0]);if(!ie)throw Error("DisposableStore is missing...");const fe=this.g.toInternal(C.command,ie),De={x:$,a:C.label,b:C.kind!==void 0?I.CompletionItemKind.from(C.kind):void 0,m:C.tags&&C.tags.map(I.CompletionItemTag.from),c:C.detail,d:typeof C.documentation>"u"?void 0:I.MarkdownString.fromStrict(C.documentation),e:C.sortText!==C.label?C.sortText:void 0,f:C.filterText!==C.label?C.filterText:void 0,g:C.preselect||void 0,i:C.keepWhitespace?1:0,k:C.commitCharacters?.join(""),l:C.additionalTextEdits&&C.additionalTextEdits.map(I.TextEdit.from),n:fe?.$ident,o:fe?.id,p:fe?.$ident?void 0:fe?.arguments};C.textEdit?(this.j.report("CompletionItem.textEdit",this.k,"Use 'CompletionItem.insertText' and 'CompletionItem.range' instead."),De.h=C.textEdit.newText):typeof C.insertText=="string"?De.h=C.insertText:C.insertText instanceof N.SnippetString&&(De.h=C.insertText.value,De.i|=4);let ue;return C.textEdit?ue=C.textEdit.range:C.range&&(ue=C.range),N.Range.isRange(ue)?De.j=I.Range.from(ue):ue&&(!W?.isEqual(ue.inserting)||!V?.isEqual(ue.replacing))&&(De.j={insert:I.Range.from(ue.inserting),replace:I.Range.from(ue.replacing)}),De}}class ce{async provideInlineCompletions(C,$,W,V){}disposeCompletions(C){}handleDidShowCompletionItem(C,$){}handlePartialAccept(C,$,W){}}class we extends ce{constructor(C,$,W,V){super(),this.f=C,this.g=$,this.h=W,this.j=V,this.d=new q,this.e=(0,v.isProposedApiEnabled)(this.f,"inlineCompletionsAdditions"),this.k={[E.InlineCompletionTriggerKind.Automatic]:N.InlineCompletionTriggerKind.Automatic,[E.InlineCompletionTriggerKind.Explicit]:N.InlineCompletionTriggerKind.Invoke}}get supportsHandleEvents(){return(0,v.isProposedApiEnabled)(this.f,"inlineCompletionsAdditions")&&(typeof this.h.handleDidShowCompletionItem=="function"||typeof this.h.handleDidPartiallyAcceptCompletionItem=="function")}async provideInlineCompletions(C,$,W,V){const ie=this.g.getDocument(C),fe=I.Position.to($),De=await this.h.provideInlineCompletionItems(ie,fe,{selectedCompletionInfo:W.selectedSuggestionInfo?{range:I.Range.to(W.selectedSuggestionInfo.range),text:W.selectedSuggestionInfo.text}:void 0,triggerKind:this.k[W.triggerKind]},V);if(!De||V.isCancellationRequested)return;const ue=Array.isArray(De)?De:De.items,ve=this.e?Array.isArray(De)?[]:De.commands||[]:[];let be;return{pid:this.d.createReferenceId({dispose(){be?.dispose()},items:ue}),items:ue.map((je,it)=>{let Xe;je.command&&(be||(be=new g.DisposableStore),Xe=this.j.toInternal(je.command,be));const et=je.insertText;return{insertText:typeof et=="string"?et:{snippet:et.value},filterText:je.filterText,range:je.range?I.Range.from(je.range):void 0,command:Xe,idx:it,completeBracketPairs:this.e?je.completeBracketPairs:!1}}),commands:ve.map(je=>(be||(be=new g.DisposableStore),this.j.toInternal(je,be)))}}disposeCompletions(C){this.d.disposeReferenceId(C)?.dispose()}handleDidShowCompletionItem(C,$){const W=this.d.get(C)?.items[$];W&&this.h.handleDidShowCompletionItem&&this.e&&this.h.handleDidShowCompletionItem(W)}handlePartialAccept(C,$,W){const V=this.d.get(C)?.items[$];V&&this.h.handleDidPartiallyAcceptCompletionItem&&this.e&&this.h.handleDidPartiallyAcceptCompletionItem(V,W)}}class q{constructor(){this.d=new Map,this.e=1}createReferenceId(C){const $=this.e++;return this.d.set($,C),$}disposeReferenceId(C){const $=this.d.get(C);return this.d.delete(C),$}get(C){return this.d.get(C)}}class K{constructor(C,$){this.e=C,this.f=$,this.d=new l.Cache("SignatureHelp")}async provideSignatureHelp(C,$,W,V){const ie=this.e.getDocument(C),fe=I.Position.to($),De=this.g(W),ue=await this.f.provideSignatureHelp(ie,fe,V,De);if(ue){const ve=this.d.add([ue]);return{...I.SignatureHelp.from(ue),id:ve}}}g(C){let $;if(C.activeSignatureHelp){const W=I.SignatureHelp.to(C.activeSignatureHelp),V=this.d.get(C.activeSignatureHelp.id,0);V?($=V,$.activeSignature=W.activeSignature,$.activeParameter=W.activeParameter):$=W}return{...C,activeSignatureHelp:$}}releaseSignatureHelp(C){this.d.delete(C)}}class X{constructor(C,$,W,V,ie){this.f=C,this.g=$,this.h=W,this.j=V,this.k=ie,this.d=new l.Cache("InlayHints"),this.e=new Map}async provideInlayHints(C,$,W){const V=this.f.getDocument(C),ie=I.Range.to($),fe=await this.h.provideInlayHints(V,ie,W);if(!Array.isArray(fe)||fe.length===0){this.j.trace(`[InlayHints] NO inlay hints from '${this.k.identifier.value}' for ${$}`);return}if(W.isCancellationRequested)return;const De=this.d.add(fe);this.e.set(De,new g.DisposableStore);const ue={hints:[],cacheId:De};for(let ve=0;ve<fe.length;ve++)this.l(fe[ve],ie)&&ue.hints.push(this.m(fe[ve],[De,ve]));return this.j.trace(`[InlayHints] ${ue.hints.length} inlay hints from '${this.k.identifier.value}' for ${$}`),ue}async resolveInlayHint(C,$){if(typeof this.h.resolveInlayHint!="function")return;const W=this.d.get(...C);if(!W)return;const V=await this.h.resolveInlayHint(W,$);if(!!V&&!!this.l(V))return this.m(V,C)}releaseHints(C){this.e.get(C)?.dispose(),this.e.delete(C),this.d.delete(C)}l(C,$){return C.label.length===0||Array.isArray(C.label)&&C.label.every(W=>W.value.length===0)?(console.log("INVALID inlay hint, empty label",C),!1):!($&&!$.contains(C.position))}m(C,$){const W=this.e.get($[0]);if(!W)throw Error("DisposableStore is missing...");const V={label:"",cacheId:$,tooltip:I.MarkdownString.fromStrict(C.tooltip),position:I.Position.from(C.position),textEdits:C.textEdits&&C.textEdits.map(I.TextEdit.from),kind:C.kind&&I.InlayHintKind.from(C.kind),paddingLeft:C.paddingLeft,paddingRight:C.paddingRight};return typeof C.label=="string"?V.label=C.label:V.label=C.label.map(ie=>{const fe={label:ie.value};return fe.tooltip=I.MarkdownString.fromStrict(ie.tooltip),N.Location.isLocation(ie.location)&&(fe.location=I.location.from(ie.location)),ie.command&&(fe.command=this.g.toInternal(ie.command,W)),fe}),V}}class de{constructor(C,$){this.e=C,this.f=$,this.d=new l.Cache("DocumentLink")}async provideLinks(C,$){const W=this.e.getDocument(C),V=await this.f.provideDocumentLinks(W,$);if(!(!Array.isArray(V)||V.length===0)&&!$.isCancellationRequested){if(typeof this.f.resolveDocumentLink!="function")return{links:V.filter(de.g).map(I.DocumentLink.from)};{const ie=this.d.add(V),fe={links:[],cacheId:ie};for(let De=0;De<V.length;De++){if(!de.g(V[De]))continue;const ue=I.DocumentLink.from(V[De]);ue.cacheId=[ie,De],fe.links.push(ue)}return fe}}}static g(C){return C.target&&C.target.path.length>5e4?(console.warn("DROPPING link because it is too long"),!1):!0}async resolveLink(C,$){if(typeof this.f.resolveDocumentLink!="function")return;const W=this.d.get(...C);if(!W)return;const V=await this.f.resolveDocumentLink(W,$);if(!(!V||!de.g(V)))return I.DocumentLink.from(V)}releaseLinks(C){this.d.delete(C)}}class ye{constructor(C,$){this.d=C,this.e=$}async provideColors(C,$){const W=this.d.getDocument(C),V=await this.e.provideDocumentColors(W,$);return Array.isArray(V)?V.map(fe=>({color:I.Color.from(fe.color),range:I.Range.from(fe.range)})):[]}async provideColorPresentations(C,$,W){const V=this.d.getDocument(C),ie=I.Range.to($.range),fe=I.Color.to($.color),De=await this.e.provideColorPresentations(fe,{document:V,range:ie},W);if(!!Array.isArray(De))return De.map(I.ColorPresentation.from)}}class Fe{constructor(C,$){this.d=C,this.e=$}async provideFoldingRanges(C,$,W){const V=this.d.getDocument(C),ie=await this.e.provideFoldingRanges(V,$,W);if(!!Array.isArray(ie))return ie.map(I.FoldingRange.from)}}class ze{constructor(C,$,W){this.d=C,this.e=$,this.f=W}async provideSelectionRanges(C,$,W){const V=this.d.getDocument(C),ie=$.map(I.Position.to),fe=await this.e.provideSelectionRanges(V,ie,W);if(!(0,M.isNonEmptyArray)(fe))return[];if(fe.length!==ie.length)return this.f.warn("BAD selection ranges, provider must return ranges for each position"),[];const De=[];for(let ue=0;ue<ie.length;ue++){const ve=[];De.push(ve);let be=ie[ue],He=fe[ue];for(;;){if(!He.range.contains(be))throw new Error("INVALID selection range, must contain the previous range");if(ve.push(I.SelectionRange.from(He)),!He.parent)break;be=He.range,He=He.parent}}return De}}class Pe{constructor(C,$){this.f=C,this.g=$,this.d=new o.IdGenerator(""),this.e=new Map}async prepareSession(C,$,W){const V=this.f.getDocument(C),ie=I.Position.to($),fe=await this.g.prepareCallHierarchy(V,ie,W);if(!fe)return;const De=this.d.nextId();return this.e.set(De,new Map),Array.isArray(fe)?fe.map(ue=>this.h(De,ue)):[this.h(De,fe)]}async provideCallsTo(C,$,W){const V=this.j(C,$);if(!V)throw new Error("missing call hierarchy item");const ie=await this.g.provideCallHierarchyIncomingCalls(V,W);if(!!ie)return ie.map(fe=>({from:this.h(C,fe.from),fromRanges:fe.fromRanges.map(De=>I.Range.from(De))}))}async provideCallsFrom(C,$,W){const V=this.j(C,$);if(!V)throw new Error("missing call hierarchy item");const ie=await this.g.provideCallHierarchyOutgoingCalls(V,W);if(!!ie)return ie.map(fe=>({to:this.h(C,fe.to),fromRanges:fe.fromRanges.map(De=>I.Range.from(De))}))}releaseSession(C){this.e.delete(C)}h(C,$){const W=this.e.get(C),V=I.CallHierarchyItem.from($,C,W.size.toString(36));return W.set(V._itemId,$),V}j(C,$){return this.e.get(C)?.get($)}}class Ie{constructor(C,$){this.f=C,this.g=$,this.d=new o.IdGenerator(""),this.e=new Map}async prepareSession(C,$,W){const V=this.f.getDocument(C),ie=I.Position.to($),fe=await this.g.prepareTypeHierarchy(V,ie,W);if(!fe)return;const De=this.d.nextId();return this.e.set(De,new Map),Array.isArray(fe)?fe.map(ue=>this.h(De,ue)):[this.h(De,fe)]}async provideSupertypes(C,$,W){const V=this.j(C,$);if(!V)throw new Error("missing type hierarchy item");const ie=await this.g.provideTypeHierarchySupertypes(V,W);if(!!ie)return ie.map(fe=>this.h(C,fe))}async provideSubtypes(C,$,W){const V=this.j(C,$);if(!V)throw new Error("missing type hierarchy item");const ie=await this.g.provideTypeHierarchySubtypes(V,W);if(!!ie)return ie.map(fe=>this.h(C,fe))}releaseSession(C){this.e.delete(C)}h(C,$){const W=this.e.get(C),V=I.TypeHierarchyItem.from($,C,W.size.toString(36));return W.set(V._itemId,$),V}j(C,$){return this.e.get(C)?.get($)}}class Se{constructor(C,$,W,V){this.d=C,this.e=$,this.f=W,this.g=V}async provideDocumentOnDropEdits(C,$,W,V,ie){const fe=this.e.getDocument($),De=I.Position.to(W),ue=I.DataTransfer.toDataTransfer(V,async be=>(await this.d.$resolveDocumentOnDropFileData(this.g,C,be)).buffer),ve=await this.f.provideDocumentDropEdits(fe,De,ue,ie);if(!!ve)return{insertText:typeof ve.insertText=="string"?ve.insertText:{snippet:ve.insertText.value},additionalEdit:ve.additionalEdit?I.WorkspaceEdit.from(ve.additionalEdit,void 0):void 0}}}class ae{constructor(C,$){this.adapter=C,this.extension=$}}class le{constructor(C,$,W,V,ie,fe,De,ue){this.g=$,this.h=W,this.j=V,this.k=ie,this.l=fe,this.m=De,this.n=ue,this.f=new Map,this.e=C.getProxy(R.MainContext.MainThreadLanguageFeatures)}o(C){return I.DocumentSelector.from(C,this.g)}p(C){return new N.Disposable(()=>{this.f.delete(C),this.e.$unregister(C)})}q(){return le.d++}async s(C,$,W,V,ie,fe=!1){const De=this.f.get(C);if(!De||!(De.adapter instanceof $))return V;const ue=Date.now();fe||this.l.trace(`[${De.extension.identifier.value}] INVOKE provider '${W.toString().replace(/[\r\n]/g,"")}'`);const ve=W(De.adapter,De.extension);return Promise.resolve(ve).catch(be=>{(0,w.isCancellationError)(be)||(this.l.error(`[${De.extension.identifier.value}] provider FAILED`),this.l.error(be),this.n.onExtensionError(De.extension.identifier,be))}).finally(()=>{fe||this.l.trace(`[${De.extension.identifier.value}] provider DONE after ${Date.now()-ue}ms`)}),b.CancellationToken.isCancellationToken(ie)?(0,O.raceCancellationError)(ve,ie):ve}t(C,$){const W=this.q();return this.f.set(W,new ae(C,$)),W}static u(C){return C.displayName||C.name}registerDocumentSymbolProvider(C,$,W,V){const ie=this.t(new t(this.h,W),C),fe=V&&V.label||le.u(C);return this.e.$registerDocumentSymbolProvider(ie,this.o($),fe),this.p(ie)}$provideDocumentSymbols(C,$,W){return this.s(C,t,V=>V.provideDocumentSymbols(i.URI.revive($),W),void 0,W)}registerCodeLensProvider(C,$,W){const V=this.q(),ie=typeof W.onDidChangeCodeLenses=="function"?this.q():void 0;this.f.set(V,new ae(new d(this.h,this.j.converter,W),C)),this.e.$registerCodeLensSupport(V,this.o($),ie);let fe=this.p(V);if(ie!==void 0){const De=W.onDidChangeCodeLenses(ue=>this.e.$emitCodeLensEvent(ie));fe=N.Disposable.from(fe,De)}return fe}$provideCodeLenses(C,$,W){return this.s(C,d,V=>V.provideCodeLenses(i.URI.revive($),W),void 0,W)}$resolveCodeLens(C,$,W){return this.s(C,d,V=>V.resolveCodeLens($,W),void 0,void 0)}$releaseCodeLenses(C,$){this.s(C,d,W=>Promise.resolve(W.releaseCodeLenses($)),void 0,void 0)}registerDefinitionProvider(C,$,W){const V=this.t(new u(this.h,W),C);return this.e.$registerDefinitionSupport(V,this.o($)),this.p(V)}$provideDefinition(C,$,W,V){return this.s(C,u,ie=>ie.provideDefinition(i.URI.revive($),W,V),[],V)}registerDeclarationProvider(C,$,W){const V=this.t(new c(this.h,W),C);return this.e.$registerDeclarationSupport(V,this.o($)),this.p(V)}$provideDeclaration(C,$,W,V){return this.s(C,c,ie=>ie.provideDeclaration(i.URI.revive($),W,V),[],V)}registerImplementationProvider(C,$,W){const V=this.t(new y(this.h,W),C);return this.e.$registerImplementationSupport(V,this.o($)),this.p(V)}$provideImplementation(C,$,W,V){return this.s(C,y,ie=>ie.provideImplementation(i.URI.revive($),W,V),[],V)}registerTypeDefinitionProvider(C,$,W){const V=this.t(new n(this.h,W),C);return this.e.$registerTypeDefinitionSupport(V,this.o($)),this.p(V)}$provideTypeDefinition(C,$,W,V){return this.s(C,n,ie=>ie.provideTypeDefinition(i.URI.revive($),W,V),[],V)}registerHoverProvider(C,$,W,V){const ie=this.t(new s(this.h,W),C);return this.e.$registerHoverProvider(ie,this.o($)),this.p(ie)}$provideHover(C,$,W,V){return this.s(C,s,ie=>ie.provideHover(i.URI.revive($),W,V),void 0,V)}registerEvaluatableExpressionProvider(C,$,W,V){const ie=this.t(new f(this.h,W),C);return this.e.$registerEvaluatableExpressionProvider(ie,this.o($)),this.p(ie)}$provideEvaluatableExpression(C,$,W,V){return this.s(C,f,ie=>ie.provideEvaluatableExpression(i.URI.revive($),W,V),void 0,V)}registerInlineValuesProvider(C,$,W,V){const ie=typeof W.onDidChangeInlineValues=="function"?this.q():void 0,fe=this.t(new A(this.h,W),C);this.e.$registerInlineValuesProvider(fe,this.o($),ie);let De=this.p(fe);if(ie!==void 0){const ue=W.onDidChangeInlineValues(ve=>this.e.$emitInlineValuesEvent(ie));De=N.Disposable.from(De,ue)}return De}$provideInlineValues(C,$,W,V,ie){return this.s(C,A,fe=>fe.provideInlineValues(i.URI.revive($),W,V,ie),void 0,ie)}registerDocumentHighlightProvider(C,$,W){const V=this.t(new P(this.h,W),C);return this.e.$registerDocumentHighlightProvider(V,this.o($)),this.p(V)}$provideDocumentHighlights(C,$,W,V){return this.s(C,P,ie=>ie.provideDocumentHighlights(i.URI.revive($),W,V),void 0,V)}registerLinkedEditingRangeProvider(C,$,W){const V=this.t(new H(this.h,W),C);return this.e.$registerLinkedEditingRangeProvider(V,this.o($)),this.p(V)}$provideLinkedEditingRanges(C,$,W,V){return this.s(C,H,async ie=>{const fe=await ie.provideLinkedEditingRanges(i.URI.revive($),W,V);if(fe)return{ranges:fe.ranges,wordPattern:fe.wordPattern?le.w(fe.wordPattern):void 0}},void 0,V)}registerReferenceProvider(C,$,W){const V=this.t(new Y(this.h,W),C);return this.e.$registerReferenceSupport(V,this.o($)),this.p(V)}$provideReferences(C,$,W,V,ie){return this.s(C,Y,fe=>fe.provideReferences(i.URI.revive($),W,V,ie),void 0,ie)}registerCodeActionProvider(C,$,W,V){const ie=new g.DisposableStore,fe=this.t(new Z(this.h,this.j.converter,this.k,W,this.l,C,this.m),C);return this.e.$registerQuickFixSupport(fe,this.o($),{providedKinds:V?.providedCodeActionKinds?.map(De=>De.value),documentation:V?.documentation?.map(De=>({kind:De.kind.value,command:this.j.converter.toInternal(De.command,ie)}))},le.u(C),Boolean(W.resolveCodeAction)),ie.add(this.p(fe)),ie}$provideCodeActions(C,$,W,V,ie){return this.s(C,Z,fe=>fe.provideCodeActions(i.URI.revive($),W,V,ie),void 0,ie)}$resolveCodeAction(C,$,W){return this.s(C,Z,V=>V.resolveCodeAction($,W),void 0,void 0)}$releaseCodeActions(C,$){this.s(C,Z,W=>Promise.resolve(W.releaseCodeActions($)),void 0,void 0)}registerDocumentFormattingEditProvider(C,$,W){const V=this.t(new j(this.h,W),C);return this.e.$registerDocumentFormattingSupport(V,this.o($),C.identifier,C.displayName||C.name),this.p(V)}$provideDocumentFormattingEdits(C,$,W,V){return this.s(C,j,ie=>ie.provideDocumentFormattingEdits(i.URI.revive($),W,V),void 0,V)}registerDocumentRangeFormattingEditProvider(C,$,W){const V=this.t(new L(this.h,W),C);return this.e.$registerRangeFormattingSupport(V,this.o($),C.identifier,C.displayName||C.name),this.p(V)}$provideDocumentRangeFormattingEdits(C,$,W,V,ie){return this.s(C,L,fe=>fe.provideDocumentRangeFormattingEdits(i.URI.revive($),W,V,ie),void 0,ie)}registerOnTypeFormattingEditProvider(C,$,W,V){const ie=this.t(new m(this.h,W),C);return this.e.$registerOnTypeFormattingSupport(ie,this.o($),V,C.identifier),this.p(ie)}$provideOnTypeFormattingEdits(C,$,W,V,ie,fe){return this.s(C,m,De=>De.provideOnTypeFormattingEdits(i.URI.revive($),W,V,ie,fe),void 0,fe)}registerWorkspaceSymbolProvider(C,$){const W=this.t(new F($,this.l),C);return this.e.$registerNavigateTypeSupport(W,typeof $.resolveWorkspaceSymbol=="function"),this.p(W)}$provideWorkspaceSymbols(C,$,W){return this.s(C,F,V=>V.provideWorkspaceSymbols($,W),{symbols:[]},W)}$resolveWorkspaceSymbol(C,$,W){return this.s(C,F,V=>V.resolveWorkspaceSymbol($,W),void 0,void 0)}$releaseWorkspaceSymbols(C,$){this.s(C,F,W=>W.releaseWorkspaceSymbols($),void 0,void 0)}registerRenameProvider(C,$,W){const V=this.t(new B(this.h,W,this.l),C);return this.e.$registerRenameSupport(V,this.o($),B.supportsResolving(W)),this.p(V)}$provideRenameEdits(C,$,W,V,ie){return this.s(C,B,fe=>fe.provideRenameEdits(i.URI.revive($),W,V,ie),void 0,ie)}$resolveRenameLocation(C,$,W,V){return this.s(C,B,ie=>ie.resolveRenameLocation(i.URI.revive($),W,V),void 0,V)}registerDocumentSemanticTokensProvider(C,$,W,V){const ie=this.t(new me(this.h,W),C),fe=typeof W.onDidChangeSemanticTokens=="function"?this.q():void 0;this.e.$registerDocumentSemanticTokensProvider(ie,this.o($),V,fe);let De=this.p(ie);if(fe){const ue=W.onDidChangeSemanticTokens(ve=>this.e.$emitDocumentSemanticTokensEvent(fe));De=N.Disposable.from(De,ue)}return De}$provideDocumentSemanticTokens(C,$,W,V){return this.s(C,me,ie=>ie.provideDocumentSemanticTokens(i.URI.revive($),W,V),null,V)}$releaseDocumentSemanticTokens(C,$){this.s(C,me,W=>W.releaseDocumentSemanticColoring($),void 0,void 0)}registerDocumentRangeSemanticTokensProvider(C,$,W,V){const ie=this.t(new te(this.h,W),C);return this.e.$registerDocumentRangeSemanticTokensProvider(ie,this.o($),V),this.p(ie)}$provideDocumentRangeSemanticTokens(C,$,W,V){return this.s(C,te,ie=>ie.provideDocumentRangeSemanticTokens(i.URI.revive($),W,V),null,V)}registerCompletionItemProvider(C,$,W,V){const ie=this.t(new oe(this.h,this.j.converter,W,this.m,C),C);return this.e.$registerCompletionsProvider(ie,this.o($),V,oe.supportsResolving(W),`${C.identifier.value}(${V.join("")})`),this.p(ie)}$provideCompletionItems(C,$,W,V,ie){return this.s(C,oe,fe=>fe.provideCompletionItems(i.URI.revive($),W,V,ie),void 0,ie)}$resolveCompletionItem(C,$,W){return this.s(C,oe,V=>V.resolveCompletionItem($,W),void 0,W)}$releaseCompletionItems(C,$){this.s(C,oe,W=>W.releaseCompletionItems($),void 0,void 0)}registerInlineCompletionsProvider(C,$,W){const V=new we(C,this.h,W,this.j.converter),ie=this.t(V,C);return this.e.$registerInlineCompletionsSupport(ie,this.o($),V.supportsHandleEvents),this.p(ie)}$provideInlineCompletions(C,$,W,V,ie){return this.s(C,ce,fe=>fe.provideInlineCompletions(i.URI.revive($),W,V,ie),void 0,ie)}$handleInlineCompletionDidShow(C,$,W){this.s(C,ce,async V=>{V.handleDidShowCompletionItem($,W)},void 0,void 0)}$handleInlineCompletionPartialAccept(C,$,W,V){this.s(C,ce,async ie=>{ie.handlePartialAccept($,W,V)},void 0,void 0)}$freeInlineCompletionsList(C,$){this.s(C,ce,async W=>{W.disposeCompletions($)},void 0,void 0)}registerSignatureHelpProvider(C,$,W,V){const ie=Array.isArray(V)?{triggerCharacters:V,retriggerCharacters:[]}:V,fe=this.t(new K(this.h,W),C);return this.e.$registerSignatureHelpProvider(fe,this.o($),ie),this.p(fe)}$provideSignatureHelp(C,$,W,V,ie){return this.s(C,K,fe=>fe.provideSignatureHelp(i.URI.revive($),W,V,ie),void 0,ie)}$releaseSignatureHelp(C,$){this.s(C,K,W=>W.releaseSignatureHelp($),void 0,void 0)}registerInlayHintsProvider(C,$,W){const V=typeof W.onDidChangeInlayHints=="function"?this.q():void 0,ie=this.t(new X(this.h,this.j.converter,W,this.l,C),C);this.e.$registerInlayHintsProvider(ie,this.o($),typeof W.resolveInlayHint=="function",V,le.u(C));let fe=this.p(ie);if(V!==void 0){const De=W.onDidChangeInlayHints(ue=>this.e.$emitInlayHintsEvent(V));fe=N.Disposable.from(fe,De)}return fe}$provideInlayHints(C,$,W,V){return this.s(C,X,ie=>ie.provideInlayHints(i.URI.revive($),W,V),void 0,V)}$resolveInlayHint(C,$,W){return this.s(C,X,V=>V.resolveInlayHint($,W),void 0,W)}$releaseInlayHints(C,$){this.s(C,X,W=>W.releaseHints($),void 0,void 0)}registerDocumentLinkProvider(C,$,W){const V=this.t(new de(this.h,W),C);return this.e.$registerDocumentLinkProvider(V,this.o($),typeof W.resolveDocumentLink=="function"),this.p(V)}$provideDocumentLinks(C,$,W){return this.s(C,de,V=>V.provideLinks(i.URI.revive($),W),void 0,W,$.scheme==="output")}$resolveDocumentLink(C,$,W){return this.s(C,de,V=>V.resolveLink($,W),void 0,void 0,!0)}$releaseDocumentLinks(C,$){this.s(C,de,W=>W.releaseLinks($),void 0,void 0,!0)}registerColorProvider(C,$,W){const V=this.t(new ye(this.h,W),C);return this.e.$registerDocumentColorProvider(V,this.o($)),this.p(V)}$provideDocumentColors(C,$,W){return this.s(C,ye,V=>V.provideColors(i.URI.revive($),W),[],W)}$provideColorPresentations(C,$,W,V){return this.s(C,ye,ie=>ie.provideColorPresentations(i.URI.revive($),W,V),void 0,V)}registerFoldingRangeProvider(C,$,W){const V=this.q(),ie=typeof W.onDidChangeFoldingRanges=="function"?this.q():void 0;this.f.set(V,new ae(new Fe(this.h,W),C)),this.e.$registerFoldingRangeProvider(V,this.o($),C.identifier,ie);let fe=this.p(V);if(ie!==void 0){const De=W.onDidChangeFoldingRanges(()=>this.e.$emitFoldingRangeEvent(ie));fe=N.Disposable.from(fe,De)}return fe}$provideFoldingRanges(C,$,W,V){return this.s(C,Fe,ie=>ie.provideFoldingRanges(i.URI.revive($),W,V),void 0,V)}registerSelectionRangeProvider(C,$,W){const V=this.t(new ze(this.h,W,this.l),C);return this.e.$registerSelectionRangeProvider(V,this.o($)),this.p(V)}$provideSelectionRanges(C,$,W,V){return this.s(C,ze,ie=>ie.provideSelectionRanges(i.URI.revive($),W,V),[],V)}registerCallHierarchyProvider(C,$,W){const V=this.t(new Pe(this.h,W),C);return this.e.$registerCallHierarchyProvider(V,this.o($)),this.p(V)}$prepareCallHierarchy(C,$,W,V){return this.s(C,Pe,ie=>Promise.resolve(ie.prepareSession(i.URI.revive($),W,V)),void 0,V)}$provideCallHierarchyIncomingCalls(C,$,W,V){return this.s(C,Pe,ie=>ie.provideCallsTo($,W,V),void 0,V)}$provideCallHierarchyOutgoingCalls(C,$,W,V){return this.s(C,Pe,ie=>ie.provideCallsFrom($,W,V),void 0,V)}$releaseCallHierarchy(C,$){this.s(C,Pe,W=>Promise.resolve(W.releaseSession($)),void 0,void 0)}registerTypeHierarchyProvider(C,$,W){const V=this.t(new Ie(this.h,W),C);return this.e.$registerTypeHierarchyProvider(V,this.o($)),this.p(V)}$prepareTypeHierarchy(C,$,W,V){return this.s(C,Ie,ie=>Promise.resolve(ie.prepareSession(i.URI.revive($),W,V)),void 0,V)}$provideTypeHierarchySupertypes(C,$,W,V){return this.s(C,Ie,ie=>ie.provideSupertypes($,W,V),void 0,V)}$provideTypeHierarchySubtypes(C,$,W,V){return this.s(C,Ie,ie=>ie.provideSubtypes($,W,V),void 0,V)}$releaseTypeHierarchy(C,$){this.s(C,Ie,W=>Promise.resolve(W.releaseSession($)),void 0,void 0)}registerDocumentOnDropEditProvider(C,$,W){const V=this.q();return this.f.set(V,new ae(new Se(this.e,this.h,W,V),C)),this.e.$registerDocumentOnDropEditProvider(V,this.o($)),this.p(V)}$provideDocumentOnDropEdits(C,$,W,V,ie,fe){return this.s(C,Se,De=>Promise.resolve(De.provideDocumentOnDropEdits($,i.URI.revive(W),V,ie,fe)),void 0,void 0)}registerDocumentPasteEditProvider(C,$,W,V){const ie=this.q();return this.f.set(ie,new ae(new _(this.e,this.h,W,ie),C)),this.e.$registerPasteEditProvider(ie,this.o($),!!W.prepareDocumentPaste,V.pasteMimeTypes),this.p(ie)}$prepareDocumentPaste(C,$,W,V,ie){return this.s(C,_,fe=>fe.prepareDocumentPaste(i.URI.revive($),W,V,ie),void 0,ie)}$providePasteEdits(C,$,W,V,ie,fe){return this.s(C,_,De=>De.providePasteEdits($,i.URI.revive(W),V,ie,fe),void 0,fe)}static w(C){return{pattern:C.source,flags:(0,S.regExpFlags)(C)}}static y(C){return{decreaseIndentPattern:le.w(C.decreaseIndentPattern),increaseIndentPattern:le.w(C.increaseIndentPattern),indentNextLinePattern:C.indentNextLinePattern?le.w(C.indentNextLinePattern):void 0,unIndentedLinePattern:C.unIndentedLinePattern?le.w(C.unIndentedLinePattern):void 0}}static z(C){return{beforeText:le.w(C.beforeText),afterText:C.afterText?le.w(C.afterText):void 0,previousLineText:C.previousLineText?le.w(C.previousLineText):void 0,action:C.action}}static B(C){return C.map(le.z)}setLanguageConfiguration(C,$,W){const{wordPattern:V}=W;if(V&&(0,S.regExpLeadsToEndlessLoop)(V))throw new Error(`Invalid language configuration: wordPattern '${V}' is not allowed to match the empty string.`);V?this.h.setWordDefinitionFor($,V):this.h.setWordDefinitionFor($,void 0),W.__electricCharacterSupport&&this.m.report("LanguageConfiguration.__electricCharacterSupport",C,"Do not use."),W.__characterPairSupport&&this.m.report("LanguageConfiguration.__characterPairSupport",C,"Do not use.");const ie=this.q(),fe={comments:W.comments,brackets:W.brackets,wordPattern:W.wordPattern?le.w(W.wordPattern):void 0,indentationRules:W.indentationRules?le.y(W.indentationRules):void 0,onEnterRules:W.onEnterRules?le.B(W.onEnterRules):void 0,__electricCharacterSupport:W.__electricCharacterSupport,__characterPairSupport:W.__characterPairSupport};return this.e.$setLanguageConfiguration(ie,$,fe),this.p(ie)}$setWordDefinitions(C){for(const $ of C)this.h.setWordDefinitionFor($.languageId,new RegExp($.regexSource,$.regexFlags))}}le.d=0,e.ExtHostLanguageFeatures=le}),define(ke[220],Te([1,0,5,8,7,29,17,6]),function(ne,e,i,T,I,N,E,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostLanguages=void 0;class S{constructor(M,D,h,b){this.c=D,this.d=h,this.e=b,this.b=[],this.f=0,this.g=new Set,this.a=M.getProxy(i.MainContext.MainThreadLanguages)}$acceptLanguageIds(M){this.b=M}async getLanguages(){return this.b.slice(0)}async changeLanguage(M,D){await this.a.$changeLanguage(M,D);const h=this.c.getDocumentData(M);if(!h)throw new Error(`document '${M.toString()}' NOT found`);return h.document}async tokenAtPosition(M,D){const h=M.version,b=T.Position.from(D),g=await this.a.$tokensAtPosition(M.uri,b),a={type:I.StandardTokenType.Other,range:M.getWordRangeAtPosition(D)??new I.Range(D.line,D.character,D.line,D.character)};if(!g)return a;const o={range:T.Range.to(g.range),type:T.TokenType.to(g.type)};return!o.range.contains(D)||h!==M.version?a:o}createLanguageStatusItem(M,D,h){const b=this.f++,g=this.a,a=this.g,o=`${M.identifier.value}/${D}`;if(a.has(o))throw new Error(`LanguageStatusItem with id '${D}' ALREADY exists`);a.add(o);const l={selector:h,id:D,name:M.displayName??M.name,severity:I.LanguageStatusSeverity.Information,command:void 0,text:"",detail:"",busy:!1};let p;const w=new R.DisposableStore,O=()=>{p?.dispose(),p=(0,E.disposableTimeout)(()=>{w.clear(),this.a.$setLanguageStatus(b,{id:o,name:l.name??M.displayName??M.name,source:M.displayName??M.name,selector:T.DocumentSelector.from(l.selector,this.e),label:l.text,detail:l.detail??"",severity:l.severity===I.LanguageStatusSeverity.Error?N.default.Error:l.severity===I.LanguageStatusSeverity.Warning?N.default.Warning:N.default.Info,command:l.command&&this.d.toInternal(l.command,w),accessibilityInfo:l.accessibilityInformation,busy:l.busy})},0)},v={dispose(){w.dispose(),p?.dispose(),g.$removeLanguageStatus(b),a.delete(o)},get id(){return l.id},get name(){return l.name},set name(t){l.name=t,O()},get selector(){return l.selector},set selector(t){l.selector=t,O()},get text(){return l.text},set text(t){l.text=t,O()},get detail(){return l.detail},set detail(t){l.detail=t,O()},get severity(){return l.severity},set severity(t){l.severity=t,O()},get accessibilityInformation(){return l.accessibilityInformation},set accessibilityInformation(t){l.accessibilityInformation=t,O()},get command(){return l.command},set command(t){l.command=t,O()},get busy(){return l.busy},set busy(t){l.busy=t,O()}};return O(),v}}e.ExtHostLanguages=S}),define(ke[78],Te([1,0,20,10,2,3,12,5,27,18]),function(ne,e,i,T,I,N,E,R,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IExtHostLocalizationService=e.ExtHostLocalizationService=void 0;let M=class{constructor(h,b,g){this.f=g,this.d=new Map,this.a=b.getProxy(R.MainContext.MainThreadLocalization),this.b=h.environment.appLanguage,this.c=this.b===i.LANGUAGE_DEFAULT}getMessage(h,b){const{message:g,args:a,comment:o}=b;if(this.c)return(0,T.format2)(g,a??{});let l=g;o&&o.length>0&&(l+=`/${Array.isArray(o)?o.join(""):o}`);const p=this.d.get(h)?.contents[l];return p||this.f.warn(`Using default string since no string found in i18n bundle that has the key: ${l}`),(0,T.format2)(p??g,a??{})}getBundle(h){return this.d.get(h)?.contents}getBundleUri(h){return this.d.get(h)?.uri}async initializeLocalizedMessages(h){if(this.c||!h.l10n&&!h.isBuiltin||this.d.has(h.identifier.value))return;let b;const g=await this.g(h);if(!g){this.f.error(`No bundle location found for extension ${h.identifier.value}`);return}try{const a=await this.a.$fetchBundleContents(g),o=JSON.parse(a);b=h.isBuiltin?o.contents?.bundle:o}catch(a){this.f.error(`Failed to load translations for ${h.identifier.value} from ${g}: ${a.message}`);return}b&&this.d.set(h.identifier.value,{contents:b,uri:g})}async g(h){if(h.isBuiltin){const b=await this.a.$fetchBuiltInBundleUri(h.identifier.value,this.b);return I.URI.revive(b)}return h.l10n?I.URI.joinPath(h.extensionLocation,h.l10n,`bundle.l10n.${this.b}.json`):void 0}};M=qe([Ve(0,S.IExtHostInitDataService),Ve(1,k.IExtHostRpcService),Ve(2,E.ILogService)],M),e.ExtHostLocalizationService=M,e.IExtHostLocalizationService=(0,N.createDecorator)("IExtHostLocalizationService")}),define(ke[221],Te([1,0,12,5,27,18,2,66]),function(ne,e,i,T,I,N,E,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostLoggerService=void 0;let S=class extends i.AbstractLoggerService{constructor(D,h){super(h.logLevel,h.loggers.map(b=>(0,R.revive)(b))),this.l=D.getProxy(T.MainContext.MainThreadLogger)}$setLogLevel(D,h){h?this.setLogLevel(E.URI.revive(h),D):this.setLogLevel(D)}setVisibility(D,h){super.setVisibility(D,h),this.l.$setVisibility(D,h)}k(D,h,b){return new k(this.l,D,h,b)}};S=qe([Ve(0,N.IExtHostRpcService),Ve(1,I.IExtHostInitDataService)],S),e.ExtHostLoggerService=S;class k extends i.AbstractMessageLogger{constructor(D,h,b,g){super(g?.logLevel==="always"),this.m=D,this.n=h,this.k=!1,this.l=[],this.setLevel(b),this.m.$createLogger(h,g).then(()=>{this.r(this.l),this.k=!0})}g(D,h){const b=[[D,h]];this.k?this.r(b):this.l.push(...b)}r(D){this.m.$log(this.n,D)}}}),define(ke[222],Te([1,0,5,12,25]),function(ne,e,i,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostMessageService=void 0;function N(R){return R&&R.title}let E=class{constructor(S,k){this.b=k,this.a=S.getProxy(i.MainContext.MainThreadMessageService)}showMessage(S,k,M,D,h){const b={source:{identifier:S.identifier,label:S.displayName||S.name}};let g;typeof D=="string"||N(D)?g=[D,...h]:(b.modal=D?.modal,b.useCustom=D?.useCustom,b.detail=D?.detail,g=h),b.useCustom&&(0,I.checkProposedApiEnabled)(S,"resolvers");const a=[];for(let o=0;o<g.length;o++){const l=g[o];if(typeof l=="string")a.push({title:l,handle:o,isCloseAffordance:!1});else if(typeof l=="object"){const{title:p,isCloseAffordance:w}=l;a.push({title:p,isCloseAffordance:!!w,handle:o})}else this.b.warn("Invalid message item:",l)}return this.a.$showMessage(k,M,b,a).then(o=>{if(typeof o=="number")return g[o]})}};E=qe([Ve(1,T.ILogService)],E),e.ExtHostMessageService=E}),define(ke[223],Te([1,0,23,4,6,28,10,9,2,54,5,37,8,7,46,197,100]),function(ne,e,i,T,I,N,E,R,S,k,M,D,h,b,g,a,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostNotebookController=void 0;class l{get activeNotebookEditor(){return this.k?.apiEditor}get visibleNotebookEditors(){return this.l.map(w=>w.apiEditor)}constructor(w,O,v,t){this.q=v,this.r=t,this.f=new Map,this.g=new N.ResourceMap,this.h=new Map,this.j=new T.Emitter,this.onDidChangeActiveNotebookEditor=this.j.event,this.l=[],this.m=new T.Emitter,this.onDidOpenNotebookDocument=this.m.event,this.n=new T.Emitter,this.onDidCloseNotebookDocument=this.n.event,this.o=new T.Emitter,this.onDidChangeVisibleNotebookEditors=this.o.event,this.p=new k.Cache("NotebookCellStatusBarCache"),this.t=0,this.u=new Map,this.b=w.getProxy(M.MainContext.MainThreadNotebook),this.c=w.getProxy(M.MainContext.MainThreadNotebookDocuments),this.d=w.getProxy(M.MainContext.MainThreadNotebookEditors),this.i=O.converter,O.registerArgumentProcessor({processArgument:d=>{if(d&&d.$mid===13){const r=d.notebookEditor?.notebookUri,u=d.cell.handle,y=this.g.get(r)?.getCell(u);if(y)return y.apiCell}if(d&&d.$mid===14){const r=d.uri,u=this.g.get(r);if(u)return u.apiNotebook}return d}}),l.x(O)}getEditorById(w){const O=this.h.get(w);if(!O)throw new Error(`unknown text editor: ${w}. known editors: ${[...this.h.keys()]} `);return O}getIdByEditor(w){for(const[O,v]of this.h)if(v.apiEditor===w)return O}get notebookDocuments(){return[...this.g.values()]}getNotebookDocument(w,O){const v=this.g.get(w);if(!v&&!O)throw new Error(`NO notebook document for '${w}'`);return v}static s(w,O){if(!O)return;const v=O.filenamePattern.map(t=>h.NotebookExclusiveDocumentPattern.from(t)).filter(t=>t!==void 0);if(O.filenamePattern&&!v){console.warn(`Notebook content provider view options file name pattern is invalid ${O.filenamePattern}`);return}return{extension:w.identifier,providerDisplayName:w.displayName||w.name,displayName:O.displayName,filenamePattern:v,exclusive:O.exclusive||!1}}registerNotebookCellStatusBarItemProvider(w,O,v){const t=l.a++,d=typeof v.onDidChangeCellStatusBarItems=="function"?l.a++:void 0;this.f.set(t,v),this.b.$registerNotebookCellStatusBarItemProvider(t,d,O);let r;return d!==void 0&&(r=v.onDidChangeCellStatusBarItems(u=>this.b.$emitCellStatusBarEvent(d))),new b.Disposable(()=>{this.f.delete(t),this.b.$unregisterNotebookCellStatusBarItemProvider(t,d),r?.dispose()})}async createNotebookDocument(w){const O=await this.c.$tryCreateNotebook({viewType:w.viewType,content:w.content&&h.NotebookData.from(w.content)});return S.URI.revive(O)}async openNotebookDocument(w){const O=this.g.get(w);if(O)return O.apiNotebook;const v=await this.c.$tryOpenNotebook(w),t=this.g.get(S.URI.revive(v));return(0,R.assertIsDefined)(t?.apiNotebook)}async showNotebookDocument(w,O){S.URI.isUri(w)&&(w=await this.openNotebookDocument(w));let v;typeof O=="object"?v={position:h.ViewColumn.from(O.viewColumn),preserveFocus:O.preserveFocus,selections:O.selections&&O.selections.map(h.NotebookRange.from),pinned:typeof O.preview=="boolean"?!O.preview:void 0}:v={preserveFocus:!1};const t=await this.d.$tryShowNotebookDocument(w.uri,w.notebookType,v),d=t&&this.h.get(t)?.apiEditor;if(d)return d;throw t?new Error(`Could NOT open editor for "${w.uri.toString()}" because another editor opened in the meantime.`):new Error(`Could NOT open editor for "${w.uri.toString()}".`)}async $provideNotebookCellStatusBarItems(w,O,v,t){const d=this.f.get(w),r=S.URI.revive(O),u=this.g.get(r);if(!u||!d)return;const c=u.getCellFromIndex(v);if(!c)return;const y=await d.provideCellStatusBarItems(c.apiCell,t);if(!y)return;const n=new I.DisposableStore,s=this.p.add([n]),A=(Array.isArray(y)?y:[y]).map(P=>h.NotebookStatusBarItem.from(P,this.i,n));return{cacheId:s,items:A}}$releaseNotebookCellStatusBarItems(w){this.p.delete(w)}registerNotebookSerializer(w,O,v,t,d){if((0,E.isFalsyOrWhitespace)(O))throw new Error("viewType cannot be empty or just whitespace");const r=this.t++;return this.u.set(r,v),this.b.$registerNotebookSerializer(r,{id:w.identifier,location:w.extensionLocation},O,h.NotebookDocumentContentOptions.from(t),l.s(w,d)),(0,I.toDisposable)(()=>{this.b.$unregisterNotebookSerializer(r)})}async $dataToNotebook(w,O,v){const t=this.u.get(w);if(!t)throw new Error("NO serializer found");const d=await t.deserializeNotebook(O.buffer,v);return new g.SerializableObjectWithBuffers(h.NotebookData.from(d))}async $notebookToData(w,O,v){const t=this.u.get(w);if(!t)throw new Error("NO serializer found");const d=await t.serializeNotebook(h.NotebookData.to(O.value),v);return i.VSBuffer.wrap(d)}w(w,O,v){if(this.h.has(O))throw new Error(`editor with id ALREADY EXSIST: ${O}`);const t=new o.ExtHostNotebookEditor(O,this.d,w,v.visibleRanges.map(h.NotebookRange.to),v.selections.map(h.NotebookRange.to),typeof v.viewColumn=="number"?h.ViewColumn.to(v.viewColumn):void 0);this.h.set(O,t)}$acceptDocumentAndEditorsDelta(w){if(w.value.removedDocuments)for(const v of w.value.removedDocuments){const t=S.URI.revive(v),d=this.g.get(t);d&&(d.dispose(),this.g.delete(t),this.q.$acceptDocumentsAndEditorsDelta({removedDocuments:d.apiNotebook.getCells().map(r=>r.document.uri)}),this.n.fire(d.apiNotebook));for(const r of this.h.values())r.notebookData.uri.toString()===t.toString()&&this.h.delete(r.id)}if(w.value.addedDocuments){const v=[];for(const t of w.value.addedDocuments){const d=S.URI.revive(t.uri);if(this.g.has(d))throw new Error(`adding EXISTING notebook ${d} `);const r=new a.ExtHostNotebookDocument(this.c,this.q,this.r,d,t);v.push(...t.cells.map(u=>a.ExtHostCell.asModelAddData(r.apiNotebook,u))),this.g.get(d)?.dispose(),this.g.set(d,r),this.q.$acceptDocumentsAndEditorsDelta({addedDocuments:v}),this.m.fire(r.apiNotebook)}}if(w.value.addedEditors)for(const v of w.value.addedEditors){if(this.h.has(v.id))return;const t=S.URI.revive(v.documentUri),d=this.g.get(t);d&&this.w(d,v.id,v)}const O=[];if(w.value.removedEditors)for(const v of w.value.removedEditors){const t=this.h.get(v);t&&(this.h.delete(v),this.k?.id===t.id&&(this.k=void 0),O.push(t))}if(w.value.visibleEditors){this.l=w.value.visibleEditors.map(t=>this.h.get(t)).filter(t=>!!t);const v=new Set;this.l.forEach(t=>v.add(t.id));for(const t of this.h.values()){const d=v.has(t.id);t._acceptVisibility(d)}this.l=[...this.h.values()].map(t=>t).filter(t=>t.visible),this.o.fire(this.visibleNotebookEditors)}w.value.newActiveEditor===null?this.k=void 0:w.value.newActiveEditor&&(this.h.get(w.value.newActiveEditor)||console.error(`FAILED to find active notebook editor ${w.value.newActiveEditor}`),this.k=this.h.get(w.value.newActiveEditor)),w.value.newActiveEditor!==void 0&&this.j.fire(this.k?.apiEditor)}static x(w){const O=D.ApiCommandArgument.String.with("notebookType","A notebook type"),v=new D.ApiCommand("vscode.executeDataToNotebook","_executeDataToNotebook","Invoke notebook serializer",[O,new D.ApiCommandArgument("data","Bytes to convert to data",d=>d instanceof Uint8Array,d=>i.VSBuffer.wrap(d))],new D.ApiCommandResult("Notebook Data",d=>h.NotebookData.to(d.value))),t=new D.ApiCommand("vscode.executeNotebookToData","_executeNotebookToData","Invoke notebook serializer",[O,new D.ApiCommandArgument("NotebookData","Notebook data to convert to bytes",d=>!0,d=>new g.SerializableObjectWithBuffers(h.NotebookData.from(d)))],new D.ApiCommandResult("Bytes",d=>d.buffer));w.registerApiCommand(v),w.registerApiCommand(t)}}l.a=0,e.ExtHostNotebookController=l}),define(ke[224],Te([1,0,16,17,21,4,6,28,2,26,12,54,5,37,8,7,73,187,25,46]),function(ne,e,i,T,I,N,E,R,S,k,M,D,h,b,g,a,o,l,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createKernelId=e.ExtHostNotebookKernels=void 0;let O=class{constructor(c,y,n,s,f){this.k=y,this.l=n,this.m=s,this.n=f,this.b=new R.ResourceMap,this.c=new Map,this.d=0,this.e=new Map,this.f=0,this.g=new D.Cache("NotebookKernelSourceActionProviderCache"),this.h=new Map,this.i=0,this.j=new N.Emitter,this.onDidChangeNotebookCellExecutionState=this.j.event,this.a=c.getProxy(h.MainContext.MainThreadNotebookKernels);const A=new b.ApiCommand("notebook.selectKernel","_notebook.selectKernel","Trigger kernel picker for specified notebook editor widget",[new b.ApiCommandArgument("options","Select kernel options",P=>!0,P=>{if(P&&"notebookEditor"in P&&"id"in P){const H=this.l.getIdByEditor(P.notebookEditor);return{id:P.id,extension:P.extension,notebookEditorId:H}}else if(P&&"notebookEditor"in P){const H=this.l.getIdByEditor(P.notebookEditor);if(H===void 0)throw new Error(`Cannot invoke 'notebook.selectKernel' for unrecognized notebook editor ${P.notebookEditor.notebook.uri.toString()}`);return{notebookEditorId:H}}return P})],b.ApiCommandResult.Void);this.m.registerApiCommand(A)}createNotebookController(c,y,n,s,f,A){for(const ce of this.h.values())if(ce.controller.id===y&&k.ExtensionIdentifier.equals(c.identifier,ce.extensionId))throw new Error(`notebook controller with id '${y}' ALREADY exist`);const P=this.i++,H=this;this.n.trace(`NotebookController[${P}], CREATED by ${c.identifier.value}, ${y}`);const Y=()=>console.warn(`NO execute handler from notebook controller '${m.id}' of extension: '${c.identifier}'`);let Z=!1;const _=new E.DisposableStore,j=new N.Emitter,L=new N.Emitter,m={id:r(c.identifier,y),notebookType:n,extensionId:c.identifier,extensionLocation:c.extensionLocation,label:s||c.identifier.value,preloads:A?A.map(g.NotebookRendererScript.from):[]};let F=f??Y,B;this.a.$addKernel(P,m).catch(ce=>{console.log(ce),Z=!0});let J=0;const me=()=>{if(Z)return;const ce=++J;Promise.resolve().then(()=>{ce===J&&this.a.$updateKernel(P,m)})},te=new R.ResourceMap,oe={get id(){return y},get notebookType(){return m.notebookType},onDidChangeSelectedNotebooks:j.event,get label(){return m.label},set label(ce){m.label=ce??c.displayName??c.name,me()},get detail(){return m.detail??""},set detail(ce){m.detail=ce,me()},get description(){return m.description??""},set description(ce){m.description=ce,me()},get kind(){return(0,p.checkProposedApiEnabled)(c,"notebookControllerKind"),m.kind??""},set kind(ce){(0,p.checkProposedApiEnabled)(c,"notebookControllerKind"),m.kind=ce,me()},get supportedLanguages(){return m.supportedLanguages},set supportedLanguages(ce){m.supportedLanguages=ce,me()},get supportsExecutionOrder(){return m.supportsExecutionOrder??!1},set supportsExecutionOrder(ce){m.supportsExecutionOrder=ce,me()},get rendererScripts(){return m.preloads?m.preloads.map(g.NotebookRendererScript.to):[]},get executeHandler(){return F},set executeHandler(ce){F=ce??Y},get interruptHandler(){return B},set interruptHandler(ce){B=ce,m.supportsInterrupt=Boolean(ce),me()},createNotebookCellExecution(ce){if(Z)throw new Error("notebook controller is DISPOSED");if(!te.has(ce.notebook.uri))throw H.n.trace(`NotebookController[${P}] NOT associated to notebook, associated to THESE notebooks:`,Array.from(te.keys()).map(we=>we.toString())),new Error(`notebook controller is NOT associated to notebook: ${ce.notebook.uri.toString()}`);return H._createNotebookCellExecution(ce,r(c.identifier,this.id))},dispose:()=>{Z||(this.n.trace(`NotebookController[${P}], DISPOSED`),Z=!0,this.h.delete(P),_.dispose(),j.dispose(),L.dispose(),this.a.$removeKernel(P))},updateNotebookAffinity(ce,we){we===a.NotebookControllerAffinity2.Hidden&&(0,p.checkProposedApiEnabled)(c,"notebookControllerAffinityHidden"),H.a.$updateNotebookPriority(P,ce.uri,we)},onDidReceiveMessage:L.event,postMessage(ce,we){return(0,p.checkProposedApiEnabled)(c,"notebookMessaging"),H.a.$postMessage(P,we&&H.l.getIdByEditor(we),ce)},asWebviewUri(ce){return(0,p.checkProposedApiEnabled)(c,"notebookMessaging"),(0,o.asWebviewUri)(ce,H.k.remote)}};return this.h.set(P,{extensionId:c.identifier,controller:oe,onDidReceiveMessage:L,onDidChangeSelection:j,associatedNotebooks:te}),oe}getIdByController(c){for(const[y,n]of this.h)if(n.controller===c)return r(n.extensionId,c.id);return null}createNotebookControllerDetectionTask(c,y){const n=this.d++,s=this;this.n.trace(`NotebookControllerDetectionTask[${n}], CREATED by ${c.identifier.value}`),this.a.$addKernelDetectionTask(n,y);const f={dispose:()=>{this.c.delete(n),s.a.$removeKernelDetectionTask(n)}};return this.c.set(n,f),f}registerKernelSourceActionProvider(c,y,n){const s=this.f++,f=typeof n.onDidChangeNotebookKernelSourceActions=="function"?s:void 0,A=this;this.e.set(s,n),this.n.trace(`NotebookKernelSourceActionProvider[${s}], CREATED by ${c.identifier.value}`),this.a.$addKernelSourceActionProvider(s,s,y);let P;return f!==void 0&&(P=n.onDidChangeNotebookKernelSourceActions(H=>this.a.$emitNotebookKernelSourceActionsChangeEvent(f))),{dispose:()=>{this.e.delete(s),A.a.$removeKernelSourceActionProvider(s,s),P?.dispose()}}}async $provideKernelSourceActions(c,y){const n=this.e.get(c);if(n){const s=new E.DisposableStore;return this.g.add([s]),(await n.provideNotebookKernelSourceActions(y)??[]).map(A=>g.NotebookKernelSourceAction.from(A,this.m.converter,s))}return[]}$acceptNotebookAssociation(c,y,n){const s=this.h.get(c);if(s){const f=this.l.getNotebookDocument(S.URI.revive(y));n?s.associatedNotebooks.set(f.uri,!0):s.associatedNotebooks.delete(f.uri),this.n.trace(`NotebookController[${c}] ASSOCIATE notebook`,f.uri.toString(),n),s.onDidChangeSelection.fire({selected:n,notebook:f.apiNotebook})}}async $executeCells(c,y,n){const s=this.h.get(c);if(!s)return;const f=this.l.getNotebookDocument(S.URI.revive(y)),A=[];for(const P of n){const H=f.getCell(P);H&&A.push(H.apiCell)}try{this.n.trace(`NotebookController[${c}] EXECUTE cells`,f.uri.toString(),A.length),await s.controller.executeHandler.call(s.controller,A,f.apiNotebook,s.controller)}catch(P){this.n.error(`NotebookController[${c}] execute cells FAILED`,P),console.error(P)}}async $cancelCells(c,y,n){const s=this.h.get(c);if(!s)return;const f=this.l.getNotebookDocument(S.URI.revive(y));if(s.controller.interruptHandler)await s.controller.interruptHandler.call(s.controller,f.apiNotebook);else for(const A of n){const P=f.getCell(A);P&&this.b.get(P.uri)?.cancel()}}$acceptKernelMessageFromRenderer(c,y,n){const s=this.h.get(c);if(!s)return;const f=this.l.getEditorById(y);s.onDidReceiveMessage.fire(Object.freeze({editor:f.apiEditor,message:n}))}$cellExecutionChanged(c,y,n){const f=this.l.getNotebookDocument(S.URI.revive(c)).getCell(y);if(f){const A=n?g.NotebookCellExecutionState.to(n):a.NotebookCellExecutionState.Idle;A!==void 0&&this.j.fire({cell:f.apiCell,state:A})}}_createNotebookCellExecution(c,y){if(c.index<0)throw new Error("CANNOT execute cell that has been REMOVED from notebook");const s=this.l.getNotebookDocument(c.notebook.uri).getCellFromApiCell(c);if(!s)throw new Error("invalid cell");if(this.b.has(s.uri))throw new Error(`duplicate execution for ${s.uri}`);const f=new t(y,s,this.a);this.b.set(s.uri,f);const A=f.onDidChangeState(()=>{f.state===v.Resolved&&(f.dispose(),A.dispose(),this.b.delete(s.uri))});return f.asApiObject()}};O=qe([Ve(4,M.ILogService)],O),e.ExtHostNotebookKernels=O;var v;(function(u){u[u.Init=0]="Init",u[u.Started=1]="Started",u[u.Resolved=2]="Resolved"})(v||(v={}));class t extends E.Disposable{get state(){return this.f}constructor(c,y,n){super(),this.j=y,this.k=n,this.b=t.a++,this.c=new N.Emitter,this.onDidChangeState=this.c.event,this.f=v.Init,this.g=this.B(new I.CancellationTokenSource),this.h=new d(10,s=>this.m(s)),this.i=y.internalMetadata.executionOrder,this.k.$createExecution(this.b,c,this.j.notebook.uri,this.j.handle)}cancel(){this.g.cancel()}async l(c){await this.h.addItem(c)}async m(c){const y=Array.isArray(c)?c:[c];return this.k.$updateExecution(this.b,new w.SerializableObjectWithBuffers(y))}n(){if(this.f===v.Init)throw new Error("Must call start before modifying cell output");if(this.f===v.Resolved)throw new Error("Cannot modify cell output after calling resolve")}r(c){let y=this.j;if(c&&(y=this.j.notebook.getCellFromApiCell(c)),!y)throw new Error("INVALID cell");return y.handle}s(c){return c.map(y=>{const n=a.NotebookCellOutput.ensureUniqueMimeTypes(y.items,!0);return n===y.items?g.NotebookCellOutput.from(y):g.NotebookCellOutput.from({items:n,id:y.id,metadata:y.metadata})})}async t(c,y,n){const s=this.r(y),f=this.s((0,i.asArray)(c));return this.l({editType:l.CellExecutionUpdateType.Output,cellHandle:s,append:n,outputs:f})}async w(c,y,n){return c=a.NotebookCellOutput.ensureUniqueMimeTypes((0,i.asArray)(c),!0),this.l({editType:l.CellExecutionUpdateType.OutputItems,items:c.map(g.NotebookCellOutputItem.from),outputId:y.id,append:n})}asApiObject(){const c=this;return Object.freeze({get token(){return c.g.token},get cell(){return c.j.apiCell},get executionOrder(){return c.i},set executionOrder(n){c.i=n,c.m([{editType:l.CellExecutionUpdateType.ExecutionState,executionOrder:c.i}])},start(n){if(c.f===v.Resolved||c.f===v.Started)throw new Error("Cannot call start again");c.f=v.Started,c.c.fire(),c.m({editType:l.CellExecutionUpdateType.ExecutionState,runStartTime:n})},end(n,s){if(c.f===v.Resolved)throw new Error("Cannot call resolve twice");c.f=v.Resolved,c.c.fire(),c.h.flush(),c.k.$completeExecution(c.b,new w.SerializableObjectWithBuffers({runEndTime:s,lastRunSuccess:n}))},clearOutput(n){return c.n(),c.t([],n,!1)},appendOutput(n,s){return c.n(),c.t(n,s,!0)},replaceOutput(n,s){return c.n(),c.t(n,s,!1)},appendOutputItems(n,s){return c.n(),c.w(n,s,!0)},replaceOutputItems(n,s){return c.n(),c.w(n,s,!1)}})}}t.a=0;class d{constructor(c,y){this.d=c,this.e=y,this.a=[],this.b=Date.now()}addItem(c){return this.a.push(c),this.c||(this.c=new T.DeferredPromise,this.b=Date.now(),(0,T.timeout)(this.d).then(()=>this.flush())),Date.now()-this.b>this.d?this.flush():this.c.p}flush(){if(this.a.length===0||!this.c)return Promise.resolve();const c=this.c;this.c=void 0;const y=this.a;return this.a=[],this.e(y).finally(()=>c.complete())}}function r(u,c){return`${u.value}/${c}`}e.createKernelId=r}),define(ke[225],Te([1,0,4,5,100]),function(ne,e,i,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostNotebookRenderers=void 0;class N{constructor(R,S){this.c=S,this.a=new Map,this.b=R.getProxy(T.MainContext.MainThreadNotebookRenderers)}$postRendererMessage(R,S,k){const M=this.c.getEditorById(R);this.a.get(S)?.fire({editor:M.apiEditor,message:k})}createRendererMessaging(R,S){if(!R.contributes?.notebookRenderer?.some(M=>M.id===S))throw new Error(`Extensions may only call createRendererMessaging() for renderers they contribute (got ${S})`);return{onDidReceiveMessage:(M,D,h)=>this.d(S).event(M,D,h),postMessage:(M,D)=>{I.ExtHostNotebookEditor.apiEditorsToExtHost.has(M)&&([M,D]=[D,M]);const h=D&&I.ExtHostNotebookEditor.apiEditorsToExtHost.get(D);return this.b.$postMessage(h?.id,S,M)}}}d(R){let S=this.a.get(R);return S||(S=new i.Emitter({onDidRemoveLastListener:()=>{S?.dispose(),this.a.delete(R)}}),this.a.set(R,S),S)}}e.ExtHostNotebookRenderers=N}),define(ke[226],Te([1,0,6,9,2,25,5]),function(ne,e,i,T,I,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostProfileContentHandlers=void 0;class R{constructor(k){this.b=new Map,this.a=k.getProxy(E.MainContext.MainThreadProfileContentHandlers)}registrProfileContentHandler(k,M,D){if((0,N.checkProposedApiEnabled)(k,"profileContentHandlers"),this.b.has(M))throw new Error(`Handler with id '${M}' already registered`);return this.b.set(M,D),this.a.$registerProfileContentHandler(M,D.name,D.description,k.identifier.value),(0,i.toDisposable)(()=>{this.b.delete(M),this.a.$unregisterProfileContentHandler(M)})}async $saveProfile(k,M,D,h){const b=this.b.get(k);if(!b)throw new Error(`Unknown handler with id: ${k}`);return b.saveProfile(M,D,h)}async $readProfile(k,M,D){const h=this.b.get(k);if(!h)throw new Error(`Unknown handler with id: ${k}`);return h.readProfile((0,T.isString)(M)?M:I.URI.revive(M),D)}}e.ExtHostProfileContentHandlers=R}),define(ke[227],Te([1,0,2,5,17,8]),function(ne,e,i,T,I,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostQuickDiff=void 0;class E{constructor(S,k){this.d=k,this.c=new Map,this.b=S.getProxy(T.MainContext.MainThreadQuickDiff)}$provideOriginalResource(S,k,M){const D=i.URI.revive(k),h=this.c.get(S);return h?(0,I.asPromise)(()=>h.provideOriginalResource(D,M)).then(b=>b||null):Promise.resolve(null)}registerQuickDiffProvider(S,k,M,D){const h=E.a++;return this.c.set(h,k),this.b.$registerQuickDiffProvider(h,N.DocumentSelector.from(S,this.d),M,D),{dispose:()=>{this.b.$unregisterQuickDiffProvider(h),this.c.delete(h)}}}}E.a=0,e.ExtHostQuickDiff=E}),define(ke[228],Te([1,0,21,4,6,5,2,7,11,16,29,38,25,8]),function(ne,e,i,T,I,N,E,R,S,k,M,D,h,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createExtHostQuickOpen=void 0;function g(a,o,l){const p=a.getProxy(N.MainContext.MainThreadQuickOpen);class w{constructor(n,s){this.e=new Map,this.f=0,this.a=n,this.b=s}showQuickPick(n,s,f,A=i.CancellationToken.None){this.c=void 0;const P=Promise.resolve(s),H=++this.f,Y=p.$show(H,{title:f?.title,placeHolder:f?.placeHolder,matchOnDescription:f?.matchOnDescription,matchOnDetail:f?.matchOnDetail,ignoreFocusLost:f?.ignoreFocusOut,canPickMany:f?.canPickMany},A),Z={},_=Y.then(()=>Z);return Promise.race([_,P]).then(j=>{if(j===Z)return;const L=(0,h.isProposedApiEnabled)(n,"quickPickItemTooltip");return P.then(m=>{const F=[];for(let B=0;B<m.length;B++){const J=m[B];typeof J=="string"?F.push({label:J,handle:B}):J.kind===R.QuickPickItemKind.Separator?F.push({type:"separator",label:J.label}):(J.tooltip&&!L&&console.warn(`Extension '${n.identifier.value}' uses a tooltip which is proposed API that is only available when running out of dev or with the following command line switch: --enable-proposed-api ${n.identifier.value}`),F.push({label:J.label,description:J.description,detail:J.detail,picked:J.picked,alwaysShow:J.alwaysShow,tooltip:L?b.MarkdownString.fromStrict(J.tooltip):void 0,handle:B}))}return f&&typeof f.onDidSelectItem=="function"&&(this.c=B=>{f.onDidSelectItem(m[B])}),p.$setItems(H,F),Y.then(B=>{if(typeof B=="number")return m[B];if(Array.isArray(B))return B.map(J=>m[J])})})}).then(void 0,j=>{if(!(0,S.isCancellationError)(j))return p.$setError(H,j),Promise.reject(j)})}$onItemSelected(n){this.c?.(n)}showInput(n,s=i.CancellationToken.None){return this.d=n?.validateInput,p.$input(n,typeof this.d=="function",s).then(void 0,f=>{if(!(0,S.isCancellationError)(f))return Promise.reject(f)})}async $validateInput(n){if(!this.d)return;const s=await this.d(n);if(!s||typeof s=="string")return s;let f;switch(s.severity){case R.InputBoxValidationSeverity.Info:f=M.default.Info;break;case R.InputBoxValidationSeverity.Warning:f=M.default.Warning;break;case R.InputBoxValidationSeverity.Error:f=M.default.Error;break;default:f=s.message?M.default.Error:M.default.Ignore;break}return{content:s.message,severity:f}}async showWorkspaceFolderPick(n,s=i.CancellationToken.None){const f=await this.b.executeCommand("_workbench.pickWorkspaceFolder",[n]);if(!f)return;const A=await this.a.getWorkspaceFolders2();if(!!A)return A.find(P=>P.uri.toString()===f.uri.toString())}createQuickPick(n){const s=new u(n,()=>this.e.delete(s._id));return this.e.set(s._id,s),s}createInputBox(n){const s=new c(n,()=>this.e.delete(s._id));return this.e.set(s._id,s),s}$onDidChangeValue(n,s){this.e.get(n)?._fireDidChangeValue(s)}$onDidAccept(n){this.e.get(n)?._fireDidAccept()}$onDidChangeActive(n,s){const f=this.e.get(n);f instanceof u&&f._fireDidChangeActive(s)}$onDidChangeSelection(n,s){const f=this.e.get(n);f instanceof u&&f._fireDidChangeSelection(s)}$onDidTriggerButton(n,s){this.e.get(n)?._fireDidTriggerButton(s)}$onDidTriggerItemButton(n,s,f){const A=this.e.get(n);A instanceof u&&A._fireDidTriggerItemButton(s,f)}$onDidHide(n){this.e.get(n)?._fireDidHide()}}class O{constructor(n,s){this.x=n,this.y=s,this._id=u.a++,this.e=!1,this.f=!1,this.g=!0,this.j=!1,this.k=!0,this.l="",this.n=[],this.o=new Map,this.p=new T.Emitter,this.q=new T.Emitter,this.r=new T.Emitter,this.s=new T.Emitter,this.u={id:this._id},this.v=!1,this.w=[this.r,this.s,this.p,this.q],this.onDidChangeValue=this.q.event,this.onDidAccept=this.p.event,this.onDidTriggerButton=this.r.event,this.onDidHide=this.s.event}get title(){return this.b}set title(n){this.b=n,this.z({title:n})}get step(){return this.c}set step(n){this.c=n,this.z({step:n})}get totalSteps(){return this.d}set totalSteps(n){this.d=n,this.z({totalSteps:n})}get enabled(){return this.g}set enabled(n){this.g=n,this.z({enabled:n})}get busy(){return this.j}set busy(n){this.j=n,this.z({busy:n})}get ignoreFocusOut(){return this.k}set ignoreFocusOut(n){this.k=n,this.z({ignoreFocusOut:n})}get value(){return this.l}set value(n){this.l=n,this.z({value:n})}get placeholder(){return this.m}set placeholder(n){this.m=n,this.z({placeholder:n})}get buttons(){return this.n}set buttons(n){this.n=n.slice(),this.o.clear(),n.forEach((s,f)=>{const A=s===R.QuickInputButtons.Back?-1:f;this.o.set(A,s)}),this.z({buttons:n.map((s,f)=>({...r(s),tooltip:s.tooltip,handle:s===R.QuickInputButtons.Back?-1:f}))})}show(){this.e=!0,this.f=!0,this.z({visible:!0})}hide(){this.e=!1,this.z({visible:!1})}_fireDidAccept(){this.p.fire()}_fireDidChangeValue(n){this.l=n,this.q.fire(n)}_fireDidTriggerButton(n){const s=this.o.get(n);s&&this.r.fire(s)}_fireDidHide(){this.f&&(this.f=this.e,this.s.fire())}dispose(){this.v||(this.v=!0,this._fireDidHide(),this.w=(0,I.dispose)(this.w),this.t&&(clearTimeout(this.t),this.t=void 0),this.y(),p.$dispose(this._id))}z(n){if(!this.v){for(const s of Object.keys(n)){const f=n[s];this.u[s]=f===void 0?null:f}"visible"in this.u?(this.t&&(clearTimeout(this.t),this.t=void 0),this.A()):this.e&&!this.t&&(this.t=setTimeout(()=>{this.t=void 0,this.A()},0))}}A(){p.$createOrUpdate(this.u),this.u={id:this._id}}}O.a=1;function v(y){if(y instanceof R.ThemeIcon)return{id:y.id};const n=d(y),s=t(y);return{dark:typeof n=="string"?E.URI.file(n):n,light:typeof s=="string"?E.URI.file(s):s}}function t(y){return typeof y=="object"&&"light"in y?y.light:y}function d(y){return typeof y=="object"&&"dark"in y?y.dark:y}function r(y){const n=v(y.iconPath);let s,f;return"id"in n?f=D.ThemeIcon.asClassName(n):s=n,{iconPath:s,iconClass:f}}class u extends O{constructor(n,s){super(n.identifier,s),this.O=n,this.B=[],this.C=new Map,this.D=new Map,this.E=!1,this.F=!0,this.G=!0,this.H=!0,this.I=!1,this.J=[],this.K=new T.Emitter,this.L=[],this.M=new T.Emitter,this.N=new T.Emitter,this.onDidChangeActive=this.K.event,this.onDidChangeSelection=this.M.event,this.onDidTriggerItemButton=this.N.event,this.w.push(this.K,this.M,this.N),this.z({type:"quickPick"})}get items(){return this.B}set items(n){this.B=n.slice(),this.C.clear(),this.D.clear(),n.forEach((A,P)=>{this.C.set(P,A),this.D.set(A,P)});const s=(0,h.isProposedApiEnabled)(this.O,"quickPickItemTooltip"),f=[];for(let A=0;A<n.length;A++){const P=n[A];P.kind===R.QuickPickItemKind.Separator?f.push({type:"separator",label:P.label}):(P.tooltip&&!s&&console.warn(`Extension '${this.O.identifier.value}' uses a tooltip which is proposed API that is only available when running out of dev or with the following command line switch: --enable-proposed-api ${this.O.identifier.value}`),f.push({handle:A,label:P.label,description:P.description,detail:P.detail,picked:P.picked,alwaysShow:P.alwaysShow,tooltip:s?b.MarkdownString.fromStrict(P.tooltip):void 0,buttons:P.buttons?.map((H,Y)=>({...r(H),tooltip:H.tooltip,handle:Y}))}))}this.z({items:f})}get canSelectMany(){return this.E}set canSelectMany(n){this.E=n,this.z({canSelectMany:n})}get matchOnDescription(){return this.F}set matchOnDescription(n){this.F=n,this.z({matchOnDescription:n})}get matchOnDetail(){return this.G}set matchOnDetail(n){this.G=n,this.z({matchOnDetail:n})}get sortByLabel(){return this.H}set sortByLabel(n){this.H=n,this.z({sortByLabel:n})}get keepScrollPosition(){return this.I}set keepScrollPosition(n){this.I=n,this.z({keepScrollPosition:n})}get activeItems(){return this.J}set activeItems(n){this.J=n.filter(s=>this.D.has(s)),this.z({activeItems:this.J.map(s=>this.D.get(s))})}get selectedItems(){return this.L}set selectedItems(n){this.L=n.filter(s=>this.D.has(s)),this.z({selectedItems:this.L.map(s=>this.D.get(s))})}_fireDidChangeActive(n){const s=(0,k.coalesce)(n.map(f=>this.C.get(f)));this.J=s,this.K.fire(s)}_fireDidChangeSelection(n){const s=(0,k.coalesce)(n.map(f=>this.C.get(f)));this.L=s,this.M.fire(s)}_fireDidTriggerItemButton(n,s){const f=this.C.get(n);if(!f||!f.buttons||!f.buttons.length)return;const A=f.buttons[s];A&&this.N.fire({button:A,item:f})}}class c extends O{constructor(n,s){super(n.identifier,s),this.B=!1,this.z({type:"inputBox"})}get password(){return this.B}set password(n){this.B=n,this.z({password:n})}get prompt(){return this.C}set prompt(n){this.C=n,this.z({prompt:n})}get valueSelection(){return this.D}set valueSelection(n){this.D=n,this.z({valueSelection:n})}get validationMessage(){return this.E}set validationMessage(n){this.E=n,n?typeof n=="string"?this.z({validationMessage:n,severity:M.default.Error}):this.z({validationMessage:n.message,severity:n.severity??M.default.Error}):this.z({validationMessage:void 0,severity:M.default.Ignore})}}return new w(o,l)}e.createExtHostQuickOpen=g});var Le=this&&this.__classPrivateFieldGet||function(ne,e,i,T){if(i==="a"&&!T)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?ne!==e||!T:!e.has(ne))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?T:i==="a"?T.call(ne):T?T.value:e.get(ne)},Je=this&&this.__classPrivateFieldSet||function(ne,e,i,T,I){if(T==="m")throw new TypeError("Private method is not writable");if(T==="a"&&!I)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?ne!==e||!I:!e.has(ne))throw new TypeError("Cannot write private member to an object whose class did not declare it");return T==="a"?I.call(ne,i):I?I.value=i:e.set(ne,i),i};define(ke[229],Te([1,0,2,4,64,6,17,5,16,123,12,26,38,8,25]),function(ne,e,i,T,I,N,E,R,S,k,M,D,h,b,g){"use strict";var a,o;Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostSCM=e.ExtHostSCMInputBox=void 0;function l(s){if(s)return typeof s.iconPath=="string"?i.URI.file(s.iconPath):i.URI.isUri(s.iconPath)||h.ThemeIcon.isThemeIcon(s.iconPath)?s.iconPath:void 0}function p(s,f){if(!s.iconPath&&!f.iconPath)return 0;if(s.iconPath){if(!f.iconPath)return 1}else return-1;const A=typeof s.iconPath=="string"?s.iconPath:i.URI.isUri(s.iconPath)?s.iconPath.fsPath:s.iconPath.id,P=typeof f.iconPath=="string"?f.iconPath:i.URI.isUri(f.iconPath)?f.iconPath.fsPath:f.iconPath.id;return(0,k.comparePaths)(A,P)}function w(s,f){let A=0;if(s.strikeThrough!==f.strikeThrough)return s.strikeThrough?1:-1;if(s.faded!==f.faded)return s.faded?1:-1;if(s.tooltip!==f.tooltip)return(s.tooltip||"").localeCompare(f.tooltip||"");if(A=p(s,f),A!==0)return A;if(s.light&&f.light)A=p(s.light,f.light);else{if(s.light)return 1;if(f.light)return-1}if(A!==0)return A;if(s.dark&&f.dark)A=p(s.dark,f.dark);else{if(s.dark)return 1;if(f.dark)return-1}return A}function O(s,f){if(s.command!==f.command)return s.command<f.command?-1:1;if(s.title!==f.title)return s.title<f.title?-1:1;if(s.tooltip!==f.tooltip){if(s.tooltip!==void 0&&f.tooltip!==void 0)return s.tooltip<f.tooltip?-1:1;if(s.tooltip!==void 0)return 1;if(f.tooltip!==void 0)return-1}if(s.arguments===f.arguments)return 0;if(s.arguments)if(f.arguments){if(s.arguments.length!==f.arguments.length)return s.arguments.length-f.arguments.length}else return 1;else return-1;for(let A=0;A<s.arguments.length;A++){const P=s.arguments[A],H=f.arguments[A];if(P!==H)return P<H?-1:1}return 0}function v(s,f){let A=(0,k.comparePaths)(s.resourceUri.fsPath,f.resourceUri.fsPath,!0);if(A!==0)return A;if(s.command&&f.command)A=O(s.command,f.command);else{if(s.command)return 1;if(f.command)return-1}if(A!==0)return A;if(s.decorations&&f.decorations)A=w(s.decorations,f.decorations);else{if(s.decorations)return 1;if(f.decorations)return-1}return A}function t(s,f){for(let A=0;A<s.length;A++)if(s[A]!==f[A])return!1;return!0}function d(s,f){return s.command===f.command&&s.title===f.title&&s.tooltip===f.tooltip&&(s.arguments&&f.arguments?t(s.arguments,f.arguments):s.arguments===f.arguments)}function r(s,f){return(0,S.equals)(s,f,d)}class u{get value(){return this.d}set value(f){f=f??"",Le(this,a,"f").$setInputBoxValue(this.l,f),this.m(f)}get onDidChange(){return this.e.event}get placeholder(){return this.f}set placeholder(f){Le(this,a,"f").$setInputBoxPlaceholder(this.l,f),this.f=f}get validateInput(){return(0,g.checkProposedApiEnabled)(this.k,"scmValidation"),this.g}set validateInput(f){if((0,g.checkProposedApiEnabled)(this.k,"scmValidation"),f&&typeof f!="function")throw new Error(`[${this.k.identifier.value}]: Invalid SCM input box validation function`);this.g=f,Le(this,a,"f").$setValidationProviderIsEnabled(this.l,!!f)}get enabled(){return this.h}set enabled(f){f=!!f,this.h!==f&&(this.h=f,Le(this,a,"f").$setInputBoxEnablement(this.l,f))}get visible(){return this.j}set visible(f){f=!!f,this.j!==f&&(this.j=f,Le(this,a,"f").$setInputBoxVisibility(this.l,f))}constructor(f,A,P){this.k=f,this.l=P,a.set(this,void 0),this.d="",this.e=new T.Emitter,this.f="",this.h=!0,this.j=!0,Je(this,a,A,"f")}showValidationMessage(f,A){(0,g.checkProposedApiEnabled)(this.k,"scmValidation"),Le(this,a,"f").$showValidationMessage(this.l,f,A)}$onInputBoxValueChange(f){this.m(f)}m(f){this.d=f,this.e.fire(f)}}e.ExtHostSCMInputBox=u,a=new WeakMap;class c{get disposed(){return this.l}get id(){return this.u}get label(){return this.v}set label(f){this.v=f,this.q.$updateGroupLabel(this.t,this.handle,f)}get hideWhenEmpty(){return this.p}set hideWhenEmpty(f){this.p=f,this.q.$updateGroup(this.t,this.handle,this.features)}get features(){return{hideWhenEmpty:this.hideWhenEmpty}}get resourceStates(){return[...this.f]}set resourceStates(f){this.f=[...f],this.k.fire()}constructor(f,A,P,H,Y){this.q=f,this.s=A,this.t=P,this.u=H,this.v=Y,this.e=0,this.f=[],this.g=new Map,this.h=new Map,this.j=new Map,this.k=new T.Emitter,this.onDidUpdateResourceStates=this.k.event,this.l=!1,this.m=new T.Emitter,this.onDidDispose=this.m.event,this.n=[],this.o=[],this.p=void 0,this.handle=c.d++}getResourceState(f){return this.g.get(f)}$executeResourceCommand(f,A){const P=this.h.get(f);return P?(0,E.asPromise)(()=>this.s.executeCommand(P.command,...P.arguments||[],A)):Promise.resolve(void 0)}_takeResourceStateSnapshot(){const f=[...this.f].sort(v),P=(0,S.sortedDiff)(this.o,f,v).map(Z=>{const _=Z.toInsert.map(j=>{const L=this.e++;this.g.set(L,j);const m=j.resourceUri;let F;if(j.command)if(j.command.command==="vscode.open"||j.command.command==="vscode.diff"){const X=new N.DisposableStore;F=this.s.converter.toInternal(j.command,X),this.j.set(L,X)}else this.h.set(L,j.command);const B=l(j.decorations),J=j.decorations&&l(j.decorations.light)||B,me=j.decorations&&l(j.decorations.dark)||B,te=[J,me],oe=j.decorations&&j.decorations.tooltip||"",ce=j.decorations&&!!j.decorations.strikeThrough,we=j.decorations&&!!j.decorations.faded,q=j.contextValue||"";return{rawResource:[L,m,te,oe,ce,we,q,F],handle:L}});return{start:Z.start,deleteCount:Z.deleteCount,toInsert:_}}),H=P.map(({start:Z,deleteCount:_,toInsert:j})=>[Z,_,j.map(L=>L.rawResource)]),Y=P.reverse();for(const{start:Z,deleteCount:_,toInsert:j}of Y){const L=j.map(F=>F.handle),m=this.n.splice(Z,_,...L);for(const F of m)this.g.delete(F),this.h.delete(F),this.j.get(F)?.dispose(),this.j.delete(F)}return this.o=f,H}dispose(){this.l=!0,this.m.fire()}}c.d=0;class y{get id(){return this.w}get label(){return this.x}get rootUri(){return this.y}get inputBox(){return this.f}get count(){return this.g}set count(f){this.g!==f&&(this.g=f,Le(this,o,"f").$updateSourceControl(this.t,{count:f}))}get quickDiffProvider(){return this.h}set quickDiffProvider(f){this.h=f;let A;(0,g.isProposedApiEnabled)(this.u,"quickDiffProvider")&&(A=f?.label),Le(this,o,"f").$updateSourceControl(this.t,{hasQuickDiffProvider:!!f,quickDiffLabel:A})}get commitTemplate(){return this.j}set commitTemplate(f){f!==this.j&&(this.j=f,Le(this,o,"f").$updateSourceControl(this.t,{commitTemplate:f}))}get acceptInputCommand(){return this.l}set acceptInputCommand(f){this.k.value=new N.DisposableStore,this.l=f;const A=this.v.converter.toInternal(f,this.k.value);Le(this,o,"f").$updateSourceControl(this.t,{acceptInputCommand:A})}get actionButton(){return(0,g.checkProposedApiEnabled)(this.u,"scmActionButton"),this.n}set actionButton(f){(0,g.checkProposedApiEnabled)(this.u,"scmActionButton"),this.m.value=new N.DisposableStore,this.n=f;const A=f!==void 0?{command:this.v.converter.toInternal(f.command,this.m.value),secondaryCommands:f.secondaryCommands?.map(P=>P.map(H=>this.v.converter.toInternal(H,this.m.value))),description:f.description,enabled:f.enabled}:void 0;Le(this,o,"f").$updateSourceControl(this.t,{actionButton:A??null})}get statusBarCommands(){return this.p}set statusBarCommands(f){if(this.p&&f&&r(this.p,f))return;this.o.value=new N.DisposableStore,this.p=f;const A=(f||[]).map(P=>this.v.converter.toInternal(P,this.o.value));Le(this,o,"f").$updateSourceControl(this.t,{statusBarCommands:A})}get selected(){return this.q}constructor(f,A,P,H,Y,Z){this.u=f,this.v=P,this.w=H,this.x=Y,this.y=Z,o.set(this,void 0),this.e=new Map,this.g=void 0,this.h=void 0,this.j=void 0,this.k=new N.MutableDisposable,this.l=void 0,this.m=new N.MutableDisposable,this.o=new N.MutableDisposable,this.p=void 0,this.q=!1,this.s=new T.Emitter,this.onDidChangeSelection=this.s.event,this.t=y.d++,this.z=new Map,this.A=new Set,Je(this,o,A,"f"),this.f=new u(f,Le(this,o,"f"),this.t),Le(this,o,"f").$registerSourceControl(this.t,H,Y,Z)}createResourceGroup(f,A){const P=new c(Le(this,o,"f"),this.v,this.t,f,A),H=T.Event.once(P.onDidDispose)(()=>this.z.delete(P));return this.z.set(P,H),this.eventuallyAddResourceGroups(),P}eventuallyAddResourceGroups(){const f=[],A=[];for(const[P,H]of this.z){H.dispose();const Y=P.onDidUpdateResourceStates(()=>{this.A.add(P),this.eventuallyUpdateResourceStates()});T.Event.once(P.onDidDispose)(()=>{this.A.delete(P),Y.dispose(),this.e.delete(P.handle),Le(this,o,"f").$unregisterGroup(this.t,P.handle)}),f.push([P.handle,P.id,P.label,P.features]);const Z=P._takeResourceStateSnapshot();Z.length>0&&A.push([P.handle,Z]),this.e.set(P.handle,P)}Le(this,o,"f").$registerGroups(this.t,f,A),this.z.clear()}eventuallyUpdateResourceStates(){const f=[];this.A.forEach(A=>{const P=A._takeResourceStateSnapshot();P.length!==0&&f.push([A.handle,P])}),f.length>0&&Le(this,o,"f").$spliceResourceStates(this.t,f),this.A.clear()}getResourceGroup(f){return this.e.get(f)}setSelectionState(f){this.q=f,this.s.fire(f)}dispose(){this.k.dispose(),this.m.dispose(),this.o.dispose(),this.e.forEach(f=>f.dispose()),Le(this,o,"f").$unregisterSourceControl(this.t)}}o=new WeakMap,y.d=0,qe([(0,I.debounce)(100)],y.prototype,"eventuallyAddResourceGroups",null),qe([(0,I.debounce)(100)],y.prototype,"eventuallyUpdateResourceStates",null);let n=class on{get onDidChangeActiveProvider(){return this.j.event}constructor(f,A,P){this.l=A,this.m=P,this.g=new Map,this.h=new Map,this.j=new T.Emitter,this.e=f.getProxy(R.MainContext.MainThreadSCM),this.f=f.getProxy(R.MainContext.MainThreadTelemetry),A.registerArgumentProcessor({processArgument:H=>{if(H&&H.$mid===3){const Y=this.g.get(H.sourceControlHandle);if(!Y)return H;const Z=Y.getResourceGroup(H.groupHandle);return Z?Z.getResourceState(H.handle):H}else if(H&&H.$mid===4){const Y=this.g.get(H.sourceControlHandle);return Y?Y.getResourceGroup(H.groupHandle):H}else if(H&&H.$mid===5){const Y=this.g.get(H.handle);return Y||H}return H}})}createSourceControl(f,A,P,H){this.m.trace("ExtHostSCM#createSourceControl",f.identifier.value,A,P,H),this.f.$publicLog2("api/scm/createSourceControl",{extensionId:f.identifier.value});const Y=on.d++,Z=new y(f,this.e,this.l,A,P,H);this.g.set(Y,Z);const _=this.h.get(D.ExtensionIdentifier.toKey(f.identifier))||[];return _.push(Z),this.h.set(D.ExtensionIdentifier.toKey(f.identifier),_),Z}getLastInputBox(f){this.m.trace("ExtHostSCM#getLastInputBox",f.identifier.value);const A=this.h.get(D.ExtensionIdentifier.toKey(f.identifier)),P=A&&A[A.length-1];return P&&P.inputBox}$provideOriginalResource(f,A,P){const H=i.URI.revive(A);this.m.trace("ExtHostSCM#$provideOriginalResource",f,H.toString());const Y=this.g.get(f);return!Y||!Y.quickDiffProvider||!Y.quickDiffProvider.provideOriginalResource?Promise.resolve(null):(0,E.asPromise)(()=>Y.quickDiffProvider.provideOriginalResource(H,P)).then(Z=>Z||null)}$onInputBoxValueChange(f,A){this.m.trace("ExtHostSCM#$onInputBoxValueChange",f);const P=this.g.get(f);return P&&P.inputBox.$onInputBoxValueChange(A),Promise.resolve(void 0)}$executeResourceCommand(f,A,P,H){this.m.trace("ExtHostSCM#$executeResourceCommand",f,A,P);const Y=this.g.get(f);if(!Y)return Promise.resolve(void 0);const Z=Y.getResourceGroup(A);return Z?Z.$executeResourceCommand(P,H):Promise.resolve(void 0)}$validateInput(f,A,P){this.m.trace("ExtHostSCM#$validateInput",f);const H=this.g.get(f);return!H||!H.inputBox.validateInput?Promise.resolve(void 0):(0,E.asPromise)(()=>H.inputBox.validateInput(A,P)).then(Y=>{if(!Y)return Promise.resolve(void 0);const Z=b.MarkdownString.fromStrict(Y.message);return Z?Promise.resolve([Z,Y.type]):Promise.resolve(void 0)})}$setSelectedSourceControl(f){return this.m.trace("ExtHostSCM#$setSelectedSourceControl",f),f!==void 0&&this.g.get(f)?.setSelectionState(!0),this.k!==void 0&&this.g.get(this.k)?.setSelectionState(!1),this.k=f,Promise.resolve(void 0)}};n.d=0,n=qe([Ve(2,M.ILogService)],n),e.ExtHostSCM=n}),define(ke[79],Te([1,0,5,4,3]),function(ne,e,i,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IExtHostSecretState=e.ExtHostSecretState=void 0;class N{constructor(R){this.b=new T.Emitter,this.onDidChangePassword=this.b.event,this.a=R.getProxy(i.MainContext.MainThreadSecretState)}async $onDidChangePassword(R){this.b.fire(R)}get(R,S){return this.a.$getPassword(R,S)}store(R,S,k){return this.a.$setPassword(R,S,k)}delete(R,S){return this.a.$deletePassword(R,S)}}e.ExtHostSecretState=N,e.IExtHostSecretState=(0,I.createDecorator)("IExtHostSecretState")});var Je=this&&this.__classPrivateFieldSet||function(ne,e,i,T,I){if(T==="m")throw new TypeError("Private method is not writable");if(T==="a"&&!I)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?ne!==e||!I:!e.has(ne))throw new TypeError("Cannot write private member to an object whose class did not declare it");return T==="a"?I.call(ne,i):I?I.value=i:e.set(ne,i),i},Le=this&&this.__classPrivateFieldGet||function(ne,e,i,T){if(i==="a"&&!T)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?ne!==e||!T:!e.has(ne))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?T:i==="a"?T.call(ne):T?T.value:e.get(ne)};define(ke[230],Te([1,0,7,5,142,6,8,9]),function(ne,e,i,T,I,N,E,R){"use strict";var S,k;Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostStatusBar=e.ExtHostStatusBarEntry=void 0;class M{constructor(g,a,o,l,p=i.StatusBarAlignment.Left,w){S.set(this,void 0),k.set(this,void 0),this.i=!1,this.j=!1,this.k="",this.q=new N.DisposableStore,Je(this,S,g,"f"),Je(this,k,a,"f"),this.c=M.a++,this.e=o,this.f=l,this.g=p,this.h=this.u(w)}u(g){if(!!(0,R.isNumber)(g))return g===Number.POSITIVE_INFINITY?Number.MAX_VALUE:g===Number.NEGATIVE_INFINITY?-Number.MAX_VALUE:g}get id(){return this.f??this.e.identifier.value}get alignment(){return this.g}get priority(){return this.h}get text(){return this.k}get name(){return this.m}get tooltip(){return this.l}get color(){return this.n}get backgroundColor(){return this.o}get command(){return this.r?.fromApi}get accessibilityInformation(){return this.t}set text(g){this.k=g,this.v()}set name(g){this.m=g,this.v()}set tooltip(g){this.l=g,this.v()}set color(g){this.n=g,this.v()}set backgroundColor(g){g&&!M.b.has(g.id)&&(g=void 0),this.o=g,this.v()}set command(g){this.r?.fromApi!==g&&(this.p&&this.q.add(this.p),this.p=new N.DisposableStore,typeof g=="string"?this.r={fromApi:g,internal:Le(this,k,"f").toInternal({title:"",command:g},this.p)}:g?this.r={fromApi:g,internal:Le(this,k,"f").toInternal(g,this.p)}:this.r=void 0,this.v())}set accessibilityInformation(g){this.t=g,this.v()}show(){this.j=!0,this.v()}hide(){clearTimeout(this.s),this.j=!1,Le(this,S,"f").$dispose(this.c)}v(){this.i||!this.j||(clearTimeout(this.s),this.s=setTimeout(()=>{this.s=void 0;let g;this.e?this.f?g=`${this.e.identifier.value}.${this.f}`:g=this.e.identifier.value:g=this.f;let a;this.m?a=this.m:a=(0,I.localize)(0,null,this.e.displayName||this.e.name);let o=this.n;this.o&&(o=M.b.get(this.o.id));const l=E.MarkdownString.fromStrict(this.l);Le(this,S,"f").$setEntry(this.c,g,a,this.k,l,this.r?.internal,o,this.o,this.g===i.StatusBarAlignment.Left,this.h,this.t),this.q.clear()},0))}dispose(){this.hide(),this.i=!0}}S=new WeakMap,k=new WeakMap,M.a=0,M.b=new Map([["statusBarItem.errorBackground",new i.ThemeColor("statusBarItem.errorForeground")],["statusBarItem.warningBackground",new i.ThemeColor("statusBarItem.warningForeground")]]),e.ExtHostStatusBarEntry=M;class D{constructor(g){this.b=[],this.a=g.createStatusBarEntry(void 0,"status.extensionMessage",i.StatusBarAlignment.Left,Number.MIN_VALUE),this.a.name=(0,I.localize)(1,null)}dispose(){this.b.length=0,this.a.dispose()}setMessage(g){const a={message:g};return this.b.unshift(a),this.c(),new i.Disposable(()=>{const o=this.b.indexOf(a);o>=0&&(this.b.splice(o,1),this.c())})}c(){this.b.length>0?(this.a.text=this.b[0].message,this.a.show()):this.a.hide()}}class h{constructor(g,a){this.a=g.getProxy(T.MainContext.MainThreadStatusBar),this.b=a,this.c=new D(this)}createStatusBarEntry(g,a,o,l){return new M(this.a,this.b,g,a,o,l)}setStatusBarMessage(g,a){const o=this.c.setMessage(g);let l;return typeof a=="number"?l=setTimeout(()=>o.dispose(),a):typeof a<"u"&&a.then(()=>o.dispose(),()=>o.dispose()),new i.Disposable(()=>{o.dispose(),clearTimeout(l)})}}e.ExtHostStatusBar=h}),define(ke[80],Te([1,0,5,4,3]),function(ne,e,i,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IExtHostStorage=e.ExtHostStorage=void 0;class N{constructor(R,S){this.c=S,this.b=new T.Emitter,this.onDidChangeStorage=this.b.event,this.a=R.getProxy(i.MainContext.MainThreadStorage)}registerExtensionStorageKeysToSync(R,S){this.a.$registerExtensionStorageKeysToSync(R,S)}async initializeExtensionStorage(R,S,k){const M=await this.a.$initializeExtensionStorage(R,S);let D;return M&&(D=this.d(R,S,M)),D||k}setValue(R,S,k){return this.a.$setValue(R,S,k)}$acceptValue(R,S,k){const M=this.d(R,S,k);M&&this.b.fire({shared:R,key:S,value:M})}d(R,S,k){try{return JSON.parse(k)}catch(M){this.c.error(`[extHostStorage] unexpected error parsing storage contents (extensionId: ${S}, global: ${R}): ${M}`)}}}e.ExtHostStorage=N,e.IExtHostStorage=(0,I.createDecorator)("IExtHostStorage")}),define(ke[81],Te([1,0,3,27,12,60,2]),function(ne,e,i,T,I,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionStoragePaths=e.IExtensionStoragePaths=void 0,e.IExtensionStoragePaths=(0,i.createDecorator)("IExtensionStoragePaths");let R=class{constructor(k,M,D){this.d=M,this.f=D,this.a=k.workspace??void 0,this.b=k.environment,this.whenReady=this.h().then(h=>this.c=h)}async g(k){return E.URI.joinPath(this.b.workspaceStorageHome,k)}async h(){if(!this.a)return Promise.resolve(void 0);const k=this.a.id,M=await this.g(k);try{return await this.f.value.stat(M),this.d.trace("[ExtHostStorage] storage dir already exists",M),M}catch{}try{return this.d.trace("[ExtHostStorage] creating dir and metadata-file",M),await this.f.value.createDirectory(M),await this.f.value.writeFile(E.URI.joinPath(M,"meta.json"),new TextEncoder().encode(JSON.stringify({id:this.a.id,configuration:E.URI.revive(this.a.configuration)?.toString(),name:this.a.name},void 0,2))),M}catch(D){this.d.error("[ExtHostStorage]",D);return}}workspaceValue(k){if(this.c)return E.URI.joinPath(this.c,k.identifier.value)}globalValue(k){return E.URI.joinPath(this.b.globalStorageHome,k.identifier.value.toLowerCase())}onWillDeactivateAll(){}};R=qe([Ve(0,T.IExtHostInitDataService),Ve(1,I.ILogService),Ve(2,N.IExtHostConsumerFileSystem)],R),e.ExtensionStoragePaths=R}),define(ke[61],Te([1,0,4,5,3,2,18,6,7,144,11,171,21,34,172,38,9,17,8]),function(ne,e,i,T,I,N,E,R,S,k,M,D,h,b,g,a,o,l,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkerExtHostTerminalService=e.BaseExtHostTerminalService=e.ExtHostTerminal=e.IExtHostTerminalService=void 0,e.IExtHostTerminalService=(0,I.createDecorator)("IExtHostTerminalService");class w{constructor(n,s,f,A){this.k=n,this._id=s,this.l=f,this.m=A,this.a=!1,this.j={isInteractedWith:!1},this.isOpen=!1,this.l=Object.freeze(this.l),this.b=new Promise(H=>this.f=H);const P=this;this.value={get name(){return P.m||""},get processId(){return P.b},get creationOptions(){return P.l},get exitStatus(){return P.h},get state(){return P.j},sendText(H,Y=!0){P.o(),P.k.$sendText(P._id,H,Y)},show(H){P.o(),P.k.$show(P._id,H)},hide(){P.o(),P.k.$hide(P._id)},dispose(){P.a||(P.a=!0,P.k.$dispose(P._id))},get dimensions(){if(!(P.d===void 0||P.g===void 0))return{columns:P.d,rows:P.g}}}}async create(n,s){if(typeof this._id!="string")throw new Error("Terminal has already been created");await this.k.$createTerminal(this._id,{name:n.name,shellPath:(0,o.withNullAsUndefined)(n.shellPath),shellArgs:(0,o.withNullAsUndefined)(n.shellArgs),cwd:(0,o.withNullAsUndefined)(n.cwd),env:(0,o.withNullAsUndefined)(n.env),icon:(0,o.withNullAsUndefined)(u(n.iconPath)),color:a.ThemeColor.isThemeColor(n.color)?n.color.id:void 0,initialText:(0,o.withNullAsUndefined)(n.message),strictEnv:(0,o.withNullAsUndefined)(n.strictEnv),hideFromUser:(0,o.withNullAsUndefined)(n.hideFromUser),isFeatureTerminal:(0,o.withNullAsUndefined)(s?.isFeatureTerminal),isExtensionOwnedTerminal:!0,useShellEnvironment:(0,o.withNullAsUndefined)(s?.useShellEnvironment),location:s?.location||this.n(n.location,s?.resolvedExtHostIdentifier),isTransient:(0,o.withNullAsUndefined)(n.isTransient)})}async createExtensionTerminal(n,s,f,A){if(typeof this._id!="string")throw new Error("Terminal has already been created");if(await this.k.$createTerminal(this._id,{name:this.m,isExtensionCustomPtyTerminal:!0,icon:f,color:a.ThemeColor.isThemeColor(A)?A.id:void 0,location:this.n(n,s),isTransient:!0}),typeof this._id=="string")throw new Error("Terminal creation failed");return this._id}n(n,s){return typeof n=="object"?"parentTerminal"in n&&n.parentTerminal&&s?{parentTerminal:s}:"viewColumn"in n?{viewColumn:p.ViewColumn.from(n.viewColumn),preserveFocus:n.preserveFocus}:void 0:n}o(){if(this.a)throw new Error("Terminal has already been disposed")}set name(n){this.m=n}setExitStatus(n,s){this.h=Object.freeze({code:n,reason:s})}setDimensions(n,s){return n===this.d&&s===this.g||n===0||s===0?!1:(this.d=n,this.g=s,!0)}setInteractedWith(){return this.j.isInteractedWith?!1:(this.j={isInteractedWith:!0},!0)}_setProcessId(n){this.f?(this.f(n),this.f=void 0):this.b.then(s=>{s!==n&&(this.b=Promise.resolve(n))})}}e.ExtHostTerminal=w;class O{get onProcessReady(){return this.b.event}constructor(n){this.g=n,this.id=0,this.shouldPersist=!1,this.a=new i.Emitter,this.onProcessData=this.a.event,this.b=new i.Emitter,this.d=new i.Emitter,this.onDidChangeProperty=this.d.event,this.f=new i.Emitter,this.onProcessExit=this.f.event}refreshProperty(n){throw new Error(`refreshProperty is not suppported in extension owned terminals. property: ${n}`)}updateProperty(n,s){throw new Error(`updateProperty is not suppported in extension owned terminals. property: ${n}, value: ${s}`)}async start(){}shutdown(){this.g.close()}input(n){this.g.handleInput?.(n)}resize(n,s){this.g.setDimensions?.({columns:n,rows:s})}async processBinary(n){}acknowledgeDataEvent(n){}async setUnicodeVersion(n){}getInitialCwd(){return Promise.resolve("")}getCwd(){return Promise.resolve("")}getLatency(){return Promise.resolve(0)}startSendingEvents(n){this.g.onDidWrite(s=>this.a.fire(s)),this.g.onDidClose?.((s=void 0)=>{this.f.fire(s===void 0?void 0:s)}),this.g.onDidOverrideDimensions?.(s=>{s&&this.d.fire({type:"overrideDimensions",value:{cols:s.columns,rows:s.rows}})}),this.g.onDidChangeName?.(s=>{this.d.fire({type:"title",value:s})}),this.g.open(n||void 0),n&&this.g.setDimensions?.(n),this.b.fire({pid:-1,cwd:""})}}let v=1,t=class extends R.Disposable{get activeTerminal(){return this.b?.value}get terminals(){return this.f.map(n=>n.value)}get onDidWriteTerminalData(){return this.I.event}constructor(n,s){super(),this.f=[],this.g=new Map,this.h={},this.j={},this.k={},this.l=new Map,this.u=new Set,this.v=new Map,this.w=new Map,this.y=new Map,this.z=new Map,this.C=new i.Emitter,this.onDidCloseTerminal=this.C.event,this.D=new i.Emitter,this.onDidOpenTerminal=this.D.event,this.F=new i.Emitter,this.onDidChangeActiveTerminal=this.F.event,this.G=new i.Emitter,this.onDidChangeTerminalDimensions=this.G.event,this.H=new i.Emitter,this.onDidChangeTerminalState=this.H.event,this.J=new i.Emitter,this.onDidChangeShell=this.J.event,this.a=s.getProxy(T.MainContext.MainThreadTerminalService),this.s=new g.TerminalDataBufferer(this.a.$sendProcessData),this.I=new i.Emitter({onWillAddFirstListener:()=>this.a.$startSendingDataEvents(),onDidRemoveLastListener:()=>this.a.$stopSendingDataEvents()}),this.a.$registerProcessSupport(n),this.B({dispose:()=>{for(const[f,A]of this.g)A.shutdown(!0)}})}getDefaultShell(n){return(n?this.n:this.m)?.path||""}getDefaultShellArgs(n){return(n?this.n:this.m)?.args||[]}createExtensionTerminal(n,s){const f=new w(this.a,(0,b.generateUuid)(),n,n.name),A=new O(n.pty);return f.createExtensionTerminal(n.location,this.L(n,s).resolvedExtHostIdentifier,u(n.iconPath),c(n.color)).then(P=>{const H=this.M(P,A);this.h[P]=H}),this.f.push(f),f.value}L(n,s){if(s=s||{},n.location&&typeof n.location=="object"&&"parentTerminal"in n.location){const f=n.location.parentTerminal;if(f){const A=this.f.find(P=>P.value===f);A&&(s.resolvedExtHostIdentifier=A._id)}}else n.location&&typeof n.location!="object"?s.location=n.location:s.location&&typeof s.location=="object"&&"splitActiveTerminal"in s.location&&(s.location={splitActiveTerminal:!0});return s}attachPtyToTerminal(n,s){if(!this.O(n))throw new Error(`Cannot resolve terminal with id ${n} for virtual process`);const A=new O(s),P=this.M(n,A);this.h[n]=P}async $acceptActiveTerminalChanged(n){const s=this.b;if(n===null){this.b=void 0,s!==this.b&&this.F.fire(this.b);return}const f=this.O(n);f&&(this.b=f,s!==this.b&&this.F.fire(this.b.value))}async $acceptTerminalProcessData(n,s){const f=this.O(n);f&&this.I.fire({terminal:f.value,data:s})}async $acceptTerminalDimensions(n,s,f){const A=this.O(n);A&&A.setDimensions(s,f)&&this.G.fire({terminal:A.value,dimensions:A.value.dimensions})}async $acceptTerminalMaximumDimensions(n,s,f){this.g.get(n)?.resize(s,f)}async $acceptTerminalTitleChange(n,s){const f=this.O(n);f&&(f.name=s)}async $acceptTerminalClosed(n,s,f){const A=this.Q(this.f,n);if(A!==null){const P=this.f.splice(A,1)[0];P.setExitStatus(s,f),this.C.fire(P.value)}}$acceptTerminalOpened(n,s,f,A){if(s){const Y=this.Q(this.f,s);if(Y!==null){this.f[Y]._id=n,this.D.fire(this.terminals[Y]),this.f[Y].isOpen=!0;return}}const P={name:A.name,shellPath:A.executable,shellArgs:A.args,cwd:typeof A.cwd=="string"?A.cwd:N.URI.revive(A.cwd),env:A.env,hideFromUser:A.hideFromUser},H=new w(this.a,n,P,f);this.f.push(H),this.D.fire(H.value),H.isOpen=!0}async $acceptTerminalProcessId(n,s){this.O(n)?._setProcessId(s)}async $startExtensionTerminal(n,s){const f=this.O(n);if(!f)return{message:(0,k.localize)(0,null,n)};f.isOpen||await new Promise(P=>{const H=this.onDidOpenTerminal(async Y=>{Y===f.value&&(H.dispose(),P())})});const A=this.g.get(n);A?A.startSendingEvents(s):this.j[n]={initialDimensions:s}}M(n,s){const f=new R.DisposableStore;f.add(s.onProcessReady(P=>this.a.$sendProcessReady(n,P.pid,P.cwd))),f.add(s.onDidChangeProperty(P=>this.a.$sendProcessProperty(n,P))),this.s.startBuffering(n,s.onProcessData),f.add(s.onProcessExit(P=>this.N(n,P))),this.g.set(n,s);const A=this.j[n];return A&&s instanceof O&&(s.startSendingEvents(A.initialDimensions),delete this.j[n]),f}$acceptProcessAckDataEvent(n,s){this.g.get(n)?.acknowledgeDataEvent(s)}$acceptProcessInput(n,s){this.g.get(n)?.input(s)}$acceptTerminalInteraction(n){const s=this.O(n);s?.setInteractedWith()&&this.H.fire(s.value)}$acceptProcessResize(n,s,f){try{this.g.get(n)?.resize(s,f)}catch(A){if(A.code!=="EPIPE"&&A.code!=="ERR_IPC_CHANNEL_CLOSED")throw A}}$acceptProcessShutdown(n,s){this.g.get(n)?.shutdown(s)}$acceptProcessRequestInitialCwd(n){this.g.get(n)?.getInitialCwd().then(s=>this.a.$sendProcessProperty(n,{type:"initialCwd",value:s}))}$acceptProcessRequestCwd(n){this.g.get(n)?.getCwd().then(s=>this.a.$sendProcessProperty(n,{type:"cwd",value:s}))}$acceptProcessRequestLatency(n){return Promise.resolve(n)}registerLinkProvider(n){return this.u.add(n),this.u.size===1&&this.a.$startLinkProvider(),new S.Disposable(()=>{this.u.delete(n),this.u.size===0&&this.a.$stopLinkProvider()})}registerProfileProvider(n,s,f){if(this.v.has(s))throw new Error(`Terminal profile provider "${s}" already registered`);return this.v.set(s,f),this.a.$registerProfileProvider(s,n.identifier.value),new S.Disposable(()=>{this.v.delete(s),this.a.$unregisterProfileProvider(s)})}registerTerminalQuickFixProvider(n,s,f){if(this.w.has(n))throw new Error(`Terminal quick fix provider "${n}" is already registered`);return this.w.set(n,f),this.a.$registerQuickFixProvider(n,s),new S.Disposable(()=>{this.w.delete(n),this.a.$unregisterQuickFixProvider(n)})}async $provideTerminalQuickFixes(n,s){const f=new h.CancellationTokenSource().token;if(f.isCancellationRequested)return;const A=this.w.get(n);if(!A)return;const P=await A.provideTerminalQuickFixes(s,f);if(P!==null)return P}async $createContributedProfileTerminal(n,s){const f=new h.CancellationTokenSource().token;let A=await this.v.get(n)?.provideTerminalProfile(f);if(!f.isCancellationRequested){if(A&&!("options"in A)&&(A={options:A}),!A||!("options"in A))throw new Error(`No terminal profile options provided for id "${n}"`);if("pty"in A.options){this.createExtensionTerminal(A.options,s);return}this.createTerminalFromOptions(A.options,s)}}async $provideLinks(n,s){const f=this.O(n);if(!f)return[];this.y.delete(n),this.z.get(n)?.dispose(!0);const P=new h.CancellationTokenSource;this.z.set(n,P);const H=[],Y={terminal:f.value,line:s},Z=[];for(const L of this.u)Z.push(l.Promises.withAsyncBody(async m=>{P.token.onCancellationRequested(()=>m({provider:L,links:[]}));const F=await L.provideTerminalLinks(Y,P.token)||[];P.token.isCancellationRequested||m({provider:L,links:F})}));const _=await Promise.all(Z);if(P.token.isCancellationRequested)return[];const j=new Map;for(const L of _)L&&L.links.length>0&&H.push(...L.links.map(m=>{const F={id:v++,startIndex:m.startIndex,length:m.length,label:m.tooltip};return j.set(F.id,{provider:L.provider,link:m}),F}));return this.y.set(n,j),H}$activateLink(n,s){const f=this.y.get(n)?.get(s);!f||f.provider.handleTerminalLink(f.link)}N(n,s){this.s.stopBuffering(n),this.g.delete(n),delete this.j[n];const f=this.h[n];f&&(f.dispose(),delete this.h[n]),this.a.$sendProcessExit(n,s)}O(n){return this.P(this.f,n)}P(n,s){const f=this.Q(n,s);return f!==null?n[f]:null}Q(n,s){let f=null;return n.some((A,P)=>A._id===s?(f=P,!0):!1),f}getEnvironmentVariableCollection(n){let s=this.l.get(n.identifier.value);return s||(s=new d,this.S(n.identifier.value,s)),s}R(n,s){const f=(0,D.serializeEnvironmentVariableCollection)(s.map);this.a.$setEnvironmentVariableCollection(n,s.persistent,f.length===0?void 0:f)}$initEnvironmentVariableCollections(n){n.forEach(s=>{const f=s[0],A=new d(s[1]);this.S(f,A)})}$acceptDefaultProfile(n,s){const f=this.m;this.m=n,this.n=s,f?.path!==n.path&&this.J.fire(n.path)}S(n,s){this.l.set(n,s),s.onDidChangeCollection(()=>{this.R(n,s)})}};t=qe([Ve(1,E.IExtHostRpcService)],t),e.BaseExtHostTerminalService=t;class d{get persistent(){return this.a}set persistent(n){this.a=n,this.b.fire()}get onDidChangeCollection(){return this.b&&this.b.event}constructor(n){this.map=new Map,this.a=!0,this.b=new i.Emitter,this.map=new Map(n)}get size(){return this.map.size}replace(n,s){this.d(n,{value:s,type:S.EnvironmentVariableMutatorType.Replace})}append(n,s){this.d(n,{value:s,type:S.EnvironmentVariableMutatorType.Append})}prepend(n,s){this.d(n,{value:s,type:S.EnvironmentVariableMutatorType.Prepend})}d(n,s){const f=this.map.get(n);(!f||f.value!==s.value||f.type!==s.type)&&(this.map.set(n,s),this.b.fire())}get(n){return this.map.get(n)}forEach(n,s){this.map.forEach((f,A)=>n.call(s,A,f,this))}[Symbol.iterator](){return this.map.entries()}delete(n){this.map.delete(n),this.b.fire()}clear(){this.map.clear(),this.b.fire()}}let r=class extends t{constructor(n){super(!1,n)}createTerminal(n,s,f){throw new M.NotSupportedError}createTerminalFromOptions(n,s){throw new M.NotSupportedError}};r=qe([Ve(0,E.IExtHostRpcService)],r),e.WorkerExtHostTerminalService=r;function u(y){if(!(!y||typeof y=="string"))return"id"in y?{id:y.id,color:y.color}:y}function c(y){return a.ThemeColor.isThemeColor(y)?y:void 0}});var Le=this&&this.__classPrivateFieldGet||function(ne,e,i,T){if(i==="a"&&!T)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?ne!==e||!T:!e.has(ne))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?T:i==="a"?T.call(ne):T?T.value:e.get(ne)},Je=this&&this.__classPrivateFieldSet||function(ne,e,i,T,I){if(T==="m")throw new TypeError("Private method is not writable");if(T==="a"&&!I)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?ne!==e||!I:!e.has(ne))throw new TypeError("Cannot write private member to an object whose class did not declare it");return T==="a"?I.call(ne,i):I?I.value=i:e.set(ne,i),i};define(ke[231],Te([1,0,16,17,23,21,4,195,232,6,22,9,34,5,18,101,8,7,45,72,56,25]),function(ne,e,i,T,I,N,E,R,S,k,M,D,h,b,g,a,o,l,p,w,O,v){"use strict";var t,d;Object.defineProperty(e,"__esModule",{value:!0}),e.TestRunProfileImpl=e.TestRunDto=e.TestRunCoordinator=e.ExtHostTesting=void 0;let r=class{constructor(L,m,F){this.j=F,this.c=new E.Emitter,this.d=new Map,this.onResultsChanged=this.c.event,this.results=[],this.f=L.getProxy(b.MainContext.MainThreadTesting),this.h=new Y(this.f),this.g=new n(this.f),m.registerArgumentProcessor({processArgument:B=>{if(B?.$mid!==15)return B;const J=B,me=J.tests[J.tests.length-1].item.extId;return this.d.get(p.TestId.root(me))?.collection.tree.get(me)?.actual??(0,a.toItemFromContext)(B)}})}createTestController(L,m,F,B){if(this.d.has(m))throw new Error(`Attempt to insert a duplicate controller with ID "${m}"`);const J=new k.DisposableStore,me=J.add(new a.ExtHostTestItemCollection(m,F,this.j));me.root.label=F;const te=new Map,oe=this.f,ce={items:me.root.children,get label(){return F},set label(q){F=q,me.root.label=q,oe.$updateController(m,{label:F})},get refreshHandler(){return B},set refreshHandler(q){B=q,oe.$updateController(m,{canRefresh:!!q})},get id(){return m},createRunProfile:(q,K,X,de,ye,Fe)=>{let ze=(0,S.hash)(q);for(;te.has(ze);)ze++;return Fe!==void 0&&(0,v.checkProposedApiEnabled)(L,"testContinuousRun"),new Z(this.f,te,m,ze,q,K,X,de,ye,Fe)},createTestItem(q,K,X){return new a.TestItemImpl(m,q,K,X)},createTestRun:(q,K,X=!0)=>this.g.createTestRun(m,me,q,K,X),set resolveHandler(q){me.resolveHandler=q},get resolveHandler(){return me.resolveHandler},dispose:()=>{J.dispose()}};oe.$registerTestController(m,F,!!B),J.add((0,k.toDisposable)(()=>oe.$unregisterTestController(m)));const we={controller:ce,collection:me,profiles:te};return this.d.set(m,we),J.add((0,k.toDisposable)(()=>this.d.delete(m))),J.add(me.onDidGenerateDiff(q=>oe.$publishDiff(m,q.map(O.TestsDiffOp.serialize)))),ce}createTestObserver(){return this.h.checkout()}async runTests(L,m=N.CancellationToken.None){const F=s(L);if(!F)throw new Error("The request passed to `vscode.test.runTests` must include a profile");const B=this.d.get(F.controllerId);if(!B)throw new Error("Controller not found");await this.f.$runTests({isUiTriggered:!1,targets:[{testIds:L.include?.map(J=>p.TestId.fromExtHostTestItem(J,B.collection.root.id).toString())??[B.collection.root.id],profileGroup:_[F.kind],profileId:F.profileId,controllerId:F.controllerId}],exclude:L.exclude?.map(J=>J.id)},m)}$syncTests(){for(const{collection:L}of this.d.values())L.flushDiff();return Promise.resolve()}$provideFileCoverage(L,m,F){return(0,i.mapFind)(this.g.trackers,J=>J.id===L?J.getCoverage(m):void 0)?.provideFileCoverage(F)??Promise.resolve([])}$resolveFileCoverage(L,m,F,B){return(0,i.mapFind)(this.g.trackers,me=>me.id===L?me.getCoverage(m):void 0)?.resolveFileCoverage(F,B)??Promise.resolve([])}$configureRunProfile(L,m){this.d.get(L)?.profiles.get(m)?.configureHandler?.()}async $refreshTests(L,m){await this.d.get(L)?.controller.refreshHandler?.(m)}$publishTestResults(L){this.results=Object.freeze(L.map(m=>(0,M.deepFreeze)(o.TestResults.to(m))).concat(this.results).sort((m,F)=>F.completedAt-m.completedAt).slice(0,32)),this.c.fire()}async $expandTest(L,m){const F=this.d.get(p.TestId.fromString(L).controllerId)?.collection;F&&(await F.expand(L,m<0?1/0:m),F.flushDiff())}$acceptDiff(L){this.h.applyDiff(L.map(O.TestsDiffOp.deserialize))}async $runControllerTests(L,m){return Promise.all(L.map(F=>this.k(F,!1,m)))}async $startContinuousRun(L,m){const F=new N.CancellationTokenSource(m),B=await Promise.all(L.map(J=>this.k(J,!0,F.token)));return!m.isCancellationRequested&&!B.some(J=>J.error)&&await new Promise(J=>m.onCancellationRequested(J)),F.dispose(!0),B}async k(L,m,F){const B=this.d.get(L.controllerId);if(!B)return{};const{collection:J,profiles:me}=B,te=me.get(L.profileId);if(!te)return{};const oe=L.testIds.map(K=>J.tree.get(K)).filter(D.isDefined),ce=L.excludeExtIds.map(K=>B.collection.tree.get(K)).filter(D.isDefined).filter(K=>oe.some(X=>X.fullId.compare(K.fullId)===2));if(!oe.length)return{};const we=new l.TestRunRequest2(oe.some(K=>K.actual instanceof a.TestItemRootImpl)?void 0:oe.map(K=>K.actual),ce.map(K=>K.actual),te,m),q=(0,O.isStartControllerTests)(L)&&this.g.prepareForMainThreadTestRun(we,f.fromInternal(L,B.collection),F);try{return await te.runHandler(we,F),{}}catch(K){return{error:String(K)}}finally{q&&(q.hasRunningTasks&&!F.isCancellationRequested&&await E.Event.toPromise(q.onEnd),q.dispose())}}$cancelExtensionTestRun(L){L===void 0?this.g.cancelAllRuns():this.g.cancelRunById(L)}};r=qe([Ve(0,g.IExtHostRpcService)],r),e.ExtHostTesting=r;const u=1e4;var c;(function(j){j[j.Running=0]="Running",j[j.Cancelling=1]="Cancelling",j[j.Ended=2]="Ended"})(c||(c={}));class y extends k.Disposable{get hasRunningTasks(){return this.f.size>0}get id(){return this.k.id}constructor(L,m,F){super(),this.k=L,this.l=m,this.c=0,this.f=new Map,this.g=new Set,this.j=this.B(new E.Emitter),this.onEnd=this.j.event,this.h=this.B(new N.CancellationTokenSource(F));const B=this.B(new T.RunOnceScheduler(()=>this.m(),u));this.B(this.h.token.onCancellationRequested(()=>B.schedule()))}cancel(){this.c===0?(this.h.cancel(),this.c=1):this.c===1&&this.m()}getCoverage(L){return this.f.get(L)?.coverage}createRun(L){const m=this.k.id,F=this.k.controllerId,B=(0,h.generateUuid)(),J=new A(this.l,m,B),me=we=>(q,...K)=>{if(oe){console.warn(`Setting the state of test "${q.id}" is a no-op after the run ends.`);return}!this.k.isIncluded(q)||(this.s(q),we(q,...K))},te=(we,q)=>{const K=q instanceof Array?q.map(o.TestMessage.from):[o.TestMessage.from(q)];if(we.uri&&we.range){const X={range:o.Range.from(we.range),uri:we.uri};for(const de of K)de.location=de.location||X}this.l.$appendTestMessagesInRun(m,B,p.TestId.fromExtHostTestItem(we,F).toString(),K)};let oe=!1;const ce={isPersisted:this.k.isPersisted,token:this.h.token,name:L,get coverageProvider(){return J.coverageProvider},set coverageProvider(we){J.coverageProvider=we},enqueued:me(we=>{this.l.$updateTestStateInRun(m,B,p.TestId.fromExtHostTestItem(we,F).toString(),1)}),skipped:me(we=>{this.l.$updateTestStateInRun(m,B,p.TestId.fromExtHostTestItem(we,F).toString(),5)}),started:me(we=>{this.l.$updateTestStateInRun(m,B,p.TestId.fromExtHostTestItem(we,F).toString(),2)}),errored:me((we,q,K)=>{te(we,q),this.l.$updateTestStateInRun(m,B,p.TestId.fromExtHostTestItem(we,F).toString(),6,K)}),failed:me((we,q,K)=>{te(we,q),this.l.$updateTestStateInRun(m,B,p.TestId.fromExtHostTestItem(we,F).toString(),4,K)}),passed:me((we,q)=>{this.l.$updateTestStateInRun(m,B,p.TestId.fromExtHostTestItem(we,this.k.controllerId).toString(),3,q)}),appendOutput:(we,q,K)=>{oe||(K&&(this.k.isIncluded(K)?this.s(K):K=void 0),this.l.$appendOutputToRun(m,B,I.VSBuffer.fromString(we),q&&o.location.from(q),K&&p.TestId.fromExtHostTestItem(K,F).toString()))},end:()=>{oe||(oe=!0,this.l.$finishedTestRunTask(m,B),this.f.delete(B),this.f.size||this.p())}};return this.f.set(B,{run:ce,coverage:J}),this.l.$startedTestRunTask(m,{id:B,name:L,running:!0}),ce}m(){for(const{run:L}of this.f.values())L.end()}p(){this.c!==2&&(this.c=2,this.j.fire())}s(L){if(!(L instanceof a.TestItemImpl))throw new w.InvalidTestItemError(L.id);if(this.g.has(p.TestId.fromExtHostTestItem(L,this.k.controllerId).toString()))return;const m=[],F=this.k.colllection.root;for(;;){const B=o.TestItem.from(L);if(m.unshift(B),this.g.has(B.extId)||(this.g.add(B.extId),L===F))break;L=L.parent||F}this.l.$addTestsToRun(this.k.controllerId,this.k.id,m)}}class n{get trackers(){return this.c.values()}constructor(L){this.d=L,this.c=new Map}prepareForMainThreadTestRun(L,m,F){return this.f(L,m,F)}cancelRunById(L){for(const m of this.c.values())if(m.id===L){m.cancel();return}}cancelAllRuns(){for(const L of this.c.values())L.cancel()}createTestRun(L,m,F,B,J){const me=this.c.get(F);if(me)return me.createRun(B);const te=f.fromPublic(L,m,F,J),oe=s(F);this.d.$startedExtensionTestRun({controllerId:L,continuous:!!F.continuous,profile:oe&&{group:_[oe.kind],id:oe.profileId},exclude:F.exclude?.map(we=>p.TestId.fromExtHostTestItem(we,m.root.id).toString())??[],id:te.id,include:F.include?.map(we=>p.TestId.fromExtHostTestItem(we,m.root.id).toString())??[m.root.id],persist:J});const ce=this.f(F,te);return ce.onEnd(()=>{this.d.$finishedExtensionTestRun(te.id),ce.dispose()}),ce.createRun(B)}f(L,m,F){const B=new y(m,this.d,F);return this.c.set(L,B),B.onEnd(()=>this.c.delete(L)),B}}e.TestRunCoordinator=n;const s=j=>{if(!!j.profile){if(!(j.profile instanceof Z))throw new Error("TestRunRequest.profile is not an instance created from TestController.createRunProfile");return j.profile}};class f{static fromPublic(L,m,F,B){return new f(L,(0,h.generateUuid)(),F.include?.map(J=>p.TestId.fromExtHostTestItem(J,L).toString())??[L],F.exclude?.map(J=>p.TestId.fromExtHostTestItem(J,L).toString())??[],B,m)}static fromInternal(L,m){return new f(L.controllerId,L.runId,L.testIds,L.excludeExtIds,!0,m)}constructor(L,m,F,B,J,me){this.controllerId=L,this.id=m,this.isPersisted=J,this.colllection=me,this.c=F.map(te=>te+"\0"),this.d=B.map(te=>te+"\0")}isIncluded(L){const m=p.TestId.fromExtHostTestItem(L,this.controllerId).toString()+"\0";for(const F of this.d)if(m===F||m.startsWith(F))return!1;for(const F of this.c)if(m===F||m.startsWith(F))return!0;return!1}}e.TestRunDto=f;class A{set coverageProvider(L){if(this.c)throw new Error("The TestCoverageProvider cannot be replaced after being provided");!L||(this.c=L,this.f.$signalCoverageAvailable(this.g,this.h))}get coverageProvider(){return this.c}constructor(L,m,F){this.f=L,this.g=m,this.h=F}async provideFileCoverage(L){if(!this.c)return[];this.d||(this.d=(async()=>this.c.provideFileCoverage(L))());try{return(await this.d)?.map(o.TestCoverage.fromFile)??[]}catch(m){throw this.d=void 0,m}}async resolveFileCoverage(L,m){const F=await this.d;let B=F?.[L];return!this.c||!F||!B?[]:(B.detailedCoverage||(B=F[L]=await this.c.resolveFileCoverage?.(B,m)??B),B.detailedCoverage?.map(o.TestCoverage.fromDetailed)??[])}}class P{get isEmpty(){return this.c.size===0&&this.f.size===0&&this.d.size===0}constructor(L){this.h=L,this.c=new Set,this.d=new Set,this.f=new Set,this.g=new Set}add(L){this.c.add(L)}update(L){Object.assign(L.revived,o.TestItem.toPlain(L.item)),this.c.has(L)||this.d.add(L)}remove(L){if(this.c.has(L)){this.c.delete(L);return}this.d.delete(L);const m=p.TestId.parentId(L.item.extId);if(m&&this.g.has(m.toString())){this.g.add(L.item.extId);return}this.f.add(L)}getChangeEvent(){const{c:L,d:m,f:F}=this;return{get added(){return[...L].map(B=>B.revived)},get updated(){return[...m].map(B=>B.revived)},get removed(){return[...F].map(B=>B.revived)}}}complete(){this.isEmpty||this.h.fire(this.getChangeEvent())}}class H extends O.AbstractIncrementalTestCollection{constructor(){super(...arguments),this.q=new E.Emitter,this.onDidChangeTests=this.q.event}get rootTests(){return super.f}getMirroredTestDataById(L){return this.d.get(L)}getMirroredTestDataByReference(L){return this.d.get(L.id)}p(L,m){return{...L,revived:o.TestItem.toPlain(L.item),depth:m?m.depth+1:0,children:new Set}}o(){return new P(this.q)}}class Y{constructor(L){this.d=L}checkout(){this.c||(this.c=this.f());const L=this.c;return L.observers++,{onDidChangeTest:L.tests.onDidChangeTests,get tests(){return[...L.tests.rootTests].map(m=>m.revived)},dispose:(0,R.once)(()=>{--L.observers===0&&(this.d.$unsubscribeFromDiffs(),this.c=void 0)})}}getMirroredTestDataByReference(L){return this.c?.tests.getMirroredTestDataByReference(L)}applyDiff(L){this.c?.tests.apply(L)}f(){const L=new H;return this.d.$subscribeToDiffs(),{observers:0,tests:L}}}class Z{get label(){return this.d}set label(L){L!==this.d&&(this.d=L,Le(this,t,"f").$updateTestRunConfig(this.controllerId,this.profileId,{label:L}))}get supportsContinuousRun(){return this.g}set supportsContinuousRun(L){L!==this.g&&(this.g=L,Le(this,t,"f").$updateTestRunConfig(this.controllerId,this.profileId,{supportsContinuousRun:L}))}get isDefault(){return this.f}set isDefault(L){L!==this.f&&(this.f=L,Le(this,t,"f").$updateTestRunConfig(this.controllerId,this.profileId,{isDefault:L}))}get tag(){return this._tag}set tag(L){L?.id!==this._tag?.id&&(this._tag=L,Le(this,t,"f").$updateTestRunConfig(this.controllerId,this.profileId,{tag:L?o.TestTag.namespace(this.controllerId,L.id):null}))}get configureHandler(){return this.c}set configureHandler(L){L!==this.c&&(this.c=L,Le(this,t,"f").$updateTestRunConfig(this.controllerId,this.profileId,{hasConfigurationHandler:!!L}))}constructor(L,m,F,B,J,me,te,oe=!1,ce=void 0,we=!1){this.controllerId=F,this.profileId=B,this.d=J,this.kind=me,this.runHandler=te,this.f=oe,this._tag=ce,this.g=we,t.set(this,void 0),d.set(this,void 0),Je(this,t,L,"f"),Je(this,d,m,"f"),m.set(B,this);const q=_[me];if(typeof q!="number")throw new Error(`Unknown TestRunProfile.group ${me}`);Le(this,t,"f").$publishTestRunProfile({profileId:B,controllerId:F,tag:ce?o.TestTag.namespace(this.controllerId,ce.id):null,label:J,group:q,isDefault:oe,hasConfigurationHandler:!1,supportsContinuousRun:we})}dispose(){Le(this,d,"f")?.delete(this.profileId)&&(Je(this,d,void 0,"f"),Le(this,t,"f").$removeTestProfile(this.controllerId,this.profileId))}}e.TestRunProfileImpl=Z,t=new WeakMap,d=new WeakMap;const _={[l.TestRunProfileKind.Coverage]:8,[l.TestRunProfileKind.Debug]:4,[l.TestRunProfileKind.Run]:2}}),define(ke[233],Te([1,0,16,4,5,102,8,7]),function(ne,e,i,T,I,N,E,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostEditors=void 0;class S{constructor(M,D){this.i=D,this.a=new T.Emitter,this.b=new T.Emitter,this.c=new T.Emitter,this.d=new T.Emitter,this.f=new T.Emitter,this.g=new T.Emitter,this.onDidChangeTextEditorSelection=this.a.event,this.onDidChangeTextEditorOptions=this.b.event,this.onDidChangeTextEditorVisibleRanges=this.c.event,this.onDidChangeTextEditorViewColumn=this.d.event,this.onDidChangeActiveTextEditor=this.f.event,this.onDidChangeVisibleTextEditors=this.g.event,this.h=M.getProxy(I.MainContext.MainThreadTextEditors),this.i.onDidChangeVisibleTextEditors(h=>this.g.fire(h)),this.i.onDidChangeActiveTextEditor(h=>this.f.fire(h))}getActiveTextEditor(){return this.i.activeEditor()}getVisibleTextEditors(M){const D=this.i.allEditors();return M?D:D.map(h=>h.value)}async showTextDocument(M,D,h){let b;typeof D=="number"?b={position:E.ViewColumn.from(D),preserveFocus:h}:typeof D=="object"?b={position:E.ViewColumn.from(D.viewColumn),preserveFocus:D.preserveFocus,selection:typeof D.selection=="object"?E.Range.from(D.selection):void 0,pinned:typeof D.preview=="boolean"?!D.preview:void 0}:b={preserveFocus:!1};const g=await this.h.$tryShowTextDocument(M.uri,b),a=g&&this.i.getEditor(g);if(a)return a.value;throw g?new Error(`Could NOT open editor for "${M.uri.toString()}" because another editor opened in the meantime.`):new Error(`Could NOT open editor for "${M.uri.toString()}".`)}createTextEditorDecorationType(M,D){return new N.TextEditorDecorationType(this.h,M,D).value}$acceptEditorPropertiesChanged(M,D){const h=this.i.getEditor(M);if(!h)throw new Error("unknown text editor");if(D.options&&h._acceptOptions(D.options),D.selections){const b=D.selections.selections.map(E.Selection.to);h._acceptSelections(b)}if(D.visibleRanges){const b=i.coalesce(D.visibleRanges.map(E.Range.to));h._acceptVisibleRanges(b)}if(D.options&&this.b.fire({textEditor:h.value,options:{...D.options,lineNumbers:E.TextEditorLineNumbersStyle.to(D.options.lineNumbers)}}),D.selections){const b=R.TextEditorSelectionChangeKind.fromValue(D.selections.source),g=D.selections.selections.map(E.Selection.to);this.a.fire({textEditor:h.value,selections:g,kind:b})}if(D.visibleRanges){const b=i.coalesce(D.visibleRanges.map(E.Range.to));this.c.fire({textEditor:h.value,visibleRanges:b})}}$acceptEditorPositionData(M){for(const D in M){const h=this.i.getEditor(D);if(!h)throw new Error("Unknown text editor");const b=E.ViewColumn.to(M[D]);h.value.viewColumn!==b&&(h._acceptViewColumn(b),this.d.fire({textEditor:h.value,viewColumn:b}))}}getDiffInformation(M){return Promise.resolve(this.h.$getDiffInformation(M))}}e.ExtHostEditors=S}),define(ke[234],Te([1,0,2,3,5,6,7,8,26,9]),function(ne,e,i,T,I,N,E,R,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostTimeline=e.IExtHostTimeline=void 0,e.IExtHostTimeline=(0,T.createDecorator)("IExtHostTimeline");class M{constructor(b,g){this.b=new Map,this.c=new Map,this.a=b.getProxy(I.MainContext.MainThreadTimeline),g.registerArgumentProcessor({processArgument:(a,o)=>{if(a&&a.$mid===12)if(this.b.get(a.source)&&S.ExtensionIdentifier.equals(o,this.b.get(a.source)?.extension)){const l=a.uri===void 0?void 0:i.URI.revive(a.uri);return this.c.get(a.source)?.get(D(l))?.get(a.handle)}else return;return a}})}async $getTimeline(b,g,a,o){return this.b.get(b)?.provider.provideTimeline(i.URI.revive(g),a,o)}registerTimelineProvider(b,g,a,o){const l=new N.DisposableStore,p=this.d(g.id,o,l).bind(this);let w;g.onDidChange&&(w=g.onDidChange(v=>this.a.$emitTimelineChangeEvent({uri:void 0,reset:!0,...v,id:g.id}),this));const O=this.c;return this.f({...g,scheme:b,onDidChange:void 0,async provideTimeline(v,t,d){t?.resetCache&&(l.clear(),O.get(g.id)?.clear());const r=await g.provideTimeline(v,t,d);if(r==null)return;const u=p(v,t);return{...r,source:g.id,items:r.items.map(u)}},dispose(){for(const v of O.values())v.get(g.id)?.clear();w?.dispose(),l.dispose()}},a)}d(b,g,a){return(o,l)=>{let p;if(l?.cacheResults){let w=this.c.get(b);w===void 0&&(w=new Map,this.c.set(b,w));const O=D(o);p=w.get(O),p===void 0&&(p=new Map,w.set(O,p))}return w=>{const{iconPath:O,...v}=w,t=`${b}|${w.id??w.timestamp}`;p?.set(t,w);let d,r,u;w.iconPath&&(O instanceof E.ThemeIcon?u={id:O.id,color:O.color}:i.URI.isUri(O)?(d=O,r=O):{light:d,dark:r}=O);let c;return E.MarkdownString.isMarkdownString(v.tooltip)?c=R.MarkdownString.from(v.tooltip):(0,k.isString)(v.tooltip)?c=v.tooltip:E.MarkdownString.isMarkdownString(v.detail)?(console.warn("Using deprecated TimelineItem.detail, migrate to TimelineItem.tooltip"),c=R.MarkdownString.from(v.detail)):(0,k.isString)(v.detail)&&(console.warn("Using deprecated TimelineItem.detail, migrate to TimelineItem.tooltip"),c=v.detail),{...v,id:v.id??void 0,handle:t,source:b,command:w.command?g.toInternal(w.command,a):void 0,icon:d,iconDark:r,themeIcon:u,tooltip:c,accessibilityInformation:w.accessibilityInformation}}}}f(b,g){if(this.b.get(b.id))throw new Error(`Timeline Provider ${b.id} already exists.`);return this.a.$registerTimelineProvider({id:b.id,label:b.label,scheme:b.scheme}),this.b.set(b.id,{provider:b,extension:g}),(0,N.toDisposable)(()=>{for(const o of this.c.values())o.get(b.id)?.clear();this.b.delete(b.id),this.a.$unregisterTimelineProvider(b.id),b.dispose()})}}e.ExtHostTimeline=M;function D(h){return h?.toString()}}),define(ke[235],Te([1,0,6,15,2,5]),function(ne,e,i,T,I,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostUriOpeners=void 0;class E{constructor(S){this.c=new Map,this.b=S.getProxy(N.MainContext.MainThreadUriOpeners)}registerExternalUriOpener(S,k,M,D){if(this.c.has(k))throw new Error(`Opener with id '${k}' already registered`);const h=D.schemes.find(b=>!E.a.has(b));if(h)throw new Error(`Scheme '${h}' is not supported. Only http and https are currently supported.`);return this.c.set(k,M),this.b.$registerUriOpener(k,D.schemes,S,D.label),(0,i.toDisposable)(()=>{this.c.delete(k),this.b.$unregisterUriOpener(k)})}async $canOpenUri(S,k,M){const D=this.c.get(S);if(!D)throw new Error(`Unknown opener with id: ${S}`);const h=I.URI.revive(k);return D.canOpenExternalUri(h,M)}async $openUri(S,k,M){const D=this.c.get(S);if(!D)throw new Error(`Unknown opener id: '${S}'`);return D.openExternalUri(I.URI.revive(k.resolvedUri),{sourceUri:I.URI.revive(k.sourceUri)},M)}}E.a=new Set([T.Schemas.http,T.Schemas.https]),e.ExtHostUriOpeners=E}),define(ke[236],Te([1,0,5,2,6,11,26]),function(ne,e,i,T,I,N,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostUrls=void 0;class R{constructor(k){this.c=new Set,this.d=new Map,this.b=k.getProxy(i.MainContext.MainThreadUrls)}registerUriHandler(k,M){if(this.c.has(E.ExtensionIdentifier.toKey(k)))throw new Error(`Protocol handler already registered for extension ${k}`);const D=R.a++;return this.c.add(E.ExtensionIdentifier.toKey(k)),this.d.set(D,M),this.b.$registerUriHandler(D,k),(0,I.toDisposable)(()=>{this.c.delete(E.ExtensionIdentifier.toKey(k)),this.d.delete(D),this.b.$unregisterUriHandler(D)})}$handleExternalUri(k,M){const D=this.d.get(k);if(!D)return Promise.resolve(void 0);try{D.handleUri(T.URI.revive(M))}catch(h){(0,N.onUnexpectedError)(h)}return Promise.resolve(void 0)}async createAppUri(k){return T.URI.revive(await this.b.$createAppUri(k))}}R.a=0,e.ExtHostUrls=R});var Je=this&&this.__classPrivateFieldSet||function(ne,e,i,T,I){if(T==="m")throw new TypeError("Private method is not writable");if(T==="a"&&!I)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?ne!==e||!I:!e.has(ne))throw new TypeError("Cannot write private member to an object whose class did not declare it");return T==="a"?I.call(ne,i):I?I.value=i:e.set(ne,i),i},Le=this&&this.__classPrivateFieldGet||function(ne,e,i,T){if(i==="a"&&!T)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?ne!==e||!T:!e.has(ne))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?T:i==="a"?T.call(ne):T?T.value:e.get(ne)};define(ke[62],Te([1,0,4,15,22,2,158,181,73,5]),function(ne,e,i,T,I,N,E,R,S,k){"use strict";var M,D,h,b,g,a,o,l,p,w,O,v,t;Object.defineProperty(e,"__esModule",{value:!0}),e.serializeWebviewOptions=e.toExtensionData=e.ExtHostWebviews=e.shouldSerializeBuffersForPostMessage=e.ExtHostWebview=void 0;class d{constructor(P,H,Y,Z,_,j,L){M.set(this,void 0),D.set(this,void 0),h.set(this,void 0),b.set(this,void 0),g.set(this,void 0),a.set(this,void 0),o.set(this,""),l.set(this,void 0),p.set(this,!1),w.set(this,!1),O.set(this,void 0),v.set(this,void 0),this._onMessageEmitter=new i.Emitter,this.onDidReceiveMessage=this._onMessageEmitter.event,t.set(this,new i.Emitter),this._onDidDispose=Le(this,t,"f").event,Je(this,M,P,"f"),Je(this,D,H,"f"),Je(this,l,Y,"f"),Je(this,b,Z,"f"),Je(this,g,_,"f"),Je(this,a,j,"f"),Je(this,O,r(j),"f"),Je(this,v,u(j),"f"),Je(this,h,L,"f")}dispose(){Je(this,p,!0,"f"),Le(this,t,"f").fire(),Le(this,t,"f").dispose(),this._onMessageEmitter.dispose()}asWebviewUri(P){return Je(this,w,!0,"f"),(0,S.asWebviewUri)(P,Le(this,b,"f"))}get cspSource(){const P=Le(this,a,"f").extensionLocation;if(P.scheme===T.Schemas.https||P.scheme===T.Schemas.http){let H=P.toString();return H.endsWith("/")||(H+="/"),H+" "+S.webviewGenericCspSource}return S.webviewGenericCspSource}get html(){return this.a(),Le(this,o,"f")}set html(P){this.a(),Le(this,o,"f")!==P&&(Je(this,o,P,"f"),Le(this,v,"f")&&!Le(this,w,"f")&&/(["'])vscode-resource:([^\s'"]+?)(["'])/i.test(P)&&(Je(this,w,!0,"f"),Le(this,h,"f").report("Webview vscode-resource: uris",Le(this,a,"f"),"Please migrate to use the 'webview.asWebviewUri' api instead: https://aka.ms/vscode-webview-use-aswebviewuri")),Le(this,D,"f").$setHtml(Le(this,M,"f"),this.b(P)))}get options(){return this.a(),Le(this,l,"f")}set options(P){this.a(),I.equals(Le(this,l,"f"),P)||Le(this,D,"f").$setOptions(Le(this,M,"f"),n(Le(this,a,"f"),Le(this,g,"f"),P)),Je(this,l,P,"f")}async postMessage(P){if(Le(this,p,"f"))return!1;const H=(0,R.serializeWebviewMessage)(P,{serializeBuffersForPostMessage:Le(this,O,"f")});return Le(this,D,"f").$postMessage(Le(this,M,"f"),H.message,...H.buffers)}a(){if(Le(this,p,"f"))throw new Error("Webview is disposed")}b(P){if(!Le(this,v,"f"))return P;const H=Le(this,a,"f").extensionLocation?.scheme===T.Schemas.vscodeRemote,Y=Le(this,a,"f").extensionLocation.scheme===T.Schemas.vscodeRemote?Le(this,a,"f").extensionLocation.authority:void 0;return P.replace(/(["'])(?:vscode-resource):(\/\/([^\s\/'"]+?)(?=\/))?([^\s'"]+?)(["'])/gi,(Z,_,j,L,m,F)=>{const B=N.URI.from({scheme:L||"file",path:decodeURIComponent(m)}),J=(0,S.asWebviewUri)(B,{isRemote:H,authority:Y}).toString();return`${_}${J}${F}`}).replace(/(["'])(?:vscode-webview-resource):(\/\/[^\s\/'"]+\/([^\s\/'"]+?)(?=\/))?([^\s'"]+?)(["'])/gi,(Z,_,j,L,m,F)=>{const B=N.URI.from({scheme:L||"file",path:decodeURIComponent(m)}),J=(0,S.asWebviewUri)(B,{isRemote:H,authority:Y}).toString();return`${_}${J}${F}`})}}e.ExtHostWebview=d,M=new WeakMap,D=new WeakMap,h=new WeakMap,b=new WeakMap,g=new WeakMap,a=new WeakMap,o=new WeakMap,l=new WeakMap,p=new WeakMap,w=new WeakMap,O=new WeakMap,v=new WeakMap,t=new WeakMap;function r(A){try{const P=(0,E.normalizeVersion)((0,E.parseVersion)(A.engines.vscode));return!!P&&P.majorBase>=1&&P.minorBase>=57}catch{return!1}}e.shouldSerializeBuffersForPostMessage=r;function u(A){try{const P=(0,E.normalizeVersion)((0,E.parseVersion)(A.engines.vscode));return P?P.majorBase<1||P.majorBase===1&&P.minorBase<60:!1}catch{return!1}}class c{constructor(P,H,Y,Z,_){this.c=H,this.d=Y,this.e=Z,this.f=_,this.b=new Map,this.a=P.getProxy(k.MainContext.MainThreadWebviews)}$onMessage(P,H,Y){const Z=this.g(P);if(Z){const{message:_}=(0,R.deserializeWebviewMessage)(H,Y.value);Z._onMessageEmitter.fire(_)}}$onMissingCsp(P,H){this.e.warn(`${H} created a webview without a content security policy: https://aka.ms/vscode-webview-missing-csp`)}createNewWebview(P,H,Y){const Z=new d(P,this.a,s(H),this.c,this.d,Y,this.f);return this.b.set(P,Z),Z._onDidDispose(()=>{this.b.delete(P)}),Z}deleteWebview(P){this.b.delete(P)}g(P){return this.b.get(P)}}e.ExtHostWebviews=c;function y(A){return{id:A.identifier,location:A.extensionLocation}}e.toExtensionData=y;function n(A,P,H){return{enableCommandUris:H.enableCommandUris,enableScripts:H.enableScripts,enableForms:H.enableForms,portMapping:H.portMapping,localResourceRoots:H.localResourceRoots||f(A,P)}}e.serializeWebviewOptions=n;function s(A){return{enableCommandUris:A.enableCommandUris,enableScripts:A.enableScripts,enableForms:A.enableForms,portMapping:A.portMapping,localResourceRoots:A.localResourceRoots?.map(P=>N.URI.from(P))}}function f(A,P){return[...(P?.getWorkspaceFolders()||[]).map(H=>H.uri),A.extensionLocation]}}),define(ke[237],Te([1,0,21,232,6,15,24,2,8,62,54,5,7]),function(ne,e,i,T,I,N,E,R,S,k,M,D,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostCustomEditors=void 0;class b{constructor(d,r){this.document=d,this.b=r,this.a=1,this.c=new M.Cache("custom documents")}addEdit(d){return this.c.add([d])}async undo(d,r){await this.f(d).undo(),r||this.disposeBackup()}async redo(d,r){await this.f(d).redo(),r||this.disposeBackup()}disposeEdits(d){for(const r of d)this.c.delete(r)}getNewBackupUri(){if(!this.b)throw new Error("Backup requires a valid storage path");const d=v(this.document.uri)+this.a++;return(0,E.joinPath)(this.b,d)}updateBackup(d){this.d?.delete(),this.d=d}disposeBackup(){this.d?.delete(),this.d=void 0}f(d){const r=this.c.get(d,0);if(!r)throw new Error("No edit found");return r}}class g{constructor(){this.a=new Map}get(d,r){return this.a.get(this.b(d,r))}add(d,r,u){const c=this.b(d,r.uri);if(this.a.has(c))throw new Error(`Document already exists for viewType:${d} resource:${r.uri}`);const y=new b(r,u);return this.a.set(c,y),y}delete(d,r){const u=this.b(d,r.uri);this.a.delete(u)}b(d,r){return`${d}@@@${r}`}}var a;(function(t){t[t.Text=0]="Text",t[t.Custom=1]="Custom"})(a||(a={}));class o{constructor(){this.a=new Map}addTextProvider(d,r,u){return this.b(0,d,r,u)}addCustomProvider(d,r,u){return this.b(1,d,r,u)}get(d){return this.a.get(d)}b(d,r,u,c){if(this.a.has(r))throw new Error(`Provider for viewType:${r} already registered`);return this.a.set(r,{type:d,extension:u,provider:c}),new h.Disposable(()=>this.a.delete(r))}}class l{constructor(d,r,u,c,y){this.d=r,this.f=u,this.g=c,this.h=y,this.b=new o,this.c=new g,this.a=d.getProxy(D.MainContext.MainThreadCustomEditors)}registerCustomEditorProvider(d,r,u,c){const y=new I.DisposableStore;return w(u)?(y.add(this.b.addTextProvider(r,d,u)),this.a.$registerTextEditorProvider((0,k.toExtensionData)(d),r,c.webviewOptions||{},{supportsMove:!!u.moveCustomTextEditor},(0,k.shouldSerializeBuffersForPostMessage)(d))):(y.add(this.b.addCustomProvider(r,d,u)),p(u)&&y.add(u.onDidChangeCustomDocument(n=>{const s=this.i(r,n.document.uri);if(O(n)){const f=s.addEdit(n);this.a.$onDidEdit(n.document.uri,r,f,n.label)}else this.a.$onContentChange(n.document.uri,r)})),this.a.$registerCustomEditorProvider((0,k.toExtensionData)(d),r,c.webviewOptions||{},!!c.supportsMultipleEditorsPerDocument,(0,k.shouldSerializeBuffersForPostMessage)(d))),h.Disposable.from(y,new h.Disposable(()=>{this.a.$unregisterEditorProvider(r)}))}async $createCustomDocument(d,r,u,c,y){const n=this.b.get(r);if(!n)throw new Error(`No provider found for '${r}'`);if(n.type!==1)throw new Error(`Invalid provide type for '${r}'`);const s=R.URI.revive(d),f=await n.provider.openCustomDocument(s,{backupId:u,untitledDocumentData:c?.buffer},y);let A;return p(n.provider)&&this.f&&(A=this.f.workspaceValue(n.extension)??this.f.globalValue(n.extension)),this.c.add(r,f,A),{editable:p(n.provider)}}async $disposeCustomDocument(d,r){const u=this.b.get(r);if(!u)throw new Error(`No provider found for '${r}'`);if(u.type!==1)throw new Error(`Invalid provider type for '${r}'`);const c=R.URI.revive(d),{document:y}=this.i(r,c);this.c.delete(r,y),y.dispose()}async $resolveCustomEditor(d,r,u,c,y,n){const s=this.b.get(u);if(!s)throw new Error(`No provider found for '${u}'`);const f=S.ViewColumn.to(y),A=this.g.createNewWebview(r,c.contentOptions,s.extension),P=this.h.createNewWebviewPanel(r,u,c.title,f,c.options,A,!0),H=R.URI.revive(d);switch(s.type){case 1:{const{document:Y}=this.i(u,H);return s.provider.resolveCustomEditor(Y,P,n)}case 0:{const Y=this.d.getDocument(H);return s.provider.resolveCustomTextEditor(Y,P,n)}default:throw new Error("Unknown webview provider type")}}$disposeEdits(d,r,u){this.i(r,d).disposeEdits(u)}async $onMoveCustomEditor(d,r,u){const c=this.b.get(u);if(!c)throw new Error(`No provider found for '${u}'`);if(!c.provider.moveCustomTextEditor)throw new Error(`Provider does not implement move '${u}'`);const y=this.h.getWebviewPanel(d);if(!y)throw new Error("No webview found");const n=R.URI.revive(r),s=this.d.getDocument(n);await c.provider.moveCustomTextEditor(s,y,i.CancellationToken.None)}async $undo(d,r,u,c){return this.i(r,d).undo(u,c)}async $redo(d,r,u,c){return this.i(r,d).redo(u,c)}async $revert(d,r,u){const c=this.i(r,d);await this.j(r).revertCustomDocument(c.document,u),c.disposeBackup()}async $onSave(d,r,u){const c=this.i(r,d);await this.j(r).saveCustomDocument(c.document,u),c.disposeBackup()}async $onSaveAs(d,r,u,c){const y=this.i(r,d);return this.j(r).saveCustomDocumentAs(y.document,R.URI.revive(u),c)}async $backup(d,r,u){const c=this.i(r,d),n=await this.j(r).backupCustomDocument(c.document,{destination:c.getNewBackupUri()},u);return c.updateBackup(n),n.id}i(d,r){const u=this.c.get(d,R.URI.revive(r));if(!u)throw new Error("No custom document found");return u}j(d){const u=this.b.get(d)?.provider;if(!u||!p(u))throw new Error("Custom document is not editable");return u}}e.ExtHostCustomEditors=l;function p(t){return!!t.onDidChangeCustomDocument}function w(t){return typeof t.resolveCustomTextEditor=="function"}function O(t){return typeof t.undo=="function"&&typeof t.redo=="function"}function v(t){const d=t.scheme===N.Schemas.file||t.scheme===N.Schemas.untitled?t.fsPath:t.toString();return(0,T.hash)(d)+""}});var Je=this&&this.__classPrivateFieldSet||function(ne,e,i,T,I){if(T==="m")throw new TypeError("Private method is not writable");if(T==="a"&&!I)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?ne!==e||!I:!e.has(ne))throw new TypeError("Cannot write private member to an object whose class did not declare it");return T==="a"?I.call(ne,i):I?I.value=i:e.set(ne,i),i},Le=this&&this.__classPrivateFieldGet||function(ne,e,i,T){if(i==="a"&&!T)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?ne!==e||!T:!e.has(ne))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?T:i==="a"?T.call(ne):T?T.value:e.get(ne)};define(ke[238],Te([1,0,4,6,2,34,8,62,5,7]),function(ne,e,i,T,I,N,E,R,S,k){"use strict";var M,D,h,b,g,a,o,l,p,w,O,v,t;Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostWebviewPanels=void 0;class d extends T.Disposable{constructor(y,n,s,f){super(),M.set(this,void 0),D.set(this,void 0),h.set(this,void 0),b.set(this,void 0),g.set(this,void 0),a.set(this,void 0),o.set(this,void 0),l.set(this,void 0),p.set(this,!0),w.set(this,void 0),O.set(this,!1),v.set(this,this.B(new i.Emitter)),this.onDidDispose=Le(this,v,"f").event,t.set(this,this.B(new i.Emitter)),this.onDidChangeViewState=Le(this,t,"f").event,Je(this,M,y,"f"),Je(this,D,n,"f"),Je(this,b,s,"f"),Je(this,h,f.viewType,"f"),Je(this,g,f.panelOptions,"f"),Je(this,l,f.viewColumn,"f"),Je(this,a,f.title,"f"),Je(this,w,f.active,"f")}dispose(){Le(this,O,"f")||(Je(this,O,!0,"f"),Le(this,v,"f").fire(),Le(this,D,"f").$disposeWebview(Le(this,M,"f")),Le(this,b,"f").dispose(),super.dispose())}get webview(){return this.c(),Le(this,b,"f")}get viewType(){return this.c(),Le(this,h,"f")}get title(){return this.c(),Le(this,a,"f")}set title(y){this.c(),Le(this,a,"f")!==y&&(Je(this,a,y,"f"),Le(this,D,"f").$setTitle(Le(this,M,"f"),y))}get iconPath(){return this.c(),Le(this,o,"f")}set iconPath(y){this.c(),Le(this,o,"f")!==y&&(Je(this,o,y,"f"),Le(this,D,"f").$setIconPath(Le(this,M,"f"),I.URI.isUri(y)?{light:y,dark:y}:y))}get options(){return Le(this,g,"f")}get viewColumn(){if(this.c(),!(typeof Le(this,l,"f")=="number"&&Le(this,l,"f")<0))return Le(this,l,"f")}get active(){return this.c(),Le(this,w,"f")}get visible(){return this.c(),Le(this,p,"f")}_updateViewState(y){Le(this,O,"f")||(this.active!==y.active||this.visible!==y.visible||this.viewColumn!==y.viewColumn)&&(Je(this,w,y.active,"f"),Je(this,p,y.visible,"f"),Je(this,l,y.viewColumn,"f"),Le(this,t,"f").fire({webviewPanel:this}))}reveal(y,n){this.c(),Le(this,D,"f").$reveal(Le(this,M,"f"),{viewColumn:typeof y>"u"?void 0:E.ViewColumn.from(y),preserveFocus:!!n})}c(){if(Le(this,O,"f"))throw new Error("Webview is disposed")}}M=new WeakMap,D=new WeakMap,h=new WeakMap,b=new WeakMap,g=new WeakMap,a=new WeakMap,o=new WeakMap,l=new WeakMap,p=new WeakMap,w=new WeakMap,O=new WeakMap,v=new WeakMap,t=new WeakMap;class r{static c(){return(0,N.generateUuid)()}constructor(y,n,s){this.g=n,this.h=s,this.e=new Map,this.f=new Map,this.d=y.getProxy(S.MainContext.MainThreadWebviewPanels)}createWebviewPanel(y,n,s,f,A={}){const P=typeof f=="object"?f.viewColumn:f,H={viewColumn:E.ViewColumn.from(P),preserveFocus:typeof f=="object"&&!!f.preserveFocus},Y=(0,R.shouldSerializeBuffersForPostMessage)(y),Z=r.c();this.d.$createWebviewPanel((0,R.toExtensionData)(y),Z,n,{title:s,panelOptions:u(A),webviewOptions:(0,R.serializeWebviewOptions)(y,this.h,A),serializeBuffersForPostMessage:Y},H);const _=this.g.createNewWebview(Z,A,y);return this.createNewWebviewPanel(Z,n,s,P,A,_,!0)}$onDidChangeWebviewPanelViewStates(y){const n=Object.keys(y);n.sort((s,f)=>{const A=y[s],P=y[f];return A.active?1:P.active?-1:+A.visible-+P.visible});for(const s of n){const f=this.getWebviewPanel(s);if(!f)continue;const A=y[s];f._updateViewState({active:A.active,visible:A.visible,viewColumn:E.ViewColumn.to(A.position)})}}async $onDidDisposeWebviewPanel(y){this.getWebviewPanel(y)?.dispose(),this.e.delete(y),this.g.deleteWebview(y)}registerWebviewPanelSerializer(y,n,s){if(this.f.has(n))throw new Error(`Serializer for '${n}' already registered`);return this.f.set(n,{serializer:s,extension:y}),this.d.$registerSerializer(n,{serializeBuffersForPostMessage:(0,R.shouldSerializeBuffersForPostMessage)(y)}),new k.Disposable(()=>{this.f.delete(n),this.d.$unregisterSerializer(n)})}async $deserializeWebviewPanel(y,n,s,f){const A=this.f.get(n);if(!A)throw new Error(`No serializer found for '${n}'`);const{serializer:P,extension:H}=A,Y=this.g.createNewWebview(y,s.webviewOptions,H),Z=this.createNewWebviewPanel(y,n,s.title,f,s.panelOptions,Y,s.active);await P.deserializeWebviewPanel(Z,s.state)}createNewWebviewPanel(y,n,s,f,A,P,H){const Y=new d(y,this.d,P,{viewType:n,title:s,viewColumn:f,panelOptions:A,active:H});return this.e.set(y,Y),Y}getWebviewPanel(y){return this.e.get(y)}}e.ExtHostWebviewPanels=r;function u(c){return{enableFindWidget:c.enableFindWidget,retainContextWhenHidden:c.retainContextWhenHidden}}});var Je=this&&this.__classPrivateFieldSet||function(ne,e,i,T,I){if(T==="m")throw new TypeError("Private method is not writable");if(T==="a"&&!I)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?ne!==e||!I:!e.has(ne))throw new TypeError("Cannot write private member to an object whose class did not declare it");return T==="a"?I.call(ne,i):I?I.value=i:e.set(ne,i),i},Le=this&&this.__classPrivateFieldGet||function(ne,e,i,T){if(i==="a"&&!T)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?ne!==e||!T:!e.has(ne))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?T:i==="a"?T.call(ne):T?T.value:e.get(ne)};define(ke[239],Te([1,0,4,6,62,8,5,7]),function(ne,e,i,T,I,N,E,R){"use strict";var S,k,M,D,h,b,g,a,o,l,p;Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostWebviewViews=void 0;class w extends T.Disposable{constructor(t,d,r,u,c,y){super(),S.set(this,void 0),k.set(this,void 0),M.set(this,void 0),D.set(this,void 0),h.set(this,!1),b.set(this,void 0),g.set(this,void 0),a.set(this,void 0),o.set(this,void 0),l.set(this,this.B(new i.Emitter)),this.onDidChangeVisibility=Le(this,l,"f").event,p.set(this,this.B(new i.Emitter)),this.onDidDispose=Le(this,p,"f").event,Je(this,M,r,"f"),Je(this,g,u,"f"),Je(this,S,t,"f"),Je(this,k,d,"f"),Je(this,D,c,"f"),Je(this,b,y,"f")}dispose(){Le(this,h,"f")||(Je(this,h,!0,"f"),Le(this,p,"f").fire(),Le(this,D,"f").dispose(),super.dispose())}get title(){return this.a(),Le(this,g,"f")}set title(t){this.a(),Le(this,g,"f")!==t&&(Je(this,g,t,"f"),Le(this,k,"f").$setWebviewViewTitle(Le(this,S,"f"),t))}get description(){return this.a(),Le(this,a,"f")}set description(t){this.a(),Le(this,a,"f")!==t&&(Je(this,a,t,"f"),Le(this,k,"f").$setWebviewViewDescription(Le(this,S,"f"),t))}get visible(){return Le(this,b,"f")}get webview(){return Le(this,D,"f")}get viewType(){return Le(this,M,"f")}_setVisible(t){t===Le(this,b,"f")||Le(this,h,"f")||(Je(this,b,t,"f"),Le(this,l,"f").fire())}get badge(){return this.a(),Le(this,o,"f")}set badge(t){this.a(),!(t?.value===Le(this,o,"f")?.value&&t?.tooltip===Le(this,o,"f")?.tooltip)&&(Je(this,o,N.ViewBadge.from(t),"f"),Le(this,k,"f").$setWebviewViewBadge(Le(this,S,"f"),t))}show(t){this.a(),Le(this,k,"f").$show(Le(this,S,"f"),!!t)}a(){if(Le(this,h,"f"))throw new Error("Webview is disposed")}}S=new WeakMap,k=new WeakMap,M=new WeakMap,D=new WeakMap,h=new WeakMap,b=new WeakMap,g=new WeakMap,a=new WeakMap,o=new WeakMap,l=new WeakMap,p=new WeakMap;class O{constructor(t,d){this.d=d,this.b=new Map,this.c=new Map,this.a=t.getProxy(E.MainContext.MainThreadWebviewViews)}registerWebviewViewProvider(t,d,r,u){if(this.b.has(d))throw new Error(`View provider for '${d}' already registered`);return this.b.set(d,{provider:r,extension:t}),this.a.$registerWebviewViewProvider((0,I.toExtensionData)(t),d,{retainContextWhenHidden:u?.retainContextWhenHidden,serializeBuffersForPostMessage:(0,I.shouldSerializeBuffersForPostMessage)(t)}),new R.Disposable(()=>{this.b.delete(d),this.a.$unregisterWebviewViewProvider(d)})}async $resolveWebviewView(t,d,r,u,c){const y=this.b.get(d);if(!y)throw new Error(`No view provider found for '${d}'`);const{provider:n,extension:s}=y,f=this.d.createNewWebview(t,{},s),A=new w(t,this.a,d,r,f,!0);this.c.set(t,A),await n.resolveWebviewView(A,{state:u},c)}async $onDidChangeWebviewViewVisibility(t,d){this.e(t)._setVisible(d)}async $disposeWebviewView(t){const d=this.e(t);this.c.delete(t),d.dispose(),this.d.deleteWebview(t)}e(t){const d=this.c.get(t);if(!d)throw new Error("No webview found");return d}}e.ExtHostWebviewViews=O}),define(ke[104],Te([1,0,4,5,2,15,10,3,18]),function(ne,e,i,T,I,N,E,R,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IExtHostWindow=e.ExtHostWindow=void 0;let k=class an{get state(){return this.d}constructor(D){this.c=new i.Emitter,this.onDidChangeWindowState=this.c.event,this.d=an.a,this.b=D.getProxy(T.MainContext.MainThreadWindow),this.b.$getWindowVisibility().then(h=>this.$onDidChangeWindowFocus(h))}$onDidChangeWindowFocus(D){D!==this.d.focused&&(this.d={...this.d,focused:D},this.c.fire(this.d))}openUri(D,h){let b;if(typeof D=="string"){b=D;try{D=I.URI.parse(D)}catch{return Promise.reject(`Invalid uri - '${D}'`)}}return(0,E.isFalsyOrWhitespace)(D.scheme)?Promise.reject("Invalid scheme - cannot be empty"):D.scheme===N.Schemas.command?Promise.reject(`Invalid scheme '${D.scheme}'`):this.b.$openUri(D,b,h)}async asExternalUri(D,h){if((0,E.isFalsyOrWhitespace)(D.scheme))return Promise.reject("Invalid scheme - cannot be empty");const b=await this.b.$asExternalUri(D,h);return I.URI.from(b)}};k.a={focused:!0},k=qe([Ve(0,S.IExtHostRpcService)],k),e.ExtHostWindow=k,e.IExtHostWindow=(0,R.createDecorator)("IExtHostWindow")}),define(ke[240],Te([1,0,210,27,18]),function(ne,e,i,T,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostConsoleForwarder=void 0;let N=class extends i.AbstractExtHostConsoleForwarder{constructor(R,S){super(R,S)}f(R,S,k){S.apply(console,k)}};N=qe([Ve(0,I.IExtHostRpcService),Ve(1,T.IExtHostInitDataService)],N),e.ExtHostConsoleForwarder=N}),define(ke[241],Te([1,0,17,23,21,11,4,6,127,204,46]),function(ne,e,i,T,I,N,E,R,S,k,M){"use strict";var D;Object.defineProperty(e,"__esModule",{value:!0}),e.RPCProtocol=e.ResponsiveState=e.RequestInitiator=e.parseJsonAndRestoreBufferRefs=e.stringifyJsonWithBufferRefs=void 0;function h(A,P){try{return JSON.stringify(A,P)}catch{return"null"}}const b="$$ref$$",g={[b]:-1};class a{constructor(P,H){this.jsonString=P,this.referencedBuffers=H}}function o(A,P=null,H=!1){const Y=[];return{jsonString:(H?h:JSON.stringify)(A,(_,j)=>{if(typeof j>"u")return g;if(typeof j=="object"){if(j instanceof T.VSBuffer){const L=Y.push(j)-1;return{[b]:L}}if(P)return P(_,j)}return j}),referencedBuffers:Y}}e.stringifyJsonWithBufferRefs=o;function l(A,P,H){return JSON.parse(A,(Y,Z)=>{if(Z){const _=Z[b];if(typeof _=="number")return P[_];if(H&&Z.$mid===1)return H.transformIncoming(Z)}return Z})}e.parseJsonAndRestoreBufferRefs=l;function p(A,P){return JSON.stringify(A,P)}function w(A){return A?(P,H)=>H&&H.$mid===1?A.transformOutgoing(H):H:null}var O;(function(A){A[A.LocalSide=0]="LocalSide",A[A.OtherSide=1]="OtherSide"})(O=e.RequestInitiator||(e.RequestInitiator={}));var v;(function(A){A[A.Responsive=0]="Responsive",A[A.Unresponsive=1]="Unresponsive"})(v=e.ResponsiveState||(e.ResponsiveState={}));const t=()=>{},d=Symbol.for("rpcProtocol"),r=Symbol.for("rpcProxy");class u extends R.Disposable{constructor(P,H=null,Y=null){super(),this[D]=!0,this.b=this.B(new E.Emitter),this.onDidChangeResponsiveState=this.b.event,this.c=P,this.f=H,this.g=Y,this.h=w(this.g),this.j=!1,this.k=[],this.l=[];for(let Z=0,_=M.ProxyIdentifier.count;Z<_;Z++)this.k[Z]=null,this.l[Z]=null;this.m=0,this.p=Object.create(null),this.s={},this.t=0,this.u=0,this.v=0,this.w=this.B(new i.RunOnceScheduler(()=>this.C(),1e3)),this.c.onMessage(Z=>this.G(Z))}dispose(){this.j=!0,Object.keys(this.s).forEach(P=>{this.s[P].resolveErr(N.canceled())})}drain(){return typeof this.c.drain=="function"?this.c.drain():Promise.resolve()}y(P){this.u===0&&(this.v=Date.now()+u.a),this.u++,this.w.isScheduled()||this.w.schedule()}z(P){this.v=Date.now()+u.a,this.u--,this.u===0&&this.w.cancel(),this.D(0)}C(){this.u!==0&&(Date.now()>this.v?this.D(1):this.w.schedule())}D(P){this.t!==P&&(this.t=P,this.b.fire(this.t))}get responsiveState(){return this.t}transformIncomingURIs(P){return this.g?(0,S.transformIncomingURIs)(P,this.g):P}getProxy(P){const{nid:H,sid:Y}=P;return this.l[H]||(this.l[H]=this.F(H,Y)),this.l[H]}F(P,H){const Y={get:(Z,_)=>(typeof _=="string"&&!Z[_]&&_.charCodeAt(0)===36&&(Z[_]=(...j)=>this.O(P,_,j)),_===r?H:Z[_])};return new Proxy(Object.create(null),Y)}set(P,H){return this.k[P.nid]=H,H}assertRegistered(P){for(let H=0,Y=P.length;H<Y;H++){const Z=P[H];if(!this.k[Z.nid])throw new Error(`Missing proxy instance ${Z.sid}`)}}G(P){if(this.j)return;const H=P.byteLength,Y=c.read(P,0),Z=Y.readUInt8(),_=Y.readUInt32();switch(Z){case 1:case 2:{let{rpcId:j,method:L,args:m}=n.deserializeRequestJSONArgs(Y);this.g&&(m=(0,S.transformIncomingURIs)(m,this.g)),this.H(H,_,j,L,m,Z===2);break}case 3:case 4:{let{rpcId:j,method:L,args:m}=n.deserializeRequestMixedArgs(Y);this.g&&(m=(0,S.transformIncomingURIs)(m,this.g)),this.H(H,_,j,L,m,Z===4);break}case 5:{this.f?.logIncoming(H,_,0,"ack"),this.z(_);break}case 6:{this.I(H,_);break}case 7:{this.J(H,_,void 0);break}case 9:{let j=n.deserializeReplyOKJSON(Y);this.g&&(j=(0,S.transformIncomingURIs)(j,this.g)),this.J(H,_,j);break}case 10:{const j=n.deserializeReplyOKJSONWithBuffers(Y,this.g);this.J(H,_,j);break}case 8:{const j=n.deserializeReplyOKVSBuffer(Y);this.J(H,_,j);break}case 11:{let j=n.deserializeReplyErrError(Y);this.g&&(j=(0,S.transformIncomingURIs)(j,this.g)),this.L(H,_,j);break}case 12:{this.L(H,_,void 0);break}default:console.error("received unexpected message"),console.error(P)}}H(P,H,Y,Z,_,j){this.f?.logIncoming(P,H,1,`receiveRequest ${(0,M.getStringIdentifierForProxy)(Y)}.${Z}(`,_);const L=String(H);let m,F;if(j){const J=new I.CancellationTokenSource;_.push(J.token),m=this.M(Y,Z,_),F=()=>J.cancel()}else m=this.M(Y,Z,_),F=t;this.p[L]=F;const B=n.serializeAcknowledged(H);this.f?.logOutgoing(B.byteLength,H,1,"ack"),this.c.send(B),m.then(J=>{delete this.p[L];const me=n.serializeReplyOK(H,J,this.h);this.f?.logOutgoing(me.byteLength,H,1,"reply:",J),this.c.send(me)},J=>{delete this.p[L];const me=n.serializeReplyErr(H,J);this.f?.logOutgoing(me.byteLength,H,1,"replyErr:",J),this.c.send(me)})}I(P,H){this.f?.logIncoming(P,H,1,"receiveCancel");const Y=String(H);this.p[Y]?.()}J(P,H,Y){this.f?.logIncoming(P,H,0,"receiveReply:",Y);const Z=String(H);if(!this.s.hasOwnProperty(Z))return;const _=this.s[Z];delete this.s[Z],_.resolveOk(Y)}L(P,H,Y){this.f?.logIncoming(P,H,0,"receiveReplyErr:",Y);const Z=String(H);if(!this.s.hasOwnProperty(Z))return;const _=this.s[Z];delete this.s[Z];let j;Y&&(Y.$isError?(j=new Error,j.name=Y.name,j.message=Y.message,j.stack=Y.stack):j=Y),_.resolveErr(j)}M(P,H,Y){try{return Promise.resolve(this.N(P,H,Y))}catch(Z){return Promise.reject(Z)}}N(P,H,Y){const Z=this.k[P];if(!Z)throw new Error("Unknown actor "+(0,M.getStringIdentifierForProxy)(P));const _=Z[H];if(typeof _!="function")throw new Error("Unknown method "+H+" on actor "+(0,M.getStringIdentifierForProxy)(P));return _.apply(Z,Y)}O(P,H,Y){if(this.j)return new k.CanceledLazyPromise;let Z=null;if(Y.length>0&&I.CancellationToken.isCancellationToken(Y[Y.length-1])&&(Z=Y.pop()),Z&&Z.isCancellationRequested)return Promise.reject(N.canceled());const _=n.serializeRequestArguments(Y,this.h),j=++this.m,L=String(j),m=new k.LazyPromise;Z&&Z.onCancellationRequested(()=>{const B=n.serializeCancel(j);this.f?.logOutgoing(B.byteLength,j,0,"cancel"),this.c.send(n.serializeCancel(j))}),this.s[L]=m,this.y(j);const F=n.serializeRequest(j,P,H,_,!!Z);return this.f?.logOutgoing(F.byteLength,j,0,`request: ${(0,M.getStringIdentifierForProxy)(P)}.${H}(`,Y),this.c.send(F),m}}D=d,u.a=3*1e3,e.RPCProtocol=u;class c{static alloc(P,H,Y){const Z=new c(T.VSBuffer.alloc(Y+1+4),0);return Z.writeUInt8(P),Z.writeUInt32(H),Z}static read(P,H){return new c(P,H)}get buffer(){return this.a}constructor(P,H){this.a=P,this.b=H}static sizeUInt8(){return 1}writeUInt8(P){this.a.writeUInt8(P,this.b),this.b+=1}readUInt8(){const P=this.a.readUInt8(this.b);return this.b+=1,P}writeUInt32(P){this.a.writeUInt32BE(P,this.b),this.b+=4}readUInt32(){const P=this.a.readUInt32BE(this.b);return this.b+=4,P}static sizeShortString(P){return 1+P.byteLength}writeShortString(P){this.a.writeUInt8(P.byteLength,this.b),this.b+=1,this.a.set(P,this.b),this.b+=P.byteLength}readShortString(){const P=this.a.readUInt8(this.b);this.b+=1;const Y=this.a.slice(this.b,this.b+P).toString();return this.b+=P,Y}static sizeLongString(P){return 4+P.byteLength}writeLongString(P){this.a.writeUInt32BE(P.byteLength,this.b),this.b+=4,this.a.set(P,this.b),this.b+=P.byteLength}readLongString(){const P=this.a.readUInt32BE(this.b);this.b+=4;const Y=this.a.slice(this.b,this.b+P).toString();return this.b+=P,Y}writeBuffer(P){this.a.writeUInt32BE(P.byteLength,this.b),this.b+=4,this.a.set(P,this.b),this.b+=P.byteLength}static sizeVSBuffer(P){return 4+P.byteLength}writeVSBuffer(P){this.a.writeUInt32BE(P.byteLength,this.b),this.b+=4,this.a.set(P,this.b),this.b+=P.byteLength}readVSBuffer(){const P=this.a.readUInt32BE(this.b);this.b+=4;const H=this.a.slice(this.b,this.b+P);return this.b+=P,H}static sizeMixedArray(P){let H=0;H+=1;for(let Y=0,Z=P.length;Y<Z;Y++){const _=P[Y];switch(H+=1,_.type){case 1:H+=this.sizeLongString(_.value);break;case 2:H+=this.sizeVSBuffer(_.value);break;case 3:H+=this.sizeUInt32,H+=this.sizeLongString(_.value);for(let j=0;j<_.buffers.length;++j)H+=this.sizeVSBuffer(_.buffers[j]);break;case 4:break}}return H}writeMixedArray(P){this.a.writeUInt8(P.length,this.b),this.b+=1;for(let H=0,Y=P.length;H<Y;H++){const Z=P[H];switch(Z.type){case 1:this.writeUInt8(1),this.writeLongString(Z.value);break;case 2:this.writeUInt8(2),this.writeVSBuffer(Z.value);break;case 3:this.writeUInt8(3),this.writeUInt32(Z.buffers.length),this.writeLongString(Z.value);for(let _=0;_<Z.buffers.length;++_)this.writeBuffer(Z.buffers[_]);break;case 4:this.writeUInt8(4);break}}}readMixedArray(){const P=this.a.readUInt8(this.b);this.b+=1;const H=new Array(P);for(let Y=0;Y<P;Y++)switch(this.readUInt8()){case 1:H[Y]=this.readLongString();break;case 2:H[Y]=this.readVSBuffer();break;case 3:{const _=this.readUInt32(),j=this.readLongString(),L=[];for(let m=0;m<_;++m)L.push(this.readVSBuffer());H[Y]=new M.SerializableObjectWithBuffers(l(j,L,null));break}case 4:H[Y]=void 0;break}return H}}c.sizeUInt32=4;var y;(function(A){A[A.Simple=0]="Simple",A[A.Mixed=1]="Mixed"})(y||(y={}));class n{static a(P){for(let H=0,Y=P.length;H<Y;H++)if(P[H]instanceof T.VSBuffer||P[H]instanceof M.SerializableObjectWithBuffers||typeof P[H]>"u")return!0;return!1}static serializeRequestArguments(P,H){if(this.a(P)){const Y=[];for(let Z=0,_=P.length;Z<_;Z++){const j=P[Z];if(j instanceof T.VSBuffer)Y[Z]={type:2,value:j};else if(typeof j>"u")Y[Z]={type:4};else if(j instanceof M.SerializableObjectWithBuffers){const{jsonString:L,referencedBuffers:m}=o(j.value,H);Y[Z]={type:3,value:T.VSBuffer.fromString(L),buffers:m}}else Y[Z]={type:1,value:T.VSBuffer.fromString(p(j,H))}}return{type:1,args:Y}}return{type:0,args:p(P,H)}}static serializeRequest(P,H,Y,Z,_){switch(Z.type){case 0:return this.b(P,H,Y,Z.args,_);case 1:return this.c(P,H,Y,Z.args,_)}}static b(P,H,Y,Z,_){const j=T.VSBuffer.fromString(Y),L=T.VSBuffer.fromString(Z);let m=0;m+=c.sizeUInt8(),m+=c.sizeShortString(j),m+=c.sizeLongString(L);const F=c.alloc(_?2:1,P,m);return F.writeUInt8(H),F.writeShortString(j),F.writeLongString(L),F.buffer}static deserializeRequestJSONArgs(P){const H=P.readUInt8(),Y=P.readShortString(),Z=P.readLongString();return{rpcId:H,method:Y,args:JSON.parse(Z)}}static c(P,H,Y,Z,_){const j=T.VSBuffer.fromString(Y);let L=0;L+=c.sizeUInt8(),L+=c.sizeShortString(j),L+=c.sizeMixedArray(Z);const m=c.alloc(_?4:3,P,L);return m.writeUInt8(H),m.writeShortString(j),m.writeMixedArray(Z),m.buffer}static deserializeRequestMixedArgs(P){const H=P.readUInt8(),Y=P.readShortString(),Z=P.readMixedArray(),_=new Array(Z.length);for(let j=0,L=Z.length;j<L;j++){const m=Z[j];typeof m=="string"?_[j]=JSON.parse(m):_[j]=m}return{rpcId:H,method:Y,args:_}}static serializeAcknowledged(P){return c.alloc(5,P,0).buffer}static serializeCancel(P){return c.alloc(6,P,0).buffer}static serializeReplyOK(P,H,Y){if(typeof H>"u")return this.d(P);if(H instanceof T.VSBuffer)return this.e(P,H);if(H instanceof M.SerializableObjectWithBuffers){const{jsonString:Z,referencedBuffers:_}=o(H.value,Y,!0);return this.g(P,Z,_)}else return this.f(P,h(H,Y))}static d(P){return c.alloc(7,P,0).buffer}static e(P,H){let Y=0;Y+=c.sizeVSBuffer(H);const Z=c.alloc(8,P,Y);return Z.writeVSBuffer(H),Z.buffer}static deserializeReplyOKVSBuffer(P){return P.readVSBuffer()}static f(P,H){const Y=T.VSBuffer.fromString(H);let Z=0;Z+=c.sizeLongString(Y);const _=c.alloc(9,P,Z);return _.writeLongString(Y),_.buffer}static g(P,H,Y){const Z=T.VSBuffer.fromString(H);let _=0;_+=c.sizeUInt32,_+=c.sizeLongString(Z);for(const L of Y)_+=c.sizeVSBuffer(L);const j=c.alloc(10,P,_);j.writeUInt32(Y.length),j.writeLongString(Z);for(const L of Y)j.writeBuffer(L);return j.buffer}static deserializeReplyOKJSON(P){const H=P.readLongString();return JSON.parse(H)}static deserializeReplyOKJSONWithBuffers(P,H){const Y=P.readUInt32(),Z=P.readLongString(),_=[];for(let j=0;j<Y;++j)_.push(P.readVSBuffer());return new M.SerializableObjectWithBuffers(l(Z,_,H))}static serializeReplyErr(P,H){const Y=H?h(N.transformErrorForSerialization(H),null):void 0;if(typeof Y!="string")return this.h(P);const Z=T.VSBuffer.fromString(Y);let _=0;_+=c.sizeLongString(Z);const j=c.alloc(11,P,_);return j.writeLongString(Z),j.buffer}static deserializeReplyErrError(P){const H=P.readLongString();return JSON.parse(H)}static h(P){return c.alloc(12,P,0).buffer}}var s;(function(A){A[A.RequestJSONArgs=1]="RequestJSONArgs",A[A.RequestJSONArgsWithCancellation=2]="RequestJSONArgsWithCancellation",A[A.RequestMixedArgs=3]="RequestMixedArgs",A[A.RequestMixedArgsWithCancellation=4]="RequestMixedArgsWithCancellation",A[A.Acknowledged=5]="Acknowledged",A[A.Cancel=6]="Cancel",A[A.ReplyOKEmpty=7]="ReplyOKEmpty",A[A.ReplyOKVSBuffer=8]="ReplyOKVSBuffer",A[A.ReplyOKJSON=9]="ReplyOKJSON",A[A.ReplyOKJSONWithBuffers=10]="ReplyOKJSONWithBuffers",A[A.ReplyErrError=11]="ReplyErrError",A[A.ReplyErrEmpty=12]="ReplyErrEmpty"})(s||(s={}));var f;(function(A){A[A.String=1]="String",A[A.VSBuffer=2]="VSBuffer",A[A.SerializedObjectWithBuffers=3]="SerializedObjectWithBuffers",A[A.Undefined=4]="Undefined"})(f||(f={}))}),define(ke[242],Te([1,0]),function(ne,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NestedWorker=void 0;const i=function(N){const E=R=>{self.removeEventListener("message",E);const S=R.data;Object.defineProperties(self,{postMessage:{value(k,M){S.postMessage(k,M)}},onmessage:{get(){return S.onmessage},set(k){S.onmessage=k}}}),S.addEventListener("message",k=>{self.dispatchEvent(new MessageEvent("message",{data:k.data}))}),S.start(),self.Worker=class{constructor(){throw new TypeError("Nested workers from within nested worker are NOT supported.")}},importScripts(N)};self.addEventListener("message",E)}.toString();class T extends EventTarget{constructor(N,E,R){super(),this.onmessage=null,this.onmessageerror=null,this.onerror=null;const S=`((${i})('${E}'))`,k=new Blob([S],{type:"application/javascript"}),M=URL.createObjectURL(k),D=new MessageChannel,h=M,b={type:"_newWorker",id:h,port:D.port2,url:M,options:R};N(b,[D.port2]),this.postMessage=D.port1.postMessage.bind(D.port1),this.terminate=()=>{N({type:"_terminateWorker",id:h}),URL.revokeObjectURL(M),D.port1.close(),D.port2.close()},Object.defineProperties(this,{onmessage:{get(){return D.port1.onmessage},set(g){D.port1.onmessage=g}},onmessageerror:{get(){return D.port1.onmessageerror},set(g){D.port1.onmessageerror=g}}}),D.port1.addEventListener("messageerror",g=>{const a=new MessageEvent("messageerror",{data:g.data});this.dispatchEvent(a)}),D.port1.addEventListener("message",g=>{const a=new MessageEvent("message",{data:g.data});this.dispatchEvent(a)}),D.port1.start()}}e.NestedWorker=T}),define(ke[243],Te([1,0,4,30,42,3]),function(ne,e,i,T,I,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ACTIVE_OUTPUT_CHANNEL_CONTEXT=e.Extensions=e.OutputChannelUpdateMode=e.IOutputService=e.CONTEXT_OUTPUT_SCROLL_LOCK=e.CONTEXT_ACTIVE_LOG_OUTPUT=e.CONTEXT_IN_OUTPUT=e.OUTPUT_VIEW_ID=e.LOG_MODE_ID=e.LOG_SCHEME=e.LOG_MIME=e.OUTPUT_MODE_ID=e.OUTPUT_SCHEME=e.OUTPUT_MIME=void 0,e.OUTPUT_MIME="text/x-code-output",e.OUTPUT_SCHEME="output",e.OUTPUT_MODE_ID="Log",e.LOG_MIME="text/x-code-log-output",e.LOG_SCHEME="log",e.LOG_MODE_ID="log",e.OUTPUT_VIEW_ID="workbench.panel.output",e.CONTEXT_IN_OUTPUT=new I.RawContextKey("inOutput",!1),e.CONTEXT_ACTIVE_LOG_OUTPUT=new I.RawContextKey("activeLogOutput",!1),e.CONTEXT_OUTPUT_SCROLL_LOCK=new I.RawContextKey("outputView.scrollLock",!1),e.IOutputService=(0,N.createDecorator)("outputService");var E;(function(S){S[S.Append=1]="Append",S[S.Replace=2]="Replace",S[S.Clear=3]="Clear"})(E=e.OutputChannelUpdateMode||(e.OutputChannelUpdateMode={})),e.Extensions={OutputChannels:"workbench.contributions.outputChannels"};class R{constructor(){this.a=new Map,this.b=new i.Emitter,this.onDidRegisterChannel=this.b.event,this.c=new i.Emitter,this.onDidRemoveChannel=this.c.event}registerChannel(k){this.a.has(k.id)||(this.a.set(k.id,k),this.b.fire(k.id))}getChannels(){const k=[];return this.a.forEach(M=>k.push(M)),k}getChannel(k){return this.a.get(k)}removeChannel(k){this.a.delete(k),this.c.fire(k)}}T.Registry.add(e.Extensions.OutputChannels,new R),e.ACTIVE_OUTPUT_CHANNEL_CONTEXT=new I.RawContextKey("activeOutputChannel","")}),define(ke[105],Te([1,0,5,3,18,26,12,243,60,27,36,121,23,9,43,4,6]),function(ne,e,i,T,I,N,E,R,S,k,M,D,h,b,g,a,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IExtHostOutputService=e.ExtHostOutputService=void 0;class l extends E.AbstractMessageLogger{get disposed(){return this.l}constructor(v,t,d,r,u){super(),this.id=v,this.name=t,this.m=d,this.n=r,this.extension=u,this.k=0,this.l=!1,this.visible=!1,this.setLevel(d.getLevel()),this.B(d.onDidChangeLogLevel(c=>this.setLevel(c)))}get logLevel(){return this.getLevel()}appendLine(v){this.append(v+`
`)}append(v){this.info(v)}clear(){const v=this.k;this.m.flush(),this.n.$update(this.id,R.OutputChannelUpdateMode.Clear,v)}replace(v){const t=this.k;this.info(v),this.n.$update(this.id,R.OutputChannelUpdateMode.Replace,t),this.visible&&this.m.flush()}show(v,t){this.m.flush(),this.n.$reveal(this.id,!!(typeof v=="boolean"?v:t))}hide(){this.n.$close(this.id)}g(v,t){this.k+=h.VSBuffer.fromString(t).byteLength,(0,E.log)(this.m,v,t),this.visible&&(this.m.flush(),this.n.$update(this.id,R.OutputChannelUpdateMode.Append))}dispose(){super.dispose(),this.l||(this.n.$dispose(this.id),this.l=!0)}}class p extends l{appendLine(v){this.append(v)}}let w=class{constructor(v,t,d,r,u,c){this.i=t,this.j=d,this.k=r,this.l=u,this.m=c,this.d=new Map,this.f=1,this.g=new Map,this.h=null,this.a=v.getProxy(i.MainContext.MainThreadOutputService),this.b=this.k.extUri.joinPath(t.logsLocation,`output_logging_${(0,D.toLocalISOString)(new Date).replace(/-|:|\.\d+Z$/g,"")}`)}$setVisibleChannel(v){this.h=v;for(const[t,d]of this.g)d.visible=t===this.h}createOutputChannel(v,t,d){if(v=v.trim(),!v)throw new Error("illegal argument `name`. must not be falsy");const r=typeof t=="object"&&t.log,u=(0,b.isString)(t)?t:void 0;if((0,b.isString)(u)&&!u.trim())throw new Error("illegal argument `languageId`. must not be empty");let c;const y=this.i.environment.extensionLogLevel?.find(([s])=>N.ExtensionIdentifier.equals(d.identifier,s))?.[1];y&&(c=(0,E.parseLogLevel)(y));const n=r?this.o(v,c,d):this.n(v,u,d);return n.then(s=>{this.g.set(s.id,s),s.visible=s.id===this.h}),r?this.r(v,c??this.m.getLevel(),n):this.q(v,n)}async n(v,t,d){this.c||(this.c=this.j.value.createDirectory(this.b).then(()=>this.b));const r=await this.c,u=this.k.extUri.joinPath(r,`${this.f++}-${v.replace(/[\\/:\*\?"<>\|]/g,"")}.log`),c=this.l.createLogger(u,{logLevel:"always",donotRotate:!0,donotUseFormatters:!0,hidden:!0}),y=await this.a.$register(v,u,t,d.identifier.value);return new l(y,v,c,this.a,d)}async o(v,t,d){const r=await this.p(d),u=this.k.extUri.joinPath(r,`${v.replace(/[\\/:\*\?"<>\|]/g,"")}.log`),c=u.toString(),y=this.l.createLogger(u,{id:c,name:v,logLevel:t,extensionId:d.identifier.value});return new p(c,v,y,this.a,d)}p(v){let t=this.d.get(v.identifier.value);if(!t){const d=this.k.extUri.joinPath(this.i.logsLocation,v.identifier.value);this.d.set(v.identifier.value,t=(async()=>{try{await this.j.value.createDirectory(d)}catch(r){if((0,g.toFileSystemProviderErrorCode)(r)!==g.FileSystemProviderErrorCode.FileExists)throw r}return d})())}return t}q(v,t){let d=!1;const r=()=>{if(d)throw new Error("Channel has been closed")};return{get name(){return v},append(u){r(),t.then(c=>c.append(u))},appendLine(u){r(),t.then(c=>c.appendLine(u))},clear(){r(),t.then(u=>u.clear())},replace(u){r(),t.then(c=>c.replace(u))},show(u,c){r(),t.then(y=>y.show(u,c))},hide(){r(),t.then(u=>u.hide())},dispose(){d=!0,t.then(u=>u.dispose())}}}r(v,t,d){const r=new o.DisposableStore,u=()=>{if(r.isDisposed)throw new Error("Channel has been closed")},c=r.add(new a.Emitter);function y(n){t=n,c.fire(n)}return d.then(n=>{r.add(n),n.logLevel!==t&&y(n.logLevel),r.add(n.onDidChangeLogLevel(s=>y(s)))}),{...this.q(v,d),get logLevel(){return t},onDidChangeLogLevel:c.event,trace(n,...s){u(),d.then(f=>f.trace(n,...s))},debug(n,...s){u(),d.then(f=>f.debug(n,...s))},info(n,...s){u(),d.then(f=>f.info(n,...s))},warn(n,...s){u(),d.then(f=>f.warn(n,...s))},error(n,...s){u(),d.then(f=>f.error(n,...s))},dispose(){r.dispose()}}}};w=qe([Ve(0,I.IExtHostRpcService),Ve(1,k.IExtHostInitDataService),Ve(2,S.IExtHostConsumerFileSystem),Ve(3,M.IExtHostFileSystemInfo),Ve(4,E.ILoggerService),Ve(5,E.ILogService)],w),e.ExtHostOutputService=w,e.IExtHostOutputService=(0,T.createDecorator)("IExtHostOutputService")}),define(ke[244],Te([1,0,3]),function(ne,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IRemoteAgentService=e.RemoteExtensionLogFileName=void 0,e.RemoteExtensionLogFileName="remoteagent",e.IRemoteAgentService=(0,i.createDecorator)("remoteAgentService")}),define(ke[245],Te([1,0,40,15,19,20,24,2,3,176,53,192,244]),function(ne,e,i,T,I,N,E,R,S,k,M,D,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractPathService=e.IPathService=void 0,e.IPathService=(0,S.createDecorator)("pathService");let b=class cn{constructor(a,o,l,p){this.d=a,this.e=o,this.f=l,this.g=p,this.a=(async()=>(await this.e.getEnvironment())?.os||N.OS)(),this.b=(async()=>{const w=await this.e.getEnvironment();return this.c=w?.userHome??a})()}hasValidBasename(a,o,l){return typeof o=="string"||typeof o>"u"?this.a.then(p=>this.h(a,p,o)):this.h(a,o,l)}h(a,o,l){return a.scheme===T.Schemas.file||a.scheme===T.Schemas.vscodeRemote?(0,i.isValidBasename)(l??(0,E.basename)(a),o===1):!0}get defaultUriScheme(){return cn.findDefaultUriScheme(this.f,this.g)}static findDefaultUriScheme(a,o){if(a.remoteAuthority)return T.Schemas.vscodeRemote;const l=(0,k.getVirtualWorkspaceScheme)(o.getWorkspace());if(l)return l;const p=o.getWorkspace().folders[0];if(p)return p.uri.scheme;const w=o.getWorkspace().configuration;return w?w.scheme:T.Schemas.file}userHome(a){return a?.preferLocal?this.d:this.b}get resolvedUserHome(){return this.c}get path(){return this.a.then(a=>a===1?I.win32:I.posix)}async fileURI(a){let o="";if(await this.a===1&&(a=a.replace(/\\/g,"/")),a[0]==="/"&&a[1]==="/"){const p=a.indexOf("/",2);p===-1?(o=a.substring(2),a="/"):(o=a.substring(2,p),a=a.substring(p)||"/")}return R.URI.from({scheme:T.Schemas.file,authority:o,path:a,query:"",fragment:""})}};b=qe([Ve(1,h.IRemoteAgentService),Ve(2,D.IWorkbenchEnvironmentService),Ve(3,M.IWorkspaceContextService)],b),e.AbstractPathService=b}),define(ke[106],Te([1,0]),function(ne,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextSearchCompleteMessageType=e.Range=e.Position=void 0;class i{constructor(E,R){this.line=E,this.character=R}isBefore(E){return!1}isBeforeOrEqual(E){return!1}isAfter(E){return!1}isAfterOrEqual(E){return!1}isEqual(E){return!1}compareTo(E){return 0}translate(E,R){return new i(0,0)}with(E){return new i(0,0)}}e.Position=i;class T{constructor(E,R,S,k){this.isEmpty=!1,this.isSingleLine=!1,this.start=new i(E,R),this.end=new i(S,k)}contains(E){return!1}isEqual(E){return!1}intersection(E){}union(E){return new T(0,0,0,0)}with(E){return new T(0,0,0,0)}}e.Range=T;var I;(function(N){N[N.Information=1]="Information",N[N.Warning=2]="Warning"})(I=e.TextSearchCompleteMessageType||(e.TextSearchCompleteMessageType={}))}),define(ke[47],Te([1,0,16,35,22,40,10,3,19,11,106,17]),function(ne,e,i,T,I,N,E,R,S,k,M,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasSiblingFn=e.hasSiblingPromiseFn=e.QueryGlobTester=e.resolvePatternsForProvider=e.SerializableFileMatch=e.isFilePatternMatch=e.isSerializedFileMatch=e.isSerializedSearchSuccess=e.isSerializedSearchComplete=e.serializeSearchError=e.deserializeSearchError=e.SearchError=e.SearchErrorCode=e.pathIncludedInQuery=e.getExcludes=e.SearchSortOrder=e.ViewMode=e.OneLineRange=e.SearchRange=e.TextSearchMatch=e.FileMatch=e.SearchCompletionExitCode=e.isProgressMessage=e.isFileMatch=e.resultIsMatch=e.QueryType=e.SearchProviderType=e.ISearchService=e.SEARCH_EXCLUDE_CONFIG=e.VIEW_ID=e.PANEL_ID=e.VIEWLET_ID=e.TextSearchCompleteMessageType=void 0,Object.defineProperty(e,"TextSearchCompleteMessageType",{enumerable:!0,get:function(){return M.TextSearchCompleteMessageType}}),e.VIEWLET_ID="workbench.view.search",e.PANEL_ID="workbench.panel.search",e.VIEW_ID="workbench.view.search",e.SEARCH_EXCLUDE_CONFIG="search.exclude";const h="\u27EA ",b=" characters skipped \u27EB",g=(h.length+b.length+5)*2;e.ISearchService=(0,R.createDecorator)("searchService");var a;(function(oe){oe[oe.file=0]="file",oe[oe.text=1]="text"})(a=e.SearchProviderType||(e.SearchProviderType={}));var o;(function(oe){oe[oe.File=1]="File",oe[oe.Text=2]="Text"})(o=e.QueryType||(e.QueryType={}));function l(oe){return!!oe.preview}e.resultIsMatch=l;function p(oe){return!!oe.resource}e.isFileMatch=p;function w(oe){return!!oe.message}e.isProgressMessage=w;var O;(function(oe){oe[oe.Normal=0]="Normal",oe[oe.NewSearchStarted=1]="NewSearchStarted"})(O=e.SearchCompletionExitCode||(e.SearchCompletionExitCode={}));class v{constructor(ce){this.resource=ce,this.results=[]}}e.FileMatch=v;class t{constructor(ce,we,q){this.ranges=we;const K=Array.isArray(we)?we:[we];if(q&&q.matchLines===1&&d(K)){ce=(0,E.getNLines)(ce,q.matchLines);let X="",de=0,ye=0;const Fe=Math.floor(q.charsPerLine/5),ze=[];for(const Pe of K){const Ie=Math.max(Pe.startColumn-Fe,0),Se=Pe.startColumn+q.charsPerLine;if(Ie>ye+Fe+g){const ae=h+(Ie-ye)+b;X+=ae+ce.slice(Ie,Se),de+=Ie-(ye+ae.length)}else X+=ce.slice(ye,Se);ze.push(new u(0,Pe.startColumn-de,Pe.endColumn-de)),ye=Se}this.preview={text:X,matches:Array.isArray(this.ranges)?ze:ze[0]}}else{const X=Array.isArray(we)?we[0].startLineNumber:we.startLineNumber;this.preview={text:ce,matches:(0,i.mapArrayOrNot)(we,de=>new r(de.startLineNumber-X,de.startColumn,de.endLineNumber-X,de.endColumn))}}}}e.TextSearchMatch=t;function d(oe){const ce=oe[0].startLineNumber;for(const we of oe)if(we.startLineNumber!==ce||we.endLineNumber!==ce)return!1;return!0}class r{constructor(ce,we,q,K){this.startLineNumber=ce,this.startColumn=we,this.endLineNumber=q,this.endColumn=K}}e.SearchRange=r;class u extends r{constructor(ce,we,q){super(ce,we,ce,q)}}e.OneLineRange=u;var c;(function(oe){oe.List="list",oe.Tree="tree"})(c=e.ViewMode||(e.ViewMode={}));var y;(function(oe){oe.Default="default",oe.FileNames="fileNames",oe.Type="type",oe.Modified="modified",oe.CountDescending="countDescending",oe.CountAscending="countAscending"})(y=e.SearchSortOrder||(e.SearchSortOrder={}));function n(oe,ce=!0){const we=oe&&oe.files&&oe.files.exclude,q=ce&&oe&&oe.search&&oe.search.exclude;if(!we&&!q)return;if(!we||!q)return we||q;let K=Object.create(null);return K=I.mixin(K,I.deepClone(we)),K=I.mixin(K,I.deepClone(q),!0),K}e.getExcludes=n;function s(oe,ce){return oe.excludePattern&&T.match(oe.excludePattern,ce)?!1:oe.includePattern||oe.usingSearchPaths?oe.includePattern&&T.match(oe.includePattern,ce)?!0:oe.usingSearchPaths?!!oe.folderQueries&&oe.folderQueries.some(we=>{const q=we.folder.fsPath;if(N.isEqualOrParent(ce,q)){const K=S.relative(q,ce);return!we.includePattern||!!T.match(we.includePattern,K)}else return!1}):!1:!0}e.pathIncludedInQuery=s;var f;(function(oe){oe[oe.unknownEncoding=1]="unknownEncoding",oe[oe.regexParseError=2]="regexParseError",oe[oe.globParseError=3]="globParseError",oe[oe.invalidLiteral=4]="invalidLiteral",oe[oe.rgProcessError=5]="rgProcessError",oe[oe.other=6]="other",oe[oe.canceled=7]="canceled"})(f=e.SearchErrorCode||(e.SearchErrorCode={}));class A extends Error{constructor(ce,we){super(ce),this.code=we}}e.SearchError=A;function P(oe){const ce=oe.message;if((0,k.isCancellationError)(oe))return new A(ce,f.canceled);try{const we=JSON.parse(ce);return new A(we.message,we.code)}catch{return new A(ce,f.other)}}e.deserializeSearchError=P;function H(oe){const ce={message:oe.message,code:oe.code};return new Error(JSON.stringify(ce))}e.serializeSearchError=H;function Y(oe){return oe.type==="error"?!0:oe.type==="success"}e.isSerializedSearchComplete=Y;function Z(oe){return oe.type==="success"}e.isSerializedSearchSuccess=Z;function _(oe){return!!oe.path}e.isSerializedFileMatch=_;function j(oe,ce){const we=oe.searchPath?oe.searchPath:oe.relativePath;return(0,E.fuzzyContains)(we,ce)}e.isFilePatternMatch=j;class L{constructor(ce){this.path=ce,this.results=[]}addMatch(ce){this.results.push(ce)}serialize(){return{path:this.path,results:this.results,numMatches:this.results.length}}}e.SerializableFileMatch=L;function m(oe,ce){const we={...oe||{},...ce||{}};return Object.keys(we).filter(q=>{const K=we[q];return typeof K=="boolean"&&K})}e.resolvePatternsForProvider=m;class F{constructor(ce,we){this.c=null,this.a={...ce.excludePattern||{},...we.excludePattern||{}},this.b=T.parse(this.a);let q=ce.includePattern;we.includePattern&&(q?q={...q,...we.includePattern}:q=we.includePattern),q&&(this.c=T.parse(q))}matchesExcludesSync(ce,we,q){return!!(this.b&&this.b(ce,we,q))}includedInQuerySync(ce,we,q){return!(this.b&&this.b(ce,we,q)||this.c&&!this.c(ce,we,q))}includedInQuery(ce,we,q){const K=this.b(ce,we,q),X=()=>this.c?!!this.c(ce,we,q):!0;return(0,D.isThenable)(K)?K.then(de=>de?!1:X()):X()}hasSiblingExcludeClauses(){return B(this.a)}}e.QueryGlobTester=F;function B(oe){for(const ce in oe)if(typeof oe[ce]!="boolean")return!0;return!1}function J(oe){if(!oe)return;let ce;return we=>(ce||(ce=(oe()||Promise.resolve([])).then(q=>q?te(q):{})),ce.then(q=>!!q[we]))}e.hasSiblingPromiseFn=J;function me(oe){if(!oe)return;let ce;return we=>{if(!ce){const q=oe();ce=q?te(q):{}}return!!ce[we]}}e.hasSiblingFn=me;function te(oe){const ce={};for(const we of oe)ce[we]=!0;return ce}}),define(ke[31],Te([1,0,16,17,21,4,6,48,15,113,24,10,9,2,146,3,12,164,53,36,27,18,8,7,55,47,5]),function(ne,e,i,T,I,N,E,R,S,k,M,D,h,b,g,a,o,l,p,w,O,v,t,d,r,u,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IExtHostWorkspace=e.ExtHostWorkspace=void 0;function y(Z,_,j){return new M.ExtUri(L=>A(L,j)).isEqual(Z,_)}function n(Z,_,j){return y(Z.uri,_.uri,j)?0:(0,D.compare)(Z.uri.toString(),_.uri.toString())}function s(Z,_,j){return Z.index!==_.index?Z.index<_.index?-1:1:y(Z.uri,_.uri,j)?(0,D.compare)(Z.name,_.name):(0,D.compare)(Z.uri.toString(),_.uri.toString())}function f(Z,_,j,L){const m=Z.slice(0).sort((B,J)=>j(B,J,L)),F=_.slice(0).sort((B,J)=>j(B,J,L));return(0,i.delta)(m,F,(B,J)=>j(B,J,L))}function A(Z,_){const j=_.getCapabilities(Z.scheme);return!(j&&j&1024)}class P extends p.Workspace{static toExtHostWorkspace(_,j,L,m){if(!_)return{workspace:null,added:[],removed:[]};const{id:F,name:B,folders:J,configuration:me,transient:te,isUntitled:oe}=_,ce=[],we=j;j?J.forEach((de,ye)=>{const Fe=b.URI.revive(de.uri),ze=P.o(L||j,Fe,m);ze?(ze.name=de.name,ze.index=de.index,ce.push(ze)):ce.push({uri:Fe,name:de.name,index:ye})}):ce.push(...J.map(({uri:de,name:ye,index:Fe})=>({uri:b.URI.revive(de),name:ye,index:Fe}))),ce.sort((de,ye)=>de.index<ye.index?-1:1);const q=new P(F,B,ce,!!te,me?b.URI.revive(me):null,!!oe,de=>A(de,m)),{added:K,removed:X}=f(we?we.workspaceFolders:[],q.workspaceFolders,n,m);return{workspace:q,added:K,removed:X}}static o(_,j,L){for(let m=0;m<_.folders.length;m++){const F=_.workspaceFolders[m];if(y(F.uri,j,L))return F}}constructor(_,j,L,m,F,B,J){super(_,L.map(me=>new p.WorkspaceFolder(me)),m,F,J),this.t=j,this.u=B,this.q=[],this.s=R.TernarySearchTree.forUris(J),L.forEach(me=>{this.q.push(me),this.s.set(me.uri,me)})}get name(){return this.t}get isUntitled(){return this.u}get workspaceFolders(){return this.q.slice(0)}getWorkspaceFolder(_,j){return j&&this.s.get(_)&&(_=(0,M.dirname)(_)),this.s.findSubstr(_)}resolveWorkspaceFolder(_){return this.s.get(_)}}let H=class{constructor(_,j,L,m,F){this.c=new N.Emitter,this.onDidChangeWorkspace=this.c.event,this.g=new N.Emitter,this.onDidGrantWorkspaceTrust=this.g.event,this.u=[],this.v=!1,this.w=new Map,this.z=0,this.A=new N.AsyncEmitter,this.h=m,this.s=L,this.t=F,this.j=new k.Counter,this.k=new T.Barrier,this.o=_.getProxy(c.MainContext.MainThreadWorkspace),this.q=_.getProxy(c.MainContext.MainThreadMessageService);const B=j.workspace;this.l=B?new P(B.id,B.name,[],!!B.transient,B.configuration?b.URI.revive(B.configuration):null,!!B.isUntitled,J=>A(J,L)):void 0}$initializeWorkspace(_,j){this.v=j,this.$acceptWorkspaceData(_),this.k.open()}waitForInitializeCall(){return this.k.wait()}get workspace(){return this.x}get name(){return this.x?this.x.name:void 0}get workspaceFile(){if(this.x&&this.x.configuration)return this.x.isUntitled?b.URI.from({scheme:S.Schemas.untitled,path:(0,M.basename)((0,M.dirname)(this.x.configuration))}):this.x.configuration}get x(){return this.n||this.l}getWorkspaceFolders(){if(!!this.x)return this.x.workspaceFolders.slice(0)}async getWorkspaceFolders2(){if(await this.k.wait(),!!this.x)return this.x.workspaceFolders.slice(0)}updateWorkspaceFolders(_,j,L,...m){const F=[];if(Array.isArray(m)&&m.forEach(oe=>{b.URI.isUri(oe.uri)&&!F.some(ce=>y(ce.uri,oe.uri,this.s))&&F.push({uri:oe.uri,name:oe.name||(0,M.basenameOrAuthority)(oe.uri)})}),this.n||[j,L].some(oe=>typeof oe!="number"||oe<0)||L===0&&F.length===0)return!1;const B=this.x?this.x.workspaceFolders:[];if(j+L>B.length)return!1;const J=B.slice(0);J.splice(j,L,...F.map(oe=>({uri:oe.uri,name:oe.name||(0,M.basenameOrAuthority)(oe.uri),index:void 0})));for(let oe=0;oe<J.length;oe++){const ce=J[oe];if(J.some((we,q)=>q!==oe&&y(ce.uri,we.uri,this.s)))return!1}J.forEach((oe,ce)=>oe.index=ce);const{added:me,removed:te}=f(B,J,s,this.s);if(me.length===0&&te.length===0)return!1;if(this.o){const oe=_.displayName||_.name;this.o.$updateWorkspaceFolders(oe,j,L,F).then(void 0,ce=>{this.n=void 0;const we={source:{identifier:_.identifier,label:_.displayName||_.name}};this.q.$showMessage(l.Severity.Error,(0,g.localize)(0,null,oe,ce.toString()),we,[])})}return this.y(J),!0}getWorkspaceFolder(_,j){if(!!this.x)return this.x.getWorkspaceFolder(_,j)}async getWorkspaceFolder2(_,j){if(await this.k.wait(),!!this.x)return this.x.getWorkspaceFolder(_,j)}async resolveWorkspaceFolder(_){if(await this.k.wait(),!!this.x)return this.x.resolveWorkspaceFolder(_)}getPath(){if(!this.x)return;const{folders:_}=this.x;if(_.length!==0)return _[0].uri.fsPath}getRelativePath(_,j){let L,m="";if(typeof _=="string"?(L=b.URI.file(_),m=_):typeof _<"u"&&(L=_,m=_.fsPath),!L)return m;const F=this.getWorkspaceFolder(L,!0);if(!F)return m;typeof j>"u"&&this.x&&(j=this.x.folders.length>1);let B=(0,M.relativePath)(F.uri,L);return j&&F.name&&(B=`${F.name}/${B}`),B}y(_){this.x&&(this.n=P.toExtHostWorkspace({id:this.x.id,name:this.x.name,configuration:this.x.configuration,folders:_,isUntitled:this.x.isUntitled},this.x,void 0,this.s).workspace||void 0)}$acceptWorkspaceData(_){const{workspace:j,added:L,removed:m}=P.toExtHostWorkspace(_,this.l,this.n,this.s);this.l=j||void 0,this.n=void 0,this.c.fire(Object.freeze({added:L,removed:m}))}findFiles(_,j,L,m,F=I.CancellationToken.None){this.h.trace(`extHostWorkspace#findFiles: fileSearch, extension: ${m.value}, entryPoint: findFiles`);let B;if(j===null?B=!1:j&&(typeof j=="string"?B=j:B=j.pattern),F&&F.isCancellationRequested)return Promise.resolve([]);const{includePattern:J,folder:me}=Y(t.GlobPattern.from(_));return this.o.$startFileSearch((0,h.withUndefinedAsNull)(J),(0,h.withUndefinedAsNull)(me),(0,h.withUndefinedAsNull)(B),(0,h.withUndefinedAsNull)(L),F).then(te=>Array.isArray(te)?te.map(oe=>b.URI.revive(oe)):[])}async findTextInFiles(_,j,L,m,F=I.CancellationToken.None){this.h.trace(`extHostWorkspace#findTextInFiles: textSearch, extension: ${m.value}, entryPoint: findTextInFiles`);const B=this.j.getNext(),J=typeof j.previewOptions>"u"?{matchLines:100,charsPerLine:1e4}:j.previewOptions,{includePattern:me,folder:te}=Y(t.GlobPattern.from(j.include)),oe=typeof j.exclude=="string"?j.exclude:j.exclude?j.exclude.pattern:void 0,ce={ignoreSymlinks:typeof j.followSymlinks=="boolean"?!j.followSymlinks:void 0,disregardIgnoreFiles:typeof j.useIgnoreFiles=="boolean"?!j.useIgnoreFiles:void 0,disregardGlobalIgnoreFiles:typeof j.useGlobalIgnoreFiles=="boolean"?!j.useGlobalIgnoreFiles:void 0,disregardParentIgnoreFiles:typeof j.useParentIgnoreFiles=="boolean"?!j.useParentIgnoreFiles:void 0,disregardExcludeSettings:typeof j.useDefaultExcludes=="boolean"?!j.useDefaultExcludes:!0,fileEncoding:j.encoding,maxResults:j.maxResults,previewOptions:J,afterContext:j.afterContext,beforeContext:j.beforeContext,includePattern:me,excludePattern:oe},we=!1;if(this.u[B]=q=>{if(we)return;const K=b.URI.revive(q.resource);q.results.forEach(X=>{(0,u.resultIsMatch)(X)?L({uri:K,preview:{text:X.preview.text,matches:(0,i.mapArrayOrNot)(X.preview.matches,de=>new d.Range(de.startLineNumber,de.startColumn,de.endLineNumber,de.endColumn))},ranges:(0,i.mapArrayOrNot)(X.ranges,de=>new d.Range(de.startLineNumber,de.startColumn,de.endLineNumber,de.endColumn))}):L({uri:K,text:X.text,lineNumber:X.lineNumber})})},F.isCancellationRequested)return{};try{const q=await this.o.$startTextSearch(_,(0,h.withUndefinedAsNull)(te),ce,B,F);return delete this.u[B],q||{}}catch(q){throw delete this.u[B],q}}$handleTextSearchResult(_,j){this.u[j]?.(_)}saveAll(_){return this.o.$saveAll(_)}resolveProxy(_){return this.o.$resolveProxy(_)}get trusted(){return this.v}requestWorkspaceTrust(_){return this.o.$requestWorkspaceTrust(_)}$onDidGrantWorkspaceTrust(){this.v||(this.v=!0,this.g.fire())}registerEditSessionIdentityProvider(_,j){if(this.w.has(_))throw new Error(`A provider has already been registered for scheme ${_}`);this.w.set(_,j);const L=this.t.transformOutgoingScheme(_),m=this.z++;return this.o.$registerEditSessionIdentityProvider(m,L),(0,E.toDisposable)(()=>{this.w.delete(_),this.o.$unregisterEditSessionIdentityProvider(m)})}async $getEditSessionIdentifier(_,j){this.h.info("Getting edit session identifier for workspaceFolder",_);const L=await this.resolveWorkspaceFolder(b.URI.revive(_));if(!L){this.h.warn("Unable to resolve workspace folder");return}this.h.info("Invoking #provideEditSessionIdentity for workspaceFolder",L);const m=this.w.get(L.uri.scheme);if(this.h.info(`Provider for scheme ${L.uri.scheme} is defined: `,!!m),!m)return;const F=await m.provideEditSessionIdentity(L,j);if(this.h.info("Provider returned edit session identifier: ",F),!!F)return F}async $provideEditSessionIdentityMatch(_,j,L,m){this.h.info("Getting edit session identifier for workspaceFolder",_);const F=await this.resolveWorkspaceFolder(b.URI.revive(_));if(!F){this.h.warn("Unable to resolve workspace folder");return}this.h.info("Invoking #provideEditSessionIdentity for workspaceFolder",F);const B=this.w.get(F.uri.scheme);if(this.h.info(`Provider for scheme ${F.uri.scheme} is defined: `,!!B),!B)return;const J=await B.provideEditSessionIdentityMatch?.(j,L,m);if(this.h.info("Provider returned edit session identifier match result: ",J),!!J)return J}getOnWillCreateEditSessionIdentityEvent(_){return(j,L,m)=>{const F=function(J){j.call(L,J)};return F.extension=_,this.A.event(F,void 0,m)}}async $onWillCreateEditSessionIdentity(_,j,L){const m=await this.resolveWorkspaceFolder(b.URI.revive(_));if(m===void 0)throw new Error("Unable to resolve workspace folder");await this.A.fireAsync({workspaceFolder:m},j,async(F,B)=>{const J=Date.now();await Promise.resolve(F),Date.now()-J>L&&this.h.warn("SLOW edit session create-participant",B.extension.identifier)}),j.isCancellationRequested}};H=qe([Ve(0,v.IExtHostRpcService),Ve(1,O.IExtHostInitDataService),Ve(2,w.IExtHostFileSystemInfo),Ve(3,o.ILogService),Ve(4,r.IURITransformerService)],H),e.ExtHostWorkspace=H,e.IExtHostWorkspace=(0,a.createDecorator)("IExtHostWorkspace");function Y(Z){let _,j;return Z&&(typeof Z=="string"?_=Z:(_=Z.pattern,j=b.URI.revive(Z.baseUri))),{includePattern:_,folder:j}}}),define(ke[32],Te([1,0,22,4,31,5,7,167,93,9,17,3,18,12,2]),function(ne,e,i,T,I,N,E,R,S,k,M,D,h,b,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IExtHostConfiguration=e.ExtHostConfigProvider=e.ExtHostConfiguration=void 0;function a(d,r){if(r){const u=r.split(".");let c=d;for(let y=0;c&&y<u.length;y++)c=c[u[y]];return c}}function o(d){return d instanceof g.URI}function l(d){return d&&d.uri instanceof g.URI&&d.languageId&&typeof d.languageId=="string"}function p(d){return d&&!d.uri&&d.languageId&&typeof d.languageId=="string"}function w(d){return d&&d.uri instanceof g.URI&&(!d.name||typeof d.name=="string")&&(!d.index||typeof d.index=="number")}function O(d){if(o(d))return{resource:d};if(l(d))return{resource:d.uri,overrideIdentifier:d.languageId};if(p(d))return{overrideIdentifier:d.languageId};if(w(d))return{resource:d.uri};if(d===null)return{resource:null}}let v=class{constructor(r,u,c){this.a=r.getProxy(N.MainContext.MainThreadConfiguration),this.c=u,this.b=c,this.d=new M.Barrier,this.e=null}getConfigProvider(){return this.d.wait().then(r=>this.e)}$initializeConfiguration(r){this.e=new t(this.a,this.c,r,this.b),this.d.open()}$acceptConfigurationChanged(r,u){this.getConfigProvider().then(c=>c.$acceptConfigurationChanged(r,u))}};v=qe([Ve(0,h.IExtHostRpcService),Ve(1,I.IExtHostWorkspace),Ve(2,b.ILogService)],v),e.ExtHostConfiguration=v;class t{constructor(r,u,c,y){this.a=new T.Emitter,this.b=r,this.f=y,this.c=u,this.e=R.Configuration.parse(c),this.d=this.k(c.configurationScopes)}get onDidChangeConfiguration(){return this.a&&this.a.event}$acceptConfigurationChanged(r,u){const c={data:this.e.toData(),workspace:this.c.workspace};this.e=R.Configuration.parse(r),this.d=this.k(r.configurationScopes),this.a.fire(this.j(u,c))}getConfiguration(r,u,c){const y=O(u)||{},n=this.g(r?a(this.e.getValue(void 0,y,this.c.workspace),r):this.e.getValue(void 0,y,this.c.workspace));r&&this.h(r,y,c?.identifier);function s(A){if(A==null)return null;if(typeof A=="boolean")return A?2:5;switch(A){case E.ConfigurationTarget.Global:return 2;case E.ConfigurationTarget.Workspace:return 5;case E.ConfigurationTarget.WorkspaceFolder:return 6}}const f={has(A){return typeof a(n,A)<"u"},get:(A,P)=>{this.h(r?`${r}.${A}`:A,y,c?.identifier);let H=a(n,A);if(typeof H>"u")H=P;else{let Y;const Z=(_,j)=>{let L;const m=()=>{Y=Y||(0,i.deepClone)(n),L=L||a(Y,j)};return(0,k.isObject)(_)?new Proxy(_,{get:(F,B)=>{if(typeof B=="string"&&B.toLowerCase()==="tojson")return m(),()=>L;if(Y)return L=L||a(Y,j),L[B];const J=F[B];return typeof B=="string"?Z(J,`${j}.${B}`):J},set:(F,B,J)=>(m(),L&&(L[B]=J),!0),deleteProperty:(F,B)=>(m(),L&&delete L[B],!0),defineProperty:(F,B,J)=>(m(),L&&Object.defineProperty(L,B,J),!0)}):_};H=Z(H,A)}return H},update:(A,P,H,Y)=>{A=r?`${r}.${A}`:A;const Z=s(H);return P!==void 0?this.b.$updateConfigurationOption(Z,A,P,y,Y):this.b.$removeConfigurationOption(Z,A,y,Y)},inspect:A=>{A=r?`${r}.${A}`:A;const P=this.e.inspect(A,y,this.c.workspace);if(P)return{key:A,defaultValue:(0,i.deepClone)(P.policy?.value??P.default?.value),globalValue:(0,i.deepClone)(P.user?.value??P.application?.value),workspaceValue:(0,i.deepClone)(P.workspace?.value),workspaceFolderValue:(0,i.deepClone)(P.workspaceFolder?.value),defaultLanguageValue:(0,i.deepClone)(P.default?.override),globalLanguageValue:(0,i.deepClone)(P.user?.override??P.application?.override),workspaceLanguageValue:(0,i.deepClone)(P.workspace?.override),workspaceFolderLanguageValue:(0,i.deepClone)(P.workspaceFolder?.override),languageIds:(0,i.deepClone)(P.overrideIdentifiers)}}};return typeof n=="object"&&(0,i.mixin)(f,n,!1),Object.freeze(f)}g(r){const u=c=>(0,k.isObject)(c)?new Proxy(c,{get:(y,n)=>u(y[n]),set:(y,n,s)=>{throw new Error(`TypeError: Cannot assign to read only property '${String(n)}' of object`)},deleteProperty:(y,n)=>{throw new Error(`TypeError: Cannot delete read only property '${String(n)}' of object`)},defineProperty:(y,n)=>{throw new Error(`TypeError: Cannot define property '${String(n)}' for a readonly object`)},setPrototypeOf:y=>{throw new Error("TypeError: Cannot set prototype for a readonly object")},isExtensible:()=>!1,preventExtensions:()=>!0}):c;return u(r)}h(r,u,c){const y=S.OVERRIDE_PROPERTY_REGEX.test(r)?4:this.d.get(r),n=c?`[${c.value}] `:"";if(y===4){typeof u?.resource>"u"&&this.f.warn(`${n}Accessing a resource scoped configuration without providing a resource is not expected. To get the effective value for '${r}', provide the URI of a resource or 'null' for any resource.`);return}if(y===3){u?.resource&&this.f.warn(`${n}Accessing a window scoped configuration for a resource is not expected. To associate '${r}' to a resource, define its scope to 'resource' in configuration contributions in 'package.json'.`);return}}j(r,u){const c=new R.ConfigurationChangeEvent(r,u,this.e,this.c.workspace);return Object.freeze({affectsConfiguration:(y,n)=>c.affectsConfiguration(y,O(n))})}k(r){return r.reduce((u,c)=>(u.set(c[0],c[1]),u),new Map)}}e.ExtHostConfigProvider=t,e.IExtHostConfiguration=(0,D.createDecorator)("IExtHostConfiguration")});var Je=this&&this.__classPrivateFieldSet||function(ne,e,i,T,I){if(T==="m")throw new TypeError("Private method is not writable");if(T==="a"&&!I)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?ne!==e||!I:!e.has(ne))throw new TypeError("Cannot write private member to an object whose class did not declare it");return T==="a"?I.call(ne,i):I?I.value=i:e.set(ne,i),i},Le=this&&this.__classPrivateFieldGet||function(ne,e,i,T){if(i==="a"&&!T)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?ne!==e||!T:!e.has(ne))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?T:i==="a"?T.call(ne):T?T.value:e.get(ne)};define(ke[107],Te([1,0,2,17,4,5,7,31,58,32,21,61,18,27,3,15,20,12,76,203,11]),function(ne,e,i,T,I,N,E,R,S,k,M,D,h,b,g,a,o,l,p,w,O){"use strict";var v;Object.defineProperty(e,"__esModule",{value:!0}),e.IExtHostTask=e.WorkerExtHostTask=e.ExtHostTaskBase=e.TaskDTO=e.TaskHandleDTO=e.CustomExecutionDTO=void 0;var t;(function(_){function j(m){if(m!=null)return m}_.from=j;function L(m){if(m!=null)return m}_.to=L})(t||(t={}));var d;(function(_){function j(m){if(m!=null)return m}_.from=j;function L(m){if(m!=null)return m}_.to=L})(d||(d={}));var r;(function(_){function j(m){if(m!=null)return m}_.from=j;function L(m){if(m!=null)return m}_.to=L})(r||(r={}));var u;(function(_){function j(F){if(F){const B=F;return B&&!!B.process}else return!1}_.is=j;function L(F){if(F==null)return;const B={process:F.process,args:F.args};return F.options&&(B.options=r.from(F.options)),B}_.from=L;function m(F){if(F!=null)return new E.ProcessExecution(F.process,F.args,F.options)}_.to=m})(u||(u={}));var c;(function(_){function j(m){if(m!=null)return m}_.from=j;function L(m){if(m!=null)return m}_.to=L})(c||(c={}));var y;(function(_){function j(F){if(F){const B=F;return B&&(!!B.commandLine||!!B.command)}else return!1}_.is=j;function L(F){if(F==null)return;const B={};return F.commandLine!==void 0?B.commandLine=F.commandLine:(B.command=F.command,B.args=F.args),F.options&&(B.options=c.from(F.options)),B}_.from=L;function m(F){if(!(F==null||F.command===void 0&&F.commandLine===void 0))return F.commandLine?new E.ShellExecution(F.commandLine,F.options):new E.ShellExecution(F.command,F.args?F.args:[],F.options)}_.to=m})(y||(y={}));var n;(function(_){function j(F){if(F){const B=F;return B&&B.customExecution==="customExecution"}else return!1}_.is=j;function L(F){return{customExecution:"customExecution"}}_.from=L;function m(F,B){return B.get(F)}_.to=m})(n=e.CustomExecutionDTO||(e.CustomExecutionDTO={}));var s;(function(_){function j(L,m){let F;return L.scope!==void 0&&typeof L.scope!="number"?F=L.scope.uri:L.scope!==void 0&&typeof L.scope=="number"&&(L.scope===E.TaskScope.Workspace&&m&&m.workspaceFile?F=m.workspaceFile:F=w.USER_TASKS_GROUP_KEY),{id:L._id,workspaceFolder:F}}_.from=j})(s=e.TaskHandleDTO||(e.TaskHandleDTO={}));var f;(function(_){function j(L){if(L!=null)return{_id:L.id,isDefault:L.isDefault}}_.from=j})(f||(f={}));var A;(function(_){function j(F,B){if(F==null)return[];const J=[];for(const me of F){const te=L(me,B);te&&J.push(te)}return J}_.fromMany=j;function L(F,B){if(F==null)return;let J;F.execution instanceof E.ProcessExecution?J=u.from(F.execution):F.execution instanceof E.ShellExecution?J=y.from(F.execution):F.execution&&F.execution instanceof E.CustomExecution&&(J=n.from(F.execution));const me=t.from(F.definition);let te;return F.scope?typeof F.scope=="number"?te=F.scope:te=F.scope.uri:te=E.TaskScope.Workspace,!me||!te?void 0:{_id:F._id,definition:me,name:F.name,source:{extensionId:B.identifier.value,label:F.source,scope:te},execution:J,isBackground:F.isBackground,group:f.from(F.group),presentationOptions:d.from(F.presentationOptions),problemMatchers:F.problemMatchers,hasDefinedMatchers:F.hasDefinedMatchers,runOptions:F.runOptions?F.runOptions:{reevaluateOnRerun:!0},detail:F.detail}}_.from=L;async function m(F,B,J){if(F==null)return;let me;u.is(F.execution)?me=u.to(F.execution):y.is(F.execution)?me=y.to(F.execution):n.is(F.execution)&&(me=n.to(F._id,J));const te=t.to(F.definition);let oe;if(F.source&&(F.source.scope!==void 0?typeof F.source.scope=="number"?oe=F.source.scope:oe=await B.resolveWorkspaceFolder(i.URI.revive(F.source.scope)):oe=E.TaskScope.Workspace),!te||!oe)return;const ce=new E.Task(te,oe,F.name,F.source.label,me,F.problemMatchers);return F.isBackground!==void 0&&(ce.isBackground=F.isBackground),F.group!==void 0&&(ce.group=E.TaskGroup.from(F.group._id),ce.group&&F.group.isDefault&&(ce.group=new E.TaskGroup(ce.group.id,ce.group.label),F.group.isDefault===!0&&(ce.group.isDefault=F.group.isDefault))),F.presentationOptions&&(ce.presentationOptions=d.to(F.presentationOptions)),F._id&&(ce._id=F._id),F.detail&&(ce.detail=F.detail),ce}_.to=m})(A=e.TaskDTO||(e.TaskDTO={}));var P;(function(_){function j(m){return m}_.from=j;function L(m){if(!!m)return Object.assign(Object.create(null),m)}_.to=L})(P||(P={}));class H{constructor(j,L,m){this._id=L,this.a=m,v.set(this,void 0),Je(this,v,j,"f")}get task(){return this.a}terminate(){Le(this,v,"f").terminateTask(this)}fireDidStartProcess(j){}fireDidEndProcess(j){}}v=new WeakMap;let Y=class{constructor(j,L,m,F,B,J,me,te){this.q=new I.Emitter,this.r=new I.Emitter,this.s=new I.Emitter,this.t=new I.Emitter,this.a=j.getProxy(N.MainContext.MainThreadTask),this.b=m,this.c=F,this.d=B,this.e=J,this.h=0,this.j=new Map,this.k=new Map,this.l=new Map,this.m=new Map,this.n=new Set,this.o=new Map,this.f=me,this.g=te,this.a.$registerSupportedExecutions(!0)}registerTaskProvider(j,L,m){if(!m)return new E.Disposable(()=>{});const F=this.w();return this.j.set(F,{type:L,provider:m,extension:j}),this.a.$registerTaskProvider(F,L),new E.Disposable(()=>{this.j.delete(F),this.a.$unregisterTaskProvider(F)})}registerTaskSystem(j,L){this.a.$registerTaskSystem(j,L)}fetchTasks(j){return this.a.$fetchTasks(P.from(j)).then(async L=>{const m=[];for(const F of L){const B=await A.to(F,this.b,this.m);B&&m.push(B)}return m})}get taskExecutions(){const j=[];return this.k.forEach(L=>j.push(L)),j}terminateTask(j){if(!(j instanceof H))throw new Error("No valid task execution provided");return this.a.$terminateTask(j._id)}get onDidStartTask(){return this.q.event}async $onDidStartTask(j,L,m){const F=this.m.get(j.id);F&&(this.o.set(j.id,F),this.e.attachPtyToTerminal(L,await F.callback(m))),this.p=j.id,this.q.fire({execution:await this.y(j)})}get onDidEndTask(){return this.r.event}async $OnDidEndTask(j){const L=await this.y(j);this.l.delete(j.id),this.k.delete(j.id),this.A(j),this.r.fire({execution:L})}get onDidStartTaskProcess(){return this.s.event}async $onDidStartTaskProcess(j){const L=await this.y(j.id);this.s.fire({execution:L,processId:j.processId})}get onDidEndTaskProcess(){return this.t.event}async $onDidEndTaskProcess(j){const L=await this.y(j.id);this.t.fire({execution:L,exitCode:j.exitCode})}$provideTasks(j,L){const m=this.j.get(j);if(!m)return Promise.reject(new Error("no handler found"));const F=[],B=(0,T.asPromise)(()=>m.provider.provideTasks(M.CancellationToken.None)).then(J=>this.u(L,F,m,J));return new Promise(J=>{B.then(me=>{Promise.all(F).then(()=>{J(me)})})})}async $resolveTask(j,L){const m=this.j.get(j);if(!m)return Promise.reject(new Error("no handler found"));if(L.definition.type!==m.type)throw new Error(`Unexpected: Task of type [${L.definition.type}] cannot be resolved by provider of type [${m.type}].`);const F=await A.to(L,this.b,this.m);if(!F)throw new Error("Unexpected: Task cannot be resolved.");const B=await m.provider.resolveTask(F,M.CancellationToken.None);if(!B)return;this.z(B,m);const J=A.from(B,m.extension);if(!J)throw new Error("Unexpected: Task cannot be resolved.");if(B.definition!==F.definition)throw new Error("Unexpected: The resolved task definition must be the same object as the original task definition. The task definition cannot be changed.");return n.is(J.execution)&&await this.x(J,B,!0),await this.v(J)}w(){return this.h++}async x(j,L,m){const F=await this.a.$createTaskId(j);!m&&!this.m.has(F)&&(this.n.add(F),this.o.set(F,L.execution)),this.m.set(F,L.execution)}async y(j,L){if(typeof j=="string"){const B=this.l.get(j);if(!B)throw new O.ErrorNoTelemetry("Unexpected: The specified task is missing an execution");return B}const m=this.l.get(j.id);if(m)return m;const F=new Promise((B,J)=>{function me(te,oe,ce){ce?B(new H(te,oe.id,ce)):J("Unexpected: Task does not exist.")}L?me(this,j,L):A.to(j.task,this.b,this.m).then(te=>me(this,j,te))});return this.l.set(j.id,F),F.then(B=>(this.k.set(j.id,B),B),B=>Promise.reject(B))}z(j,L){j._deprecated&&this.g.report("Task.constructor",L.extension,"Use the Task constructor that takes a `scope` instead.")}A(j){this.o.get(j.id)&&this.o.delete(j.id),this.n.has(j.id)&&this.p!==j.id&&(this.m.delete(j.id),this.n.delete(j.id));const m=this.n.values();let F=m.next();for(;!F.done;)!this.o.has(F.value)&&this.p!==F.value&&(this.m.delete(F.value),this.n.delete(F.value)),F=m.next()}};Y=qe([Ve(0,h.IExtHostRpcService),Ve(1,b.IExtHostInitDataService),Ve(2,R.IExtHostWorkspace),Ve(3,S.IExtHostDocumentsAndEditors),Ve(4,k.IExtHostConfiguration),Ve(5,D.IExtHostTerminalService),Ve(6,l.ILogService),Ve(7,p.IExtHostApiDeprecationService)],Y),e.ExtHostTaskBase=Y;let Z=class extends Y{constructor(j,L,m,F,B,J,me,te){super(j,L,m,F,B,J,me,te),this.registerTaskSystem(a.Schemas.vscodeRemote,{scheme:a.Schemas.vscodeRemote,authority:"",platform:o.PlatformToString(0)})}async executeTask(j,L){if(!L.execution)throw new Error("Tasks to execute must include an execution");const m=A.from(L,j);if(m===void 0)throw new Error("Task is not valid");if(n.is(m.execution))await this.x(m,L,!1);else throw new O.NotSupportedError;const F=await this.y(await this.a.$getTaskExecution(m),L);return this.a.$executeTask(m).catch(B=>{throw new Error(B)}),F}u(j,L,m,F){const B=[];if(F)for(const J of F){this.z(J,m),(!J.definition||!j[J.definition.type])&&this.f.warn(`The task [${J.source}, ${J.name}] uses an undefined task type. The task will be ignored in the future.`);const me=A.from(J,m.extension);me&&n.is(me.execution)?(B.push(me),L.push(this.x(me,J,!0))):this.f.warn("Only custom execution tasks supported.")}return{tasks:B,extension:m.extension}}async v(j){if(n.is(j.execution))return j;this.f.warn("Only custom execution tasks supported.")}async $resolveVariables(j,L){return{process:void 0,variables:Object.create(null)}}async $jsonTasksSupported(){return!1}async $findExecutable(j,L,m){}};Z=qe([Ve(0,h.IExtHostRpcService),Ve(1,b.IExtHostInitDataService),Ve(2,R.IExtHostWorkspace),Ve(3,S.IExtHostDocumentsAndEditors),Ve(4,k.IExtHostConfiguration),Ve(5,D.IExtHostTerminalService),Ve(6,l.ILogService),Ve(7,p.IExtHostApiDeprecationService)],Z),e.WorkerExtHostTask=Z,e.IExtHostTask=(0,g.createDecorator)("IExtHostTask")}),define(ke[246],Te([1,0,19,21,39,35,24,77,47]),function(ne,e,i,T,I,N,E,R,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileSearchManager=void 0;class k{constructor(h,b,g){this.k=h,this.l=b,this.o=g,this.e=!1,this.f=0,this.g=!1,this.a=h.filePattern,this.b=h.includePattern&&N.parse(h.includePattern),this.c=h.maxResults||void 0,this.d=h.exists,this.h=new Set,this.j=h.excludePattern&&N.parse(h.excludePattern)}cancel(){this.g=!0,this.h.forEach(h=>h.cancel()),this.h=new Set}search(h){const b=this.k.folderQueries||[];return new Promise((g,a)=>{const o=l=>{this.f++,h(l)};if(this.g)return g({limitHit:this.e});this.k.extraFileResources&&this.k.extraFileResources.forEach(l=>{const p=l.toString(),w=i.basename(p);this.j&&this.j(p,w)||this.v(o,{base:l,basename:w})}),Promise.all(b.map(l=>this.p(l,o))).then(l=>{g({limitHit:this.e,stats:l[0]||void 0})},l=>{a(new Error((0,I.toErrorMessage)(l)))})})}async p(h,b){const g=new T.CancellationTokenSource,a=this.q(h),o=this.r(),l=new S.QueryGlobTester(this.k,h),p=!l.hasSiblingExcludeClauses();let w;try{this.h.add(g),w=R.StopWatch.create();const O=await this.l.provideFileSearchResults({pattern:this.k.filePattern||""},a,g.token),v=w.elapsed(),t=R.StopWatch.create();return this.g&&!this.e||(O&&O.forEach(d=>{const r=i.posix.relative(h.folder.path,d.path);if(p){const u=i.basename(d.path);this.v(b,{base:h.folder,relativePath:r,basename:u});return}this.s(o,h.folder,r,b)}),this.g&&!this.e)?null:(this.u(o,l,b),{providerTime:v,postProcessTime:t.elapsed()})}finally{g.dispose(),this.h.delete(g)}}q(h){const b=(0,S.resolvePatternsForProvider)(this.k.includePattern,h.includePattern),g=(0,S.resolvePatternsForProvider)(this.k.excludePattern,h.excludePattern);return{folder:h.folder,excludes:g,includes:b,useIgnoreFiles:!h.disregardIgnoreFiles,useGlobalIgnoreFiles:!h.disregardGlobalIgnoreFiles,useParentIgnoreFiles:!h.disregardParentIgnoreFiles,followSymlinks:!h.ignoreSymlinks,maxResults:this.k.maxResults,session:this.o}}r(){const h={rootEntries:[],pathToEntries:Object.create(null)};return h.pathToEntries["."]=h.rootEntries,h}s({pathToEntries:h},b,g,a){if(g===this.a){const l=i.basename(this.a);this.v(a,{base:b,relativePath:this.a,basename:l})}function o(l){const p=i.basename(l),w=i.dirname(l);let O=h[w];O||(O=h[w]=[],o(w)),O.push({base:b,relativePath:l,basename:p})}o(g)}u({rootEntries:h,pathToEntries:b},g,a){const o=this,l=this.a;function p(w){const O=(0,S.hasSiblingFn)(()=>w.map(v=>v.basename));for(let v=0,t=w.length;v<t;v++){const d=w[v],{relativePath:r,basename:u}=d;if(g.matchesExcludesSync(r,u,l!==u?O:void 0))continue;const c=b[r];if(c)p(c);else{if(r===l)continue;o.v(a,d)}if(o.e)break}}p(h)}v(h,b){(!this.b||b.relativePath&&this.b(b.relativePath,b.basename))&&((this.d||this.c&&this.f>=this.c)&&(this.e=!0,this.cancel()),this.e||h(b))}}class M{constructor(){this.b=new Map}fileSearch(h,b,g,a){const o=this.c(h.cacheKey),l=new k(h,b,o&&o.token);let p=0;const w=O=>{p+=O.length,g(O.map(v=>this.d(v)))};return this.e(l,M.a,w,a).then(O=>({limitHit:O.limitHit,stats:{fromCache:!1,type:"fileSearchProvider",resultCount:p,detailStats:O.stats}}))}clearCache(h){this.c(h)?.cancel()}c(h){if(!!h)return this.b.has(h)||this.b.set(h,new T.CancellationTokenSource),this.b.get(h)}d(h){return h.relativePath?{resource:E.joinPath(h.base,h.relativePath)}:{resource:h.base}}e(h,b,g,a){a.onCancellationRequested(()=>{h.cancel()});const o=p=>{p&&(l.push(p),b>0&&l.length>=b&&(g(l),l=[]))};let l=[];return h.search(o).then(p=>(l.length&&g(l),p),p=>(l.length&&g(l),Promise.reject(p)))}}M.a=512,e.FileSearchManager=M}),define(ke[247],Te([1,0,16,63,35,87,28,15,19,24,10,9,2,263,155,41,12,53,97,245,47]),function(ne,e,i,T,I,N,E,R,S,k,M,D,h,b,g,a,o,l,p,w,O){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.resolveResourcesForSearchIncludes=e.QueryBuilder=void 0;let v=class{constructor(A,P,H,Y,Z){this.a=A,this.b=P,this.c=H,this.d=Y,this.e=Z}text(A,P,H={}){A=this.f(A,H);const Y=this.a.getValue(),Z=P&&P.some(j=>!this.a.getValue({resource:j}).search.useRipgrep);return{...this.h(P?.map(l.toWorkspaceFolder),H),type:2,contentPattern:A,previewOptions:H.previewOptions,maxFileSize:H.maxFileSize,usePCRE2:Y.search.usePCRE2||Z||!1,beforeContext:H.beforeContext,afterContext:H.afterContext,userDisabledExcludesAndIgnoreFiles:H.disregardExcludeSettings&&H.disregardIgnoreFiles}}f(A,P){const H=this.a.getValue();A.isRegExp&&(A.pattern=A.pattern.replace(/\r?\n/g,"\\n"));const Y={...A,wordSeparators:H.editor.wordSeparators};return this.j(A,P)&&(Y.isCaseSensitive=!0),this.k(A)&&(Y.isMultiline=!0),Y}file(A,P={}){return{...this.h(A,P),type:1,filePattern:P.filePattern?P.filePattern.trim():P.filePattern,exists:P.exists,sortByScore:P.sortByScore,cacheKey:P.cacheKey}}g(A,P){return A?(A=Array.isArray(A)?A.map(c):c(A),P?this.parseSearchPaths(A):{pattern:d(...Array.isArray(A)?A:[A])}):{}}h(A=[],P={}){const H=this.g(P.includePattern,P.expandPatterns),Y=this.g(P.excludePattern,P.expandPatterns),Z=A.length>1,_=(H.searchPaths&&H.searchPaths.length?H.searchPaths.map(m=>this.q(m,P,Y)):A.map(m=>this.r(m,P,Y,Z))).filter(m=>!!m),j={_reason:P._reason,folderQueries:_,usingSearchPaths:!!(H.searchPaths&&H.searchPaths.length),extraFileResources:P.extraFileResources,excludePattern:Y.pattern,includePattern:H.pattern,onlyOpenEditors:P.onlyOpenEditors,maxResults:P.maxResults};if(P.onlyOpenEditors){const m=i.coalesce(i.flatten(this.c.groups.map(J=>J.editors.map(me=>me.resource))));this.d.trace("QueryBuilder#commonQuery - openEditor URIs",JSON.stringify(m));const F=m.filter(J=>(0,O.pathIncludedInQuery)(j,J.fsPath)),B=this.i(F);return this.d.trace("QueryBuilder#commonQuery - openEditor Query",JSON.stringify(B)),{...j,...B}}const L=P.extraFileResources&&P.extraFileResources.filter(m=>(0,O.pathIncludedInQuery)(j,m.fsPath));return j.extraFileResources=L&&L.length?L:void 0,j}i(A){const P=[],H=new E.ResourceMap,Y={};let Z=!1;return A.forEach(_=>{if(_.scheme===R.Schemas.walkThrough)return;if((0,k.isAbsolutePath)(_)){const L=this.b.getWorkspaceFolder(_)?.uri??_.with({path:S.dirname(_.fsPath)});let m=H.get(L);m||(Z=!0,m={folder:L,includePattern:{}},P.push(m),H.set(L,m));const F=S.relative(L.fsPath,_.fsPath);(0,D.assertIsDefined)(m.includePattern)[F.replace(/\\/g,"/")]=!0}else _.fsPath&&(Z=!0,Y[_.fsPath]=!0)}),{folderQueries:P,includePattern:Y,usingSearchPaths:!0,excludePattern:Z?void 0:{"**/*":!0}}}j(A,P){if(P.isSmartCase){if(A.isRegExp){if(M.containsUppercaseCharacter(A.pattern,!0))return!0}else if(M.containsUppercaseCharacter(A.pattern))return!0}return!!A.isCaseSensitive}k(A){return A.isMultiline||A.isRegExp&&(0,b.isMultilineRegexSource)(A.pattern)||A.pattern.indexOf(`
`)>=0?!0:!!A.isMultiline}parseSearchPaths(A){const P=B=>S.isAbsolute(B)||/^\.\.?([\/\\]|$)/.test(B),Y=(Array.isArray(A)?A:r(A)).map(B=>{const J=this.e.resolvedUserHome;return J?(0,N.untildify)(B,J.scheme===R.Schemas.file?J.fsPath:J.path):B}),Z=T.groupBy(Y,B=>P(B)?"searchPaths":"exprSegments"),_=(Z.exprSegments||[]).map(B=>M.rtrim(B,"/")).map(B=>M.rtrim(B,"\\")).map(B=>(B[0]==="."&&(B="*"+B),u(B))),j={},L=this.m(Z.searchPaths||[]);L&&L.length&&(j.searchPaths=L);const m=i.flatten(_),F=d(...m);return F&&(j.pattern=F),j}l(A,P){return P.disregardExcludeSettings?void 0:(0,O.getExcludes)(A,!P.disregardSearchExcludeSettings)}m(A){if(!A||!A.length)return[];const P=A.flatMap(Y=>{let{pathPortion:Z,globPortion:_}=t(Y);return _&&(_=y(_)),this.n(Z).flatMap(L=>this.o(L,_))}),H=new Map;return P.forEach(Y=>{const Z=Y.searchPath.toString(),_=H.get(Z);_?Y.pattern&&(_.pattern=_.pattern||{},_.pattern[Y.pattern]=!0):H.set(Z,{searchPath:Y.searchPath,pattern:Y.pattern?d(Y.pattern):void 0})}),Array.from(H.values())}n(A){if(S.isAbsolute(A)){const P=this.b.getWorkspace().folders;return P[0]&&P[0].uri.scheme!==R.Schemas.file?[{searchPath:P[0].uri.with({path:A})}]:[{searchPath:h.URI.file(S.normalize(A))}]}if(this.b.getWorkbenchState()===2){const P=this.b.getWorkspace().folders[0].uri;if(A=c(A),A.startsWith("../")||A===".."){const Y=S.posix.resolve(P.path,A);return[{searchPath:P.with({path:Y})}]}const H=y(A);return[{searchPath:P,pattern:H}]}else{if(A==="./"||A===".\\")return[];{const P=A.replace(/^\.[\/\\]/,""),Y=this.b.getWorkspace().folders.map(Z=>{const _=P.match(new RegExp(`^${M.escapeRegExpCharacters(Z.name)}(?:/(.*)|$)`));return _?{match:_,folder:Z}:null}).filter(D.isDefined);if(Y.length)return Y.map(Z=>{const _=Z.match[1];return{searchPath:Z.folder.uri,pattern:_&&y(_)}});{const Z=A.match(/\.[\/\\](.+)[\/\\]?/),_=Z?Z[1]:A,j=g.localize(0,null,_);throw new Error(j)}}}}o(A,P){const H=A.pattern&&P?`${A.pattern}/${P}`:A.pattern||P,Y=[{searchPath:A.searchPath,pattern:H}];return H&&!H.endsWith("**")&&Y.push({searchPath:A.searchPath,pattern:H+"/**"}),Y}q(A,P,H){const Y=this.r((0,l.toWorkspaceFolder)(A.searchPath),P,H,!1);return Y?{...Y,includePattern:A.pattern}:null}r(A,P,H,Y){let Z;const _=h.URI.isUri(A)?A:A.uri;if(H.searchPaths){const B=H.searchPaths.filter(J=>(0,k.isEqual)(J.searchPath,_))[0];if(B&&!B.pattern)return null;B&&(Z=B.pattern)}const j=this.a.getValue({resource:_}),m={...this.l(j,P)||{},...Z||{}},F=h.URI.isUri(A)?(0,k.basename)(A):A.name;return{folder:_,folderName:Y?F:void 0,excludePattern:Object.keys(m).length>0?m:void 0,fileEncoding:j.files&&j.files.encoding,disregardIgnoreFiles:typeof P.disregardIgnoreFiles=="boolean"?P.disregardIgnoreFiles:!j.search.useIgnoreFiles,disregardGlobalIgnoreFiles:typeof P.disregardGlobalIgnoreFiles=="boolean"?P.disregardGlobalIgnoreFiles:!j.search.useGlobalIgnoreFiles,disregardParentIgnoreFiles:typeof P.disregardParentIgnoreFiles=="boolean"?P.disregardParentIgnoreFiles:!j.search.useParentIgnoreFiles,ignoreSymlinks:typeof P.ignoreSymlinks=="boolean"?P.ignoreSymlinks:!j.search.followSymlinks}}};v=qe([Ve(0,a.IConfigurationService),Ve(1,l.IWorkspaceContextService),Ve(2,p.IEditorGroupsService),Ve(3,o.ILogService),Ve(4,w.IPathService)],v),e.QueryBuilder=v;function t(f){const A=f.match(/[\*\{\}\(\)\[\]\?]/);if(A){const P=A.index,H=f.substr(0,P).match(/[/|\\][^/\\]*$/);if(H){let Y=f.substr(0,H.index);return Y.match(/[/\\]/)||(Y+="/"),{pathPortion:Y,globPortion:f.substr((H.index||0)+1)}}}return{pathPortion:f}}function d(...f){return f.length?f.reduce((A,P)=>(A[P]=!0,A),Object.create(null)):void 0}function r(f){return I.splitGlobAware(f,",").map(A=>A.trim()).filter(A=>!!A.length)}function u(f){return[`**/${f}/**`,`**/${f}`].map(P=>P.replace(/\*\*\/\*\*/g,"**"))}function c(f){return f.replace(/\\/g,"/")}function y(f){return c(f).replace(/^\.\//,"").replace(/\/+$/g,"")}function n(f){return f.replace(/([?*[\]])/g,"[$1]")}function s(f,A){f=i.distinct(f,Y=>Y.toString());const P=[],H=A.getWorkspace();return f&&f.forEach(Y=>{let Z;if(A.getWorkbenchState()===2)Z=(0,k.relativePath)(H.folders[0].uri,Y),Z&&Z!=="."&&(Z="./"+Z);else{const _=A.getWorkspaceFolder(Y);if(_){const j=_.name;if(H.folders.filter(m=>m.name===j).length===1){const m=(0,k.relativePath)(_.uri,Y);m===""?Z=`./${_.name}`:Z=`./${_.name}/${m}`}else Z=Y.fsPath}}Z&&P.push(n(Z))}),P}e.resolveResourcesForSearchIncludes=s}),define(ke[248],Te([1,0,24,2,21,11,3,247,47,53]),function(ne,e,i,T,I,N,E,R,S,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.checkGlobFileExists=e.checkActivateWorkspaceContainsExtension=void 0;const M=7e3;function D(a,o){const l=o.activationEvents;if(!l)return Promise.resolve(void 0);const p=[],w=[];for(const u of l)if(/^workspaceContains:/.test(u)){const c=u.substr(18);c.indexOf("*")>=0||c.indexOf("?")>=0||a.forceUsingSearch?w.push(c):p.push(c)}if(p.length===0&&w.length===0)return Promise.resolve(void 0);let O;const v=new Promise((u,c)=>{O=u}),t=u=>O({activationEvent:u}),d=Promise.all(p.map(u=>h(a,u,t))).then(()=>{}),r=b(a,o.identifier,w,t);return Promise.all([d,r]).then(()=>{O(void 0)}),v}e.checkActivateWorkspaceContainsExtension=D;async function h(a,o,l){for(const p of a.folders)if(await a.exists(i.joinPath(T.URI.revive(p),o))){l(`workspaceContains:${o}`);return}}async function b(a,o,l,p){if(l.length===0)return Promise.resolve(void 0);const w=new I.CancellationTokenSource,O=a.checkExists(a.folders,l,w.token),v=setTimeout(async()=>{w.cancel(),a.logService.info(`Not activating extension '${o.value}': Timed out while searching for 'workspaceContains' pattern ${l.join(",")}`)},M);let t=!1;try{t=await O}catch(d){N.isCancellationError(d)||N.onUnexpectedError(d)}w.dispose(),clearTimeout(v),t&&p(`workspaceContains:${l.join(",")}`)}function g(a,o,l,p){const w=a.get(E.IInstantiationService),O=a.get(S.ISearchService),t=w.createInstance(R.QueryBuilder).file(o.map(d=>(0,k.toWorkspaceFolder)(T.URI.revive(d))),{_reason:"checkExists",includePattern:l,exists:!0});return O.fileSearch(t,p).then(d=>!!d.limitHit,d=>N.isCancellationError(d)?!1:Promise.reject(d))}e.checkGlobFileExists=g});var Je=this&&this.__classPrivateFieldSet||function(ne,e,i,T,I){if(T==="m")throw new TypeError("Private method is not writable");if(T==="a"&&!I)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?ne!==e||!I:!e.has(ne))throw new TypeError("Cannot write private member to an object whose class did not declare it");return T==="a"?I.call(ne,i):I?I.value=i:e.set(ne,i),i},Le=this&&this.__classPrivateFieldGet||function(ne,e,i,T){if(i==="a"&&!T)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?ne!==e||!T:!e.has(ne))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?T:i==="a"?T.call(ne):T?T.value:e.get(ne)};define(ke[33],Te([1,0,140,19,82,24,17,6,48,2,12,5,32,193,80,31,25,98,11,26,23,178,7,94,3,27,81,18,68,70,61,4,248,79,180,15,78,77,20]),function(ne,e,i,T,I,N,E,R,S,k,M,D,h,b,g,a,o,l,p,w,O,v,t,d,r,u,c,y,n,s,f,A,P,H,Y,Z,_,j,L){"use strict";var m,F,B;Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionPaths=e.Extension=e.IExtHostExtensionService=e.AbstractExtHostExtensionService=e.IHostUtils=void 0,e.IHostUtils=(0,r.createDecorator)("IHostUtils");let J=class Ui extends R.Disposable{constructor(q,K,X,de,ye,Fe,ze,Pe,Ie,Se,ae){super(),this.a=this.B(new A.Emitter),this.onDidChangeRemoteConnectionData=this.a.event,this.O=!1,this.c=K,this.g=X,this.f=ze,this.j=de,this.k=ye,this.l=Fe,this.m=Ie,this.p=Se,this.s=ae,this.t=this.g.getProxy(D.MainContext.MainThreadWorkspace),this.u=this.g.getProxy(D.MainContext.MainThreadTelemetry),this.v=this.g.getProxy(D.MainContext.MainThreadExtensionService),this.w=new E.Barrier,this.y=new E.Barrier,this.z=new E.Barrier,this.C=new E.Barrier,this.F=new l.ExtensionDescriptionRegistry(this.f.allExtensions);const le=(0,o.extensionIdentifiersArrayToSet)(this.f.myExtensions);this.D=new l.ExtensionDescriptionRegistry(oe(this.F,le)),this.G=new g.ExtHostStorage(this.g,this.l),this.H=new H.ExtHostSecretState(this.g),this.I=Pe,this.h=q.createChild(new n.ServiceCollection([g.IExtHostStorage,this.G],[H.IExtHostSecretState,this.H])),this.J=this.B(new b.ExtensionsActivator(this.D,this.F,{onExtensionActivationError:(ee,C,$)=>{this.v.$onExtensionActivationError(ee,p.transformErrorForSerialization(C),$)},actualActivateExtension:async(ee,C)=>{if(l.ExtensionDescriptionRegistry.isHostExtension(ee,this.D,this.F))return await this.v.$activateExtension(ee,C),new b.HostExtension;const $=this.D.getExtensionDescription(ee);return this.Y($,C)}},this.l)),this.L=null,this.M=Object.create(null),this.N=!1,this.P=this.f.remote.connectionData}getRemoteConnectionData(){return this.P}async initialize(){try{await this.ob(),this.w.open(),await this.j.waitForInitializeCall(),I.mark("code/extHost/ready"),this.y.open(),this.f.autoStart&&this.lb()}catch(q){p.onUnexpectedError(q)}}async Q(){this.I.onWillDeactivateAll();let q=[];try{q=this.D.getAllExtensionDescriptions().map(ye=>ye.identifier).filter(ye=>this.isActivated(ye)).map(ye=>this.X(ye))}catch{}await Promise.all(q)}terminate(q,K=0){if(this.O)return;this.O=!0,this.l.info(`Extension host terminating: ${q}`),this.l.flush(),this.p.dispose(),this.J.dispose(),p.setUnexpectedErrorHandler(de=>{this.l.error(de)}),this.g.dispose();const X=this.Q();Promise.race([(0,E.timeout)(5e3),X]).finally(()=>{this.c.pid?this.l.info(`Extension host with pid ${this.c.pid} exiting with code ${K}`):this.l.info(`Extension host exiting with code ${K}`),this.l.flush(),this.l.dispose(),this.c.exit(K)})}isActivated(q){return this.z.isOpen()?this.J.isActivated(q):!1}async getExtension(q){const K=await this.v.$getExtension(q);let X;if(K?.browserNlsBundleUris){X={};for(const de of Object.keys(K.browserNlsBundleUris))X[de]=k.URI.revive(K.browserNlsBundleUris[de])}return K&&{...K,identifier:new w.ExtensionIdentifier(K.identifier.value),extensionLocation:k.URI.revive(K.extensionLocation),browserNlsBundleUris:X}}R(q,K){return this.J.activateByEvent(q,K)}S(q,K){return this.J.activateById(q,K)}activateByIdWithErrors(q,K){return this.S(q,K).then(()=>{const X=this.J.getActivatedExtension(q);if(X.activationFailed)return Promise.reject(X.activationFailedError)})}getExtensionRegistry(){return this.z.wait().then(q=>this.D)}getExtensionExports(q){return this.z.isOpen()?this.J.getActivatedExtension(q).exports:null}async U(q){if(q.scheme!==Z.Schemas.file)return q;const K=await this.c.realpath(q.fsPath);return k.URI.file(K)}async getExtensionPathIndex(){return this.L||(this.L=this.W(this.D.getAllExtensionDescriptions()).then(q=>new ce(q))),this.L}async W(q){const K=S.TernarySearchTree.forUris(X=>N.extUriBiasedIgnorePathCase.ignorePathCasing(X));return await Promise.all(q.map(async X=>{if(this.pb(X)){const de=await this.U(X.extensionLocation);K.set(de,X)}})),K}X(q){let K=Promise.resolve(void 0);if(!this.z.isOpen()||!this.J.isActivated(q))return K;const X=this.J.getActivatedExtension(q);if(!X)return K;try{typeof X.module.deactivate=="function"&&(K=Promise.resolve(X.module.deactivate()).then(void 0,de=>(this.l.error(de),Promise.resolve(void 0))))}catch(de){this.l.error(`An error occurred when deactivating the extension '${q.value}':`),this.l.error(de)}try{(0,R.dispose)(X.subscriptions)}catch(de){this.l.error(`An error occurred when deactivating the subscriptions for extension '${q.value}':`),this.l.error(de)}return K}async Y(q,K){return this.f.remote.isRemote?this.v.$onWillActivateExtension(q.identifier):await this.v.$onWillActivateExtension(q.identifier),this.ab(q,K).then(X=>{const de=X.activationTimes;return this.v.$onDidActivateExtension(q.identifier,de.codeLoadingTime,de.activateCallTime,de.activateResolvedTime,K),this.Z(q,K,"success",de),X},X=>{throw this.Z(q,K,"failure"),X})}Z(q,K,X,de){const ye=me(q,K);this.u.$publicLog2("extensionActivationTimes",{...ye,...de||{},outcome:X})}ab(q,K){const X=me(q,K);this.u.$publicLog2("activatePlugin",X);const de=this.pb(q);if(!de)return Promise.resolve(new b.EmptyExtension(b.ExtensionActivationTimes.NONE));this.l.info(`ExtensionService#_doActivateExtension ${q.identifier.value}, startup: ${K.startup}, activationEvent: '${K.activationEvent}'${q.identifier.value!==K.extensionId.value?`, root cause: ${K.extensionId.value}`:""}`),this.l.flush();const ye=new b.ExtensionActivationTimesBuilder(K.startup);return Promise.all([this.qb(q,(0,N.joinPath)(q.extensionLocation,de),ye),this.bb(q)]).then(Fe=>(I.mark(`code/extHost/willActivateExtension/${q.identifier.value}`),Ui.cb(this.l,q.identifier,Fe[0],Fe[1],ye))).then(Fe=>(I.mark(`code/extHost/didActivateExtension/${q.identifier.value}`),Fe))}bb(q){const K=new v.ExtensionGlobalMemento(q,this.G),X=new v.ExtensionMemento(q.identifier.value,!1,this.G),de=new Y.ExtensionSecrets(q,this.H),ye=q.isUnderDevelopment?this.f.environment.extensionTestsLocationURI?t.ExtensionMode.Test:t.ExtensionMode.Development:t.ExtensionMode.Production,Fe=this.f.remote.isRemote?t.ExtensionKind.Workspace:t.ExtensionKind.UI;return this.l.trace(`ExtensionService#loadExtensionContext ${q.identifier.value}`),Promise.all([K.whenReady,X.whenReady,this.I.whenReady]).then(()=>{const ze=this;let Pe,Ie;const Se=(0,o.isProposedApiEnabled)(q,"ipc")?this.f.messagePorts?.get(w.ExtensionIdentifier.toKey(q.identifier)):void 0;return Object.freeze({globalState:K,workspaceState:X,secrets:de,subscriptions:[],get extensionUri(){return q.extensionLocation},get extensionPath(){return q.extensionLocation.fsPath},asAbsolutePath(ae){return T.join(q.extensionLocation.fsPath,ae)},get storagePath(){return ze.I.workspaceValue(q)?.fsPath},get globalStoragePath(){return ze.I.globalValue(q).fsPath},get logPath(){return T.join(ze.f.logsLocation.fsPath,q.identifier.value)},get logUri(){return k.URI.joinPath(ze.f.logsLocation,q.identifier.value)},get storageUri(){return ze.I.workspaceValue(q)},get globalStorageUri(){return ze.I.globalValue(q)},get extensionMode(){return ye},get extension(){return Pe===void 0&&(Pe=new te(ze,q.identifier,q,Fe,!1)),Pe},get extensionRuntime(){return(0,o.checkProposedApiEnabled)(q,"extensionRuntime"),ze.extensionRuntime},get environmentVariableCollection(){return ze.p.getEnvironmentVariableCollection(q)},get messagePassingProtocol(){if(!Ie){if(!Se)return;const ae=A.Event.buffer(A.Event.fromDOMEventEmitter(Se,"message",le=>le.data));Se.start(),Ie={onDidReceiveMessage:ae,postMessage:Se.postMessage.bind(Se)}}return Ie}})})}static cb(q,K,X,de,ye){return X=X||{activate:void 0,deactivate:void 0},this.db(q,K,X,de,ye).then(Fe=>new b.ActivatedExtension(!1,null,ye.build(),X,Fe,de.subscriptions))}static db(q,K,X,de,ye){if(typeof X.activate=="function")try{ye.activateCallStart(),q.trace(`ExtensionService#_callActivateOptional ${K.value}`);const Fe=typeof global=="object"?global:self,ze=X.activate.apply(Fe,[de]);return ye.activateCallStop(),ye.activateResolveStart(),Promise.resolve(ze).then(Pe=>(ye.activateResolveStop(),Pe))}catch(Fe){return Promise.reject(Fe)}else return Promise.resolve(X)}eb(q,K){this.S(q.identifier,{startup:!1,extensionId:q.identifier,activationEvent:K}).then(void 0,X=>{this.l.error(X)})}fb(q,K=0){const de=Date.now();(0,L.setTimeout0)(()=>{for(let ye=K;ye<q.length;ye+=1){const Fe=q[ye];for(const ze of Fe.activationEvents??[])if(ze==="onStartupFinished")if(Date.now()-de>50){this.fb(q,ye);break}else this.eb(Fe,ze)}})}gb(){this.v.$setPerformanceMarks(I.getMarks()),this.k.getConfigProvider().then(q=>{const K=q.getConfiguration("extensions.experimental").get("deferredStartupFinishedActivation"),X=this.D.getAllExtensionDescriptions();if(K)this.fb(X);else for(const de of X)if(de.activationEvents)for(const ye of de.activationEvents)ye==="onStartupFinished"&&this.eb(de,ye)})}hb(){const q=this.R("*",!0).then(void 0,ye=>{this.l.error(ye)});this.B(this.j.onDidChangeWorkspace(ye=>this.ib(ye.added)));const K=this.j.workspace?this.j.workspace.folders:[],X=this.ib(K),de=Promise.all([q,X]).then(()=>{});return Promise.race([de,(0,E.timeout)(1e4)]).then(()=>{this.gb()}),de}ib(q){return q.length===0?Promise.resolve(void 0):Promise.all(this.D.getAllExtensionDescriptions().map(K=>this.jb(q,K))).then(()=>{})}async jb(q,K){if(this.isActivated(K.identifier))return;const X=!this.f.remote.isRemote&&!!this.f.remote.authority,de={logService:this.l,folders:q.map(Fe=>Fe.uri),forceUsingSearch:X,exists:Fe=>this.c.exists(Fe.fsPath),checkExists:(Fe,ze,Pe)=>this.t.$checkExists(Fe,ze,Pe)},ye=await(0,P.checkActivateWorkspaceContainsExtension)(de,K);if(!!ye)return this.S(K.identifier,{startup:!0,extensionId:K.identifier,activationEvent:ye.activationEvent}).then(void 0,Fe=>this.l.error(Fe))}async $extensionTestsExecute(){await this.C.wait();try{return await this.kb()}catch(q){throw console.error(q),q}}async kb(){const{extensionDevelopmentLocationURI:q,extensionTestsLocationURI:K}=this.f.environment;if(!q||!K)throw new Error(i.localize(0,null));const X=await this.qb(null,K,new b.ExtensionActivationTimesBuilder(!1));if(!X||typeof X.run!="function")throw new Error(i.localize(1,null,K.toString()));return new Promise((de,ye)=>{const Fe=(Ie,Se)=>{Ie?ye(Ie):de(typeof Se=="number"&&Se>0?1:0)},ze=(0,N.originalFSPath)(K),Pe=X.run(ze,Fe);Pe&&Pe.then&&Pe.then(()=>{de(0)}).catch(Ie=>{ye(Ie instanceof Error&&Ie.stack?Ie.stack:String(Ie))})})}lb(){if(this.N)throw new Error("Extension host is already started!");return this.N=!0,this.y.wait().then(()=>this.z.open()).then(()=>this.hb()).then(()=>{this.C.open(),this.l.info("Eager extensions activated")})}registerRemoteAuthorityResolver(q,K){return this.M[q]=K,(0,R.toDisposable)(()=>{delete this.M[q]})}async mb(q){const K=q.indexOf("+");if(K===-1)throw new Error("Not an authority that can be resolved!");const X=q.substr(0,K);return await this.w.wait(),await this.R(`onResolveRemoteAuthority:${X}`,!1),{authorityPrefix:X,resolver:this.M[X]}}async $resolveAuthority(q,K){const X=j.StopWatch.create(!1),de=()=>`[resolveAuthority(${(0,d.getRemoteAuthorityPrefix)(q)},${K})][${X.elapsed()}ms] `,ye=Se=>this.l.info(`${de()}${Se}`),Fe=(Se,ae=void 0)=>this.l.error(`${de()}${Se}`,ae);ye("activating resolver...");const{authorityPrefix:ze,resolver:Pe}=await this.mb(q);if(!Pe)return Fe("no resolver"),{type:"error",error:{code:d.RemoteAuthorityResolverErrorCode.NoResolverFound,message:`No remote extension installed to resolve ${ze}.`,detail:void 0}};const Ie=new E.IntervalTimer;try{ye("setting tunnel factory..."),this.B(await this.m.setTunnelFactory(Pe)),Ie.cancelAndSet(()=>ye("waiting..."),1e3),ye("invoking resolve()..."),I.mark(`code/extHost/willResolveAuthority/${ze}`);const Se=await Pe.resolve(q,{resolveAttempt:K});I.mark(`code/extHost/didResolveAuthorityOK/${ze}`),Ie.dispose(),ye(`returned ${Se.host}:${Se.port}`);const ae={authority:q,host:Se.host,port:Se.port,connectionToken:Se.connectionToken},le={extensionHostEnv:Se.extensionHostEnv,isTrusted:Se.isTrusted,authenticationSession:Se.authenticationSessionForInitializingExtensions?{id:Se.authenticationSessionForInitializingExtensions.id,providerId:Se.authenticationSessionForInitializingExtensions.providerId}:void 0};return{type:"ok",value:{authority:ae,options:le,tunnelInformation:{environmentTunnels:Se.environmentTunnels,features:Se.tunnelFeatures}}}}catch(Se){if(I.mark(`code/extHost/didResolveAuthorityError/${ze}`),Ie.dispose(),Fe("returned an error",Se),Se instanceof t.RemoteAuthorityResolverError)return{type:"error",error:{code:Se._code,message:Se._message,detail:Se._detail}};throw Se}}async $getCanonicalURI(q,K){this.l.info(`$getCanonicalURI invoked for authority (${(0,d.getRemoteAuthorityPrefix)(q)})`);const{resolver:X}=await this.mb(q);if(!X)return null;const de=k.URI.revive(K);if(typeof X.getCanonicalURI>"u")return de;const ye=await(0,E.asPromise)(()=>X.getCanonicalURI(de));return ye||de}static nb(q,K,X){const de=new l.ExtensionDescriptionRegistry(q.getAllExtensionDescriptions());de.deltaExtensions(X.toAdd,X.toRemove);const ye=(0,o.extensionIdentifiersArrayToSet)(K.getAllExtensionDescriptions().map(ze=>ze.identifier));for(const ze of X.myToRemove)ye.delete(w.ExtensionIdentifier.toKey(ze));for(const ze of X.myToAdd)ye.add(w.ExtensionIdentifier.toKey(ze));const Fe=oe(de,ye);return{globalRegistry:de,myExtensions:Fe}}$startExtensionHost(q){q.toAdd.forEach(de=>de.extensionLocation=k.URI.revive(de.extensionLocation));const{globalRegistry:K,myExtensions:X}=Ui.nb(this.F,this.D,q);return this.F.set(K.getAllExtensionDescriptions()),this.D.set(X),this.lb()}$activateByEvent(q,K){return K===1?this.R(q,!1):this.z.wait().then(X=>this.R(q,!1))}async $activate(q,K){return await this.z.wait(),this.D.getExtensionDescription(q)?(await this.S(q,K),!0):!1}async $deltaExtensions(q){q.toAdd.forEach(Fe=>Fe.extensionLocation=k.URI.revive(Fe.extensionLocation));const{globalRegistry:K,myExtensions:X}=Ui.nb(this.F,this.D,q),de=await this.W(X);return(await this.getExtensionPathIndex()).setSearchTree(de),this.F.set(K.getAllExtensionDescriptions()),this.D.set(X),Promise.resolve(void 0)}async $test_latency(q){return q}async $test_up(q){return q.byteLength}async $test_down(q){const K=O.VSBuffer.alloc(q),X=Math.random()%256;for(let de=0;de<q;de++)K.writeUInt8(X,de);return K}async $updateRemoteConnectionData(q){this.P=q,this.a.fire()}};J=qe([Ve(0,r.IInstantiationService),Ve(1,e.IHostUtils),Ve(2,y.IExtHostRpcService),Ve(3,a.IExtHostWorkspace),Ve(4,h.IExtHostConfiguration),Ve(5,M.ILogService),Ve(6,u.IExtHostInitDataService),Ve(7,c.IExtensionStoragePaths),Ve(8,s.IExtHostTunnelService),Ve(9,f.IExtHostTerminalService),Ve(10,_.IExtHostLocalizationService)],J),e.AbstractExtHostExtensionService=J;function me(we,q){return{id:we.identifier.value,name:we.name,extensionVersion:we.version,publisherDisplayName:we.publisher,activationEvents:we.activationEvents?we.activationEvents.join(","):null,isBuiltin:we.isBuiltin,reason:q.activationEvent,reasonId:q.extensionId.value}}e.IExtHostExtensionService=(0,r.createDecorator)("IExtHostExtensionService");class te{constructor(q,K,X,de,ye){m.set(this,void 0),F.set(this,void 0),B.set(this,void 0),Je(this,m,q,"f"),Je(this,F,K,"f"),Je(this,B,X.identifier,"f"),this.id=X.identifier.value,this.extensionUri=X.extensionLocation,this.extensionPath=T.normalize((0,N.originalFSPath)(X.extensionLocation)),this.packageJSON=X,this.extensionKind=de,this.isFromDifferentExtensionHost=ye}get isActive(){return Le(this,m,"f").isActivated(Le(this,B,"f"))}get exports(){if(!(this.packageJSON.api==="none"||this.isFromDifferentExtensionHost))return Le(this,m,"f").getExtensionExports(Le(this,B,"f"))}async activate(){if(this.isFromDifferentExtensionHost)throw new Error("Cannot activate foreign extension");return await Le(this,m,"f").activateByIdWithErrors(Le(this,B,"f"),{startup:!1,extensionId:Le(this,F,"f"),activationEvent:"api"}),this.exports}}e.Extension=te,m=new WeakMap,F=new WeakMap,B=new WeakMap;function oe(we,q){return we.getAllExtensionDescriptions().filter(K=>q.has(w.ExtensionIdentifier.toKey(K.identifier)))}class ce{constructor(q){this.a=q}setSearchTree(q){this.a=q}findSubstr(q){return this.a.findSubstr(q)}forEach(q){return this.a.forEach(q)}}e.ExtensionPaths=ce}),define(ke[249],Te([1,0,82,2,5,32,25,26,18,27,3,33,51,12,10]),function(ne,e,i,T,I,N,E,R,S,k,M,D,h,b,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RequireInterceptor=void 0;let a=class{constructor(v,t,d,r,u,c,y){this.c=v,this.d=t,this.e=d,this.f=r,this.g=u,this.h=c,this.i=y,this.a=new Map,this.b=[]}async install(){this.j(),i.mark("code/extHost/willWaitForConfig");const v=await this.f.getConfigProvider();i.mark("code/extHost/didWaitForConfig");const t=await this.g.getExtensionPathIndex();this.register(new l(this.c,t,this.d,v,this.i)),this.register(this.e.createInstance(p,t)),this.register(this.e.createInstance(o)),this.h.remote.isRemote&&this.register(this.e.createInstance(w,t,this.h.environment.appUriScheme))}register(v){if("nodeModuleName"in v)if(Array.isArray(v.nodeModuleName))for(const t of v.nodeModuleName)this.a.set(t,v);else this.a.set(v.nodeModuleName,v);typeof v.alternativeModuleName=="function"&&this.b.push(t=>v.alternativeModuleName(t))}};a=qe([Ve(2,M.IInstantiationService),Ve(3,N.IExtHostConfiguration),Ve(4,D.IExtHostExtensionService),Ve(5,k.IExtHostInitDataService),Ve(6,b.ILogService)],a),e.RequireInterceptor=a;let o=class rn{constructor(v){if(v.environment.appRoot&&rn.a.size){const t=(0,g.escapeRegExpCharacters)(this.c(v.environment.appRoot.fsPath)),d="[a-z0-9_.-]",r=`@${d}+\\/${d}+|${d}+`,u="node_modules|node_modules\\.asar(?:\\.unpacked)?";this.b=new RegExp(`^(${t}/${u}\\/)(${r})(.*)$`,"i")}}alternativeModuleName(v){if(!this.b)return;const t=this.b.exec(this.c(v));if(!t)return;const[,d,r,u]=t,c=rn.a.get(r);if(c!==void 0)return console.warn(`${r} as been renamed to ${c}, please update your imports`),d+c+u}c(v){return v.replace(/\\/g,"/")}};o.a=new Map([["vscode-ripgrep","@vscode/ripgrep"],["vscode-windows-registry","@vscode/windows-registry"]]),o=qe([Ve(0,k.IExtHostInitDataService)],o);class l{constructor(v,t,d,r,u){this.c=v,this.d=t,this.e=d,this.f=r,this.g=u,this.nodeModuleName="vscode",this.a=new Map}load(v,t){const d=this.d.findSubstr(t);if(d){let r=this.a.get(R.ExtensionIdentifier.toKey(d.identifier));return r||(r=this.c(d,this.e,this.f),this.a.set(R.ExtensionIdentifier.toKey(d.identifier),r)),r}if(!this.b){let r="";this.d.forEach((u,c)=>r+=`	${c} -> ${u.identifier.value}
`),this.g.warn(`Could not identify extension for 'vscode' require call from ${t}. These are the extension path mappings: 
${r}`),this.b=this.c(E.nullExtensionDescription,this.e,this.f)}return this.b}}let p=class{constructor(v,t,d){this.d=v,this.nodeModuleName="keytar",this.a=t.getProxy(I.MainContext.MainThreadTelemetry);const{environment:r}=d,u=t.getProxy(I.MainContext.MainThreadKeytar);if(r.appRoot){let c=r.appRoot.fsPath;h.platform==="win32"&&(c=c.replace(/\\/g,"/")),c[c.length-1]==="/"&&(c=c.substr(0,c.length-1)),this.b=new Set,this.b.add(`${c}/node_modules.asar/keytar`),this.b.add(`${c}/node_modules/keytar`)}this.c={getPassword:(c,y)=>u.$getPassword(c,y),setPassword:(c,y,n)=>u.$setPassword(c,y,n),deletePassword:(c,y)=>u.$deletePassword(c,y),findPassword:c=>u.$findPassword(c),findCredentials(c){return u.$findCredentials(c)}}}load(v,t){const d=this.d.findSubstr(t);return this.a.$publicLog2("shimming.keytar",{extension:d?.identifier.value??"unknown_extension"}),this.c}alternativeModuleName(v){const t=v.length;if(t<=7||!this.b)return;const d=t-7;if((v.charAt(d)==="/"||v.charAt(d)==="\\")&&v.endsWith("keytar")&&(v=v.replace(/\\/g,"/"),this.b.has(v)))return"keytar"}};p=qe([Ve(1,S.IExtHostRpcService),Ve(2,k.IExtHostInitDataService)],p);let w=class{constructor(v,t,d){this.e=v,this.f=t,this.nodeModuleName=["open","opn"],this.d=d.getProxy(I.MainContext.MainThreadTelemetry);const r=d.getProxy(I.MainContext.MainThreadWindow);this.c=(u,c)=>{const y=T.URI.parse(u);return c?this.g(u,c):y.scheme==="http"||y.scheme==="https"?r.$openUri(y,u,{allowTunneling:!0}):y.scheme==="mailto"||y.scheme===this.f?r.$openUri(y,u,{}):this.g(u,c)}}load(v,t,d){const r=this.e.findSubstr(t);return r&&(this.a=r.identifier.value,this.h()),this.b=d(v),this.c}g(v,t){return this.i(),this.b(v,t)}h(){!this.a||this.d.$publicLog2("shimming.open",{extension:this.a})}i(){!this.a||this.d.$publicLog2("shimming.open.call.noForward",{extension:this.a})}};w=qe([Ve(2,S.IExtHostRpcService)],w)}),define(ke[108],Te([1,0,85,6,19,51,3,58,59,33,7,31,190,32]),function(ne,e,i,T,I,N,E,R,S,k,M,D,h,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostVariableResolverProviderService=e.IExtHostVariableResolverProvider=void 0,e.IExtHostVariableResolverProvider=(0,E.createDecorator)("IExtHostVariableResolverProvider");class g extends h.AbstractVariableResolverService{constructor(l,p,w,O,v,t,d){function r(){if(w){const u=w.activeEditor();if(u)return u.document.uri;const c=O.tabGroups.all.find(y=>y.isActive)?.activeTab;if(c!==void 0){if(c.input instanceof M.TextDiffTabInput||c.input instanceof M.NotebookDiffEditorTabInput)return c.input.modified;if(c.input instanceof M.TextTabInput||c.input instanceof M.NotebookEditorTabInput||c.input instanceof M.CustomEditorTabInput)return c.input.uri}}}super({getFolderUri:u=>{const c=t.folders.filter(y=>y.name===u);if(c&&c.length>0)return c[0].uri},getWorkspaceFolderCount:()=>t.folders.length,getConfigurationValue:(u,c)=>v.getConfiguration(void 0,u).get(c),getAppRoot:()=>N.cwd(),getExecPath:()=>N.env.VSCODE_EXEC_PATH,getFilePath:()=>{const u=r();if(u)return I.normalize(u.fsPath)},getWorkspaceFolderPathForFile:()=>{if(p){const u=r();if(u){const c=p.getWorkspaceFolder(u);if(c)return I.normalize(c.uri.fsPath)}}},getSelectedText:()=>{if(w){const u=w.activeEditor();if(u&&!u.selection.isEmpty)return u.document.getText(u.selection)}},getLineNumber:()=>{if(w){const u=w.activeEditor();if(u)return String(u.selection.end.line+1)}},getExtension:u=>l.getExtension(u)},void 0,d?Promise.resolve(d):void 0,Promise.resolve(N.env))}}let a=class extends T.Disposable{constructor(l,p,w,O,v){super(),this.b=l,this.c=p,this.g=w,this.h=O,this.i=v,this.a=new i.Lazy(async()=>{const t=await this.h.getConfigProvider(),r={folders:await this.c.getWorkspaceFolders2()||[]};return this.B(this.c.onDidChangeWorkspace(async u=>{r.folders=await this.c.getWorkspaceFolders2()||[]})),new g(this.b,this.c,this.g,this.i,t,r,this.j())})}getResolver(){return this.a.value}j(){}};a=qe([Ve(0,k.IExtHostExtensionService),Ve(1,D.IExtHostWorkspace),Ve(2,R.IExtHostDocumentsAndEditors),Ve(3,b.IExtHostConfiguration),Ve(4,S.IExtHostEditorTabs)],a),e.ExtHostVariableResolverProviderService=a}),define(ke[109],Te([1,0,17,4,9,2,3,5,59,33,18,7,31,183,185,32,108]),function(ne,e,i,T,I,N,E,R,S,k,M,D,h,b,g,a,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkerExtHostDebugService=e.ExtHostDebugConsole=e.ExtHostDebugSession=e.ExtHostDebugServiceBase=e.IExtHostDebugService=void 0,e.IExtHostDebugService=(0,E.createDecorator)("IExtHostDebugService");let l=class{get onDidStartDebugSession(){return this.m.event}get onDidTerminateDebugSession(){return this.n.event}get onDidChangeActiveDebugSession(){return this.o.event}get activeDebugSession(){return this.q}get onDidReceiveDebugSessionCustomEvent(){return this.u.event}get activeDebugConsole(){return this.v.value}constructor(r,u,c,y,n,s){this.D=u,this.E=c,this.F=y,this.G=n,this.H=s,this.l=new Map,this.d=0,this.f=[],this.g=0,this.h=[],this.i=0,this.j=[],this.A=new Map,this.B=new Map,this.m=new T.Emitter,this.n=new T.Emitter,this.o=new T.Emitter,this.u=new T.Emitter,this.k=r.getProxy(R.MainContext.MainThreadDebugService),this.z=new T.Emitter({onWillAddFirstListener:()=>{this.T()}}),this.v=new w(this.k),this.w=new Map,this.y=!1,this.E.getExtensionRegistry().then(f=>{f.onDidChange(A=>{this.I(f)}),this.I(f)})}asDebugSourceUri(r,u){const c=r;if(typeof c.sourceReference=="number"&&c.sourceReference>0){let y=`debug:${encodeURIComponent(c.path||"")}`,n="?";return u&&(y+=`${n}session=${encodeURIComponent(u.id)}`,n="&"),y+=`${n}ref=${c.sourceReference}`,N.URI.parse(y)}else{if(c.path)return N.URI.file(c.path);throw new Error("cannot create uri from DAP 'source' object; properties 'path' and 'sourceReference' are both missing.")}}I(r){const u=[];for(const c of r.getAllExtensionDescriptions())if(c.contributes){const y=c.contributes.debuggers;if(y&&y.length>0)for(const n of y)(0,g.isDebuggerMainContribution)(n)&&u.push(n.type)}this.k.$registerDebugTypes(u)}get onDidChangeBreakpoints(){return this.z.event}get breakpoints(){this.T();const r=[];return this.w.forEach(u=>r.push(u)),r}addBreakpoints(r){this.T();const u=r.filter(n=>{const s=n.id;return this.w.has(s)?!1:(this.w.set(s,n),!0)});this.U(u,[],[]);const c=[],y=new Map;for(const n of u)if(n instanceof D.SourceBreakpoint){let s=y.get(n.location.uri.toString());s||(s={type:"sourceMulti",uri:n.location.uri,lines:[]},y.set(n.location.uri.toString(),s),c.push(s)),s.lines.push({id:n.id,enabled:n.enabled,condition:n.condition,hitCondition:n.hitCondition,logMessage:n.logMessage,line:n.location.range.start.line,character:n.location.range.start.character})}else n instanceof D.FunctionBreakpoint&&c.push({type:"function",id:n.id,enabled:n.enabled,hitCondition:n.hitCondition,logMessage:n.logMessage,condition:n.condition,functionName:n.functionName});return this.k.$registerBreakpoints(c)}removeBreakpoints(r){this.T();const u=r.filter(s=>this.w.delete(s.id));this.U([],u,[]);const c=u.filter(s=>s instanceof D.SourceBreakpoint).map(s=>s.id),y=u.filter(s=>s instanceof D.FunctionBreakpoint).map(s=>s.id),n=u.filter(s=>s instanceof D.DataBreakpoint).map(s=>s.id);return this.k.$unregisterBreakpoints(c,y,n)}startDebugging(r,u,c){return this.k.$startDebugging(r?r.uri:void 0,u,{parentSessionID:c.parentSession?c.parentSession.id:void 0,lifecycleManagedByParent:c.lifecycleManagedByParent,repl:c.consoleMode===D.DebugConsoleMode.MergeWithParent?"mergeWithParent":"separate",noDebug:c.noDebug,compact:c.compact,suppressSaveBeforeStart:c.suppressSaveBeforeStart,suppressDebugStatusbar:c.suppressDebugStatusbar??c.debugUI?.simple,suppressDebugToolbar:c.suppressDebugToolbar??c.debugUI?.simple,suppressDebugView:c.suppressDebugView??c.debugUI?.simple})}stopDebugging(r){return this.k.$stopDebugging(r?r.id:void 0)}registerDebugConfigurationProvider(r,u,c){if(!u)return new D.Disposable(()=>{});const y=this.d++;return this.f.push({type:r,handle:y,provider:u}),this.k.$registerDebugConfigurationProvider(r,c,!!u.provideDebugConfigurations,!!u.resolveDebugConfiguration,!!u.resolveDebugConfigurationWithSubstitutedVariables,y),new D.Disposable(()=>{this.f=this.f.filter(n=>n.provider!==u),this.k.$unregisterDebugConfigurationProvider(y)})}registerDebugAdapterDescriptorFactory(r,u,c){if(!c)return new D.Disposable(()=>{});if(!this.P(r,u))throw new Error(`a DebugAdapterDescriptorFactory can only be registered from the extension that defines the '${u}' debugger.`);if(this.M(u))throw new Error("a DebugAdapterDescriptorFactory can only be registered once per a type.");const y=this.g++;return this.h.push({type:u,handle:y,factory:c}),this.k.$registerDebugAdapterDescriptorFactory(u,y),new D.Disposable(()=>{this.h=this.h.filter(n=>n.factory!==c),this.k.$unregisterDebugAdapterDescriptorFactory(y)})}registerDebugAdapterTrackerFactory(r,u){if(!u)return new D.Disposable(()=>{});const c=this.i++;return this.j.push({type:r,handle:c,factory:u}),new D.Disposable(()=>{this.j=this.j.filter(y=>y.factory!==u)})}async $runInTerminal(r,u){return Promise.resolve(void 0)}async $substituteVariables(r,u){let c;const y=await this.W(r);return y&&(c={uri:y.uri,name:y.name,index:y.index,toResource:()=>{throw new Error("Not implemented")}}),(await this.H.getResolver()).resolveAnyAsync(c,u)}J(r,u){if(r.type==="implementation")return new v(r.implementation)}K(){}async $startDASession(r,u){const c=this,y=await this.V(u);return this.R(this.M(y.type),y).then(n=>{if(!n)throw new Error(`Couldn't find a debug adapter descriptor for debug type '${y.type}' (extension might have failed to activate)`);const s=this.L(n),f=this.J(s,y);if(!f)throw new Error(`Couldn't create a debug adapter for type '${y.type}'.`);const A=f;return this.A.set(r,A),this.Q(y).then(P=>(P&&this.B.set(r,P),A.onMessage(async H=>{if(H.type==="request"&&H.command==="handshake"){const Y=H,Z={type:"response",seq:0,command:Y.command,request_seq:Y.seq,success:!0};this.C||(this.C=this.K());try{if(this.C){const _=await this.C.sign(Y.arguments.value);Z.body={signature:_},A.sendResponse(Z)}else throw new Error("no signer")}catch(_){Z.success=!1,Z.message=_.message,A.sendResponse(Z)}}else P&&P.onDidSendMessage&&P.onDidSendMessage(H),H=(0,g.convertToVSCPaths)(H,!0),c.k.$acceptDAMessage(r,H)}),A.onError(H=>{P&&P.onError&&P.onError(H),this.k.$acceptDAError(r,H.name,H.message,H.stack)}),A.onExit(H=>{P&&P.onExit&&P.onExit((0,I.withNullAsUndefined)(H),void 0),this.k.$acceptDAExit(r,(0,I.withNullAsUndefined)(H),void 0)}),P&&P.onWillStartSession&&P.onWillStartSession(),A.startSession()))})}$sendDAMessage(r,u){u=(0,g.convertToDAPaths)(u,!1);const c=this.B.get(r);c&&c.onWillReceiveMessage&&c.onWillReceiveMessage(u),this.A.get(r)?.sendMessage(u)}$stopDASession(r){const u=this.B.get(r);this.B.delete(r),u&&u.onWillStopSession&&u.onWillStopSession();const c=this.A.get(r);return this.A.delete(r),c?c.stopSession():Promise.resolve(void 0)}$acceptBreakpointsDelta(r){const u=[],c=[],y=[];if(r.added)for(const n of r.added){const s=n.id;if(s&&!this.w.has(s)){let f;if(n.type==="function")f=new D.FunctionBreakpoint(n.functionName,n.enabled,n.condition,n.hitCondition,n.logMessage);else if(n.type==="data")f=new D.DataBreakpoint(n.label,n.dataId,n.canPersist,n.enabled,n.hitCondition,n.condition,n.logMessage);else{const A=N.URI.revive(n.uri);f=new D.SourceBreakpoint(new D.Location(A,new D.Position(n.line,n.character)),n.enabled,n.condition,n.hitCondition,n.logMessage)}(0,D.setBreakpointId)(f,s),this.w.set(s,f),u.push(f)}}if(r.removed)for(const n of r.removed){const s=this.w.get(n);s&&(this.w.delete(n),c.push(s))}if(r.changed){for(const n of r.changed)if(n.id){const s=this.w.get(n.id);if(s){if(s instanceof D.FunctionBreakpoint&&n.type==="function"){const f=s;f.enabled=n.enabled,f.condition=n.condition,f.hitCondition=n.hitCondition,f.logMessage=n.logMessage,f.functionName=n.functionName}else if(s instanceof D.SourceBreakpoint&&n.type==="source"){const f=s;f.enabled=n.enabled,f.condition=n.condition,f.hitCondition=n.hitCondition,f.logMessage=n.logMessage,f.location=new D.Location(N.URI.revive(n.uri),new D.Position(n.line,n.character))}y.push(s)}}}this.U(u,c,y)}$provideDebugConfigurations(r,u,c){return(0,i.asPromise)(async()=>{const y=this.O(r);if(!y)throw new Error("no DebugConfigurationProvider found");if(!y.provideDebugConfigurations)throw new Error("DebugConfigurationProvider has no method provideDebugConfigurations");const n=await this.W(u);return y.provideDebugConfigurations(n,c)}).then(y=>{if(!y)throw new Error("nothing returned from DebugConfigurationProvider.provideDebugConfigurations");return y})}$resolveDebugConfiguration(r,u,c,y){return(0,i.asPromise)(async()=>{const n=this.O(r);if(!n)throw new Error("no DebugConfigurationProvider found");if(!n.resolveDebugConfiguration)throw new Error("DebugConfigurationProvider has no method resolveDebugConfiguration");const s=await this.W(u);return n.resolveDebugConfiguration(s,c,y)})}$resolveDebugConfigurationWithSubstitutedVariables(r,u,c,y){return(0,i.asPromise)(async()=>{const n=this.O(r);if(!n)throw new Error("no DebugConfigurationProvider found");if(!n.resolveDebugConfigurationWithSubstitutedVariables)throw new Error("DebugConfigurationProvider has no method resolveDebugConfigurationWithSubstitutedVariables");const s=await this.W(u);return n.resolveDebugConfigurationWithSubstitutedVariables(s,c,y)})}async $provideDebugAdapter(r,u){const c=this.N(r);if(!c)return Promise.reject(new Error("no adapter descriptor factory found for handle"));const y=await this.V(u);return this.R(c,y).then(n=>{if(!n)throw new Error(`Couldn't find a debug adapter descriptor for debug type '${y.type}'`);return this.L(n)})}async $acceptDebugSessionStarted(r){const u=await this.V(r);this.m.fire(u)}async $acceptDebugSessionTerminated(r){const u=await this.V(r);u&&(this.n.fire(u),this.l.delete(u.id))}async $acceptDebugSessionActiveChanged(r){this.q=r?await this.V(r):void 0,this.o.fire(this.q)}async $acceptDebugSessionNameChanged(r,u){(await this.V(r))?._acceptNameChanged(u)}async $acceptDebugSessionCustomEvent(r,u){const y={session:await this.V(r),event:u.event,body:u.body};this.u.fire(y)}L(r){if(r instanceof D.DebugAdapterExecutable)return{type:"executable",command:r.command,args:r.args,options:r.options};if(r instanceof D.DebugAdapterServer)return{type:"server",port:r.port,host:r.host};if(r instanceof D.DebugAdapterNamedPipeServer)return{type:"pipeServer",path:r.path};if(r instanceof D.DebugAdapterInlineImplementation)return{type:"implementation",implementation:r.implementation};throw new Error("convertToDto unexpected type")}M(r){const u=this.h.filter(c=>c.type===r);if(u.length>0)return u[0].factory}N(r){const u=this.h.filter(c=>c.handle===r);if(u.length>0)return u[0].factory}O(r){const u=this.f.filter(c=>c.handle===r);if(u.length>0)return u[0].provider}P(r,u){if(r.contributes){const c=r.contributes.debuggers;if(c&&c.length>0){for(const y of c)if(y.label&&y.type&&y.type===u)return!0}}return!1}Q(r){const c=r.configuration.type,y=this.j.filter(n=>n.type===c||n.type==="*").map(n=>(0,i.asPromise)(()=>n.factory.createDebugAdapterTracker(r)).then(s=>s,s=>null));return Promise.race([Promise.all(y).then(n=>{const s=n.filter(f=>!!f);if(s.length>0)return new O(s)}),new Promise(n=>setTimeout(()=>n(void 0),1e3))]).catch(n=>{})}async R(r,u){const c=u.configuration.debugServer;if(typeof c=="number")return Promise.resolve(new D.DebugAdapterServer(c));if(r){const n=await this.E.getExtensionRegistry();return(0,i.asPromise)(()=>r.createDebugAdapterDescriptor(u,this.S(u,n))).then(s=>{if(s)return s})}const y=await this.E.getExtensionRegistry();return Promise.resolve(this.S(u,y))}S(r,u){}T(){this.y||(this.y=!0,this.k.$startBreakpointEvents())}U(r,u,c){(r.length>0||u.length>0||c.length>0)&&this.z.fire(Object.freeze({added:r,removed:u,changed:c}))}async V(r){if(r)if(typeof r=="string"){const u=this.l.get(r);if(u)return u}else{let u=this.l.get(r.id);if(!u){const c=await this.W(r.folderUri),y=r.parent?this.l.get(r.parent):void 0;u=new p(this.k,r.id,r.type,r.name,c,r.configuration,y),this.l.set(u.id,u),this.k.$sessionCached(u.id)}return u}throw new Error("cannot find session")}W(r){if(r){const u=N.URI.revive(r);return this.D.resolveWorkspaceFolder(u)}return Promise.resolve(void 0)}};l=qe([Ve(0,M.IExtHostRpcService),Ve(1,h.IExtHostWorkspace),Ve(2,k.IExtHostExtensionService),Ve(3,a.IExtHostConfiguration),Ve(4,S.IExtHostEditorTabs),Ve(5,o.IExtHostVariableResolverProvider)],l),e.ExtHostDebugServiceBase=l;class p{constructor(r,u,c,y,n,s,f){this.d=r,this.f=u,this.g=c,this.h=y,this.i=n,this.j=s,this.k=f}get id(){return this.f}get type(){return this.g}get name(){return this.h}set name(r){this.h=r,this.d.$setDebugSessionName(this.f,r)}get parentSession(){return this.k}_acceptNameChanged(r){this.h=r}get workspaceFolder(){return this.i}get configuration(){return this.j}customRequest(r,u){return this.d.$customDebugAdapterRequest(this.f,r,u)}getDebugProtocolBreakpoint(r){return this.d.$getDebugProtocolBreakpoint(this.f,r.id)}}e.ExtHostDebugSession=p;class w{constructor(r){this.value=Object.freeze({append(u){r.$appendDebugConsole(u)},appendLine(u){this.append(u+`
`)}})}}e.ExtHostDebugConsole=w;class O{constructor(r){this.d=r}onWillStartSession(){this.d.forEach(r=>r.onWillStartSession?r.onWillStartSession():void 0)}onWillReceiveMessage(r){this.d.forEach(u=>u.onWillReceiveMessage?u.onWillReceiveMessage(r):void 0)}onDidSendMessage(r){this.d.forEach(u=>u.onDidSendMessage?u.onDidSendMessage(r):void 0)}onWillStopSession(){this.d.forEach(r=>r.onWillStopSession?r.onWillStopSession():void 0)}onError(r){this.d.forEach(u=>u.onError?u.onError(r):void 0)}onExit(r,u){this.d.forEach(c=>c.onExit?c.onExit(r,u):void 0)}}class v extends b.AbstractDebugAdapter{constructor(r){super(),this.h=r,r.onDidSendMessage(u=>{this.acceptMessage(u)})}startSession(){return Promise.resolve(void 0)}sendMessage(r){this.h.handleMessage(r)}stopSession(){return this.h.dispose(),Promise.resolve(void 0)}}let t=class extends l{constructor(r,u,c,y,n,s){super(r,u,c,y,n,s)}};t=qe([Ve(0,M.IExtHostRpcService),Ve(1,h.IExtHostWorkspace),Ve(2,k.IExtHostExtensionService),Ve(3,a.IExtHostConfiguration),Ve(4,S.IExtHostEditorTabs),Ve(5,o.IExtHostVariableResolverProvider)],t),e.WorkerExtHostDebugService=t}),define(ke[250],Te([1,0,11,82,2,5,241,12,67,68,27,161,18,55,33,57]),function(ne,e,i,T,I,N,E,R,S,k,M,D,h,b,g,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionHostMain=void 0;class o{static async installEarlyHandler(w){const O=w.get(R.ILogService),t=w.get(h.IExtHostRpcService).getProxy(N.MainContext.MainThreadErrors);i.setUnexpectedErrorHandler(d=>{O.error(d);const r=i.transformErrorForSerialization(d);t.$onUnexpectedError(r)})}static async installFullHandler(w){const O=w.get(R.ILogService),v=w.get(h.IExtHostRpcService),t=w.get(g.IExtHostExtensionService),d=w.get(a.IExtHostTelemetry),r=v.getProxy(N.MainContext.MainThreadExtensionService),u=v.getProxy(N.MainContext.MainThreadErrors),c=await t.getExtensionPathIndex(),y=new WeakMap;Error.prepareStackTrace=(n,s)=>{let f="",A,P;for(const H of s)f+=`
	at ${H.toString()}`,P=H.getFileName(),!A&&P&&(A=c.findSubstr(I.URI.file(P)));return y.set(n,A?.identifier),`${n.name||"Error"}: ${n.message||""}${f}`},i.setUnexpectedErrorHandler(n=>{O.error(n);const s=i.transformErrorForSerialization(n),f=y.get(n);if(!f){u.$onUnexpectedError(s);return}r.$onExtensionRuntimeError(f,s);const A=d.onExtensionError(f,n);O.trace("forwarded error to extension?",A,f)})}}Error.stackTraceLimit=100;class l{constructor(w,O,v,t,d){this.a=v,this.b=new E.RPCProtocol(w,null,t),O=l.e(O,this.b);const r=new k.ServiceCollection(...(0,S.getSingletonServiceDescriptors)());r.set(M.IExtHostInitDataService,{_serviceBrand:void 0,...O,messagePorts:d}),r.set(h.IExtHostRpcService,new h.ExtHostRpcService(this.b)),r.set(b.IURITransformerService,new b.URITransformerService(t)),r.set(g.IHostUtils,v);const u=new D.InstantiationService(r,!0);u.invokeFunction(o.installEarlyHandler),this.d=u.invokeFunction(c=>c.get(R.ILogService)),T.mark("code/extHost/didCreateServices"),this.a.pid?this.d.info(`Extension host with pid ${this.a.pid} started`):this.d.info("Extension host started"),this.d.trace("initData",O),this.c=u.invokeFunction(c=>c.get(g.IExtHostExtensionService)),this.c.initialize(),u.invokeFunction(o.installFullHandler)}async asBrowserUri(w){const O=this.b.getProxy(N.MainContext.MainThreadExtensionService);return I.URI.revive(await O.$asBrowserUri(w))}terminate(w){this.c.terminate(w)}static e(w,O){w.allExtensions.forEach(t=>{t.extensionLocation=I.URI.revive(O.transformIncomingURIs(t.extensionLocation));const d={};t.browserNlsBundleUris&&(Object.keys(t.browserNlsBundleUris).forEach(r=>d[r]=I.URI.revive(O.transformIncomingURIs(t.browserNlsBundleUris[r]))),t.browserNlsBundleUris=d)}),w.environment.appRoot=I.URI.revive(O.transformIncomingURIs(w.environment.appRoot));const v=w.environment.extensionDevelopmentLocationURI;return v&&(w.environment.extensionDevelopmentLocationURI=v.map(t=>I.URI.revive(O.transformIncomingURIs(t)))),w.environment.extensionTestsLocationURI=I.URI.revive(O.transformIncomingURIs(w.environment.extensionTestsLocationURI)),w.environment.globalStorageHome=I.URI.revive(O.transformIncomingURIs(w.environment.globalStorageHome)),w.environment.workspaceStorageHome=I.URI.revive(O.transformIncomingURIs(w.environment.workspaceStorageHome)),w.environment.extensionTelemetryLogResource=I.URI.revive(O.transformIncomingURIs(w.environment.extensionTelemetryLogResource)),w.nlsBaseUrl=I.URI.revive(O.transformIncomingURIs(w.nlsBaseUrl)),w.logsLocation=I.URI.revive(O.transformIncomingURIs(w.logsLocation)),w.logFile=I.URI.revive(O.transformIncomingURIs(w.logFile)),w.workspace=O.transformIncomingURIs(w.workspace),w}}e.ExtensionHostMain=l}),define(ke[251],Te([1,0,16,17,21,39,15,19,24,2,47]),function(ne,e,i,T,I,N,E,R,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BatchedCollector=e.extensionResultIsMatch=e.TextSearchResultsCollector=e.TextSearchManager=void 0;class D{constructor(p,w,O,v){this.d=p,this.e=w,this.f=O,this.g=v,this.a=null,this.b=!1,this.c=0}search(p,w){const O=this.d.folderQueries||[],v=new I.CancellationTokenSource;return w.onCancellationRequested(()=>v.cancel()),new Promise((t,d)=>{this.a=new b(p);let r=!1;const u=(c,y)=>{if(!r&&!this.b){const n=this.h(c);a(c)&&typeof this.d.maxResults=="number"&&this.c+n>this.d.maxResults&&(this.b=!0,r=!0,v.cancel(),c=this.j(c,this.d.maxResults-this.c));const s=this.h(c);this.c+=s,(s>0||!a(c))&&this.a.add(c,y)}};Promise.all(O.map((c,y)=>this.k(c,n=>u(n,y),v.token))).then(c=>{v.dispose(),this.a.flush();const y=c.some(n=>!!n&&!!n.limitHit);t({limitHit:this.b||y,messages:(0,i.flatten)(c.map(n=>n?.message?Array.isArray(n.message)?n.message:[n.message]:[])),stats:{type:this.g}})},c=>{v.dispose();const y=(0,N.toErrorMessage)(c);d(new Error(y))})})}h(p){return a(p)?Array.isArray(p.ranges)?p.ranges.length:1:0}j(p,w){const O=Array.isArray(p.ranges)?p.ranges:[p.ranges],v=Array.isArray(p.preview.matches)?p.preview.matches:[p.preview.matches];return{ranges:O.slice(0,w),preview:{matches:v.slice(0,w),text:p.preview.text},uri:p.uri}}async k(p,w,O){const v=new M.QueryGlobTester(this.d,p),t=[],d={report:c=>{if(!this.l(c))return;const y=p.folder.scheme===E.Schemas.file?(0,M.hasSiblingPromiseFn)(()=>this.f.readdir(S.dirname(c.uri))):void 0,n=S.relativePath(p.folder,c.uri);if(n){const s=v.includedInQuery(n,R.basename(n),y);(0,T.isThenable)(s)?t.push(s.then(f=>{f&&w(c)})):s&&w(c)}}},r=this.n(p),u=await this.e.provideTextSearchResults(h(this.d.contentPattern),r,d,O);return t.length&&await Promise.all(t),u}l(p){if(a(p)){if(Array.isArray(p.ranges)){if(!Array.isArray(p.preview.matches))return console.warn("INVALID - A text search provider match's`ranges` and`matches` properties must have the same type."),!1;if(p.preview.matches.length!==p.ranges.length)return console.warn("INVALID - A text search provider match's`ranges` and`matches` properties must have the same length."),!1}else if(Array.isArray(p.preview.matches))return console.warn("INVALID - A text search provider match's`ranges` and`matches` properties must have the same length."),!1}return!0}n(p){const w=(0,M.resolvePatternsForProvider)(this.d.includePattern,p.includePattern),O=(0,M.resolvePatternsForProvider)(this.d.excludePattern,p.excludePattern),v={folder:k.URI.from(p.folder),excludes:O,includes:w,useIgnoreFiles:!p.disregardIgnoreFiles,useGlobalIgnoreFiles:!p.disregardGlobalIgnoreFiles,useParentIgnoreFiles:!p.disregardParentIgnoreFiles,followSymlinks:!p.ignoreSymlinks,encoding:p.fileEncoding&&this.f.toCanonicalName(p.fileEncoding),maxFileSize:this.d.maxFileSize,maxResults:this.d.maxResults,previewOptions:this.d.previewOptions,afterContext:this.d.afterContext,beforeContext:this.d.beforeContext};return v.usePCRE2=this.d.usePCRE2,v}}e.TextSearchManager=D;function h(l){return{isCaseSensitive:l.isCaseSensitive||!1,isRegExp:l.isRegExp||!1,isWordMatch:l.isWordMatch||!1,isMultiline:l.isMultiline||!1,pattern:l.pattern}}class b{constructor(p){this.e=p,this.b=-1,this.d=null,this.a=new o(512,w=>this.g(w))}add(p,w){this.d&&(this.b!==w||!S.isEqual(this.c,p.uri))&&(this.f(),this.d=null),this.d||(this.b=w,this.d={resource:p.uri,results:[]}),this.d.results.push(g(p))}f(){const p=this.d&&this.d.results?this.d.results.length:0;this.a.addItem(this.d,p)}flush(){this.f(),this.a.flush()}g(p){this.e(p)}}e.TextSearchResultsCollector=b;function g(l){return a(l)?{preview:{matches:(0,i.mapArrayOrNot)(l.preview.matches,p=>({startLineNumber:p.start.line,startColumn:p.start.character,endLineNumber:p.end.line,endColumn:p.end.character})),text:l.preview.text},ranges:(0,i.mapArrayOrNot)(l.ranges,p=>({startLineNumber:p.start.line,startColumn:p.start.character,endLineNumber:p.end.line,endColumn:p.end.character}))}:{text:l.text,lineNumber:l.lineNumber}}function a(l){return!!l.preview}e.extensionResultIsMatch=a;class o{constructor(p,w){this.g=p,this.h=w,this.c=0,this.d=[],this.e=0}addItem(p,w){!p||this.j(p,w)}addItems(p,w){!p||this.k(p,w)}j(p,w){this.d.push(p),this.e+=w,this.l()}k(p,w){this.d=this.d.concat(p),this.e+=w,this.l()}l(){this.c<o.b?this.flush():this.e>=this.g?this.flush():this.f||(this.f=setTimeout(()=>{this.flush()},o.a))}flush(){this.e&&(this.c+=this.e,this.h(this.d),this.d=[],this.e=0,this.f&&(clearTimeout(this.f),this.f=0))}}o.a=4e3,o.b=50,e.BatchedCollector=o}),define(ke[110],Te([1,0,6,5,3,246,18,55,12,2,251]),function(ne,e,i,T,I,N,E,R,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.reviveQuery=e.ExtHostSearch=e.IExtHostSearch=void 0,e.IExtHostSearch=(0,I.createDecorator)("IExtHostSearch");let D=class{constructor(a,o,l){this.k=a,this.l=o,this.n=l,this.c=this.k.getProxy(T.MainContext.MainThreadSearch),this.d=0,this.e=new Map,this.g=new Set,this.h=new Map,this.i=new Set,this.j=new N.FileSearchManager}o(a){return this.l.transformOutgoingScheme(a)}registerTextSearchProvider(a,o){if(this.g.has(a))throw new Error(`a text search provider for the scheme '${a}' is already registered`);this.g.add(a);const l=this.d++;return this.e.set(l,o),this.c.$registerTextSearchProvider(l,this.o(a)),(0,i.toDisposable)(()=>{this.g.delete(a),this.e.delete(l),this.c.$unregisterProvider(l)})}registerFileSearchProvider(a,o){if(this.i.has(a))throw new Error(`a file search provider for the scheme '${a}' is already registered`);this.i.add(a);const l=this.d++;return this.h.set(l,o),this.c.$registerFileSearchProvider(l,this.o(a)),(0,i.toDisposable)(()=>{this.i.delete(a),this.h.delete(l),this.c.$unregisterProvider(l)})}$provideFileSearchResults(a,o,l,p){const w=h(l),O=this.h.get(a);if(O)return this.j.fileSearch(w,O,v=>{this.c.$handleFileMatch(a,o,v.map(t=>t.resource))},p);throw new Error("unknown provider: "+a)}$clearCache(a){return this.j.clearCache(a),Promise.resolve(void 0)}$provideTextSearchResults(a,o,l,p){const w=this.e.get(a);if(!w||!w.provideTextSearchResults)throw new Error(`Unknown provider ${a}`);const O=h(l);return this.q(O,w).search(t=>this.c.$handleTextMatch(a,o,t),p)}$enableExtensionHostSearch(){}q(a,o){return new M.TextSearchManager(a,o,{readdir:l=>Promise.resolve([]),toCanonicalName:l=>l},"textSearchProvider")}};D=qe([Ve(0,E.IExtHostRpcService),Ve(1,R.IURITransformerService),Ve(2,S.ILogService)],D),e.ExtHostSearch=D;function h(g){return{...g,folderQueries:g.folderQueries&&g.folderQueries.map(b),extraFileResources:g.extraFileResources&&g.extraFileResources.map(a=>k.URI.revive(a))}}e.reviveQuery=h;function b(g){return{...g,folder:k.URI.revive(g.folder)}}}),define(ke[252],Te([1,0,67,105,31,103,32,37,58,61,107,109,110,80,70,76,104,60,36,79,57,59,221,12,177,108,78]),function(ne,e,i,T,I,N,E,R,S,k,M,D,h,b,g,a,o,l,p,w,O,v,t,d,r,u,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,i.registerSingleton)(c.IExtHostLocalizationService,c.ExtHostLocalizationService,1),(0,i.registerSingleton)(d.ILoggerService,t.ExtHostLoggerService,1),(0,i.registerSingleton)(d.ILogService,r.ExtHostLogService,1),(0,i.registerSingleton)(a.IExtHostApiDeprecationService,a.ExtHostApiDeprecationService,1),(0,i.registerSingleton)(R.IExtHostCommands,R.ExtHostCommands,0),(0,i.registerSingleton)(E.IExtHostConfiguration,E.ExtHostConfiguration,0),(0,i.registerSingleton)(l.IExtHostConsumerFileSystem,l.ExtHostConsumerFileSystem,0),(0,i.registerSingleton)(D.IExtHostDebugService,D.WorkerExtHostDebugService,0),(0,i.registerSingleton)(N.IExtHostDecorations,N.ExtHostDecorations,0),(0,i.registerSingleton)(S.IExtHostDocumentsAndEditors,S.ExtHostDocumentsAndEditors,0),(0,i.registerSingleton)(p.IExtHostFileSystemInfo,p.ExtHostFileSystemInfo,0),(0,i.registerSingleton)(T.IExtHostOutputService,T.ExtHostOutputService,1),(0,i.registerSingleton)(h.IExtHostSearch,h.ExtHostSearch,0),(0,i.registerSingleton)(b.IExtHostStorage,b.ExtHostStorage,0),(0,i.registerSingleton)(M.IExtHostTask,M.WorkerExtHostTask,0),(0,i.registerSingleton)(k.IExtHostTerminalService,k.WorkerExtHostTerminalService,0),(0,i.registerSingleton)(g.IExtHostTunnelService,g.ExtHostTunnelService,0),(0,i.registerSingleton)(o.IExtHostWindow,o.ExtHostWindow,0),(0,i.registerSingleton)(I.IExtHostWorkspace,I.ExtHostWorkspace,0),(0,i.registerSingleton)(w.IExtHostSecretState,w.ExtHostSecretState,0),(0,i.registerSingleton)(O.IExtHostTelemetry,O.ExtHostTelemetry,0),(0,i.registerSingleton)(v.IExtHostEditorTabs,v.ExtHostEditorTabs,0),(0,i.registerSingleton)(u.IExtHostVariableResolverProvider,u.ExtHostVariableResolverProviderService,0)}),define(ke[253],Te([1,0]),function(ne,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TreeviewsService=void 0;class i{constructor(){this.a=new Map,this.b=new Map}removeDragOperationTransfer(I){if(I&&this.a.has(I)){const N=this.a.get(I);return this.a.delete(I),N}}addDragOperationTransfer(I,N){this.a.set(I,N)}getRenderedTreeElement(I){if(this.b.has(I))return this.b.get(I)}addRenderedTreeItemElement(I,N){this.b.set(I,N)}removeRenderedTreeItemElement(I){this.b.has(I)&&this.b.delete(I)}}e.TreeviewsService=i}),define(ke[254],Te([1,0,145,7,24,2,4,6,182,17,7,9,16,8,21,253,25]),function(ne,e,i,T,I,N,E,R,S,k,M,D,h,b,g,a,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostTreeViews=void 0;function l(O,v){if((0,D.isString)(O))return{label:O};if(O&&typeof O=="object"&&typeof O.label=="string"){let t;return Array.isArray(O.highlights)&&(t=O.highlights.filter(d=>d.length===2&&typeof d[0]=="number"&&typeof d[1]=="number"),t=t.length?t:void 0),{label:O.label,highlights:t}}}class p{constructor(v,t,d){this.d=v,this.e=t,this.f=d,this.a=new Map,this.b=new a.TreeviewsService;function r(u){return u&&u.$treeViewId&&(u.$treeItemHandle||u.$selectedTreeItems||u.$focusedTreeItem)}t.registerArgumentProcessor({processArgument:u=>r(u)?this.i(u):Array.isArray(u)&&u.length>0?u.map(c=>r(c)?this.i(c):c):u})}registerTreeDataProvider(v,t,d){const r=this.createTreeView(v,{treeDataProvider:t},d);return{dispose:()=>r.dispose()}}createTreeView(v,t,d){if(!t||!t.treeDataProvider)throw new Error("Options with treeDataProvider is mandatory");const r=t.dragAndDropController?.dropMimeTypes??[],u=t.dragAndDropController?.dragMimeTypes??[],c=!!t.dragAndDropController?.handleDrag,y=!!t.dragAndDropController?.handleDrop,n=this.h(v,t,d),s=this.d.$registerTreeViewDataProvider(v,{showCollapseAll:!!t.showCollapseAll,canSelectMany:!!t.canSelectMany,dropMimeTypes:r,dragMimeTypes:u,hasHandleDrag:c,hasHandleDrop:y});return{get onDidCollapseElement(){return n.onDidCollapseElement},get onDidExpandElement(){return n.onDidExpandElement},get selection(){return n.selectedElements},get onDidChangeSelection(){return n.onDidChangeSelection},get visible(){return n.visible},get onDidChangeVisibility(){return n.onDidChangeVisibility},get onDidChangeCheckboxState(){return(0,o.checkProposedApiEnabled)(d,"treeItemCheckbox"),n.onDidChangeCheckboxState},get message(){return n.message},set message(f){n.message=f},get title(){return n.title},set title(f){n.title=f},get description(){return n.description},set description(f){n.description=f},get badge(){return n.badge},set badge(f){f!==void 0&&M.ViewBadge.isViewBadge(f)?n.badge={value:Math.floor(Math.abs(f.value)),tooltip:f.tooltip}:f===void 0&&(n.badge=void 0)},reveal:(f,A)=>n.reveal(f,A),dispose:async()=>{await s,this.a.delete(v),n.dispose()}}}$getChildren(v,t){const d=this.a.get(v);return d?d.getChildren(t):Promise.reject(new S.NoTreeViewError(v))}async $handleDrop(v,t,d,r,u,c,y,n){const s=this.a.get(v);if(!s)return Promise.reject(new S.NoTreeViewError(v));const f=b.DataTransfer.toDataTransfer(d,async A=>(await this.d.$resolveDropFileData(v,t,A)).buffer);return y===v&&n&&await this.g(f,s,n,u,c),s.onDrop(f,r,u)}async g(v,t,d,r,u){const c=this.b.removeDragOperationTransfer(u);if(c)(await c)?.forEach((y,n)=>{y&&v.set(n,y)});else if(u&&t.handleDrag){const y=t.handleDrag(d,v,r);this.b.addDragOperationTransfer(u,y),await y}return v}async $handleDrag(v,t,d,r){const u=this.a.get(v);if(!u)return Promise.reject(new S.NoTreeViewError(v));const c=await this.g(new T.DataTransfer,u,t,r,d);if(!!c)return b.DataTransfer.toDataTransferDTO(c)}async $hasResolve(v){const t=this.a.get(v);if(!t)throw new S.NoTreeViewError(v);return t.hasResolve}$resolve(v,t,d){const r=this.a.get(v);if(!r)throw new S.NoTreeViewError(v);return r.resolveTreeItem(t,d)}$setExpanded(v,t,d){const r=this.a.get(v);if(!r)throw new S.NoTreeViewError(v);r.setExpanded(t,d)}$setSelection(v,t){const d=this.a.get(v);if(!d)throw new S.NoTreeViewError(v);d.setSelection(t)}$setFocus(v,t){const d=this.a.get(v);if(!d)throw new S.NoTreeViewError(v);d.setFocus(t)}$setVisible(v,t){const d=this.a.get(v);if(!d)throw new S.NoTreeViewError(v);d.setVisible(t)}$changeCheckboxState(v,t){const d=this.a.get(v);if(!d)throw new S.NoTreeViewError(v);d.setCheckboxState(t)}h(v,t,d){const r=new w(v,t,this.d,this.e.converter,this.f,d);return this.a.set(v,r),r}i(v){const t=this.a.get(v.$treeViewId);return t&&"$treeItemHandle"in v?t.getExtensionElement(v.$treeItemHandle):t&&"$focusedTreeItem"in v&&v.$focusedTreeItem?t.focusedElement:null}}e.ExtHostTreeViews=p;class w extends R.Disposable{get visible(){return this.k}get selectedElements(){return this.l.map(v=>this.getExtensionElement(v)).filter(v=>!(0,D.isUndefinedOrNull)(v))}get focusedElement(){return this.m?this.getExtensionElement(this.m):void 0}constructor(v,t,d,r,u,c){if(super(),this.C=v,this.D=d,this.F=r,this.G=u,this.H=c,this.h=void 0,this.i=new Map,this.j=new Map,this.k=!1,this.l=[],this.m=void 0,this.r=this.B(new E.Emitter),this.onDidExpandElement=this.r.event,this.s=this.B(new E.Emitter),this.onDidCollapseElement=this.s.event,this.t=this.B(new E.Emitter),this.onDidChangeSelection=this.t.event,this.u=this.B(new E.Emitter),this.onDidChangeVisibility=this.u.event,this.v=this.B(new E.Emitter),this.onDidChangeCheckboxState=this.v.event,this.w=this.B(new E.Emitter),this.y=Promise.resolve(),this.z=Promise.resolve(),this.I="",this.J="",this.S=new g.CancellationTokenSource,c.contributes&&c.contributes.views)for(const s in c.contributes.views)for(const f of c.contributes.views[s])f.id===v&&(this.J=f.name);this.f=t.treeDataProvider,this.g=t.dragAndDropController,this.f.onDidChangeTreeData&&this.B(this.f.onDidChangeTreeData(s=>this.w.fire({message:!1,element:s})));let y,n;this.B(E.Event.debounce(this.w.event,(s,f)=>(s||(s={message:!1,elements:[]}),f.element!==!1&&(y||(y=new Promise(A=>n=A),this.y=this.y.then(()=>y)),Array.isArray(f.element)?s.elements.push(...f.element):s.elements.push(f.element)),f.message&&(s.message=!0),s),200,!0)(({message:s,elements:f})=>{f.length&&(this.z=this.z.then(()=>{const A=n;return y=null,this.U(f).then(()=>A())})),s&&this.D.$setMessage(this.C,this.I)}))}async getChildren(v){const t=v?this.getExtensionElement(v):void 0;if(v&&!t)return this.G.error(`No tree item with id '${v}' found.`),Promise.resolve([]);let d=this.Q(v);return d||(d=await this.R(t)),d?d.map(r=>r.item):void 0}getExtensionElement(v){return this.i.get(v)}reveal(v,t){t=t||{select:!0,focus:!1};const d=(0,D.isUndefinedOrNull)(t.select)?!0:t.select,r=(0,D.isUndefinedOrNull)(t.focus)?!1:t.focus,u=(0,D.isUndefinedOrNull)(t.expand)?!1:t.expand;return typeof this.f.getParent!="function"?Promise.reject(new Error("Required registered TreeDataProvider to implement 'getParent' method to access 'reveal' method")):v?this.y.then(()=>this.N(v)).then(c=>this.P(v,c[c.length-1]).then(y=>this.D.$reveal(this.C,{item:y.item,parentChain:c.map(n=>n.item)},{select:d,focus:r,expand:u})),c=>this.G.error(c)):this.D.$reveal(this.C,void 0,{select:d,focus:r,expand:u})}get message(){return this.I}set message(v){this.I=v,this.w.fire({message:!0,element:!1})}get title(){return this.J}set title(v){this.J=v,this.D.$setTitle(this.C,v,this.L)}get description(){return this.L}set description(v){this.L=v,this.D.$setTitle(this.C,this.J,v)}get badge(){return this.M}set badge(v){this.M?.value===v?.value&&this.M?.tooltip===v?.tooltip||(this.M=b.ViewBadge.from(v),this.D.$setBadge(this.C,v))}setExpanded(v,t){const d=this.getExtensionElement(v);d&&(t?this.r.fire(Object.freeze({element:d})):this.s.fire(Object.freeze({element:d})))}setSelection(v){(0,h.equals)(this.l,v)||(this.l=v,this.t.fire(Object.freeze({selection:this.selectedElements})))}setFocus(v){this.m=v}setVisible(v){v!==this.k&&(this.k=v,this.u.fire(Object.freeze({visible:this.k})))}async setCheckboxState(v){const t=(await Promise.all(v.map(async d=>{const r=this.getExtensionElement(d.treeItemHandle);return r?{extensionItem:r,treeItem:await this.f.getTreeItem(r),newState:d.newState?M.TreeItemCheckboxState.Checked:M.TreeItemCheckboxState.Unchecked}:Promise.resolve(void 0)}))).filter(d=>d!==void 0);t.forEach(d=>{d.treeItem.checkboxState=d.newState?M.TreeItemCheckboxState.Checked:M.TreeItemCheckboxState.Unchecked}),this.v.fire({items:t.map(d=>[d.extensionItem,d.newState])})}async handleDrag(v,t,d){const r=[];for(const u of v){const c=this.getExtensionElement(u);c&&r.push(c)}if(!(!this.g?.handleDrag||r.length===0))return await this.g.handleDrag(r,t,d),t}get hasHandleDrag(){return!!this.g?.handleDrag}async onDrop(v,t,d){const r=t?this.getExtensionElement(t):void 0;if(!(!r&&t||!this.g?.handleDrop))return(0,k.asPromise)(()=>this.g?.handleDrop?this.g.handleDrop(r,v,d):void 0)}get hasResolve(){return!!this.f.resolveTreeItem}async resolveTreeItem(v,t){if(!this.f.resolveTreeItem)return;const d=this.i.get(v);if(d){const r=this.j.get(d);if(r){const u=await this.f.resolveTreeItem(r.extensionItem,d,t)??r.extensionItem;return this.db(u),r.item.tooltip=this.ab(u.tooltip),r.item.command=this.bb(r.disposableStore,u.command),r.item}}}N(v){return this.O(v).then(t=>t?this.N(t).then(d=>this.P(t,d[d.length-1]).then(r=>(d.push(r),d))):Promise.resolve([]))}O(v){const t=this.j.get(v);return t?Promise.resolve(t.parent?this.i.get(t.parent.item.handle):void 0):(0,k.asPromise)(()=>this.f.getParent(v))}P(v,t){const d=this.j.get(v);return d?Promise.resolve(d):(0,k.asPromise)(()=>this.f.getTreeItem(v)).then(r=>this.gb(v,r,t,!0)).then(r=>this.getChildren(t?t.item.handle:void 0).then(()=>{const u=this.getExtensionElement(r);if(u){const c=this.j.get(u);if(c)return Promise.resolve(c)}throw new Error(`Cannot resolve tree item for element ${r}`)}))}Q(v){if(v){let t;if(typeof v=="string"){const d=this.getExtensionElement(v);t=d?this.j.get(d):void 0}else t=v;return t&&t.children||void 0}return this.h}async R(v){this.nb(v);const t=new g.CancellationTokenSource(this.S.token);try{const d=v?this.j.get(v):void 0,r=await this.f.getChildren(v);if(t.token.isCancellationRequested)return;const u=await Promise.all((0,h.coalesce)(r||[]).map(async c=>{const y=await this.f.getTreeItem(c);return y&&!t.token.isCancellationRequested?this.Z(c,y,d):null}));return t.token.isCancellationRequested?void 0:(0,h.coalesce)(u)}finally{t.dispose()}}U(v){if(v.some(d=>!d))return this.S.dispose(!0),this.S=new g.CancellationTokenSource,this.pb(),this.D.$refresh(this.C);{const d=this.W(v);if(d.length)return this.X(d)}return Promise.resolve(void 0)}W(v){const t=new Set,d=v.map(u=>this.j.get(u));for(const u of d)if(u&&!t.has(u.item.handle)){let c=u;for(;c&&c.parent&&d.findIndex(y=>c&&c.parent&&y&&y.item.handle===c.parent.item.handle)===-1;){const y=this.i.get(c.parent.item.handle);c=y?this.j.get(y):void 0}c&&!c.parent&&t.add(u.item.handle)}const r=[];return t.forEach(u=>{const c=this.i.get(u);if(c){const y=this.j.get(c);y&&(!y.parent||!t.has(y.parent.item.handle))&&r.push(u)}}),r}X(v){const t={};return Promise.all(v.map(d=>this.Y(d).then(r=>{r&&(t[d]=r.item)}))).then(()=>Object.keys(t).length?this.D.$refresh(this.C,t):void 0)}Y(v){const t=this.getExtensionElement(v);if(t){const d=this.j.get(t);if(d)return this.nb(t),(0,k.asPromise)(()=>this.f.getTreeItem(t)).then(r=>{if(r){const u=this.eb(t,r,d.parent);return this.lb(t,u,d,d.parent),d.dispose(),u}return null})}return Promise.resolve(null)}Z(v,t,d){const r=this.eb(v,t,d);if(t.id&&this.i.has(r.item.handle))throw new Error((0,i.localize)(0,null,t.id));return this.kb(v,r),this.mb(r,d),r}ab(v){return M.MarkdownString.isMarkdownString(v)?b.MarkdownString.from(v):v}bb(v,t){return t?{...this.F.toInternal(t,v),originalId:t.command}:void 0}cb(v){if(!v.checkboxState)return;let t,d;return typeof v.checkboxState=="number"?t=v.checkboxState:(t=v.checkboxState.state,d=v.checkboxState.tooltip),{isChecked:t===M.TreeItemCheckboxState.Checked,tooltip:d}}db(v){if(!M.TreeItem.isTreeItem(v,this.H))throw new Error(`Extension ${this.H.identifier.value} has provided an invalid tree item.`)}eb(v,t,d){this.db(t);const r=new R.DisposableStore,u=this.gb(v,t,d),c=this.hb(t);return{item:{handle:u,parentHandle:d?d.item.handle:void 0,label:l(t.label,this.H),description:t.description,resourceUri:t.resourceUri,tooltip:this.ab(t.tooltip),command:this.bb(r,t.command),contextValue:t.contextValue,icon:c,iconDark:this.ib(t)||c,themeIcon:this.fb(t),collapsibleState:(0,D.isUndefinedOrNull)(t.collapsibleState)?M.TreeItemCollapsibleState.None:t.collapsibleState,accessibilityInformation:t.accessibilityInformation,checkbox:this.cb(t)},extensionItem:t,parent:d,children:void 0,disposableStore:r,dispose(){r.dispose()}}}fb(v){return v.iconPath instanceof M.ThemeIcon?v.iconPath:void 0}gb(v,{id:t,label:d,resourceUri:r},u,c){if(t)return`${w.b}/${t}`;const y=l(d,this.H),n=u?u.item.handle:w.a;let s=y?y.label:r?(0,I.basename)(r):"";s=s.indexOf("/")!==-1?s.replace("/","//"):s;const f=this.j.has(v)?this.j.get(v).item.handle:void 0,A=this.Q(u)||[];let P,H=0;do{if(P=`${n}/${H}:${s}`,c||!this.i.has(P)||f===P)break;H++}while(H<=A.length);return P}hb(v){if(v.iconPath&&!(v.iconPath instanceof M.ThemeIcon))return typeof v.iconPath=="string"||N.URI.isUri(v.iconPath)?this.jb(v.iconPath):this.jb(v.iconPath.light)}ib(v){if(v.iconPath&&!(v.iconPath instanceof M.ThemeIcon)&&v.iconPath.dark)return this.jb(v.iconPath.dark)}jb(v){return N.URI.isUri(v)?v:N.URI.file(v)}kb(v,t){this.i.set(t.item.handle,v),this.j.set(v,t)}lb(v,t,d,r){this.i.delete(t.item.handle),this.j.delete(v),t.item.handle!==d.item.handle&&this.i.delete(d.item.handle),this.kb(v,t);const u=this.Q(r)||[],c=u.filter(y=>y.item.handle===d.item.handle)[0];c&&u.splice(u.indexOf(c),1,t)}mb(v,t){t?(t.children||(t.children=[]),t.children.push(v)):(this.h||(this.h=[]),this.h.push(v))}nb(v){if(v){const t=this.j.get(v);if(t){if(t.children)for(const d of t.children){const r=this.i.get(d.item.handle);r&&this.ob(r)}t.children=void 0}}else this.pb()}ob(v){const t=this.j.get(v);if(t){if(t.children)for(const d of t.children){const r=this.i.get(d.item.handle);r&&this.ob(r)}this.j.delete(v),this.i.delete(t.item.handle),t.dispose()}}pb(){this.h=void 0,this.i.clear(),this.j.forEach(v=>v.dispose()),this.j.clear()}dispose(){this.S.dispose(),this.pb(),this.D.$disposeTree(this.C)}}w.a="0",w.b="1"}),define(ke[255],Te([1,0,21,11,4,29,2,130,264,118,128,43,5,74,208,207,37,209,32,211,212,213,196,214,58,33,215,216,219,220,222,105,199,228,229,230,80,61,233,254,8,7,52,236,62,104,31,188,218,50,103,107,109,110,12,55,18,27,223,194,70,76,205,234,81,60,239,237,238,206,36,231,235,79,59,57,224,106,225,15,92,198,179,217,6,25,184,78,175,226,227]),function(ne,e,i,T,I,N,E,R,S,k,M,D,h,b,g,a,o,l,p,w,O,v,t,d,r,u,c,y,n,s,f,A,P,H,Y,Z,_,j,L,m,F,B,J,me,te,oe,ce,we,q,K,X,de,ye,Fe,ze,Pe,Ie,Se,ae,le,ee,C,$,W,V,ie,fe,De,ue,ve,be,He,je,it,Xe,et,nt,Ne,rt,G,Q,pe,We,$e,Qe,xe,tt,at,Et,Ct,It){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createApiFactoryAndRegisterActors=void 0;function Dt(ut){const ft=ut.get(Se.IExtHostInitDataService),xt=ut.get(be.IExtHostFileSystemInfo),Vt=ut.get(ie.IExtHostConsumerFileSystem),kt=ut.get(u.IExtHostExtensionService),ht=ut.get(ce.IExtHostWorkspace),Tt=ut.get(et.IExtHostTelemetry),$t=ut.get(p.IExtHostConfiguration),At=ut.get(Pe.IURITransformerService),Ge=ut.get(Ie.IExtHostRpcService),Ft=ut.get(_.IExtHostStorage),Kt=ut.get(V.IExtensionStoragePaths),Nt=ut.get(ze.ILoggerService),mt=ut.get(ze.ILogService),Ce=ut.get(ee.IExtHostTunnelService),Ae=ut.get(C.IExtHostApiDeprecationService),ge=ut.get(oe.IExtHostWindow),x=ut.get(it.IExtHostSecretState),Re=ut.get(Xe.IExtHostEditorTabs);Ge.set(h.ExtHostContext.ExtHostFileSystemInfo,xt),Ge.set(h.ExtHostContext.ExtHostLogLevelServiceShape,Nt),Ge.set(h.ExtHostContext.ExtHostWorkspace,ht),Ge.set(h.ExtHostContext.ExtHostConfiguration,$t),Ge.set(h.ExtHostContext.ExtHostExtensionService,kt),Ge.set(h.ExtHostContext.ExtHostStorage,Ft),Ge.set(h.ExtHostContext.ExtHostTunnelService,Ce),Ge.set(h.ExtHostContext.ExtHostWindow,ge),Ge.set(h.ExtHostContext.ExtHostSecretState,x),Ge.set(h.ExtHostContext.ExtHostTelemetry,Tt),Ge.set(h.ExtHostContext.ExtHostEditorTabs,Re);const Ue=Ge.set(h.ExtHostContext.ExtHostDecorations,ut.get(X.IExtHostDecorations)),Ye=Ge.set(h.ExtHostContext.ExtHostDocumentsAndEditors,ut.get(r.IExtHostDocumentsAndEditors)),Be=Ge.set(h.ExtHostContext.ExtHostCommands,ut.get(o.IExtHostCommands)),Ze=Ge.set(h.ExtHostContext.ExtHostTerminalService,ut.get(j.IExtHostTerminalService)),ct=Ge.set(h.ExtHostContext.ExtHostDebugService,ut.get(ye.IExtHostDebugService)),Pt=Ge.set(h.ExtHostContext.ExtHostSearch,ut.get(Fe.IExtHostSearch)),vt=Ge.set(h.ExtHostContext.ExtHostTask,ut.get(de.IExtHostTask)),wt=Ge.set(h.ExtHostContext.ExtHostOutputService,ut.get(A.IExtHostOutputService)),pt=Ge.set(h.ExtHostContext.ExtHostLocalization,ut.get(at.IExtHostLocalizationService)),Rt=Ge.set(h.ExtHostContext.ExtHostUrls,new me.ExtHostUrls(Ge)),bt=Ge.set(h.ExtHostContext.ExtHostDocuments,new d.ExtHostDocuments(Ge,Ye)),ri=Ge.set(h.ExtHostContext.ExtHostDocumentContentProviders,new v.ExtHostDocumentContentProvider(Ge,Ye,mt)),ei=Ge.set(h.ExtHostContext.ExtHostDocumentSaveParticipant,new t.ExtHostDocumentSaveParticipant(mt,bt,Ge.getProxy(h.MainContext.MainThreadBulkEdits))),St=Ge.set(h.ExtHostContext.ExtHostNotebook,new ae.ExtHostNotebookController(Ge,Be,Ye,bt)),si=Ge.set(h.ExtHostContext.ExtHostNotebookDocuments,new We.ExtHostNotebookDocuments(St)),oi=Ge.set(h.ExtHostContext.ExtHostNotebookEditors,new pe.ExtHostNotebookEditors(mt,St)),_t=Ge.set(h.ExtHostContext.ExtHostNotebookKernels,new nt.ExtHostNotebookKernels(Ge,ft,St,Be,mt)),vi=Ge.set(h.ExtHostContext.ExtHostNotebookRenderers,new rt.ExtHostNotebookRenderers(Ge,St)),Ot=Ge.set(h.ExtHostContext.ExtHostEditors,new L.ExtHostEditors(Ge,Ye)),zt=Ge.set(h.ExtHostContext.ExtHostTreeViews,new m.ExtHostTreeViews(Ge.getProxy(h.MainContext.MainThreadTreeViews),Be,mt)),bi=Ge.set(h.ExtHostContext.ExtHostEditorInsets,new we.ExtHostEditorInsets(Ge.getProxy(h.MainContext.MainThreadEditorInsets),Ot,ft.remote)),ai=Ge.set(h.ExtHostContext.ExtHostDiagnostics,new w.ExtHostDiagnostics(Ge,mt,xt,Ye)),Jt=Ge.set(h.ExtHostContext.ExtHostLanguages,new s.ExtHostLanguages(Ge,bt,Be.converter,At)),lt=Ge.set(h.ExtHostContext.ExtHostLanguageFeatures,new n.ExtHostLanguageFeatures(Ge,At,bt,Be,ai,mt,Ae,Tt)),$i=Ge.set(h.ExtHostContext.ExtHostFileSystem,new c.ExtHostFileSystem(Ge,lt)),Ut=Ge.set(h.ExtHostContext.ExtHostFileSystemEventService,new y.ExtHostFileSystemEventService(Ge,mt,Ye)),Xt=Ge.set(h.ExtHostContext.ExtHostQuickOpen,(0,H.createExtHostQuickOpen)(Ge,ht,Be)),ci=Ge.set(h.ExtHostContext.ExtHostSCM,new Y.ExtHostSCM(Ge,Be,mt)),Ei=Ge.set(h.ExtHostContext.ExtHostQuickDiff,new It.ExtHostQuickDiff(Ge,At)),wi=Ge.set(h.ExtHostContext.ExtHostComments,(0,l.createExtHostComments)(Ge,Be,bt)),ui=Ge.set(h.ExtHostContext.ExtHostProgress,new P.ExtHostProgress(Ge.getProxy(h.MainContext.MainThreadProgress))),Si=Ge.set(h.ExtHostContext.ExtHosLabelService,new q.ExtHostLabelService(Ge)),li=Ge.set(h.ExtHostContext.ExtHostTheming,new le.ExtHostTheming(Ge)),Zt=Ge.set(h.ExtHostContext.ExtHostAuthentication,new $.ExtHostAuthentication(Ge)),Bi=Ge.set(h.ExtHostContext.ExtHostTimeline,new W.ExtHostTimeline(Ge,Be)),ti=Ge.set(h.ExtHostContext.ExtHostWebviews,new te.ExtHostWebviews(Ge,ft.remote,ht,mt,Ae)),ii=Ge.set(h.ExtHostContext.ExtHostWebviewPanels,new ue.ExtHostWebviewPanels(Ge,ti,ht)),yi=Ge.set(h.ExtHostContext.ExtHostCustomEditors,new De.ExtHostCustomEditors(Ge,bt,Kt,ti,ii)),Di=Ge.set(h.ExtHostContext.ExtHostWebviewViews,new fe.ExtHostWebviewViews(Ge,ti)),ni=Ge.set(h.ExtHostContext.ExtHostTesting,new He.ExtHostTesting(Ge,Be,Ye)),Ii=Ge.set(h.ExtHostContext.ExtHostUriOpeners,new je.ExtHostUriOpeners(Ge)),Ci=Ge.set(h.ExtHostContext.ExtHostProfileContentHandlers,new Ct.ExtHostProfileContentHandlers(Ge));Ge.set(h.ExtHostContext.ExtHostInteractive,new $e.ExtHostInteractive(Ge,St,Ye,Be,mt));const zi=Object.values(h.ExtHostContext);Ge.assertRegistered(zi);const Wi=new ve.ExtHostBulkEdits(Ge,Ye),Hi=new a.ExtHostClipboard(Ge),ki=new f.ExtHostMessageService(Ge,mt),Ri=new O.ExtHostDialogs(Ge),Oi=new Z.ExtHostStatusBar(Ge,Be.converter);return g.ExtHostApiCommands.register(Be),function(Me,Wt,Li){const gt=function(){let se=!Me.isUnderDevelopment;function he(){se||(mt.info(`Extension '${Me.identifier.value}' uses a document selector without scheme. Learn more about this: https://go.microsoft.com/fwlink/?linkid=872305`),se=!0)}return function Oe(st){if(Array.isArray(st))st.forEach(Oe);else if(typeof st=="string")he();else{const yt=st;typeof yt.scheme>"u"&&he(),typeof yt.exclusive=="boolean"&&(0,xe.checkProposedApiEnabled)(Me,"documentFiltersExclusive")}return st}}(),Vi={getSession(se,he,Oe){return Zt.getSession(Me,se,he,Oe)},async hasSession(se,he){return(0,xe.checkProposedApiEnabled)(Me,"authSession"),!!await Zt.getSession(Me,se,he,{silent:!0})},get onDidChangeSessions(){return Zt.onDidChangeSessions},registerAuthenticationProvider(se,he,Oe,st){return Zt.registerAuthenticationProvider(se,he,Oe,st)}},di={registerCommand(se,he,Oe){return Be.registerCommand(!0,se,he,Oe,void 0,Me)},registerTextEditorCommand(se,he,Oe){return Be.registerCommand(!0,se,(...st)=>{const yt=Ot.getActiveTextEditor();if(!yt){mt.warn("Cannot execute "+se+" because there is no active text editor.");return}return yt.edit(Lt=>{he.apply(Oe,[yt,Lt,...st])}).then(Lt=>{Lt||mt.warn("Edits from command "+se+" were not applied.")},Lt=>{mt.warn("An error occurred while running command "+se,Lt)})},void 0,void 0,Me)},registerDiffInformationCommand:(se,he,Oe)=>((0,xe.checkProposedApiEnabled)(Me,"diffCommand"),Be.registerCommand(!0,se,async(...st)=>{const yt=Ye.activeEditor(!0);if(!yt){mt.warn("Cannot execute "+se+" because there is no active text editor.");return}const Lt=await Ot.getDiffInformation(yt.id);he.apply(Oe,[Lt,...st])},void 0,void 0,Me)),executeCommand(se,...he){return Be.executeCommand(se,...he)},getCommands(se=!1){return Be.getCommands(se)}},Fi={get machineId(){return ft.telemetryInfo.machineId},get sessionId(){return ft.telemetryInfo.sessionId},get language(){return ft.environment.appLanguage},get appName(){return ft.environment.appName},get appRoot(){return ft.environment.appRoot?.fsPath??""},get appHost(){return ft.environment.appHost},get uriScheme(){return ft.environment.appUriScheme},get clipboard(){return Hi.value},get shell(){return Ze.getDefaultShell(!1)},get onDidChangeShell(){return(0,xe.checkProposedApiEnabled)(Me,"envShellEvent"),Ze.onDidChangeShell},get isTelemetryEnabled(){return Tt.getTelemetryConfiguration()},get onDidChangeTelemetryEnabled(){return Tt.onDidChangeTelemetryEnabled},get telemetryConfiguration(){return(0,xe.checkProposedApiEnabled)(Me,"telemetry"),Tt.getTelemetryDetails()},get onDidChangeTelemetryConfiguration(){return(0,xe.checkProposedApiEnabled)(Me,"telemetry"),Tt.onDidChangeTelemetryConfiguration},get isNewAppInstall(){return(0,et.isNewAppInstall)(ft.telemetryInfo.firstSessionDate)},createTelemetryLogger(se){return et.ExtHostTelemetryLogger.validateSender(se),Tt.instantiateLogger(Me,se)},openExternal(se,he){return ge.openUri(se,{allowTunneling:!!ft.remote.authority,allowContributedOpeners:he?.allowContributedOpeners})},async asExternalUri(se){if(se.scheme===ft.environment.appUriScheme)return Rt.createAppUri(se);try{return await ge.asExternalUri(se,{allowTunneling:!!ft.remote.authority})}catch(he){if((0,Q.matchesScheme)(se,G.Schemas.http)||(0,Q.matchesScheme)(se,G.Schemas.https))return se;throw he}},get remoteName(){return(0,K.getRemoteName)(ft.remote.authority)},get remoteAuthority(){return(0,xe.checkProposedApiEnabled)(Me,"resolvers"),ft.remote.authority},get uiKind(){return ft.uiKind},get logLevel(){return mt.getLevel()},get onDidChangeLogLevel(){return mt.onDidChangeLogLevel}};ft.environment.extensionTestsLocationURI||Object.freeze(Fi);const ji={createTestController(se,he,Oe){return ni.createTestController(Me,se,he,Oe)},createTestObserver(){return(0,xe.checkProposedApiEnabled)(Me,"testObserver"),ni.createTestObserver()},runTests(se){return(0,xe.checkProposedApiEnabled)(Me,"testObserver"),ni.runTests(se)},get onDidChangeTestResults(){return(0,xe.checkProposedApiEnabled)(Me,"testObserver"),ni.onResultsChanged},get testResults(){return(0,xe.checkProposedApiEnabled)(Me,"testObserver"),ni.results}},hi=ft.remote.isRemote?B.ExtensionKind.Workspace:B.ExtensionKind.UI,qi={getExtension(se,he){(0,xe.isProposedApiEnabled)(Me,"extensionsAny")||(he=!1);const Oe=Wt.mine.getExtensionDescription(se);if(Oe)return new u.Extension(kt,Me.identifier,Oe,hi,!1);if(he){const st=Wt.all.getExtensionDescription(se);if(st)return new u.Extension(kt,Me.identifier,st,hi,!0)}},get all(){const se=[];for(const he of Wt.mine.getAllExtensionDescriptions())se.push(new u.Extension(kt,Me.identifier,he,hi,!1));return se},get allAcrossExtensionHosts(){(0,xe.checkProposedApiEnabled)(Me,"extensionsAny");const se=new xe.ExtensionIdentifierSet(Wt.mine.getAllExtensionDescriptions().map(Oe=>Oe.identifier)),he=[];for(const Oe of Wt.all.getAllExtensionDescriptions()){const st=!se.has(Oe.identifier);he.push(new u.Extension(kt,Me.identifier,Oe,hi,st))}return he},get onDidChange(){return(0,xe.isProposedApiEnabled)(Me,"extensionsAny")?I.Event.any(Wt.mine.onDidChange,Wt.all.onDidChange):Wt.mine.onDidChange}},Ti={createDiagnosticCollection(se){return ai.createDiagnosticCollection(Me.identifier,se)},get onDidChangeDiagnostics(){return ai.onDidChangeDiagnostics},getDiagnostics:se=>ai.getDiagnostics(se),getLanguages(){return Jt.getLanguages()},setTextDocumentLanguage(se,he){return Jt.changeLanguage(se.uri,he)},match(se,he){const Oe=bt.getDocumentData(he.uri)?.notebook;return(0,M.score)(F.LanguageSelector.from(se),he.uri,he.languageId,!0,Oe?.uri,Oe?.notebookType)},registerCodeActionsProvider(se,he,Oe){return lt.registerCodeActionProvider(Me,gt(se),he,Oe)},registerDocumentPasteEditProvider(se,he,Oe){return(0,xe.checkProposedApiEnabled)(Me,"documentPaste"),lt.registerDocumentPasteEditProvider(Me,gt(se),he,Oe)},registerCodeLensProvider(se,he){return lt.registerCodeLensProvider(Me,gt(se),he)},registerDefinitionProvider(se,he){return lt.registerDefinitionProvider(Me,gt(se),he)},registerDeclarationProvider(se,he){return lt.registerDeclarationProvider(Me,gt(se),he)},registerImplementationProvider(se,he){return lt.registerImplementationProvider(Me,gt(se),he)},registerTypeDefinitionProvider(se,he){return lt.registerTypeDefinitionProvider(Me,gt(se),he)},registerHoverProvider(se,he){return lt.registerHoverProvider(Me,gt(se),he,Me.identifier)},registerEvaluatableExpressionProvider(se,he){return lt.registerEvaluatableExpressionProvider(Me,gt(se),he,Me.identifier)},registerInlineValuesProvider(se,he){return lt.registerInlineValuesProvider(Me,gt(se),he,Me.identifier)},registerDocumentHighlightProvider(se,he){return lt.registerDocumentHighlightProvider(Me,gt(se),he)},registerLinkedEditingRangeProvider(se,he){return lt.registerLinkedEditingRangeProvider(Me,gt(se),he)},registerReferenceProvider(se,he){return lt.registerReferenceProvider(Me,gt(se),he)},registerRenameProvider(se,he){return lt.registerRenameProvider(Me,gt(se),he)},registerDocumentSymbolProvider(se,he,Oe){return lt.registerDocumentSymbolProvider(Me,gt(se),he,Oe)},registerWorkspaceSymbolProvider(se){return lt.registerWorkspaceSymbolProvider(Me,se)},registerDocumentFormattingEditProvider(se,he){return lt.registerDocumentFormattingEditProvider(Me,gt(se),he)},registerDocumentRangeFormattingEditProvider(se,he){return lt.registerDocumentRangeFormattingEditProvider(Me,gt(se),he)},registerOnTypeFormattingEditProvider(se,he,Oe,...st){return lt.registerOnTypeFormattingEditProvider(Me,gt(se),he,[Oe].concat(st))},registerDocumentSemanticTokensProvider(se,he,Oe){return lt.registerDocumentSemanticTokensProvider(Me,gt(se),he,Oe)},registerDocumentRangeSemanticTokensProvider(se,he,Oe){return lt.registerDocumentRangeSemanticTokensProvider(Me,gt(se),he,Oe)},registerSignatureHelpProvider(se,he,Oe,...st){return typeof Oe=="object"?lt.registerSignatureHelpProvider(Me,gt(se),he,Oe):lt.registerSignatureHelpProvider(Me,gt(se),he,typeof Oe>"u"?[]:[Oe,...st])},registerCompletionItemProvider(se,he,...Oe){return lt.registerCompletionItemProvider(Me,gt(se),he,Oe)},registerInlineCompletionItemProvider(se,he){return he.handleDidShowCompletionItem&&(0,xe.checkProposedApiEnabled)(Me,"inlineCompletionsAdditions"),he.handleDidPartiallyAcceptCompletionItem&&(0,xe.checkProposedApiEnabled)(Me,"inlineCompletionsAdditions"),lt.registerInlineCompletionsProvider(Me,gt(se),he)},registerDocumentLinkProvider(se,he){return lt.registerDocumentLinkProvider(Me,gt(se),he)},registerColorProvider(se,he){return lt.registerColorProvider(Me,gt(se),he)},registerFoldingRangeProvider(se,he){return lt.registerFoldingRangeProvider(Me,gt(se),he)},registerSelectionRangeProvider(se,he){return lt.registerSelectionRangeProvider(Me,se,he)},registerCallHierarchyProvider(se,he){return lt.registerCallHierarchyProvider(Me,se,he)},registerTypeHierarchyProvider(se,he){return lt.registerTypeHierarchyProvider(Me,se,he)},setLanguageConfiguration:(se,he)=>lt.setLanguageConfiguration(Me,se,he),getTokenInformationAtPosition(se,he){return(0,xe.checkProposedApiEnabled)(Me,"tokenInformation"),Jt.tokenAtPosition(se,he)},registerInlayHintsProvider(se,he){return lt.registerInlayHintsProvider(Me,se,he)},createLanguageStatusItem(se,he){return Jt.createLanguageStatusItem(Me,se,he)},registerDocumentDropEditProvider(se,he){return lt.registerDocumentOnDropEditProvider(Me,se,he)}},xi={get activeTextEditor(){return Ot.getActiveTextEditor()},get visibleTextEditors(){return Ot.getVisibleTextEditors()},get activeTerminal(){return Ze.activeTerminal},get terminals(){return Ze.terminals},async showTextDocument(se,he,Oe){const st=await(E.URI.isUri(se)?Promise.resolve(jt.openTextDocument(se)):Promise.resolve(se));return Ot.showTextDocument(st,he,Oe)},createTextEditorDecorationType(se){return Ot.createTextEditorDecorationType(Me,se)},onDidChangeActiveTextEditor(se,he,Oe){return Ot.onDidChangeActiveTextEditor(se,he,Oe)},onDidChangeVisibleTextEditors(se,he,Oe){return Ot.onDidChangeVisibleTextEditors(se,he,Oe)},onDidChangeTextEditorSelection(se,he,Oe){return Ot.onDidChangeTextEditorSelection(se,he,Oe)},onDidChangeTextEditorOptions(se,he,Oe){return Ot.onDidChangeTextEditorOptions(se,he,Oe)},onDidChangeTextEditorVisibleRanges(se,he,Oe){return Ot.onDidChangeTextEditorVisibleRanges(se,he,Oe)},onDidChangeTextEditorViewColumn(se,he,Oe){return Ot.onDidChangeTextEditorViewColumn(se,he,Oe)},onDidCloseTerminal(se,he,Oe){return Ze.onDidCloseTerminal(se,he,Oe)},onDidOpenTerminal(se,he,Oe){return Ze.onDidOpenTerminal(se,he,Oe)},onDidChangeActiveTerminal(se,he,Oe){return Ze.onDidChangeActiveTerminal(se,he,Oe)},onDidChangeTerminalDimensions(se,he,Oe){return(0,xe.checkProposedApiEnabled)(Me,"terminalDimensions"),Ze.onDidChangeTerminalDimensions(se,he,Oe)},onDidChangeTerminalState(se,he,Oe){return Ze.onDidChangeTerminalState(se,he,Oe)},onDidWriteTerminalData(se,he,Oe){return(0,xe.checkProposedApiEnabled)(Me,"terminalDataWriteEvent"),Ze.onDidWriteTerminalData(se,he,Oe)},get state(){return ge.state},onDidChangeWindowState(se,he,Oe){return ge.onDidChangeWindowState(se,he,Oe)},showInformationMessage(se,...he){return ki.showMessage(Me,N.default.Info,se,he[0],he.slice(1))},showWarningMessage(se,...he){return ki.showMessage(Me,N.default.Warning,se,he[0],he.slice(1))},showErrorMessage(se,...he){return ki.showMessage(Me,N.default.Error,se,he[0],he.slice(1))},showQuickPick(se,he,Oe){return Xt.showQuickPick(Me,se,he,Oe)},showWorkspaceFolderPick(se){return Xt.showWorkspaceFolderPick(se)},showInputBox(se,he){return Xt.showInput(se,he)},showOpenDialog(se){return Ri.showOpenDialog(Me,se)},showSaveDialog(se){return Ri.showSaveDialog(se)},createStatusBarItem(se,he,Oe){let st,yt,Lt;return typeof se=="string"?(st=se,yt=he,Lt=Oe):(yt=se,Lt=he),Oi.createStatusBarEntry(Me,st,yt,Lt)},setStatusBarMessage(se,he){return Oi.setStatusBarMessage(se,he)},withScmProgress(se){return Ae.report("window.withScmProgress",Me,"Use 'withProgress' instead."),ui.withProgress(Me,{location:B.ProgressLocation.SourceControl},(he,Oe)=>se({report(st){}}))},withProgress(se,he){return ui.withProgress(Me,se,he)},createOutputChannel(se,he){return wt.createOutputChannel(se,he,Me)},createWebviewPanel(se,he,Oe,st){return ii.createWebviewPanel(Me,se,he,Oe,st)},createWebviewTextEditorInset(se,he,Oe,st){return(0,xe.checkProposedApiEnabled)(Me,"editorInsets"),bi.createWebviewEditorInset(se,he,Oe,st,Me)},createTerminal(se,he,Oe){return typeof se=="object"?"pty"in se?Ze.createExtensionTerminal(se):Ze.createTerminalFromOptions(se):Ze.createTerminal(se,he,Oe)},registerTerminalLinkProvider(se){return Ze.registerLinkProvider(se)},registerTerminalProfileProvider(se,he){return Ze.registerProfileProvider(Me,se,he)},registerTerminalQuickFixProvider(se,he){return(0,xe.checkProposedApiEnabled)(Me,"terminalQuickFixProvider"),Ze.registerTerminalQuickFixProvider(se,Me.identifier.value,he)},registerTreeDataProvider(se,he){return zt.registerTreeDataProvider(se,he,Me)},createTreeView(se,he){return zt.createTreeView(se,he,Me)},registerWebviewPanelSerializer:(se,he)=>ii.registerWebviewPanelSerializer(Me,se,he),registerCustomEditorProvider:(se,he,Oe={})=>yi.registerCustomEditorProvider(Me,se,he,Oe),registerFileDecorationProvider(se){return Ue.registerFileDecorationProvider(se,Me)},registerUriHandler(se){return Rt.registerUriHandler(Me.identifier,se)},createQuickPick(){return Xt.createQuickPick(Me)},createInputBox(){return Xt.createInputBox(Me)},get activeColorTheme(){return li.activeColorTheme},onDidChangeActiveColorTheme(se,he,Oe){return li.onDidChangeActiveColorTheme(se,he,Oe)},registerWebviewViewProvider(se,he,Oe){return Di.registerWebviewViewProvider(Me,se,he,Oe?.webviewOptions)},get activeNotebookEditor(){return St.activeNotebookEditor},onDidChangeActiveNotebookEditor(se,he,Oe){return St.onDidChangeActiveNotebookEditor(se,he,Oe)},get visibleNotebookEditors(){return St.visibleNotebookEditors},get onDidChangeVisibleNotebookEditors(){return St.onDidChangeVisibleNotebookEditors},onDidChangeNotebookEditorSelection(se,he,Oe){return oi.onDidChangeNotebookEditorSelection(se,he,Oe)},onDidChangeNotebookEditorVisibleRanges(se,he,Oe){return oi.onDidChangeNotebookEditorVisibleRanges(se,he,Oe)},showNotebookDocument(se,he){return St.showNotebookDocument(se,he)},registerExternalUriOpener(se,he,Oe){return(0,xe.checkProposedApiEnabled)(Me,"externalUriOpener"),Ii.registerExternalUriOpener(Me.identifier,se,he,Oe)},registerProfileContentHandler(se,he){return(0,xe.checkProposedApiEnabled)(Me,"profileContentHandlers"),Ci.registrProfileContentHandler(Me,se,he)},registerQuickDiffProvider(se,he,Oe,st){return(0,xe.checkProposedApiEnabled)(Me,"quickDiffProvider"),Ei.registerQuickDiffProvider(gt(se),he,Oe,st)},get tabGroups(){return Re.tabGroups}},jt={get rootPath(){return Ae.report("workspace.rootPath",Me,"Please use 'workspace.workspaceFolders' instead. More details: https://aka.ms/vscode-eliminating-rootpath"),ht.getPath()},set rootPath(se){throw T.readonly()},getWorkspaceFolder(se){return ht.getWorkspaceFolder(se)},get workspaceFolders(){return ht.getWorkspaceFolders()},get name(){return ht.name},set name(se){throw T.readonly()},get workspaceFile(){return ht.workspaceFile},set workspaceFile(se){throw T.readonly()},updateWorkspaceFolders:(se,he,...Oe)=>ht.updateWorkspaceFolders(Me,se,he||0,...Oe),onDidChangeWorkspaceFolders:function(se,he,Oe){return ht.onDidChangeWorkspace(se,he,Oe)},asRelativePath:(se,he)=>ht.getRelativePath(se,he),findFiles:(se,he,Oe,st)=>ht.findFiles(se,he,Oe,Me.identifier,st),findTextInFiles:(se,he,Oe,st)=>{(0,xe.checkProposedApiEnabled)(Me,"findTextInFiles");let yt,Lt;return typeof he=="object"?(yt=he,Lt=Oe):(yt={},Lt=he,st=Oe),ht.findTextInFiles(se,yt||{},Lt,Me.identifier,st)},saveAll:se=>ht.saveAll(se),applyEdit(se,he){return Wi.applyWorkspaceEdit(se,Me,he)},createFileSystemWatcher:(se,he,Oe,st)=>Ut.createFileSystemWatcher(ht,Me,se,he,Oe,st),get textDocuments(){return bt.getAllDocumentData().map(se=>se.document)},set textDocuments(se){throw T.readonly()},openTextDocument(se){let he;const Oe=se;if(typeof se=="string")he=Promise.resolve(E.URI.file(se));else if(E.URI.isUri(se))he=Promise.resolve(se);else if(!Oe||typeof Oe=="object")he=bt.createDocumentData(Oe);else throw new Error("illegal argument - uriOrFileNameOrOptions");return he.then(st=>bt.ensureDocumentData(st).then(yt=>yt.document))},onDidOpenTextDocument:(se,he,Oe)=>bt.onDidAddDocument(se,he,Oe),onDidCloseTextDocument:(se,he,Oe)=>bt.onDidRemoveDocument(se,he,Oe),onDidChangeTextDocument:(se,he,Oe)=>bt.onDidChangeDocument(se,he,Oe),onDidSaveTextDocument:(se,he,Oe)=>bt.onDidSaveDocument(se,he,Oe),onWillSaveTextDocument:(se,he,Oe)=>ei.getOnWillSaveTextDocumentEvent(Me)(se,he,Oe),get notebookDocuments(){return St.notebookDocuments.map(se=>se.apiNotebook)},async openNotebookDocument(se,he){let Oe;if(E.URI.isUri(se))Oe=se,await St.openNotebookDocument(se);else if(typeof se=="string")Oe=E.URI.revive(await St.createNotebookDocument({viewType:se,content:he}));else throw new Error("Invalid arguments");return St.getNotebookDocument(Oe).apiNotebook},onDidSaveNotebookDocument(se,he,Oe){return si.onDidSaveNotebookDocument(se,he,Oe)},onDidChangeNotebookDocument(se,he,Oe){return si.onDidChangeNotebookDocument(se,he,Oe)},get onDidOpenNotebookDocument(){return St.onDidOpenNotebookDocument},get onDidCloseNotebookDocument(){return St.onDidCloseNotebookDocument},registerNotebookSerializer(se,he,Oe,st){return St.registerNotebookSerializer(Me,se,he,Oe,(0,xe.isProposedApiEnabled)(Me,"notebookLiveShare")?st:void 0)},onDidChangeConfiguration:(se,he,Oe)=>Li.onDidChangeConfiguration(se,he,Oe),getConfiguration(se,he){return he=arguments.length===1?void 0:he,Li.getConfiguration(se,he,Me)},registerTextDocumentContentProvider(se,he){return ri.registerTextDocumentContentProvider(se,he)},registerTaskProvider:(se,he)=>(Ae.report("window.registerTaskProvider",Me,"Use the corresponding function on the 'tasks' namespace instead"),vt.registerTaskProvider(Me,se,he)),registerFileSystemProvider(se,he,Oe){return(0,Qe.combinedDisposable)($i.registerFileSystemProvider(Me,se,he,Oe),Vt.addFileSystemProvider(se,he))},get fs(){return Vt.value},registerFileSearchProvider:(se,he)=>((0,xe.checkProposedApiEnabled)(Me,"fileSearchProvider"),Pt.registerFileSearchProvider(se,he)),registerTextSearchProvider:(se,he)=>((0,xe.checkProposedApiEnabled)(Me,"textSearchProvider"),Pt.registerTextSearchProvider(se,he)),registerRemoteAuthorityResolver:(se,he)=>((0,xe.checkProposedApiEnabled)(Me,"resolvers"),kt.registerRemoteAuthorityResolver(se,he)),registerResourceLabelFormatter:se=>((0,xe.checkProposedApiEnabled)(Me,"resolvers"),Si.$registerResourceLabelFormatter(se)),onDidCreateFiles:(se,he,Oe)=>Ut.onDidCreateFile(se,he,Oe),onDidDeleteFiles:(se,he,Oe)=>Ut.onDidDeleteFile(se,he,Oe),onDidRenameFiles:(se,he,Oe)=>Ut.onDidRenameFile(se,he,Oe),onWillCreateFiles:(se,he,Oe)=>Ut.getOnWillCreateFileEvent(Me)(se,he,Oe),onWillDeleteFiles:(se,he,Oe)=>Ut.getOnWillDeleteFileEvent(Me)(se,he,Oe),onWillRenameFiles:(se,he,Oe)=>Ut.getOnWillRenameFileEvent(Me)(se,he,Oe),openTunnel:se=>((0,xe.checkProposedApiEnabled)(Me,"tunnels"),Ce.openTunnel(Me,se).then(he=>{if(!he)throw new Error("cannot open tunnel");return he})),get tunnels(){return(0,xe.checkProposedApiEnabled)(Me,"tunnels"),Ce.getTunnels()},onDidChangeTunnels:(se,he,Oe)=>((0,xe.checkProposedApiEnabled)(Me,"tunnels"),Ce.onDidChangeTunnels(se,he,Oe)),registerPortAttributesProvider:(se,he)=>((0,xe.checkProposedApiEnabled)(Me,"portsAttributes"),Ce.registerPortsAttributesProvider(se,he)),registerTimelineProvider:(se,he)=>((0,xe.checkProposedApiEnabled)(Me,"timeline"),Bi.registerTimelineProvider(se,he,Me.identifier,Be.converter)),get isTrusted(){return ht.trusted},requestWorkspaceTrust:se=>((0,xe.checkProposedApiEnabled)(Me,"workspaceTrust"),ht.requestWorkspaceTrust(se)),onDidGrantWorkspaceTrust:(se,he,Oe)=>ht.onDidGrantWorkspaceTrust(se,he,Oe),registerEditSessionIdentityProvider:(se,he)=>((0,xe.checkProposedApiEnabled)(Me,"editSessionIdentityProvider"),ht.registerEditSessionIdentityProvider(se,he)),onWillCreateEditSessionIdentity:(se,he,Oe)=>((0,xe.checkProposedApiEnabled)(Me,"editSessionIdentityProvider"),ht.getOnWillCreateEditSessionIdentityEvent(Me)(se,he,Oe))},fi={get inputBox(){return Ae.report("scm.inputBox",Me,"Use 'SourceControl.inputBox' instead"),ci.getLastInputBox(Me)},createSourceControl(se,he,Oe){return ci.createSourceControl(Me,se,he,Oe)}},Ki={createCommentController(se,he){return wi.createCommentController(Me,se,he)}},Bt={get activeDebugSession(){return ct.activeDebugSession},get activeDebugConsole(){return ct.activeDebugConsole},get breakpoints(){return ct.breakpoints},onDidStartDebugSession(se,he,Oe){return ct.onDidStartDebugSession(se,he,Oe)},onDidTerminateDebugSession(se,he,Oe){return ct.onDidTerminateDebugSession(se,he,Oe)},onDidChangeActiveDebugSession(se,he,Oe){return ct.onDidChangeActiveDebugSession(se,he,Oe)},onDidReceiveDebugSessionCustomEvent(se,he,Oe){return ct.onDidReceiveDebugSessionCustomEvent(se,he,Oe)},onDidChangeBreakpoints(se,he,Oe){return ct.onDidChangeBreakpoints(se,he,Oe)},registerDebugConfigurationProvider(se,he,Oe){return ct.registerDebugConfigurationProvider(se,he,Oe||tt.DebugConfigurationProviderTriggerKind.Initial)},registerDebugAdapterDescriptorFactory(se,he){return ct.registerDebugAdapterDescriptorFactory(Me,se,he)},registerDebugAdapterTrackerFactory(se,he){return ct.registerDebugAdapterTrackerFactory(se,he)},startDebugging(se,he,Oe){return!Oe||typeof Oe=="object"&&"configuration"in Oe?ct.startDebugging(se,he,{parentSession:Oe}):ct.startDebugging(se,he,Oe||{})},stopDebugging(se){return ct.stopDebugging(se)},addBreakpoints(se){return ct.addBreakpoints(se)},removeBreakpoints(se){return ct.removeBreakpoints(se)},asDebugSourceUri(se,he){return ct.asDebugSourceUri(se,he)}},mi={registerTaskProvider:(se,he)=>vt.registerTaskProvider(Me,se,he),fetchTasks:se=>vt.fetchTasks(se),executeTask:se=>vt.executeTask(Me,se),get taskExecutions(){return vt.taskExecutions},onDidStartTask:(se,he,Oe)=>vt.onDidStartTask(se,he,Oe),onDidEndTask:(se,he,Oe)=>vt.onDidEndTask(se,he,Oe),onDidStartTaskProcess:(se,he,Oe)=>vt.onDidStartTaskProcess(se,he,Oe),onDidEndTaskProcess:(se,he,Oe)=>vt.onDidEndTaskProcess(se,he,Oe)},Gi={createNotebookController(se,he,Oe,st,yt){return _t.createNotebookController(Me,se,he,Oe,st,(0,xe.isProposedApiEnabled)(Me,"notebookMessaging")?yt:void 0)},registerNotebookCellStatusBarItemProvider:(se,he)=>St.registerNotebookCellStatusBarItemProvider(Me,se,he),createRendererMessaging(se){return vi.createRendererMessaging(Me,se)},createNotebookControllerDetectionTask(se){return(0,xe.checkProposedApiEnabled)(Me,"notebookKernelSource"),_t.createNotebookControllerDetectionTask(Me,se)},registerKernelSourceActionProvider(se,he){return(0,xe.checkProposedApiEnabled)(Me,"notebookKernelSource"),_t.registerKernelSourceActionProvider(Me,se,he)},onDidChangeNotebookCellExecutionState(se,he,Oe){return(0,xe.checkProposedApiEnabled)(Me,"notebookCellExecutionState"),_t.onDidChangeNotebookCellExecutionState(se,he,Oe)}},Xi={t(...se){if(typeof se[0]=="string"){const he=se.shift(),Oe=!se||typeof se[0]!="object"?se:se[0];return pt.getMessage(Me.identifier.value,{message:he,args:Oe})}return pt.getMessage(Me.identifier.value,se[0])},get bundle(){return pt.getBundle(Me.identifier.value)},get uri(){return pt.getBundleUri(Me.identifier.value)}};return{version:ft.version,authentication:Vi,commands:di,comments:Ki,debug:Bt,env:Fi,extensions:qi,l10n:Xi,languages:Ti,notebooks:Gi,scm:fi,tasks:mi,tests:ji,window:xi,workspace:jt,Breakpoint:B.Breakpoint,TerminalOutputAnchor:B.TerminalOutputAnchor,CallHierarchyIncomingCall:B.CallHierarchyIncomingCall,CallHierarchyItem:B.CallHierarchyItem,CallHierarchyOutgoingCall:B.CallHierarchyOutgoingCall,CancellationError:T.CancellationError,CancellationTokenSource:i.CancellationTokenSource,CandidatePortSource:h.CandidatePortSource,CodeAction:B.CodeAction,CodeActionKind:B.CodeActionKind,CodeActionTriggerKind:B.CodeActionTriggerKind,CodeLens:B.CodeLens,Color:B.Color,ColorInformation:B.ColorInformation,ColorPresentation:B.ColorPresentation,ColorThemeKind:B.ColorThemeKind,CommentMode:B.CommentMode,CommentThreadCollapsibleState:B.CommentThreadCollapsibleState,CommentThreadState:B.CommentThreadState,CompletionItem:B.CompletionItem,CompletionItemKind:B.CompletionItemKind,CompletionItemTag:B.CompletionItemTag,CompletionList:B.CompletionList,CompletionTriggerKind:B.CompletionTriggerKind,ConfigurationTarget:B.ConfigurationTarget,CustomExecution:B.CustomExecution,DebugAdapterExecutable:B.DebugAdapterExecutable,DebugAdapterInlineImplementation:B.DebugAdapterInlineImplementation,DebugAdapterNamedPipeServer:B.DebugAdapterNamedPipeServer,DebugAdapterServer:B.DebugAdapterServer,DebugConfigurationProviderTriggerKind:tt.DebugConfigurationProviderTriggerKind,DebugConsoleMode:B.DebugConsoleMode,DecorationRangeBehavior:B.DecorationRangeBehavior,Diagnostic:B.Diagnostic,DiagnosticRelatedInformation:B.DiagnosticRelatedInformation,DiagnosticSeverity:B.DiagnosticSeverity,DiagnosticTag:B.DiagnosticTag,Disposable:B.Disposable,DocumentHighlight:B.DocumentHighlight,DocumentHighlightKind:B.DocumentHighlightKind,DocumentLink:B.DocumentLink,DocumentSymbol:B.DocumentSymbol,EndOfLine:B.EndOfLine,EnvironmentVariableMutatorType:B.EnvironmentVariableMutatorType,EvaluatableExpression:B.EvaluatableExpression,InlineValueText:B.InlineValueText,InlineValueVariableLookup:B.InlineValueVariableLookup,InlineValueEvaluatableExpression:B.InlineValueEvaluatableExpression,InlineCompletionTriggerKind:B.InlineCompletionTriggerKind,EventEmitter:I.Emitter,ExtensionKind:B.ExtensionKind,ExtensionMode:B.ExtensionMode,ExternalUriOpenerPriority:B.ExternalUriOpenerPriority,FileChangeType:B.FileChangeType,FileDecoration:B.FileDecoration,FileDecoration2:B.FileDecoration,FileSystemError:B.FileSystemError,FileType:D.FileType,FilePermission:D.FilePermission,FoldingRange:B.FoldingRange,FoldingRangeKind:B.FoldingRangeKind,FunctionBreakpoint:B.FunctionBreakpoint,InlineCompletionItem:B.InlineSuggestion,InlineCompletionList:B.InlineSuggestionList,Hover:B.Hover,IndentAction:k.IndentAction,Location:B.Location,MarkdownString:B.MarkdownString,OverviewRulerLane:S.OverviewRulerLane,ParameterInformation:B.ParameterInformation,PortAutoForwardAction:B.PortAutoForwardAction,Position:B.Position,ProcessExecution:B.ProcessExecution,ProgressLocation:B.ProgressLocation,QuickInputButtons:B.QuickInputButtons,Range:B.Range,RelativePattern:B.RelativePattern,Selection:B.Selection,SelectionRange:B.SelectionRange,SemanticTokens:B.SemanticTokens,SemanticTokensBuilder:B.SemanticTokensBuilder,SemanticTokensEdit:B.SemanticTokensEdit,SemanticTokensEdits:B.SemanticTokensEdits,SemanticTokensLegend:B.SemanticTokensLegend,ShellExecution:B.ShellExecution,ShellQuoting:B.ShellQuoting,SignatureHelp:B.SignatureHelp,SignatureHelpTriggerKind:B.SignatureHelpTriggerKind,SignatureInformation:B.SignatureInformation,SnippetString:B.SnippetString,SourceBreakpoint:B.SourceBreakpoint,StandardTokenType:B.StandardTokenType,StatusBarAlignment:B.StatusBarAlignment,SymbolInformation:B.SymbolInformation,SymbolKind:B.SymbolKind,SymbolTag:B.SymbolTag,Task:B.Task,TaskGroup:B.TaskGroup,TaskPanelKind:B.TaskPanelKind,TaskRevealKind:B.TaskRevealKind,TaskScope:B.TaskScope,TerminalLink:B.TerminalLink,TerminalQuickFixCommand:B.TerminalQuickFixCommand,TerminalQuickFixOpener:B.TerminalQuickFixOpener,TerminalLocation:B.TerminalLocation,TerminalProfile:B.TerminalProfile,TerminalExitReason:B.TerminalExitReason,TerminalQuickFixType:B.TerminalQuickFixType,TextDocumentSaveReason:B.TextDocumentSaveReason,TextEdit:B.TextEdit,SnippetTextEdit:B.SnippetTextEdit,TextEditorCursorStyle:R.TextEditorCursorStyle,TextEditorLineNumbersStyle:B.TextEditorLineNumbersStyle,TextEditorRevealType:B.TextEditorRevealType,TextEditorSelectionChangeKind:B.TextEditorSelectionChangeKind,TextDocumentChangeReason:B.TextDocumentChangeReason,ThemeColor:B.ThemeColor,ThemeIcon:B.ThemeIcon,TreeItem:B.TreeItem,TreeItem2:B.TreeItem,TreeItemCheckboxState:B.TreeItemCheckboxState,TreeItemCollapsibleState:B.TreeItemCollapsibleState,TypeHierarchyItem:B.TypeHierarchyItem,UIKind:b.UIKind,Uri:E.URI,ViewColumn:B.ViewColumn,WorkspaceEdit:B.WorkspaceEdit,DocumentDropEdit:B.DocumentDropEdit,DocumentPasteEdit:B.DocumentPasteEdit,InlayHint:B.InlayHint,InlayHintLabelPart:B.InlayHintLabelPart,InlayHintKind:B.InlayHintKind,RemoteAuthorityResolverError:B.RemoteAuthorityResolverError,ResolvedAuthority:B.ResolvedAuthority,SourceControlInputBoxValidationType:B.SourceControlInputBoxValidationType,ExtensionRuntime:B.ExtensionRuntime,TimelineItem:B.TimelineItem,NotebookRange:B.NotebookRange,NotebookCellKind:B.NotebookCellKind,NotebookCellExecutionState:B.NotebookCellExecutionState,NotebookCellData:B.NotebookCellData,NotebookData:B.NotebookData,NotebookRendererScript:B.NotebookRendererScript,NotebookCellStatusBarAlignment:B.NotebookCellStatusBarAlignment,NotebookEditorRevealType:B.NotebookEditorRevealType,NotebookCellOutput:B.NotebookCellOutput,NotebookCellOutputItem:B.NotebookCellOutputItem,NotebookCellStatusBarItem:B.NotebookCellStatusBarItem,NotebookControllerAffinity:B.NotebookControllerAffinity,NotebookControllerAffinity2:B.NotebookControllerAffinity2,NotebookEdit:B.NotebookEdit,NotebookKernelSourceAction:B.NotebookKernelSourceAction,PortAttributes:B.PortAttributes,LinkedEditingRanges:B.LinkedEditingRanges,TestResultState:B.TestResultState,TestRunRequest:B.TestRunRequest,TestRunRequest2:B.TestRunRequest2,TestMessage:B.TestMessage,TestTag:B.TestTag,TestRunProfileKind:B.TestRunProfileKind,TextSearchCompleteMessageType:Ne.TextSearchCompleteMessageType,DataTransfer:B.DataTransfer,DataTransferItem:B.DataTransferItem,CoveredCount:B.CoveredCount,FileCoverage:B.FileCoverage,StatementCoverage:B.StatementCoverage,BranchCoverage:B.BranchCoverage,FunctionCoverage:B.FunctionCoverage,WorkspaceTrustState:B.WorkspaceTrustState,LanguageStatusSeverity:B.LanguageStatusSeverity,QuickPickItemKind:B.QuickPickItemKind,InputBoxValidationSeverity:B.InputBoxValidationSeverity,TabInputText:B.TextTabInput,TabInputTextDiff:B.TextDiffTabInput,TabInputTextMerge:B.TextMergeTabInput,TabInputCustom:B.CustomEditorTabInput,TabInputNotebook:B.NotebookEditorTabInput,TabInputNotebookDiff:B.NotebookDiffEditorTabInput,TabInputWebview:B.WebviewEditorTabInput,TabInputTerminal:B.TerminalEditorTabInput,TabInputInteractiveWindow:B.InteractiveWindowInput,TelemetryTrustedValue:J.TelemetryTrustedValue,LogLevel:ze.LogLevel,EditSessionIdentityMatch:Et.EditSessionIdentityMatch}}}e.createApiFactoryAndRegisterActors=Dt}),define(ke[256],Te([1,0,255,33,2,249,7,17,240]),function(ne,e,i,T,I,N,E,R,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtHostExtensionService=void 0;class k extends N.RequireInterceptor{j(){}getModule(b,g){for(const a of this.b){const o=a(b);if(o){b=o;break}}if(this.a.has(b))return this.a.get(b).load(b,g,()=>{throw new Error("CANNOT LOAD MODULE from here.")})}}class M extends T.AbstractExtHostExtensionService{constructor(){super(...arguments),this.extensionRuntime=E.ExtensionRuntime.Webworker}async ob(){this.h.createInstance(S.ExtHostConsoleForwarder);const b=this.h.invokeFunction(i.createApiFactoryAndRegisterActors);this.r=this.h.createInstance(k,b,{mine:this.D,all:this.F}),await this.r.install(),performance.mark("code/extHost/didInitAPI"),await this.ub()}pb(b){return b.browser}async qb(b,g,a){g=g.with({path:D(g.path,".js")});const o=b?.identifier.value;o&&performance.mark(`code/extHost/willFetchExtensionCode/${o}`);const l=I.URI.revive(await this.v.$asBrowserUri(g)),p=await fetch(l.toString(!0));if(o&&performance.mark(`code/extHost/didFetchExtensionCode/${o}`),p.status!==200)throw new Error(p.statusText);const w=await p.text(),O=`${g.toString(!0)}#vscode-extension`,v=`${w}
//# sourceURL=${O}`;let t;try{t=new Function("module","exports","require",v)}catch(c){throw console.error(o?`Loading code for extension ${o} failed: ${c.message}`:`Loading code failed: ${c.message}`),console.error(`${g.toString(!0)}${typeof c.line=="number"?` line ${c.line}`:""}${typeof c.column=="number"?` column ${c.column}`:""}`),console.error(c),c}b&&await this.s.initializeLocalizedMessages(b);const d={},r={exports:d},u=c=>{const y=this.r.getModule(c,g);if(y===void 0)throw new Error(`Cannot load module '${c}'`);return y};try{return a.codeLoadingStart(),o&&performance.mark(`code/extHost/willLoadExtensionCode/${o}`),t(r,d,u),r.exports!==d?r.exports:d}finally{o&&performance.mark(`code/extHost/didLoadExtensionCode/${o}`),a.codeLoadingStop()}}async $setRemoteEnvironment(b){}async ub(b=5e3){if(!this.f.environment.isExtensionDevelopmentDebug)return;const g=Date.now()+b;for(;Date.now()<g&&!("__jsDebugIsReady"in globalThis);)await(0,R.timeout)(10)}}e.ExtHostExtensionService=M;function D(h,b){return h.endsWith(b)?h:h+b}}),define(ke[257],Te([1,0,67,33,81,256]),function(ne,e,i,T,I,N){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,i.registerSingleton)(T.IExtHostExtensionService,N.ExtHostExtensionService,0),(0,i.registerSingleton)(I.IExtensionStoragePaths,I.ExtensionStoragePaths,0)}),define(ke[265],Te([1,0,23,4,74,250,242,19,82,15,2,252,257]),function(ne,e,i,T,I,N,E,R,S,k,M){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=void 0;const D=self.close.bind(self);self.close=()=>console.trace("'close' has been blocked");const h=postMessage.bind(self);self.postMessage=()=>console.trace("'postMessage' has been blocked");function b(t){return/^(file|vscode-remote):/i.test(t)}const g=fetch.bind(self);function a(t){self.fetch=async function(d,r){return d instanceof Request||b(String(d))&&(d=(await t(M.URI.parse(String(d)))).toString(!0)),g(d,r)},self.XMLHttpRequest=class extends XMLHttpRequest{open(d,r,u,c,y){(async()=>(b(r.toString())&&(r=(await t(M.URI.parse(r.toString()))).toString(!0)),super.open(d,r,u??!0,c,y)))()}}}if(self.importScripts=()=>{throw new Error("'importScripts' has been blocked")},self.addEventListener=()=>console.trace("'addEventListener' has been blocked"),self.AMDLoader=void 0,self.NLSLoaderPlugin=void 0,self.define=void 0,self.require=void 0,self.webkitRequestFileSystem=void 0,self.webkitRequestFileSystemSync=void 0,self.webkitResolveLocalFileSystemSyncURL=void 0,self.webkitResolveLocalFileSystemURL=void 0,self.Worker){const t=self.Worker;Worker=function(d,r){if(/^file:/i.test(d.toString()))d=k.FileAccess.uriToBrowserUri(M.URI.parse(d.toString())).toString(!0);else if(/^vscode-remote:/i.test(d.toString()))throw new Error("Creating workers from remote extensions is currently not supported.");const c=`(${function(f){function A(Y){return typeof Y=="string"||Y instanceof URL?String(Y).replace(/^file:\/\//i,"vscode-file://vscode-app"):Y}const P=fetch.bind(self);self.fetch=function(Y,Z){return Y instanceof Request?P(Y,Z):P(A(Y),Z)},self.XMLHttpRequest=class extends XMLHttpRequest{open(Y,Z,_,j,L){return super.open(Y,A(Z),_??!0,j,L)}};const H=importScripts.bind(self);self.importScripts=(...Y)=>{H(...Y.map(A))},H(f)}.toString()}('${d}'))`;r=r||{},r.name=r.name||R.basename(d.toString());const y=new Blob([c],{type:"application/javascript"}),n=URL.createObjectURL(y);return new t(n,r)}}else self.Worker=class extends E.NestedWorker{constructor(t,d){super(h,t,{name:R.basename(t.toString()),...d})}};const o=new class{constructor(){this.pid=void 0}exit(t){D()}async exists(t){return!0}async realpath(t){return t}};class l{constructor(){const d=new MessageChannel,r=new T.Emitter;let u=!1;h(d.port2,[d.port2]),d.port1.onmessage=c=>{const{data:y}=c;if(!(y instanceof ArrayBuffer)){console.warn("UNKNOWN data received",y);return}const n=i.VSBuffer.wrap(new Uint8Array(y,0,y.byteLength));if((0,I.isMessageOfType)(n,2)){u=!0,w("received terminate message from renderer");return}r.fire(n)},this.protocol={onMessage:r.event,send:c=>{if(!u){const y=c.buffer.buffer.slice(c.buffer.byteOffset,c.buffer.byteOffset+c.buffer.byteLength);d.port1.postMessage(y,[y])}}}}}function p(t){return new Promise(d=>{const r=t.onMessage(u=>{r.dispose();const c=JSON.parse(u.toString());t.send((0,I.createMessageOfType)(0)),d({protocol:t,initData:c})});t.send((0,I.createMessageOfType)(1))})}let w=t=>D();function O(t){return!!t&&typeof t=="object"&&t.type==="vscode.init"&&t.data instanceof Map}function v(){S.mark("code/extHost/willConnectToRenderer");const t=new l;return{onmessage(d){!O(d)||p(t.protocol).then(r=>{S.mark("code/extHost/didWaitForInitData");const u=new N.ExtensionHostMain(r.protocol,r.initData,o,null,d.data);a(c=>u.asBrowserUri(c)),w=c=>u.terminate(c)})}}}e.create=v})}).call(this);

//# sourceMappingURL=https://ticino.blob.core.windows.net/sourcemaps/5e805b79fcb6ba4c2d23712967df89a089da575b/core/vs/workbench/api/worker/extensionHostWorker.js.map
