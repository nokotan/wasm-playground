/*!--------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/(function(){var ce=["require","exports","vs/base/common/platform","vs/base/common/strings","vs/base/common/errors","vs/base/common/buffer","vs/base/common/path","vs/base/common/network","vs/base/common/lifecycle","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeBase","vs/editor/common/core/range","vs/base/common/extpath","vs/base/common/uri","vs/platform/instantiation/common/instantiation","vs/base/common/stream","vs/base/common/lazy","vs/base/common/symbols","vs/editor/common/core/eolCounter","vs/editor/common/model/pieceTreeTextBuffer/rbTreeBase","vs/editor/common/model","vs/editor/common/model/textModelSearch","vs/base/common/mime","vs/base/common/resources","vs/base/common/async","vs/base/common/event","vs/base/common/glob","vs/base/common/map","vs/editor/common/core/stringBuilder","vs/editor/common/core/textChange","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBuffer","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBufferBuilder","vs/nls!vs/platform/contextkey/common/contextkey","vs/nls","vs/nls!vs/workbench/contrib/notebook/common/services/notebookSimpleWorker","vs/nls!vs/platform/contextkey/common/scanner","vs/platform/contextkey/common/scanner","vs/platform/instantiation/common/descriptors","vs/platform/instantiation/common/extensions","vs/platform/contextkey/common/contextkey","vs/workbench/services/notebook/common/notebookDocumentService","vs/workbench/contrib/notebook/common/notebookCommon","vs/editor/common/core/position","vs/base/common/types","vs/base/common/cancellation","vs/base/common/arrays","vs/base/common/iterator","vs/workbench/contrib/notebook/common/services/notebookSimpleWorker","vs/base/common/diff/diff","vs/base/common/hash"],oe=function(he){for(var e=[],T=0,F=he.length;T<F;T++)e[T]=ce[he[T]];return e};define(ce[14],oe([0,1,4,8]),function(he,e,T,F){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$je=e.$ie=e.$he=e.$ge=e.$fe=e.$ee=e.$de=e.$ce=e.$be=e.$ae=e.$_d=e.$$d=e.$0d=e.$9d=e.$8d=void 0;function z(n){const r=n;return r?typeof r.read=="function":!1}e.$8d=z;function E(n){const r=n;return r?[r.on,r.pause,r.resume,r.destroy].every(h=>typeof h=="function"):!1}e.$9d=E;function U(n){const r=n;return r?E(r.stream)&&Array.isArray(r.buffer)&&typeof r.ended=="boolean":!1}e.$0d=U;function J(n,r){return new I(n,r)}e.$$d=J;class I{constructor(r,h){this.e=r,this.f=h,this.a={flowing:!1,ended:!1,destroyed:!1},this.b={data:[],error:[]},this.c={data:[],error:[],end:[]},this.d=[]}pause(){this.a.destroyed||(this.a.flowing=!1)}resume(){this.a.destroyed||this.a.flowing||(this.a.flowing=!0,this.j(),this.k(),this.l())}write(r){if(!this.a.destroyed){if(this.a.flowing)this.g(r);else if(this.b.data.push(r),typeof this.f?.highWaterMark=="number"&&this.b.data.length>this.f.highWaterMark)return new Promise(h=>this.d.push(h))}}error(r){this.a.destroyed||(this.a.flowing?this.h(r):this.b.error.push(r))}end(r){this.a.destroyed||(typeof r<"u"&&this.write(r),this.a.flowing?(this.i(),this.destroy()):this.a.ended=!0)}g(r){this.c.data.slice(0).forEach(h=>h(r))}h(r){this.c.error.length===0?(0,T.$1)(r):this.c.error.slice(0).forEach(h=>h(r))}i(){this.c.end.slice(0).forEach(r=>r())}on(r,h){if(!this.a.destroyed)switch(r){case"data":this.c.data.push(h),this.resume();break;case"end":this.c.end.push(h),this.a.flowing&&this.l()&&this.destroy();break;case"error":this.c.error.push(h),this.a.flowing&&this.k();break}}removeListener(r,h){if(this.a.destroyed)return;let m;switch(r){case"data":m=this.c.data;break;case"end":m=this.c.end;break;case"error":m=this.c.error;break}if(m){const S=m.indexOf(h);S>=0&&m.splice(S,1)}}j(){if(this.b.data.length>0){const r=this.e(this.b.data);this.g(r),this.b.data.length=0;const h=[...this.d];this.d.length=0,h.forEach(m=>m())}}k(){if(this.c.error.length>0){for(const r of this.b.error)this.h(r);this.b.error.length=0}}l(){return this.a.ended?(this.i(),this.c.end.length>0):!1}destroy(){this.a.destroyed||(this.a.destroyed=!0,this.a.ended=!0,this.b.data.length=0,this.b.error.length=0,this.c.data.length=0,this.c.error.length=0,this.c.end.length=0,this.d.length=0)}}function $(n,r){const h=[];let m;for(;(m=n.read())!==null;)h.push(m);return r(h)}e.$_d=$;function w(n,r,h){const m=[];let S;for(;(S=n.read())!==null&&m.length<h;)m.push(S);return S===null&&m.length>0?r(m):{read:()=>{if(m.length>0)return m.shift();if(typeof S<"u"){const P=S;return S=void 0,P}return n.read()}}}e.$ae=w;function D(n,r){return new Promise((h,m)=>{const S=[];a(n,{onData:P=>{r&&S.push(P)},onError:P=>{r?m(P):h(void 0)},onEnd:()=>{h(r?r(S):void 0)}})})}e.$be=D;function a(n,r,h){n.on("error",m=>{h?.isCancellationRequested||r.onError(m)}),n.on("end",()=>{h?.isCancellationRequested||r.onEnd()}),n.on("data",m=>{h?.isCancellationRequested||r.onData(m)})}e.$ce=a;function p(n,r){return new Promise((h,m)=>{const S=new F.$Sc,P=[],O=R=>{if(P.push(R),P.length>r)return S.dispose(),n.pause(),h({stream:n,buffer:P,ended:!1})},d=R=>(S.dispose(),m(R)),C=()=>(S.dispose(),h({stream:n,buffer:P,ended:!0}));S.add((0,F.$Rc)(()=>n.removeListener("error",d))),n.on("error",d),S.add((0,F.$Rc)(()=>n.removeListener("end",C))),n.on("end",C),S.add((0,F.$Rc)(()=>n.removeListener("data",O))),n.on("data",O)})}e.$de=p;function g(n,r){const h=J(r);return h.end(n),h}e.$ee=g;function o(){const n=J(()=>{throw new Error("not supported")});return n.end(),n}e.$fe=o;function l(n){let r=!1;return{read:()=>r?null:(r=!0,n)}}e.$ge=l;function u(n,r,h){const m=J(h);return a(n,{onData:S=>m.write(r.data(S)),onError:S=>m.error(r.error?r.error(S):S),onEnd:()=>m.end()}),m}e.$he=u;function t(n,r,h){let m=!1;return{read:()=>{const S=r.read();return m?S:(m=!0,S!==null?h([n,S]):n)}}}e.$ie=t;function s(n,r,h){let m=!1;const S=J(h);return a(r,{onData:P=>m?S.write(P):(m=!0,S.write(h([n,P]))),onError:P=>S.error(P),onEnd:()=>{m||(m=!0,S.write(n)),S.end()}}),S}e.$je=s}),define(ce[5],oe([0,1,15,14]),function(he,e,T,F){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Ee=e.$De=e.$Ce=e.$Be=e.$Ae=e.$ze=e.$ye=e.$xe=e.$we=e.$ve=e.$ue=e.$te=e.$se=e.$re=e.$qe=e.$pe=e.$oe=e.$ne=e.$me=e.$le=e.$ke=void 0;const z=typeof Buffer<"u",E=new T.$V(()=>new Uint8Array(256));let U,J;class I{static alloc(b){return z?new I(Buffer.allocUnsafe(b)):new I(new Uint8Array(b))}static wrap(b){return z&&!Buffer.isBuffer(b)&&(b=Buffer.from(b.buffer,b.byteOffset,b.byteLength)),new I(b)}static fromString(b,V){return!(V?.dontUseNodeBuffer||!1)&&z?new I(Buffer.from(b)):(U||(U=new TextEncoder),new I(U.encode(b)))}static fromByteArray(b){const V=I.alloc(b.length);for(let _=0,te=b.length;_<te;_++)V.buffer[_]=b[_];return V}static concat(b,V){if(typeof V>"u"){V=0;for(let re=0,ne=b.length;re<ne;re++)V+=b[re].byteLength}const _=I.alloc(V);let te=0;for(let re=0,ne=b.length;re<ne;re++){const ie=b[re];_.set(ie,te),te+=ie.byteLength}return _}constructor(b){this.buffer=b,this.byteLength=this.buffer.byteLength}clone(){const b=I.alloc(this.byteLength);return b.set(this),b}toString(){return z?this.buffer.toString():(J||(J=new TextDecoder),J.decode(this.buffer))}slice(b,V){return new I(this.buffer.subarray(b,V))}set(b,V){if(b instanceof I)this.buffer.set(b.buffer,V);else if(b instanceof Uint8Array)this.buffer.set(b,V);else if(b instanceof ArrayBuffer)this.buffer.set(new Uint8Array(b),V);else if(ArrayBuffer.isView(b))this.buffer.set(new Uint8Array(b.buffer,b.byteOffset,b.byteLength),V);else throw new Error("Unknown argument 'array'")}readUInt32BE(b){return a(this.buffer,b)}writeUInt32BE(b,V){p(this.buffer,b,V)}readUInt32LE(b){return g(this.buffer,b)}writeUInt32LE(b,V){o(this.buffer,b,V)}readUInt8(b){return l(this.buffer,b)}writeUInt8(b,V){u(this.buffer,b,V)}indexOf(b,V=0){return $(this.buffer,b instanceof I?b.buffer:b,V)}}e.$ke=I;function $(B,b,V=0){const _=b.byteLength,te=B.byteLength;if(_===0)return 0;if(_===1)return B.indexOf(b[0]);if(_>te-V)return-1;const re=E.value;re.fill(b.length);for(let y=0;y<b.length;y++)re[b[y]]=b.length-y-1;let ne=V+b.length-1,ie=ne,le=-1;for(;ne<te;)if(B[ne]===b[ie]){if(ie===0){le=ne;break}ne--,ie--}else ne+=Math.max(b.length-ie,re[B[ne]]),ie=b.length-1;return le}e.$le=$;function w(B,b){return B[b+0]<<0>>>0|B[b+1]<<8>>>0}e.$me=w;function D(B,b,V){B[V+0]=b&255,b=b>>>8,B[V+1]=b&255}e.$ne=D;function a(B,b){return B[b]*2**24+B[b+1]*2**16+B[b+2]*2**8+B[b+3]}e.$oe=a;function p(B,b,V){B[V+3]=b,b=b>>>8,B[V+2]=b,b=b>>>8,B[V+1]=b,b=b>>>8,B[V]=b}e.$pe=p;function g(B,b){return B[b+0]<<0>>>0|B[b+1]<<8>>>0|B[b+2]<<16>>>0|B[b+3]<<24>>>0}e.$qe=g;function o(B,b,V){B[V+0]=b&255,b=b>>>8,B[V+1]=b&255,b=b>>>8,B[V+2]=b&255,b=b>>>8,B[V+3]=b&255}e.$re=o;function l(B,b){return B[b]}e.$se=l;function u(B,b,V){B[V]=b}e.$te=u;function t(B){return F.$_d(B,b=>I.concat(b))}e.$ue=t;function s(B){return F.$ge(B)}e.$ve=s;function n(B){return F.$be(B,b=>I.concat(b))}e.$we=n;async function r(B){return B.ended?I.concat(B.buffer):I.concat([...B.buffer,await n(B.stream)])}e.$xe=r;function h(B){return F.$ee(B,b=>I.concat(b))}e.$ye=h;function m(B){return F.$he(B,{data:b=>typeof b=="string"?I.fromString(b):I.wrap(b)},b=>I.concat(b))}e.$ze=m;function S(B){return F.$$d(b=>I.concat(b),B)}e.$Ae=S;function P(B,b){return F.$ie(B,b,V=>I.concat(V))}e.$Be=P;function O(B,b){return F.$je(B,b,V=>I.concat(V))}e.$Ce=O;function d(B){let b=0,V=0,_=0;const te=new Uint8Array(Math.floor(B.length/4*3)),re=ie=>{switch(V){case 3:te[_++]=b|ie,V=0;break;case 2:te[_++]=b|ie>>>2,b=ie<<6,V=3;break;case 1:te[_++]=b|ie>>>4,b=ie<<4,V=2;break;default:b=ie<<2,V=1}};for(let ie=0;ie<B.length;ie++){const le=B.charCodeAt(ie);if(le>=65&&le<=90)re(le-65);else if(le>=97&&le<=122)re(le-97+26);else if(le>=48&&le<=57)re(le-48+52);else if(le===43||le===45)re(62);else if(le===47||le===95)re(63);else{if(le===61)break;throw new SyntaxError(`Unexpected base64 character ${B[ie]}`)}}const ne=_;for(;V>0;)re(0);return I.wrap(te).slice(0,ne)}e.$De=d;const C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";function G({buffer:B},b=!0,V=!1){const _=V?R:C;let te="";const re=B.byteLength%3;let ne=0;for(;ne<B.byteLength-re;ne+=3){const ie=B[ne+0],le=B[ne+1],y=B[ne+2];te+=_[ie>>>2],te+=_[(ie<<4|le>>>4)&63],te+=_[(le<<2|y>>>6)&63],te+=_[y&63]}if(re===1){const ie=B[ne+0];te+=_[ie>>>2],te+=_[ie<<4&63],b&&(te+="==")}else if(re===2){const ie=B[ne+0],le=B[ne+1];te+=_[ie>>>2],te+=_[(ie<<4|le>>>4)&63],te+=_[le<<2&63],b&&(te+="=")}return te}e.$Ee=G}),define(ce[16],oe([0,1]),function(he,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Td=void 0,e.$Td=Symbol("MicrotaskDelay")}),define(ce[17],oe([0,1]),function(he,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$vt=e.StringEOL=void 0;var T;(function(z){z[z.Unknown=0]="Unknown",z[z.Invalid=3]="Invalid",z[z.LF=1]="LF",z[z.CRLF=2]="CRLF"})(T||(e.StringEOL=T={}));function F(z){let E=0,U=0,J=0,I=0;for(let $=0,w=z.length;$<w;$++){const D=z.charCodeAt($);D===13?(E===0&&(U=$),E++,$+1<w&&z.charCodeAt($+1)===10?(I|=2,$++):I|=3,J=$+1):D===10&&(I|=1,E===0&&(U=$),E++,J=$+1)}return E===0&&(U=z.length),[E,U,z.length-J,I]}e.$vt=F}),define(ce[18],oe([0,1]),function(he,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$3B=e.$2B=e.$1B=e.$ZB=e.$YB=e.$XB=e.$WB=e.$VB=e.$UB=e.NodeColor=e.$TB=void 0;class T{constructor(l,u){this.piece=l,this.color=u,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==e.$UB)return z(this.right);let l=this;for(;l.parent!==e.$UB&&l.parent.left!==l;)l=l.parent;return l.parent===e.$UB?e.$UB:l.parent}prev(){if(this.left!==e.$UB)return E(this.left);let l=this;for(;l.parent!==e.$UB&&l.parent.right!==l;)l=l.parent;return l.parent===e.$UB?e.$UB:l.parent}detach(){this.parent=null,this.left=null,this.right=null}}e.$TB=T;var F;(function(o){o[o.Black=0]="Black",o[o.Red=1]="Red"})(F||(e.NodeColor=F={})),e.$UB=new T(null,0),e.$UB.parent=e.$UB,e.$UB.left=e.$UB,e.$UB.right=e.$UB,e.$UB.color=0;function z(o){for(;o.left!==e.$UB;)o=o.left;return o}e.$VB=z;function E(o){for(;o.right!==e.$UB;)o=o.right;return o}e.$WB=E;function U(o){return o===e.$UB?0:o.size_left+o.piece.length+U(o.right)}function J(o){return o===e.$UB?0:o.lf_left+o.piece.lineFeedCnt+J(o.right)}function I(){e.$UB.parent=e.$UB}function $(o,l){const u=l.right;u.size_left+=l.size_left+(l.piece?l.piece.length:0),u.lf_left+=l.lf_left+(l.piece?l.piece.lineFeedCnt:0),l.right=u.left,u.left!==e.$UB&&(u.left.parent=l),u.parent=l.parent,l.parent===e.$UB?o.root=u:l.parent.left===l?l.parent.left=u:l.parent.right=u,u.left=l,l.parent=u}e.$XB=$;function w(o,l){const u=l.left;l.left=u.right,u.right!==e.$UB&&(u.right.parent=l),u.parent=l.parent,l.size_left-=u.size_left+(u.piece?u.piece.length:0),l.lf_left-=u.lf_left+(u.piece?u.piece.lineFeedCnt:0),l.parent===e.$UB?o.root=u:l===l.parent.right?l.parent.right=u:l.parent.left=u,u.right=l,l.parent=u}e.$YB=w;function D(o,l){let u,t;if(l.left===e.$UB?(t=l,u=t.right):l.right===e.$UB?(t=l,u=t.left):(t=z(l.right),u=t.right),t===o.root){o.root=u,u.color=0,l.detach(),I(),o.root.parent=e.$UB;return}const s=t.color===1;if(t===t.parent.left?t.parent.left=u:t.parent.right=u,t===l?(u.parent=t.parent,g(o,u)):(t.parent===l?u.parent=t:u.parent=t.parent,g(o,u),t.left=l.left,t.right=l.right,t.parent=l.parent,t.color=l.color,l===o.root?o.root=t:l===l.parent.left?l.parent.left=t:l.parent.right=t,t.left!==e.$UB&&(t.left.parent=t),t.right!==e.$UB&&(t.right.parent=t),t.size_left=l.size_left,t.lf_left=l.lf_left,g(o,t)),l.detach(),u.parent.left===u){const r=U(u),h=J(u);if(r!==u.parent.size_left||h!==u.parent.lf_left){const m=r-u.parent.size_left,S=h-u.parent.lf_left;u.parent.size_left=r,u.parent.lf_left=h,p(o,u.parent,m,S)}}if(g(o,u.parent),s){I();return}let n;for(;u!==o.root&&u.color===0;)u===u.parent.left?(n=u.parent.right,n.color===1&&(n.color=0,u.parent.color=1,$(o,u.parent),n=u.parent.right),n.left.color===0&&n.right.color===0?(n.color=1,u=u.parent):(n.right.color===0&&(n.left.color=0,n.color=1,w(o,n),n=u.parent.right),n.color=u.parent.color,u.parent.color=0,n.right.color=0,$(o,u.parent),u=o.root)):(n=u.parent.left,n.color===1&&(n.color=0,u.parent.color=1,w(o,u.parent),n=u.parent.left),n.left.color===0&&n.right.color===0?(n.color=1,u=u.parent):(n.left.color===0&&(n.right.color=0,n.color=1,$(o,n),n=u.parent.left),n.color=u.parent.color,u.parent.color=0,n.left.color=0,w(o,u.parent),u=o.root));u.color=0,I()}e.$ZB=D;function a(o,l){for(g(o,l);l!==o.root&&l.parent.color===1;)if(l.parent===l.parent.parent.left){const u=l.parent.parent.right;u.color===1?(l.parent.color=0,u.color=0,l.parent.parent.color=1,l=l.parent.parent):(l===l.parent.right&&(l=l.parent,$(o,l)),l.parent.color=0,l.parent.parent.color=1,w(o,l.parent.parent))}else{const u=l.parent.parent.left;u.color===1?(l.parent.color=0,u.color=0,l.parent.parent.color=1,l=l.parent.parent):(l===l.parent.left&&(l=l.parent,w(o,l)),l.parent.color=0,l.parent.parent.color=1,$(o,l.parent.parent))}o.root.color=0}e.$1B=a;function p(o,l,u,t){for(;l!==o.root&&l!==e.$UB;)l.parent.left===l&&(l.parent.size_left+=u,l.parent.lf_left+=t),l=l.parent}e.$2B=p;function g(o,l){let u=0,t=0;if(l!==o.root){for(;l!==o.root&&l===l.parent.right;)l=l.parent;if(l!==o.root)for(l=l.parent,u=U(l.left)-l.size_left,t=J(l.left)-l.lf_left,l.size_left+=u,l.lf_left+=t;l!==o.root&&(u!==0||t!==0);)l.parent.left===l&&(l.parent.size_left+=u,l.parent.lf_left+=t),l=l.parent}}e.$3B=g}),define(ce[9],oe([0,1,41,10,19,18,20]),function(he,e,T,F,z,E,U){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$bC=e.$aC=e.$_B=e.$$B=e.$0B=void 0;const J=65535;function I(u){let t;return u[u.length-1]<65536?t=new Uint16Array(u.length):t=new Uint32Array(u.length),t.set(u,0),t}class ${constructor(t,s,n,r,h){this.lineStarts=t,this.cr=s,this.lf=n,this.crlf=r,this.isBasicASCII=h}}function w(u,t=!0){const s=[0];let n=1;for(let r=0,h=u.length;r<h;r++){const m=u.charCodeAt(r);m===13?r+1<h&&u.charCodeAt(r+1)===10?(s[n++]=r+2,r++):s[n++]=r+1:m===10&&(s[n++]=r+1)}return t?I(s):s}e.$0B=w;function D(u,t){u.length=0,u[0]=0;let s=1,n=0,r=0,h=0,m=!0;for(let P=0,O=t.length;P<O;P++){const d=t.charCodeAt(P);d===13?P+1<O&&t.charCodeAt(P+1)===10?(h++,u[s++]=P+2,P++):(n++,u[s++]=P+1):d===10?(r++,u[s++]=P+1):m&&d!==9&&(d<32||d>126)&&(m=!1)}const S=new $(I(u),n,r,h,m);return u.length=0,S}e.$$B=D;class a{constructor(t,s,n,r,h){this.bufferIndex=t,this.start=s,this.end=n,this.lineFeedCnt=r,this.length=h}}e.$_B=a;class p{constructor(t,s){this.buffer=t,this.lineStarts=s}}e.$aC=p;class g{constructor(t,s){this.a=[],this.c=t,this.d=s,this.b=0,t.root!==E.$UB&&t.iterate(t.root,n=>(n!==E.$UB&&this.a.push(n.piece),!0))}read(){return this.a.length===0?this.b===0?(this.b++,this.d):null:this.b>this.a.length-1?null:this.b===0?this.d+this.c.getPieceContent(this.a[this.b++]):this.c.getPieceContent(this.a[this.b++])}}class o{constructor(t){this.a=t,this.b=[]}get(t){for(let s=this.b.length-1;s>=0;s--){const n=this.b[s];if(n.nodeStartOffset<=t&&n.nodeStartOffset+n.node.piece.length>=t)return n}return null}get2(t){for(let s=this.b.length-1;s>=0;s--){const n=this.b[s];if(n.nodeStartLineNumber&&n.nodeStartLineNumber<t&&n.nodeStartLineNumber+n.node.piece.lineFeedCnt>=t)return n}return null}set(t){this.b.length>=this.a&&this.b.shift(),this.b.push(t)}validate(t){let s=!1;const n=this.b;for(let r=0;r<n.length;r++){const h=n[r];if(h.node.parent===null||h.nodeStartOffset>=t){n[r]=null,s=!0;continue}}if(s){const r=[];for(const h of n)h!==null&&r.push(h);this.b=r}}}class l{constructor(t,s,n){this.create(t,s,n)}create(t,s,n){this.a=[new p("",[0])],this.g={line:0,column:0},this.root=E.$UB,this.b=1,this.c=0,this.d=s,this.e=s.length,this.f=n;let r=null;for(let h=0,m=t.length;h<m;h++)if(t[h].buffer.length>0){t[h].lineStarts||(t[h].lineStarts=w(t[h].buffer));const S=new a(h+1,{line:0,column:0},{line:t[h].lineStarts.length-1,column:t[h].buffer.length-t[h].lineStarts[t[h].lineStarts.length-1]},t[h].lineStarts.length-1,t[h].buffer.length);this.a.push(t[h]),r=this.S(r,S)}this.h=new o(1),this.j={lineNumber:0,value:""},this.y()}normalizeEOL(t){const s=J,n=s-Math.floor(s/3),r=n*2;let h="",m=0;const S=[];if(this.iterate(this.root,P=>{const O=this.R(P),d=O.length;if(m<=n||m+d<r)return h+=O,m+=d,!0;const C=h.replace(/\r\n|\r|\n/g,t);return S.push(new p(C,w(C))),h=O,m=d,!0}),m>0){const P=h.replace(/\r\n|\r|\n/g,t);S.push(new p(P,w(P)))}this.create(S,t,!0)}getEOL(){return this.d}setEOL(t){this.d=t,this.e=this.d.length,this.normalizeEOL(t)}createSnapshot(t){return new g(this,t)}equal(t){if(this.getLength()!==t.getLength()||this.getLineCount()!==t.getLineCount())return!1;let s=0;return this.iterate(this.root,r=>{if(r===E.$UB)return!0;const h=this.R(r),m=h.length,S=t.G(s),P=t.G(s+m),O=t.getValueInRange2(S,P);return s+=m,h===O})}getOffsetAt(t,s){let n=0,r=this.root;for(;r!==E.$UB;)if(r.left!==E.$UB&&r.lf_left+1>=t)r=r.left;else if(r.lf_left+r.piece.lineFeedCnt+1>=t){n+=r.size_left;const h=this.B(r,t-r.lf_left-2);return n+=h+s-1}else t-=r.lf_left+r.piece.lineFeedCnt,n+=r.size_left+r.piece.length,r=r.right;return n}getPositionAt(t){t=Math.floor(t),t=Math.max(0,t);let s=this.root,n=0;const r=t;for(;s!==E.$UB;)if(s.size_left!==0&&s.size_left>=t)s=s.left;else if(s.size_left+s.piece.length>=t){const h=this.A(s,t-s.size_left);if(n+=s.lf_left+h.index,h.index===0){const m=this.getOffsetAt(n+1,1),S=r-m;return new T.$Us(n+1,S+1)}return new T.$Us(n+1,h.remainder+1)}else if(t-=s.size_left+s.piece.length,n+=s.lf_left+s.piece.lineFeedCnt,s.right===E.$UB){const h=this.getOffsetAt(n+1,1),m=r-t-h;return new T.$Us(n+1,m+1)}else s=s.right;return new T.$Us(1,1)}getValueInRange(t,s){if(t.startLineNumber===t.endLineNumber&&t.startColumn===t.endColumn)return"";const n=this.H(t.startLineNumber,t.startColumn),r=this.H(t.endLineNumber,t.endColumn),h=this.getValueInRange2(n,r);return s?s!==this.d||!this.f?h.replace(/\r\n|\r|\n/g,s):s===this.getEOL()&&this.f?h:h.replace(/\r\n|\r|\n/g,s):h}getValueInRange2(t,s){if(t.node===s.node){const S=t.node,P=this.a[S.piece.bufferIndex].buffer,O=this.u(S.piece.bufferIndex,S.piece.start);return P.substring(O+t.remainder,O+s.remainder)}let n=t.node;const r=this.a[n.piece.bufferIndex].buffer,h=this.u(n.piece.bufferIndex,n.piece.start);let m=r.substring(h+t.remainder,h+n.piece.length);for(n=n.next();n!==E.$UB;){const S=this.a[n.piece.bufferIndex].buffer,P=this.u(n.piece.bufferIndex,n.piece.start);if(n===s.node){m+=S.substring(P,P+s.remainder);break}else m+=S.substr(P,n.piece.length);n=n.next()}return m}getLinesContent(){const t=[];let s=0,n="",r=!1;return this.iterate(this.root,h=>{if(h===E.$UB)return!0;const m=h.piece;let S=m.length;if(S===0)return!0;const P=this.a[m.bufferIndex].buffer,O=this.a[m.bufferIndex].lineStarts,d=m.start.line,C=m.end.line;let R=O[d]+m.start.column;if(r&&(P.charCodeAt(R)===10&&(R++,S--),t[s++]=n,n="",r=!1,S===0))return!0;if(d===C)return!this.f&&P.charCodeAt(R+S-1)===13?(r=!0,n+=P.substr(R,S-1)):n+=P.substr(R,S),!0;n+=this.f?P.substring(R,Math.max(R,O[d+1]-this.e)):P.substring(R,O[d+1]).replace(/(\r\n|\r|\n)$/,""),t[s++]=n;for(let G=d+1;G<C;G++)n=this.f?P.substring(O[G],O[G+1]-this.e):P.substring(O[G],O[G+1]).replace(/(\r\n|\r|\n)$/,""),t[s++]=n;return!this.f&&P.charCodeAt(O[C]+m.end.column-1)===13?(r=!0,m.end.column===0?s--:n=P.substr(O[C],m.end.column-1)):n=P.substr(O[C],m.end.column),!0}),r&&(t[s++]=n,n=""),t[s++]=n,t}getLength(){return this.c}getLineCount(){return this.b}getLineContent(t){return this.j.lineNumber===t?this.j.value:(this.j.lineNumber=t,t===this.b?this.j.value=this.getLineRawContent(t):this.f?this.j.value=this.getLineRawContent(t,this.e):this.j.value=this.getLineRawContent(t).replace(/(\r\n|\r|\n)$/,""),this.j.value)}l(t){if(t.remainder===t.node.piece.length){const s=t.node.next();if(!s)return 0;const n=this.a[s.piece.bufferIndex],r=this.u(s.piece.bufferIndex,s.piece.start);return n.buffer.charCodeAt(r)}else{const s=this.a[t.node.piece.bufferIndex],r=this.u(t.node.piece.bufferIndex,t.node.piece.start)+t.remainder;return s.buffer.charCodeAt(r)}}getLineCharCode(t,s){const n=this.H(t,s+1);return this.l(n)}getLineLength(t){if(t===this.getLineCount()){const s=this.getOffsetAt(t,1);return this.getLength()-s}return this.getOffsetAt(t+1,1)-this.getOffsetAt(t,1)-this.e}getCharCode(t){const s=this.G(t);return this.l(s)}findMatchesInNode(t,s,n,r,h,m,S,P,O,d,C){const R=this.a[t.piece.bufferIndex],G=this.u(t.piece.bufferIndex,t.piece.start),B=this.u(t.piece.bufferIndex,h),b=this.u(t.piece.bufferIndex,m);let V;const _={line:0,column:0};let te,re;s._wordSeparators?(te=R.buffer.substring(B,b),re=ne=>ne+B,s.reset(0)):(te=R.buffer,re=ne=>ne,s.reset(B));do if(V=s.next(te),V){if(re(V.index)>=b)return d;this.s(t,re(V.index)-G,_);const ne=this.t(t.piece.bufferIndex,h,_),ie=_.line===h.line?_.column-h.column+r:_.column+1,le=ie+V[0].length;if(C[d++]=(0,U.$6B)(new F.$Vs(n+ne,ie,n+ne,le),V,P),re(V.index)+V[0].length>=b||d>=O)return d}while(V);return d}findMatchesLineByLine(t,s,n,r){const h=[];let m=0;const S=new U.$9B(s.wordSeparators,s.regex);let P=this.H(t.startLineNumber,t.startColumn);if(P===null)return[];const O=this.H(t.endLineNumber,t.endColumn);if(O===null)return[];let d=this.s(P.node,P.remainder);const C=this.s(O.node,O.remainder);if(P.node===O.node)return this.findMatchesInNode(P.node,S,t.startLineNumber,t.startColumn,d,C,s,n,r,m,h),h;let R=t.startLineNumber,G=P.node;for(;G!==O.node;){const b=this.t(G.piece.bufferIndex,d,G.piece.end);if(b>=1){const _=this.a[G.piece.bufferIndex].lineStarts,te=this.u(G.piece.bufferIndex,G.piece.start),re=_[d.line+b],ne=R===t.startLineNumber?t.startColumn:1;if(m=this.findMatchesInNode(G,S,R,ne,d,this.s(G,re-te),s,n,r,m,h),m>=r)return h;R+=b}const V=R===t.startLineNumber?t.startColumn-1:0;if(R===t.endLineNumber){const _=this.getLineContent(R).substring(V,t.endColumn-1);return m=this.n(s,S,_,t.endLineNumber,V,m,h,n,r),h}if(m=this.n(s,S,this.getLineContent(R).substr(V),R,V,m,h,n,r),m>=r)return h;R++,P=this.H(R,1),G=P.node,d=this.s(P.node,P.remainder)}if(R===t.endLineNumber){const b=R===t.startLineNumber?t.startColumn-1:0,V=this.getLineContent(R).substring(b,t.endColumn-1);return m=this.n(s,S,V,t.endLineNumber,b,m,h,n,r),h}const B=R===t.startLineNumber?t.startColumn:1;return m=this.findMatchesInNode(O.node,S,R,B,d,C,s,n,r,m,h),h}n(t,s,n,r,h,m,S,P,O){const d=t.wordSeparators;if(!P&&t.simpleSearch){const R=t.simpleSearch,G=R.length,B=n.length;let b=-G;for(;(b=n.indexOf(R,b+G))!==-1;)if((!d||(0,U.$8B)(d,n,B,b,G))&&(S[m++]=new z.$bv(new F.$Vs(r,b+1+h,r,b+1+G+h),null),m>=O))return m;return m}let C;s.reset(0);do if(C=s.next(n),C&&(S[m++]=(0,U.$6B)(new F.$Vs(r,C.index+1+h,r,C.index+1+C[0].length+h),C,P),m>=O))return m;while(C);return m}insert(t,s,n=!1){if(this.f=this.f&&n,this.j.lineNumber=0,this.j.value="",this.root!==E.$UB){const{node:r,remainder:h,nodeStartOffset:m}=this.G(t),S=r.piece,P=S.bufferIndex,O=this.s(r,h);if(r.piece.bufferIndex===0&&S.end.line===this.g.line&&S.end.column===this.g.column&&m+S.length===t&&s.length<J){this.F(r,s),this.y();return}if(m===t)this.o(s,r),this.h.validate(t);else if(m+r.piece.length>t){const d=[];let C=new a(S.bufferIndex,O,S.end,this.t(S.bufferIndex,O,S.end),this.u(P,S.end)-this.u(P,O));if(this.K()&&this.M(s)&&this.I(r,h)===10){const b={line:C.start.line+1,column:0};C=new a(C.bufferIndex,b,C.end,this.t(C.bufferIndex,b,C.end),C.length-1),s+=`
`}if(this.K()&&this.L(s))if(this.I(r,h-1)===13){const b=this.s(r,h-1);this.C(r,b),s="\r"+s,r.piece.length===0&&d.push(r)}else this.C(r,O);else this.C(r,O);const R=this.w(s);C.length>0&&this.S(r,C);let G=r;for(let B=0;B<R.length;B++)G=this.S(G,R[B]);this.v(d)}else this.q(s,r)}else{const r=this.w(s);let h=this.T(null,r[0]);for(let m=1;m<r.length;m++)h=this.S(h,r[m])}this.y()}delete(t,s){if(this.j.lineNumber=0,this.j.value="",s<=0||this.root===E.$UB)return;const n=this.G(t),r=this.G(t+s),h=n.node,m=r.node;if(h===m){const R=this.s(h,n.remainder),G=this.s(h,r.remainder);if(n.nodeStartOffset===t){if(s===h.piece.length){const B=h.next();(0,E.$ZB)(this,h),this.N(B),this.y();return}this.D(h,G),this.h.validate(t),this.N(h),this.y();return}if(n.nodeStartOffset+h.piece.length===t+s){this.C(h,R),this.O(h),this.y();return}this.E(h,R,G),this.y();return}const S=[],P=this.s(h,n.remainder);this.C(h,P),this.h.validate(t),h.piece.length===0&&S.push(h);const O=this.s(m,r.remainder);this.D(m,O),m.piece.length===0&&S.push(m);const d=h.next();for(let R=d;R!==E.$UB&&R!==m;R=R.next())S.push(R);const C=h.piece.length===0?h.prev():h;this.v(S),this.O(C),this.y()}o(t,s){const n=[];if(this.K()&&this.M(t)&&this.L(s)){const m=s.piece,S={line:m.start.line+1,column:0},P=new a(m.bufferIndex,S,m.end,this.t(m.bufferIndex,S,m.end),m.length-1);s.piece=P,t+=`
`,(0,E.$2B)(this,s,-1,-1),s.piece.length===0&&n.push(s)}const r=this.w(t);let h=this.T(s,r[r.length-1]);for(let m=r.length-2;m>=0;m--)h=this.T(h,r[m]);this.N(h),this.v(n)}q(t,s){this.Q(t,s)&&(t+=`
`);const n=this.w(t),r=this.S(s,n[0]);let h=r;for(let m=1;m<n.length;m++)h=this.S(h,n[m]);this.N(r)}s(t,s,n){const r=t.piece,h=t.piece.bufferIndex,m=this.a[h].lineStarts,P=m[r.start.line]+r.start.column+s;let O=r.start.line,d=r.end.line,C=0,R=0,G=0;for(;O<=d&&(C=O+(d-O)/2|0,G=m[C],C!==d);)if(R=m[C+1],P<G)d=C-1;else if(P>=R)O=C+1;else break;return n?(n.line=C,n.column=P-G,null):{line:C,column:P-G}}t(t,s,n){if(n.column===0)return n.line-s.line;const r=this.a[t].lineStarts;if(n.line===r.length-1)return n.line-s.line;const h=r[n.line+1],m=r[n.line]+n.column;if(h>m+1)return n.line-s.line;const S=m-1;return this.a[t].buffer.charCodeAt(S)===13?n.line-s.line+1:n.line-s.line}u(t,s){return this.a[t].lineStarts[s.line]+s.column}v(t){for(let s=0;s<t.length;s++)(0,E.$ZB)(this,t[s])}w(t){if(t.length>J){const d=[];for(;t.length>J;){const R=t.charCodeAt(J-1);let G;R===13||R>=55296&&R<=56319?(G=t.substring(0,J-1),t=t.substring(J-1)):(G=t.substring(0,J),t=t.substring(J));const B=w(G);d.push(new a(this.a.length,{line:0,column:0},{line:B.length-1,column:G.length-B[B.length-1]},B.length-1,G.length)),this.a.push(new p(G,B))}const C=w(t);return d.push(new a(this.a.length,{line:0,column:0},{line:C.length-1,column:t.length-C[C.length-1]},C.length-1,t.length)),this.a.push(new p(t,C)),d}let s=this.a[0].buffer.length;const n=w(t,!1);let r=this.g;if(this.a[0].lineStarts[this.a[0].lineStarts.length-1]===s&&s!==0&&this.L(t)&&this.M(this.a[0].buffer)){this.g={line:this.g.line,column:this.g.column+1},r=this.g;for(let d=0;d<n.length;d++)n[d]+=s+1;this.a[0].lineStarts=this.a[0].lineStarts.concat(n.slice(1)),this.a[0].buffer+="_"+t,s+=1}else{if(s!==0)for(let d=0;d<n.length;d++)n[d]+=s;this.a[0].lineStarts=this.a[0].lineStarts.concat(n.slice(1)),this.a[0].buffer+=t}const h=this.a[0].buffer.length,m=this.a[0].lineStarts.length-1,S=h-this.a[0].lineStarts[m],P={line:m,column:S},O=new a(0,r,P,this.t(0,r,P),h-s);return this.g=P,[O]}getLinesRawContent(){return this.U(this.root)}getLineRawContent(t,s=0){let n=this.root,r="";const h=this.h.get2(t);if(h){n=h.node;const m=this.B(n,t-h.nodeStartLineNumber-1),S=this.a[n.piece.bufferIndex].buffer,P=this.u(n.piece.bufferIndex,n.piece.start);if(h.nodeStartLineNumber+n.piece.lineFeedCnt===t)r=S.substring(P+m,P+n.piece.length);else{const O=this.B(n,t-h.nodeStartLineNumber);return S.substring(P+m,P+O-s)}}else{let m=0;const S=t;for(;n!==E.$UB;)if(n.left!==E.$UB&&n.lf_left>=t-1)n=n.left;else if(n.lf_left+n.piece.lineFeedCnt>t-1){const P=this.B(n,t-n.lf_left-2),O=this.B(n,t-n.lf_left-1),d=this.a[n.piece.bufferIndex].buffer,C=this.u(n.piece.bufferIndex,n.piece.start);return m+=n.size_left,this.h.set({node:n,nodeStartOffset:m,nodeStartLineNumber:S-(t-1-n.lf_left)}),d.substring(C+P,C+O-s)}else if(n.lf_left+n.piece.lineFeedCnt===t-1){const P=this.B(n,t-n.lf_left-2),O=this.a[n.piece.bufferIndex].buffer,d=this.u(n.piece.bufferIndex,n.piece.start);r=O.substring(d+P,d+n.piece.length);break}else t-=n.lf_left+n.piece.lineFeedCnt,m+=n.size_left+n.piece.length,n=n.right}for(n=n.next();n!==E.$UB;){const m=this.a[n.piece.bufferIndex].buffer;if(n.piece.lineFeedCnt>0){const S=this.B(n,0),P=this.u(n.piece.bufferIndex,n.piece.start);return r+=m.substring(P,P+S-s),r}else{const S=this.u(n.piece.bufferIndex,n.piece.start);r+=m.substr(S,n.piece.length)}n=n.next()}return r}y(){let t=this.root,s=1,n=0;for(;t!==E.$UB;)s+=t.lf_left+t.piece.lineFeedCnt,n+=t.size_left+t.piece.length,t=t.right;this.b=s,this.c=n,this.h.validate(this.c)}A(t,s){const n=t.piece,r=this.s(t,s),h=r.line-n.start.line;if(this.u(n.bufferIndex,n.end)-this.u(n.bufferIndex,n.start)===s){const m=this.t(t.piece.bufferIndex,n.start,r);if(m!==h)return{index:m,remainder:0}}return{index:h,remainder:r.column}}B(t,s){if(s<0)return 0;const n=t.piece,r=this.a[n.bufferIndex].lineStarts,h=n.start.line+s+1;return h>n.end.line?r[n.end.line]+n.end.column-r[n.start.line]-n.start.column:r[h]-r[n.start.line]-n.start.column}C(t,s){const n=t.piece,r=n.lineFeedCnt,h=this.u(n.bufferIndex,n.end),m=s,S=this.u(n.bufferIndex,m),P=this.t(n.bufferIndex,n.start,m),O=P-r,d=S-h,C=n.length+d;t.piece=new a(n.bufferIndex,n.start,m,P,C),(0,E.$2B)(this,t,d,O)}D(t,s){const n=t.piece,r=n.lineFeedCnt,h=this.u(n.bufferIndex,n.start),m=s,S=this.t(n.bufferIndex,m,n.end),P=this.u(n.bufferIndex,m),O=S-r,d=h-P,C=n.length+d;t.piece=new a(n.bufferIndex,m,n.end,S,C),(0,E.$2B)(this,t,d,O)}E(t,s,n){const r=t.piece,h=r.start,m=r.end,S=r.length,P=r.lineFeedCnt,O=s,d=this.t(r.bufferIndex,r.start,O),C=this.u(r.bufferIndex,s)-this.u(r.bufferIndex,h);t.piece=new a(r.bufferIndex,r.start,O,d,C),(0,E.$2B)(this,t,C-S,d-P);const R=new a(r.bufferIndex,n,m,this.t(r.bufferIndex,n,m),this.u(r.bufferIndex,m)-this.u(r.bufferIndex,n)),G=this.S(t,R);this.N(G)}F(t,s){this.Q(s,t)&&(s+=`
`);const n=this.K()&&this.L(s)&&this.M(t),r=this.a[0].buffer.length;this.a[0].buffer+=s;const h=w(s,!1);for(let G=0;G<h.length;G++)h[G]+=r;if(n){const G=this.a[0].lineStarts[this.a[0].lineStarts.length-2];this.a[0].lineStarts.pop(),this.g={line:this.g.line-1,column:r-G}}this.a[0].lineStarts=this.a[0].lineStarts.concat(h.slice(1));const m=this.a[0].lineStarts.length-1,S=this.a[0].buffer.length-this.a[0].lineStarts[m],P={line:m,column:S},O=t.piece.length+s.length,d=t.piece.lineFeedCnt,C=this.t(0,t.piece.start,P),R=C-d;t.piece=new a(t.piece.bufferIndex,t.piece.start,P,C,O),this.g=P,(0,E.$2B)(this,t,s.length,R)}G(t){let s=this.root;const n=this.h.get(t);if(n)return{node:n.node,nodeStartOffset:n.nodeStartOffset,remainder:t-n.nodeStartOffset};let r=0;for(;s!==E.$UB;)if(s.size_left>t)s=s.left;else if(s.size_left+s.piece.length>=t){r+=s.size_left;const h={node:s,remainder:t-s.size_left,nodeStartOffset:r};return this.h.set(h),h}else t-=s.size_left+s.piece.length,r+=s.size_left+s.piece.length,s=s.right;return null}H(t,s){let n=this.root,r=0;for(;n!==E.$UB;)if(n.left!==E.$UB&&n.lf_left>=t-1)n=n.left;else if(n.lf_left+n.piece.lineFeedCnt>t-1){const h=this.B(n,t-n.lf_left-2),m=this.B(n,t-n.lf_left-1);return r+=n.size_left,{node:n,remainder:Math.min(h+s-1,m),nodeStartOffset:r}}else if(n.lf_left+n.piece.lineFeedCnt===t-1){const h=this.B(n,t-n.lf_left-2);if(h+s-1<=n.piece.length)return{node:n,remainder:h+s-1,nodeStartOffset:r};s-=n.piece.length-h;break}else t-=n.lf_left+n.piece.lineFeedCnt,r+=n.size_left+n.piece.length,n=n.right;for(n=n.next();n!==E.$UB;){if(n.piece.lineFeedCnt>0){const h=this.B(n,0),m=this.J(n);return{node:n,remainder:Math.min(s-1,h),nodeStartOffset:m}}else if(n.piece.length>=s-1){const h=this.J(n);return{node:n,remainder:s-1,nodeStartOffset:h}}else s-=n.piece.length;n=n.next()}return null}I(t,s){if(t.piece.lineFeedCnt<1)return-1;const n=this.a[t.piece.bufferIndex],r=this.u(t.piece.bufferIndex,t.piece.start)+s;return n.buffer.charCodeAt(r)}J(t){if(!t)return 0;let s=t.size_left;for(;t!==this.root;)t.parent.right===t&&(s+=t.parent.size_left+t.parent.piece.length),t=t.parent;return s}K(){return!(this.f&&this.d===`
`)}L(t){if(typeof t=="string")return t.charCodeAt(0)===10;if(t===E.$UB||t.piece.lineFeedCnt===0)return!1;const s=t.piece,n=this.a[s.bufferIndex].lineStarts,r=s.start.line,h=n[r]+s.start.column;return r===n.length-1||n[r+1]>h+1?!1:this.a[s.bufferIndex].buffer.charCodeAt(h)===10}M(t){return typeof t=="string"?t.charCodeAt(t.length-1)===13:t===E.$UB||t.piece.lineFeedCnt===0?!1:this.I(t,t.piece.length-1)===13}N(t){if(this.K()&&this.L(t)){const s=t.prev();this.M(s)&&this.P(s,t)}}O(t){if(this.K()&&this.M(t)){const s=t.next();this.L(s)&&this.P(t,s)}}P(t,s){const n=[],r=this.a[t.piece.bufferIndex].lineStarts;let h;t.piece.end.column===0?h={line:t.piece.end.line-1,column:r[t.piece.end.line]-r[t.piece.end.line-1]-1}:h={line:t.piece.end.line,column:t.piece.end.column-1};const m=t.piece.length-1,S=t.piece.lineFeedCnt-1;t.piece=new a(t.piece.bufferIndex,t.piece.start,h,S,m),(0,E.$2B)(this,t,-1,-1),t.piece.length===0&&n.push(t);const P={line:s.piece.start.line+1,column:0},O=s.piece.length-1,d=this.t(s.piece.bufferIndex,P,s.piece.end);s.piece=new a(s.piece.bufferIndex,P,s.piece.end,d,O),(0,E.$2B)(this,s,-1,-1),s.piece.length===0&&n.push(s);const C=this.w(`\r
`);this.S(t,C[0]);for(let R=0;R<n.length;R++)(0,E.$ZB)(this,n[R])}Q(t,s){if(this.K()&&this.M(t)){const n=s.next();if(this.L(n)){if(t+=`
`,n.piece.length===1)(0,E.$ZB)(this,n);else{const r=n.piece,h={line:r.start.line+1,column:0},m=r.length-1,S=this.t(r.bufferIndex,h,r.end);n.piece=new a(r.bufferIndex,h,r.end,S,m),(0,E.$2B)(this,n,-1,-1)}return!0}}return!1}iterate(t,s){if(t===E.$UB)return s(E.$UB);const n=this.iterate(t.left,s);return n&&s(t)&&this.iterate(t.right,s)}R(t){if(t===E.$UB)return"";const s=this.a[t.piece.bufferIndex],n=t.piece,r=this.u(n.bufferIndex,n.start),h=this.u(n.bufferIndex,n.end);return s.buffer.substring(r,h)}getPieceContent(t){const s=this.a[t.bufferIndex],n=this.u(t.bufferIndex,t.start),r=this.u(t.bufferIndex,t.end);return s.buffer.substring(n,r)}S(t,s){const n=new E.$TB(s,1);if(n.left=E.$UB,n.right=E.$UB,n.parent=E.$UB,n.size_left=0,n.lf_left=0,this.root===E.$UB)this.root=n,n.color=0;else if(t.right===E.$UB)t.right=n,n.parent=t;else{const h=(0,E.$VB)(t.right);h.left=n,n.parent=h}return(0,E.$1B)(this,n),n}T(t,s){const n=new E.$TB(s,1);if(n.left=E.$UB,n.right=E.$UB,n.parent=E.$UB,n.size_left=0,n.lf_left=0,this.root===E.$UB)this.root=n,n.color=0;else if(t.left===E.$UB)t.left=n,n.parent=t;else{const r=(0,E.$WB)(t.left);r.right=n,n.parent=r}return(0,E.$1B)(this,n),n}U(t){let s="";return this.iterate(t,n=>(s+=this.R(n),!0)),s}}e.$bC=l}),define(ce[11],oe([0,1,6,2,3,42]),function(he,e,T,F,z,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$eg=e.$dg=e.$cg=e.$bg=e.$ag=e.$_f=e.$$f=e.$0f=e.$9f=e.$8f=e.$7f=e.$6f=e.$5f=e.$4f=e.$3f=e.$2f=void 0;function U(d){return d===47||d===92}e.$2f=U;function J(d){return d.replace(/[\\/]/g,T.$gc.sep)}e.$3f=J;function I(d){return d.indexOf("/")===-1&&(d=J(d)),/^[a-zA-Z]:(\/|$)/.test(d)&&(d="/"+d),d}e.$4f=I;function $(d,C=T.$gc.sep){if(!d)return"";const R=d.length,G=d.charCodeAt(0);if(U(G)){if(U(d.charCodeAt(1))&&!U(d.charCodeAt(2))){let b=3;const V=b;for(;b<R&&!U(d.charCodeAt(b));b++);if(V!==b&&!U(d.charCodeAt(b+1))){for(b+=1;b<R;b++)if(U(d.charCodeAt(b)))return d.slice(0,b+1).replace(/[\\/]/g,C)}}return C}else if(u(G)&&d.charCodeAt(1)===58)return U(d.charCodeAt(2))?d.slice(0,2)+C:d.slice(0,2);let B=d.indexOf("://");if(B!==-1){for(B+=3;B<R;B++)if(U(d.charCodeAt(B)))return d.slice(0,B+1)}return""}e.$5f=$;function w(d){if(!F.$i||!d||d.length<5)return!1;let C=d.charCodeAt(0);if(C!==92||(C=d.charCodeAt(1),C!==92))return!1;let R=2;const G=R;for(;R<d.length&&(C=d.charCodeAt(R),C!==92);R++);return!(G===R||(C=d.charCodeAt(R+1),isNaN(C)||C===92))}e.$6f=w;const D=/[\\/:\*\?"<>\|]/g,a=/[\\/]/g,p=/^(con|prn|aux|clock\$|nul|lpt[0-9]|com[0-9])(\.(.*?))?$/i;function g(d,C=F.$i){const R=C?D:a;return!(!d||d.length===0||/^\s+$/.test(d)||(R.lastIndex=0,R.test(d))||C&&p.test(d)||d==="."||d===".."||C&&d[d.length-1]==="."||C&&d.length!==d.trim().length||d.length>255)}e.$7f=g;function o(d,C,R){const G=d===C;return!R||G?G:!d||!C?!1:(0,z.$af)(d,C)}e.$8f=o;function l(d,C,R,G=T.sep){if(d===C)return!0;if(!d||!C||C.length>d.length)return!1;if(R){if(!(0,z.$bf)(d,C))return!1;if(C.length===d.length)return!0;let b=C.length;return C.charAt(C.length-1)===G&&b--,d.charAt(b)===G}return C.charAt(C.length-1)!==G&&(C+=G),d.indexOf(C)===0}e.$9f=l;function u(d){return d>=65&&d<=90||d>=97&&d<=122}e.$0f=u;function t(d,C){return F.$i&&d.endsWith(":")&&(d+=T.sep),(0,T.$ic)(d)||(d=(0,T.$jc)(C,d)),d=(0,T.$hc)(d),F.$i?(d=(0,z.$Ve)(d,T.sep),d.endsWith(":")&&(d+=T.sep)):(d=(0,z.$Ve)(d,T.sep),d||(d=T.sep)),d}e.$$f=t;function s(d){const C=(0,T.$hc)(d);return F.$i?d.length>3?!1:n(C)&&(d.length===2||C.charCodeAt(2)===92):C===T.$gc.sep}e.$_f=s;function n(d,C=F.$i){return C?u(d.charCodeAt(0))&&d.charCodeAt(1)===58:!1}e.$ag=n;function r(d,C=F.$i){return n(d,C)?d[0]:void 0}e.$bg=r;function h(d,C,R){return C.length>d.length?-1:d===C?0:(R&&(d=d.toLowerCase(),C=C.toLowerCase()),d.indexOf(C))}e.$cg=h;function m(d){const C=d.split(":");let R,G,B;for(const b of C){const V=Number(b);(0,E.$Nf)(V)?G===void 0?G=V:B===void 0&&(B=V):R=R?[R,b].join(":"):b}if(!R)throw new Error("Format for `--goto` should be: `FILE:LINE(:COLUMN)`");return{path:R,line:G!==void 0?G:void 0,column:B!==void 0?B:G!==void 0?1:void 0}}e.$dg=m;const S="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",P="BDEFGHIJKMOQRSTUVWXYZbdefghijkmoqrstuvwxyz0123456789";function O(d,C,R=8){let G="";for(let b=0;b<R;b++){let V;b===0&&F.$i&&!C&&(R===3||R===4)?V=P:V=S,G+=V.charAt(Math.floor(Math.random()*V.length))}let B;return C?B=`${C}-${G}`:B=G,d?(0,T.$jc)(d,B):B}e.$eg=O}),define(ce[21],oe([0,1,6]),function(he,e,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$ks=e.$js=e.$is=e.$hs=e.$gs=void 0,e.$gs=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"});const F={".css":"text/css",".csv":"text/csv",".htm":"text/html",".html":"text/html",".ics":"text/calendar",".js":"text/javascript",".mjs":"text/javascript",".txt":"text/plain",".xml":"text/xml"},z={".aac":"audio/x-aac",".avi":"video/x-msvideo",".bmp":"image/bmp",".flv":"video/x-flv",".gif":"image/gif",".ico":"image/x-icon",".jpe":"image/jpg",".jpeg":"image/jpg",".jpg":"image/jpg",".m1v":"video/mpeg",".m2a":"audio/mpeg",".m2v":"video/mpeg",".m3a":"audio/mpeg",".mid":"audio/midi",".midi":"audio/midi",".mk3d":"video/x-matroska",".mks":"video/x-matroska",".mkv":"video/x-matroska",".mov":"video/quicktime",".movie":"video/x-sgi-movie",".mp2":"audio/mpeg",".mp2a":"audio/mpeg",".mp3":"audio/mpeg",".mp4":"video/mp4",".mp4a":"audio/mp4",".mp4v":"video/mp4",".mpe":"video/mpeg",".mpeg":"video/mpeg",".mpg":"video/mpeg",".mpg4":"video/mp4",".mpga":"audio/mpeg",".oga":"audio/ogg",".ogg":"audio/ogg",".opus":"audio/opus",".ogv":"video/ogg",".png":"image/png",".psd":"image/vnd.adobe.photoshop",".qt":"video/quicktime",".spx":"audio/ogg",".svg":"image/svg+xml",".tga":"image/x-tga",".tif":"image/tiff",".tiff":"image/tiff",".wav":"audio/x-wav",".webm":"video/webm",".webp":"image/webp",".wma":"audio/x-ms-wma",".wmv":"video/x-ms-wmv",".woff":"application/font-woff"};function E(w){const D=(0,T.$oc)(w),a=F[D.toLowerCase()];return a!==void 0?a:U(w)}e.$hs=E;function U(w){const D=(0,T.$oc)(w);return z[D.toLowerCase()]}e.$is=U;function J(w){for(const D in z)if(z[D]===w)return D}e.$js=J;const I=/^(.+)\/(.+?)(;.+)?$/;function $(w,D){const a=I.exec(w);return a?`${a[1].toLowerCase()}/${a[2].toLowerCase()}${a[3]??""}`:D?void 0:w}e.$ks=$}),define(ce[7],oe([0,1,4,2,3,12]),function(he,e,T,F,z,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.COI=e.$pg=e.$og=e.$ng=e.$mg=e.$lg=e.$kg=e.$jg=e.$ig=e.$hg=e.$gg=e.$fg=e.Schemas=void 0;var U;(function(a){a.inMemory="inmemory",a.vscode="vscode",a.internal="private",a.walkThrough="walkThrough",a.walkThroughSnippet="walkThroughSnippet",a.http="http",a.https="https",a.file="file",a.mailto="mailto",a.untitled="untitled",a.data="data",a.command="command",a.vscodeRemote="vscode-remote",a.vscodeRemoteResource="vscode-remote-resource",a.vscodeManagedRemoteResource="vscode-managed-remote-resource",a.vscodeUserData="vscode-userdata",a.vscodeCustomEditor="vscode-custom-editor",a.vscodeNotebookCell="vscode-notebook-cell",a.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",a.vscodeNotebookCellOutput="vscode-notebook-cell-output",a.vscodeInteractiveInput="vscode-interactive-input",a.vscodeSettings="vscode-settings",a.vscodeWorkspaceTrust="vscode-workspace-trust",a.vscodeTerminal="vscode-terminal",a.vscodeChatSesssion="vscode-chat-editor",a.webviewPanel="webview-panel",a.vscodeWebview="vscode-webview",a.extension="extension",a.vscodeFileResource="vscode-file",a.tmp="tmp",a.vsls="vsls",a.vscodeSourceControl="vscode-scm"})(U||(e.Schemas=U={}));function J(a,p){return E.URI.isUri(a)?(0,z.$af)(a.scheme,p):(0,z.$bf)(a,p+":")}e.$fg=J;function I(a,...p){return p.some(g=>J(a,g))}e.$gg=I,e.$hg="vscode-tkn",e.$ig="tkn";class ${constructor(){this.a=Object.create(null),this.b=Object.create(null),this.c=Object.create(null),this.d="http",this.e=null,this.f=`/${U.vscodeRemoteResource}`}setPreferredWebSchema(p){this.d=p}setDelegate(p){this.e=p}setServerRootPath(p){this.f=`${p}/${U.vscodeRemoteResource}`}set(p,g,o){this.a[p]=g,this.b[p]=o}setConnectionToken(p,g){this.c[p]=g}getPreferredWebSchema(){return this.d}rewrite(p){if(this.e)try{return this.e(p)}catch(s){return T.$1(s),p}const g=p.authority;let o=this.a[g];o&&o.indexOf(":")!==-1&&o.indexOf("[")===-1&&(o=`[${o}]`);const l=this.b[g],u=this.c[g];let t=`path=${encodeURIComponent(p.path)}`;return typeof u=="string"&&(t+=`&${e.$ig}=${encodeURIComponent(u)}`),E.URI.from({scheme:F.$o?this.d:U.vscodeRemoteResource,authority:`${o}:${l}`,path:this.f,query:t})}}e.$jg=new $,e.$kg="vs/../../extensions",e.$lg="vs/../../node_modules",e.$mg="vs/../../node_modules.asar",e.$ng="vs/../../node_modules.asar.unpacked",e.$og="vscode-app";class w{static{this.a=e.$og}asBrowserUri(p){const g=this.b(p,he);return this.uriToBrowserUri(g)}uriToBrowserUri(p){return p.scheme===U.vscodeRemote?e.$jg.rewrite(p):p.scheme===U.file&&(F.$m||F.$q===`${U.vscodeFileResource}://${w.a}`)?p.with({scheme:U.vscodeFileResource,authority:p.authority||w.a,query:null,fragment:null}):p}asFileUri(p){const g=this.b(p,he);return this.uriToFileUri(g)}uriToFileUri(p){return p.scheme===U.vscodeFileResource?p.with({scheme:U.file,authority:p.authority!==w.a?p.authority:null,query:null,fragment:null}):p}b(p,g){return E.URI.isUri(p)?p:E.URI.parse(g.toUrl(p))}}e.$pg=new w;var D;(function(a){const p=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);a.CoopAndCoep=Object.freeze(p.get("3"));const g="vscode-coi";function o(u){let t;typeof u=="string"?t=new URL(u).searchParams:u instanceof URL?t=u.searchParams:E.URI.isUri(u)&&(t=new URL(u.toString(!0)).searchParams);const s=t?.get(g);if(s)return p.get(s)}a.getHeadersFromQuery=o;function l(u,t,s){if(!globalThis.crossOriginIsolated)return;const n=t&&s?"3":s?"2":"1";u instanceof URLSearchParams?u.set(g,n):u[g]=n}a.addSearchParam=l})(D||(e.COI=D={}))}),define(ce[22],oe([0,1,11,7,6,2,3,12]),function(he,e,T,F,z,E,U,J){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Sg=e.DataUri=e.$Rg=e.$Qg=e.$Pg=e.$Og=e.$Ng=e.$Mg=e.$Lg=e.$Kg=e.$Jg=e.$Ig=e.$Hg=e.$Gg=e.$Fg=e.$Eg=e.$Dg=e.$Cg=e.$Bg=e.$Ag=e.$zg=e.$yg=e.$xg=e.$wg=void 0;function I(p){return(0,J.$wc)(p,!0)}e.$wg=I;class ${constructor(g){this.a=g}compare(g,o,l=!1){return g===o?0:(0,U.$6e)(this.getComparisonKey(g,l),this.getComparisonKey(o,l))}isEqual(g,o,l=!1){return g===o?!0:!g||!o?!1:this.getComparisonKey(g,l)===this.getComparisonKey(o,l)}getComparisonKey(g,o=!1){return g.with({path:this.a(g)?g.path.toLowerCase():void 0,fragment:o?null:void 0}).toString()}ignorePathCasing(g){return this.a(g)}isEqualOrParent(g,o,l=!1){if(g.scheme===o.scheme){if(g.scheme===F.Schemas.file)return T.$9f(I(g),I(o),this.a(g))&&g.query===o.query&&(l||g.fragment===o.fragment);if((0,e.$Ng)(g.authority,o.authority))return T.$9f(g.path,o.path,this.a(g),"/")&&g.query===o.query&&(l||g.fragment===o.fragment)}return!1}joinPath(g,...o){return J.URI.joinPath(g,...o)}basenameOrAuthority(g){return(0,e.$Fg)(g)||g.authority}basename(g){return z.$gc.basename(g.path)}extname(g){return z.$gc.extname(g.path)}dirname(g){if(g.path.length===0)return g;let o;return g.scheme===F.Schemas.file?o=J.URI.file(z.$mc(I(g))).path:(o=z.$gc.dirname(g.path),g.authority&&o.length&&o.charCodeAt(0)!==47&&(console.error(`dirname("${g.toString})) resulted in a relative path`),o="/")),g.with({path:o})}normalizePath(g){if(!g.path.length)return g;let o;return g.scheme===F.Schemas.file?o=J.URI.file(z.$hc(I(g))).path:o=z.$gc.normalize(g.path),g.with({path:o})}relativePath(g,o){if(g.scheme!==o.scheme||!(0,e.$Ng)(g.authority,o.authority))return;if(g.scheme===F.Schemas.file){const t=z.$lc(I(g),I(o));return E.$i?T.$3f(t):t}let l=g.path||"/";const u=o.path||"/";if(this.a(g)){let t=0;for(const s=Math.min(l.length,u.length);t<s&&!(l.charCodeAt(t)!==u.charCodeAt(t)&&l.charAt(t).toLowerCase()!==u.charAt(t).toLowerCase());t++);l=u.substr(0,t)+l.substr(t)}return z.$gc.relative(l,u)}resolvePath(g,o){if(g.scheme===F.Schemas.file){const l=J.URI.file(z.$kc(I(g),o));return g.with({authority:l.authority,path:l.path})}return o=T.$4f(o),g.with({path:z.$gc.resolve(g.path,o)})}isAbsolutePath(g){return!!g.path&&g.path[0]==="/"}isEqualAuthority(g,o){return g===o||g!==void 0&&o!==void 0&&(0,U.$af)(g,o)}hasTrailingPathSeparator(g,o=z.sep){if(g.scheme===F.Schemas.file){const l=I(g);return l.length>T.$5f(l).length&&l[l.length-1]===o}else{const l=g.path;return l.length>1&&l.charCodeAt(l.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(g.fsPath)}}removeTrailingPathSeparator(g,o=z.sep){return(0,e.$Og)(g,o)?g.with({path:g.path.substr(0,g.path.length-1)}):g}addTrailingPathSeparator(g,o=z.sep){let l=!1;if(g.scheme===F.Schemas.file){const u=I(g);l=u!==void 0&&u.length===T.$5f(u).length&&u[u.length-1]===o}else{o="/";const u=g.path;l=u.length===1&&u.charCodeAt(u.length-1)===47}return!l&&!(0,e.$Og)(g,o)?g.with({path:g.path+"/"}):g}}e.$xg=$,e.$yg=new $(()=>!1),e.$zg=new $(p=>p.scheme===F.Schemas.file?!E.$k:!0),e.$Ag=new $(p=>!0),e.$Bg=e.$yg.isEqual.bind(e.$yg),e.$Cg=e.$yg.isEqualOrParent.bind(e.$yg),e.$Dg=e.$yg.getComparisonKey.bind(e.$yg),e.$Eg=e.$yg.basenameOrAuthority.bind(e.$yg),e.$Fg=e.$yg.basename.bind(e.$yg),e.$Gg=e.$yg.extname.bind(e.$yg),e.$Hg=e.$yg.dirname.bind(e.$yg),e.$Ig=e.$yg.joinPath.bind(e.$yg),e.$Jg=e.$yg.normalizePath.bind(e.$yg),e.$Kg=e.$yg.relativePath.bind(e.$yg),e.$Lg=e.$yg.resolvePath.bind(e.$yg),e.$Mg=e.$yg.isAbsolutePath.bind(e.$yg),e.$Ng=e.$yg.isEqualAuthority.bind(e.$yg),e.$Og=e.$yg.hasTrailingPathSeparator.bind(e.$yg),e.$Pg=e.$yg.removeTrailingPathSeparator.bind(e.$yg),e.$Qg=e.$yg.addTrailingPathSeparator.bind(e.$yg);function w(p,g){const o=[];for(let l=0;l<p.length;l++){const u=g(p[l]);p.some((t,s)=>s===l?!1:(0,e.$Cg)(u,g(t)))||o.push(p[l])}return o}e.$Rg=w;var D;(function(p){p.META_DATA_LABEL="label",p.META_DATA_DESCRIPTION="description",p.META_DATA_SIZE="size",p.META_DATA_MIME="mime";function g(o){const l=new Map;o.path.substring(o.path.indexOf(";")+1,o.path.lastIndexOf(";")).split(";").forEach(s=>{const[n,r]=s.split(":");n&&r&&l.set(n,r)});const t=o.path.substring(0,o.path.indexOf(";"));return t&&l.set(p.META_DATA_MIME,t),l}p.parseMetaData=g})(D||(e.DataUri=D={}));function a(p,g,o){if(g){let l=p.path;return l&&l[0]!==z.$gc.sep&&(l=z.$gc.sep+l),p.with({scheme:o,authority:g,path:l})}return p.with({scheme:o})}e.$Sg=a}),define(ce[23],oe([0,1,43,4,24,8,22,2,16,15]),function(he,e,T,F,z,E,U,J,I,$){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$xh=e.$wh=e.$vh=e.$uh=e.$th=e.$sh=e.Promises=e.$rh=e.$qh=e.$ph=e.$oh=e.$nh=e.$mh=e.$lh=e.$kh=e.$jh=e.$ih=e.$hh=e.$gh=e.$fh=e.$eh=e.$dh=e.$ch=e.$bh=e.$ah=e.$_g=e.$$g=e.$0g=e.$9g=e.$8g=e.$7g=e.$6g=e.$5g=e.$4g=e.$3g=e.$2g=e.$1g=e.$Zg=e.$Yg=e.$Xg=e.$Wg=e.$Vg=e.$Ug=e.$Tg=void 0;function w(L){return!!L&&typeof L.then=="function"}e.$Tg=w;function D(L){const f=new T.$7d,v=L(f.token),M=new Promise((Z,x)=>{const ue=f.token.onCancellationRequested(()=>{ue.dispose(),x(new F.$5)});Promise.resolve(v).then(ae=>{ue.dispose(),f.dispose(),Z(ae)},ae=>{ue.dispose(),f.dispose(),x(ae)})});return new class{cancel(){f.cancel(),f.dispose()}then(Z,x){return M.then(Z,x)}catch(Z){return this.then(void 0,Z)}finally(Z){return M.finally(Z)}}}e.$Ug=D;function a(L,f,v){return new Promise((M,Z)=>{const x=f.onCancellationRequested(()=>{x.dispose(),M(v)});L.then(M,Z).finally(()=>x.dispose())})}e.$Vg=a;function p(L,f){return new Promise((v,M)=>{const Z=f.onCancellationRequested(()=>{Z.dispose(),M(new F.$5)});L.then(v,M).finally(()=>Z.dispose())})}e.$Wg=p;async function g(L){let f=-1;const v=L.map((M,Z)=>M.then(x=>(f=Z,x)));try{return await Promise.race(v)}finally{L.forEach((M,Z)=>{Z!==f&&M.cancel()})}}e.$Xg=g;function o(L,f,v){let M;const Z=setTimeout(()=>{M?.(void 0),v?.()},f);return Promise.race([L.finally(()=>clearTimeout(Z)),new Promise(x=>M=x)])}e.$Yg=o;function l(L){return new Promise((f,v)=>{const M=L();w(M)?M.then(f,v):f(M)})}e.$Zg=l;class u{constructor(){this.f=!1,this.a=null,this.b=null,this.d=null}queue(f){if(this.f)return Promise.reject(new Error("Throttler is disposed"));if(this.a){if(this.d=f,!this.b){const v=()=>{if(this.b=null,this.f)return;const M=this.queue(this.d);return this.d=null,M};this.b=new Promise(M=>{this.a.then(v,v).then(M)})}return new Promise((v,M)=>{this.b.then(v,M)})}return this.a=f(),new Promise((v,M)=>{this.a.then(Z=>{this.a=null,v(Z)},Z=>{this.a=null,M(Z)})})}dispose(){this.f=!0}}e.$1g=u;class t{constructor(){this.a=Promise.resolve(null)}queue(f){return this.a=this.a.then(()=>f(),()=>f())}}e.$2g=t;class s{constructor(){this.a=new Map}queue(f,v){const Z=(this.a.get(f)??Promise.resolve()).catch(()=>{}).then(v).finally(()=>{this.a.get(f)===Z&&this.a.delete(f)});return this.a.set(f,Z),Z}}e.$3g=s;const n=(L,f)=>{let v=!0;const M=setTimeout(()=>{v=!1,f()},L);return{isTriggered:()=>v,dispose:()=>{clearTimeout(M),v=!1}}},r=L=>{let f=!0;return queueMicrotask(()=>{f&&(f=!1,L())}),{isTriggered:()=>f,dispose:()=>{f=!1}}};class h{constructor(f){this.defaultDelay=f,this.a=null,this.b=null,this.d=null,this.f=null,this.g=null}trigger(f,v=this.defaultDelay){this.g=f,this.h(),this.b||(this.b=new Promise((Z,x)=>{this.d=Z,this.f=x}).then(()=>{if(this.b=null,this.d=null,this.g){const Z=this.g;return this.g=null,Z()}}));const M=()=>{this.a=null,this.d?.(null)};return this.a=v===I.$Td?r(M):n(v,M),this.b}isTriggered(){return!!this.a?.isTriggered()}cancel(){this.h(),this.b&&(this.f?.(new F.$5),this.b=null)}h(){this.a?.dispose(),this.a=null}dispose(){this.cancel()}}e.$4g=h;class m{constructor(f){this.a=new h(f),this.b=new u}trigger(f,v){return this.a.trigger(()=>this.b.queue(f),v)}isTriggered(){return this.a.isTriggered()}cancel(){this.a.cancel()}dispose(){this.a.dispose(),this.b.dispose()}}e.$5g=m;class S{constructor(){this.a=!1,this.b=new Promise((f,v)=>{this.d=f})}isOpen(){return this.a}open(){this.a=!0,this.d(!0)}wait(){return this.b}}e.$6g=S;class P extends S{constructor(f){super(),this.f=setTimeout(()=>this.open(),f)}open(){clearTimeout(this.f),super.open()}}e.$7g=P;function O(L,f){return f?new Promise((v,M)=>{const Z=setTimeout(()=>{x.dispose(),v()},L),x=f.onCancellationRequested(()=>{clearTimeout(Z),x.dispose(),M(new F.$5)})}):D(v=>O(L,v))}e.$8g=O;function d(L,f=0,v){const M=setTimeout(()=>{L(),v&&Z.dispose()},f),Z=(0,E.$Rc)(()=>{clearTimeout(M),v?.deleteAndLeak(Z)});return v?.add(Z),Z}e.$9g=d;function C(L){const f=[];let v=0;const M=L.length;function Z(){return v<M?L[v++]():null}function x(ue){ue!=null&&f.push(ue);const ae=Z();return ae?ae.then(x):Promise.resolve(f)}return Promise.resolve(null).then(x)}e.$0g=C;function R(L,f=M=>!!M,v=null){let M=0;const Z=L.length,x=()=>{if(M>=Z)return Promise.resolve(v);const ue=L[M++];return Promise.resolve(ue()).then(fe=>f(fe)?Promise.resolve(fe):x())};return x()}e.$$g=R;function G(L,f=M=>!!M,v=null){if(L.length===0)return Promise.resolve(v);let M=L.length;const Z=()=>{M=-1;for(const x of L)x.cancel?.()};return new Promise((x,ue)=>{for(const ae of L)ae.then(fe=>{--M>=0&&f(fe)?(Z(),x(fe)):M===0&&x(v)}).catch(fe=>{--M>=0&&(Z(),ue(fe))})})}e.$_g=G;class B{constructor(f){this.a=0,this.b=!1,this.f=f,this.g=[],this.d=0,this.h=new z.$Wd}whenIdle(){return this.size>0?z.Event.toPromise(this.onDrained):Promise.resolve()}get onDrained(){return this.h.event}get size(){return this.a}queue(f){if(this.b)throw new Error("Object has been disposed");return this.a++,new Promise((v,M)=>{this.g.push({factory:f,c:v,e:M}),this.j()})}j(){for(;this.g.length&&this.d<this.f;){const f=this.g.shift();this.d++;const v=f.factory();v.then(f.c,f.e),v.then(()=>this.k(),()=>this.k())}}k(){this.b||(this.d--,--this.a===0&&this.h.fire(),this.g.length>0&&this.j())}clear(){if(this.b)throw new Error("Object has been disposed");this.g.length=0,this.a=this.d}dispose(){this.b=!0,this.g.length=0,this.a=0,this.h.dispose()}}e.$ah=B;class b extends B{constructor(){super(1)}}e.$bh=b;class V{constructor(){this.a=new j,this.b=0}queue(f){return this.a.isRunning()?this.a.queue(()=>this.a.run(this.b++,f())):this.a.run(this.b++,f())}}e.$ch=V;class _{constructor(){this.a=new Map,this.b=new Set,this.d=void 0,this.f=0}async whenDrained(){if(this.g())return;const f=new Y;return this.b.add(f),f.p}g(){for(const[,f]of this.a)if(f.size>0)return!1;return!0}queueSize(f,v=U.$yg){const M=v.getComparisonKey(f);return this.a.get(M)?.size??0}queueFor(f,v,M=U.$yg){const Z=M.getComparisonKey(f);let x=this.a.get(Z);if(!x){x=new b;const ue=this.f++,ae=z.Event.once(x.onDrained)(()=>{x?.dispose(),this.a.delete(Z),this.h(),this.d?.deleteAndDispose(ue),this.d?.size===0&&(this.d.dispose(),this.d=void 0)});this.d||(this.d=new E.$3c),this.d.set(ue,ae),this.a.set(Z,x)}return x.queue(v)}h(){this.g()&&this.j()}j(){for(const f of this.b)f.complete();this.b.clear()}dispose(){for(const[,f]of this.a)f.dispose();this.a.clear(),this.j(),this.d?.dispose()}}e.$dh=_;class te{constructor(f,v){this.a=-1,typeof f=="function"&&typeof v=="number"&&this.setIfNotSet(f,v)}dispose(){this.cancel()}cancel(){this.a!==-1&&(clearTimeout(this.a),this.a=-1)}cancelAndSet(f,v){this.cancel(),this.a=setTimeout(()=>{this.a=-1,f()},v)}setIfNotSet(f,v){this.a===-1&&(this.a=setTimeout(()=>{this.a=-1,f()},v))}}e.$eh=te;class re{constructor(){this.d=void 0}cancel(){this.d?.dispose(),this.d=void 0}cancelAndSet(f,v,M=globalThis){this.cancel();const Z=M.setInterval(()=>{f()},v);this.d=(0,E.$Rc)(()=>{M.clearInterval(Z),this.d=void 0})}dispose(){this.cancel()}}e.$fh=re;class ne{constructor(f,v){this.b=-1,this.a=f,this.d=v,this.f=this.g.bind(this)}dispose(){this.cancel(),this.a=null}cancel(){this.isScheduled()&&(clearTimeout(this.b),this.b=-1)}schedule(f=this.d){this.cancel(),this.b=setTimeout(this.f,f)}get delay(){return this.d}set delay(f){this.d=f}isScheduled(){return this.b!==-1}flush(){this.isScheduled()&&(this.cancel(),this.h())}g(){this.b=-1,this.a&&this.h()}h(){this.a?.()}}e.$gh=ne;class ie{constructor(f,v){v%1e3!==0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${v}ms is not a multiple of 1000ms.`),this.a=f,this.b=v,this.d=0,this.f=-1,this.g=this.h.bind(this)}dispose(){this.cancel(),this.a=null}cancel(){this.isScheduled()&&(clearInterval(this.f),this.f=-1)}schedule(f=this.b){f%1e3!==0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${f}ms is not a multiple of 1000ms.`),this.cancel(),this.d=Math.ceil(f/1e3),this.f=setInterval(this.g,1e3)}isScheduled(){return this.f!==-1}h(){this.d--,!(this.d>0)&&(clearInterval(this.f),this.f=-1,this.a?.())}}e.$hh=ie;class le extends ne{constructor(f,v){super(f,v),this.j=[]}work(f){this.j.push(f),this.isScheduled()||this.schedule()}h(){const f=this.j;this.j=[],this.a?.(f)}dispose(){this.j=[],super.dispose()}}e.$ih=le;class y extends E.$Tc{constructor(f,v){super(),this.g=f,this.h=v,this.a=[],this.b=this.B(new E.$Uc),this.f=!1}get pending(){return this.a.length}work(f){if(this.f)return!1;if(typeof this.g.maxBufferedWork=="number"){if(this.b.value){if(this.pending+f.length>this.g.maxBufferedWork)return!1}else if(this.pending+f.length-this.g.maxWorkChunkSize>this.g.maxBufferedWork)return!1}for(const v of f)this.a.push(v);return this.b.value||this.j(),!0}j(){this.h(this.a.splice(0,this.g.maxWorkChunkSize)),this.a.length>0&&(this.b.value=new ne(()=>{this.b.clear(),this.j()},this.g.throttleDelay),this.b.value.schedule())}dispose(){super.dispose(),this.f=!0}}e.$jh=y,function(){typeof globalThis.requestIdleCallback!="function"||typeof globalThis.cancelIdleCallback!="function"?e.$lh=(L,f)=>{(0,J.$B)(()=>{if(v)return;const M=Date.now()+15;f(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,M-Date.now())}}))});let v=!1;return{dispose(){v||(v=!0)}}}:e.$lh=(L,f,v)=>{const M=L.requestIdleCallback(f,typeof v=="number"?{timeout:v}:void 0);let Z=!1;return{dispose(){Z||(Z=!0,L.cancelIdleCallback(M))}}},e.$kh=L=>(0,e.$lh)(globalThis,L)}();class Q{constructor(f,v){this.g=!1,this.d=()=>{try{this.j=v()}catch(M){this.l=M}finally{this.g=!0}},this.f=(0,e.$lh)(f,()=>this.d())}dispose(){this.f.dispose()}get value(){if(this.g||(this.f.dispose(),this.d()),this.l)throw this.l;return this.j}get isInitialized(){return this.g}}e.$mh=Q;class q extends Q{constructor(f){super(globalThis,f)}}e.$nh=q;async function W(L,f,v){let M;for(let Z=0;Z<v;Z++)try{return await L()}catch(x){M=x,await O(f)}throw M}e.$oh=W;class j{isRunning(f){return typeof f=="number"?this.a?.taskId===f:!!this.a}get running(){return this.a?.promise}cancelRunning(){this.a?.cancel()}run(f,v,M){return this.a={taskId:f,cancel:()=>M?.(),promise:v},v.then(()=>this.d(f),()=>this.d(f)),v}d(f){this.a&&f===this.a.taskId&&(this.a=void 0,this.f())}f(){if(this.b){const f=this.b;this.b=void 0,f.run().then(f.promiseResolve,f.promiseReject)}}queue(f){if(this.b)this.b.run=f;else{let v,M;const Z=new Promise((x,ue)=>{v=x,M=ue});this.b={run:f,promise:Z,promiseResolve:v,promiseReject:M}}return this.b.promise}hasQueued(){return!!this.b}async join(){return this.b?.promise??this.a?.promise}}e.$ph=j;class K{constructor(f,v=()=>Date.now()){this.d=f,this.f=v,this.a=0,this.b=0}increment(){const f=this.f();return f-this.a>this.d&&(this.a=f,this.b=0),this.b++,this.b}}e.$qh=K;var H;(function(L){L[L.Resolved=0]="Resolved",L[L.Rejected=1]="Rejected"})(H||(H={}));class Y{get isRejected(){return this.d?.outcome===1}get isResolved(){return this.d?.outcome===0}get isSettled(){return!!this.d}get value(){return this.d?.outcome===0?this.d?.value:void 0}constructor(){this.p=new Promise((f,v)=>{this.a=f,this.b=v})}complete(f){return new Promise(v=>{this.a(f),this.d={outcome:0,value:f},v()})}error(f){return new Promise(v=>{this.b(f),this.d={outcome:1,value:f},v()})}cancel(){return this.error(new F.$5)}}e.$rh=Y;var ee;(function(L){async function f(M){let Z;const x=await Promise.all(M.map(ue=>ue.then(ae=>ae,ae=>{Z||(Z=ae)})));if(typeof Z<"u")throw Z;return x}L.settled=f;function v(M){return new Promise(async(Z,x)=>{try{await M(Z,x)}catch(ue){x(ue)}})}L.withAsyncBody=v})(ee||(e.Promises=ee={}));class X{get value(){return this.a}get error(){return this.b}get isResolved(){return this.d}constructor(f){this.a=void 0,this.b=void 0,this.d=!1,this.promise=f.then(v=>(this.a=v,this.d=!0,v),v=>{throw this.b=v,this.d=!0,v})}requireValue(){if(!this.d)throw new F.$cb("Promise is not resolved yet");if(this.b)throw this.b;return this.a}}e.$sh=X;class k{constructor(f){this.b=f,this.a=new $.$V(()=>new X(this.b()))}requireValue(){return this.a.value.requireValue()}getPromise(){return this.a.value.promise}get currentValue(){return this.a.rawValue?.value}}e.$th=k;var i;(function(L){L[L.Initial=0]="Initial",L[L.DoneOK=1]="DoneOK",L[L.DoneError=2]="DoneError"})(i||(i={}));class c{static fromArray(f){return new c(v=>{v.emitMany(f)})}static fromPromise(f){return new c(async v=>{v.emitMany(await f)})}static fromPromises(f){return new c(async v=>{await Promise.all(f.map(async M=>v.emitOne(await M)))})}static merge(f){return new c(async v=>{await Promise.all(f.map(async M=>{for await(const Z of M)v.emitOne(Z)}))})}static{this.EMPTY=c.fromArray([])}constructor(f){this.a=0,this.b=[],this.d=null,this.f=new z.$Wd,queueMicrotask(async()=>{const v={emitOne:M=>this.g(M),emitMany:M=>this.h(M),reject:M=>this.k(M)};try{await Promise.resolve(f(v)),this.j()}catch(M){this.k(M)}finally{v.emitOne=void 0,v.emitMany=void 0,v.reject=void 0}})}[Symbol.asyncIterator](){let f=0;return{next:async()=>{do{if(this.a===2)throw this.d;if(f<this.b.length)return{done:!1,value:this.b[f++]};if(this.a===1)return{done:!0,value:void 0};await z.Event.toPromise(this.f.event)}while(!0)}}}static map(f,v){return new c(async M=>{for await(const Z of f)M.emitOne(v(Z))})}map(f){return c.map(this,f)}static filter(f,v){return new c(async M=>{for await(const Z of f)v(Z)&&M.emitOne(Z)})}filter(f){return c.filter(this,f)}static coalesce(f){return c.filter(f,v=>!!v)}coalesce(){return c.coalesce(this)}static async toPromise(f){const v=[];for await(const M of f)v.push(M);return v}toPromise(){return c.toPromise(this)}g(f){this.a===0&&(this.b.push(f),this.f.fire())}h(f){this.a===0&&(this.b=this.b.concat(f),this.f.fire())}j(){this.a===0&&(this.a=1,this.f.fire())}k(f){this.a===0&&(this.a=2,this.d=f,this.f.fire())}}e.$uh=c;class A extends c{constructor(f,v){super(v),this.l=f}cancel(){this.l.cancel()}}e.$vh=A;function N(L){const f=new T.$7d,v=L(f.token);return new A(f,async M=>{const Z=f.token.onCancellationRequested(()=>{Z.dispose(),f.dispose(),M.reject(new F.$5)});try{for await(const x of v){if(f.token.isCancellationRequested)return;M.emitOne(x)}Z.dispose(),f.dispose()}catch(x){Z.dispose(),f.dispose(),M.reject(x)}})}e.$wh=N;class se{constructor(){this.a=new Y,this.b=new c(M=>{if(f){M.reject(f);return}return v&&M.emitMany(v),this.d=Z=>M.reject(Z),this.f=Z=>M.emitOne(Z),this.a.p});let f,v;this.f=M=>{v||(v=[]),v.push(M)},this.d=M=>{f||(f=M)}}get asyncIterable(){return this.b}resolve(){this.a.complete()}reject(f){this.d(f),this.a.complete()}emitOne(f){this.f(f)}}e.$xh=se}),define(ce[25],oe([0,1,44,23,11,26,6,2,3]),function(he,e,T,F,z,E,U,J,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Rj=e.$Qj=e.$Pj=e.$Oj=e.$Nj=e.$Mj=e.$Lj=e.$Kj=e.$Jj=e.$Ij=void 0;function $(){return Object.create(null)}e.$Ij=$,e.$Jj="**",e.$Kj="/";const w="[/\\\\]",D="[^/\\\\]",a=/\//g;function p(q,W){switch(q){case 0:return"";case 1:return`${D}*?`;default:return`(?:${w}|${D}+${w}${W?`|${w}${D}+`:""})*?`}}function g(q,W){if(!q)return[];const j=[];let K=!1,H=!1,Y="";for(const ee of q){switch(ee){case W:if(!K&&!H){j.push(Y),Y="";continue}break;case"{":K=!0;break;case"}":K=!1;break;case"[":H=!0;break;case"]":H=!1;break}Y+=ee}return Y&&j.push(Y),j}e.$Lj=g;function o(q){if(!q)return"";let W="";const j=g(q,e.$Kj);if(j.every(K=>K===e.$Jj))W=".*";else{let K=!1;j.forEach((H,Y)=>{if(H===e.$Jj){if(K)return;W+=p(2,Y===j.length-1)}else{let ee=!1,X="",k=!1,i="";for(const c of H){if(c!=="}"&&ee){X+=c;continue}if(k&&(c!=="]"||!i)){let A;c==="-"?A=c:(c==="^"||c==="!")&&!i?A="^":c===e.$Kj?A="":A=(0,I.$Pe)(c),i+=A;continue}switch(c){case"{":ee=!0;continue;case"[":k=!0;continue;case"}":{const N=`(?:${g(X,",").map(se=>o(se)).join("|")})`;W+=N,ee=!1,X="";break}case"]":{W+="["+i+"]",k=!1,i="";break}case"?":W+=D;continue;case"*":W+=p(1);continue;default:W+=(0,I.$Pe)(c)}}Y<j.length-1&&(j[Y+1]!==e.$Jj||Y+2<j.length)&&(W+=w)}K=H===e.$Jj})}return W}const l=/^\*\*\/\*\.[\w\.-]+$/,u=/^\*\*\/([\w\.-]+)\/?$/,t=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,s=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,n=/^\*\*((\/[\w\.-]+)+)\/?$/,r=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,h=new E.$Dc(1e4),m=function(){return!1},S=function(){return null};function P(q,W){if(!q)return S;let j;typeof q!="string"?j=q.pattern:j=q,j=j.trim();const K=`${j}_${!!W.trimForExclusions}`;let H=h.get(K);if(H)return O(H,q);let Y;return l.test(j)?H=C(j.substr(4),j):(Y=u.exec(d(j,W)))?H=R(Y[1],j):(W.trimForExclusions?s:t).test(j)?H=G(j,W):(Y=n.exec(d(j,W)))?H=B(Y[1].substr(1),j,!0):(Y=r.exec(d(j,W)))?H=B(Y[1],j,!1):H=b(j),h.set(K,H),O(H,q)}function O(q,W){if(typeof W=="string")return q;const j=function(K,H){return(0,z.$9f)(K,W.base,!J.$k)?q((0,I.$Ue)(K.substr(W.base.length),U.sep),H):null};return j.allBasenames=q.allBasenames,j.allPaths=q.allPaths,j.basenames=q.basenames,j.patterns=q.patterns,j}function d(q,W){return W.trimForExclusions&&q.endsWith("/**")?q.substr(0,q.length-2):q}function C(q,W){return function(j,K){return typeof j=="string"&&j.endsWith(q)?W:null}}function R(q,W){const j=`/${q}`,K=`\\${q}`,H=function(ee,X){return typeof ee!="string"?null:X?X===q?W:null:ee===q||ee.endsWith(j)||ee.endsWith(K)?W:null},Y=[q];return H.basenames=Y,H.patterns=[W],H.allBasenames=Y,H}function G(q,W){const j=y(q.slice(1,-1).split(",").map(X=>P(X,W)).filter(X=>X!==S),q),K=j.length;if(!K)return S;if(K===1)return j[0];const H=function(X,k){for(let i=0,c=j.length;i<c;i++)if(j[i](X,k))return q;return null},Y=j.find(X=>!!X.allBasenames);Y&&(H.allBasenames=Y.allBasenames);const ee=j.reduce((X,k)=>k.allPaths?X.concat(k.allPaths):X,[]);return ee.length&&(H.allPaths=ee),H}function B(q,W,j){const K=U.sep===U.$gc.sep,H=K?q:q.replace(a,U.sep),Y=U.sep+H,ee=U.$gc.sep+q;let X;return j?X=function(k,i){return typeof k=="string"&&(k===H||k.endsWith(Y)||!K&&(k===q||k.endsWith(ee)))?W:null}:X=function(k,i){return typeof k=="string"&&(k===H||!K&&k===q)?W:null},X.allPaths=[(j?"*/":"./")+q],X}function b(q){try{const W=new RegExp(`^${o(q)}$`);return function(j){return W.lastIndex=0,typeof j=="string"&&W.test(j)?q:null}}catch{return S}}function V(q,W,j){return!q||typeof W!="string"?!1:_(q)(W,void 0,j)}e.$Mj=V;function _(q,W={}){if(!q)return m;if(typeof q=="string"||te(q)){const j=P(q,W);if(j===S)return m;const K=function(H,Y){return!!j(H,Y)};return j.allBasenames&&(K.allBasenames=j.allBasenames),j.allPaths&&(K.allPaths=j.allPaths),K}return ie(q,W)}e.$Nj=_;function te(q){const W=q;return W?typeof W.base=="string"&&typeof W.pattern=="string":!1}e.$Oj=te;function re(q){return q.allBasenames||[]}e.$Pj=re;function ne(q){return q.allPaths||[]}e.$Qj=ne;function ie(q,W){const j=y(Object.getOwnPropertyNames(q).map(X=>le(X,q[X],W)).filter(X=>X!==S)),K=j.length;if(!K)return S;if(!j.some(X=>!!X.requiresSiblings)){if(K===1)return j[0];const X=function(c,A){let N;for(let se=0,L=j.length;se<L;se++){const f=j[se](c,A);if(typeof f=="string")return f;(0,F.$Tg)(f)&&(N||(N=[]),N.push(f))}return N?(async()=>{for(const se of N){const L=await se;if(typeof L=="string")return L}return null})():null},k=j.find(c=>!!c.allBasenames);k&&(X.allBasenames=k.allBasenames);const i=j.reduce((c,A)=>A.allPaths?c.concat(A.allPaths):c,[]);return i.length&&(X.allPaths=i),X}const H=function(X,k,i){let c,A;for(let N=0,se=j.length;N<se;N++){const L=j[N];L.requiresSiblings&&i&&(k||(k=(0,U.$nc)(X)),c||(c=k.substr(0,k.length-(0,U.$oc)(X).length)));const f=L(X,k,c,i);if(typeof f=="string")return f;(0,F.$Tg)(f)&&(A||(A=[]),A.push(f))}return A?(async()=>{for(const N of A){const se=await N;if(typeof se=="string")return se}return null})():null},Y=j.find(X=>!!X.allBasenames);Y&&(H.allBasenames=Y.allBasenames);const ee=j.reduce((X,k)=>k.allPaths?X.concat(k.allPaths):X,[]);return ee.length&&(H.allPaths=ee),H}function le(q,W,j){if(W===!1)return S;const K=P(q,j);if(K===S)return S;if(typeof W=="boolean")return K;if(W){const H=W.when;if(typeof H=="string"){const Y=(ee,X,k,i)=>{if(!i||!K(ee,X))return null;const c=H.replace("$(basename)",()=>k),A=i(c);return(0,F.$Tg)(A)?A.then(N=>N?q:null):A?q:null};return Y.requiresSiblings=!0,Y}}return K}function y(q,W){const j=q.filter(X=>!!X.basenames);if(j.length<2)return q;const K=j.reduce((X,k)=>{const i=k.basenames;return i?X.concat(i):X},[]);let H;if(W){H=[];for(let X=0,k=K.length;X<k;X++)H.push(W)}else H=j.reduce((X,k)=>{const i=k.patterns;return i?X.concat(i):X},[]);const Y=function(X,k){if(typeof X!="string")return null;if(!k){let c;for(c=X.length;c>0;c--){const A=X.charCodeAt(c-1);if(A===47||A===92)break}k=X.substr(c)}const i=K.indexOf(k);return i!==-1?H[i]:null};Y.basenames=K,Y.patterns=H,Y.allBasenames=K;const ee=q.filter(X=>!X.basenames);return ee.push(Y),ee}function Q(q,W){return(0,T.$ub)(q,W,(j,K)=>typeof j=="string"&&typeof K=="string"?j===K:typeof j!="string"&&typeof K!="string"?j.base===K.base&&j.pattern===K.pattern:!1)}e.$Rj=Q}),define(ce[27],oe([0,1,3,2,5]),function(he,e,T,F,z){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$dt=e.$ct=e.$bt=void 0;let E;function U(){return E||(E=new TextDecoder("UTF-16LE")),E}let J;function I(){return J||(J=new TextDecoder("UTF-16BE")),J}let $;function w(){return $||($=F.$D()?U():I()),$}e.$bt=w;function D(g,o,l){const u=new Uint16Array(g.buffer,o,l);return l>0&&(u[0]===65279||u[0]===65534)?a(g,o,l):U().decode(u)}e.$ct=D;function a(g,o,l){const u=[];let t=0;for(let s=0;s<l;s++){const n=z.$me(g,o);o+=2,u[t++]=String.fromCharCode(n)}return u.join("")}class p{constructor(o){this.a=o|0,this.b=new Uint16Array(this.a),this.c=null,this.d=0}reset(){this.c=null,this.d=0}build(){return this.c!==null?(this.f(),this.c.join("")):this.e()}e(){if(this.d===0)return"";const o=new Uint16Array(this.b.buffer,0,this.d);return w().decode(o)}f(){const o=this.e();this.d=0,this.c===null?this.c=[o]:this.c[this.c.length]=o}appendCharCode(o){const l=this.a-this.d;l<=1&&(l===0||T.$ef(o))&&this.f(),this.b[this.d++]=o}appendASCIICharCode(o){this.d===this.a&&this.f(),this.b[this.d++]=o}appendString(o){const l=o.length;if(this.d+l>=this.a){this.f(),this.c[this.c.length]=o;return}for(let u=0;u<l;u++)this.b[this.d++]=o.charCodeAt(u)}}e.$dt=p}),define(ce[28],oe([0,1,5,27]),function(he,e,T,F){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$ft=e.$et=void 0;function z(I){return I.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class E{get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}constructor($,w,D,a){this.oldPosition=$,this.oldText=w,this.newPosition=D,this.newText=a}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${z(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${z(this.oldText)}")`:`(replace@${this.oldPosition} "${z(this.oldText)}" with "${z(this.newText)}")`}static a($){return 4+2*$.length}static c($,w,D){const a=w.length;T.$pe($,a,D),D+=4;for(let p=0;p<a;p++)T.$ne($,w.charCodeAt(p),D),D+=2;return D}static d($,w){const D=T.$oe($,w);return w+=4,(0,F.$ct)($,w,D)}writeSize(){return 4+4+E.a(this.oldText)+E.a(this.newText)}write($,w){return T.$pe($,this.oldPosition,w),w+=4,T.$pe($,this.newPosition,w),w+=4,w=E.c($,this.oldText,w),w=E.c($,this.newText,w),w}static read($,w,D){const a=T.$oe($,w);w+=4;const p=T.$oe($,w);w+=4;const g=E.d($,w);w+=E.a(g);const o=E.d($,w);return w+=E.a(o),D.push(new E(a,g,p,o)),w}}e.$et=E;function U(I,$){return I===null||I.length===0?$:new J(I,$).compress()}e.$ft=U;class J{constructor($,w){this.a=$,this.c=w,this.d=[],this.e=0,this.f=this.a.length,this.g=0,this.h=this.c.length,this.j=0}compress(){let $=0,w=0,D=this.n($),a=this.l(w);for(;$<this.f||w<this.h;){if(D===null){this.k(a),a=this.l(++w);continue}if(a===null){this.m(D),D=this.n(++$);continue}if(a.oldEnd<=D.newPosition){this.k(a),a=this.l(++w);continue}if(D.newEnd<=a.oldPosition){this.m(D),D=this.n(++$);continue}if(a.oldPosition<D.newPosition){const[u,t]=J.r(a,D.newPosition-a.oldPosition);this.k(u),a=t;continue}if(D.newPosition<a.oldPosition){const[u,t]=J.q(D,a.oldPosition-D.newPosition);this.m(u),D=t;continue}let o,l;if(a.oldEnd===D.newEnd)o=D,l=a,D=this.n(++$),a=this.l(++w);else if(a.oldEnd<D.newEnd){const[u,t]=J.q(D,a.oldLength);o=u,l=a,D=t,a=this.l(++w)}else{const[u,t]=J.r(a,D.newLength);o=D,l=u,D=this.n(++$),a=t}this.d[this.e++]=new E(o.oldPosition,o.oldText,l.newPosition,l.newText),this.g+=o.newLength-o.oldLength,this.j+=l.newLength-l.oldLength}const p=J.s(this.d);return J.t(p)}k($){this.d[this.e++]=J.o(this.g,$),this.j+=$.newLength-$.oldLength}l($){return $<this.h?this.c[$]:null}m($){this.d[this.e++]=J.p(this.j,$),this.g+=$.newLength-$.oldLength}n($){return $<this.f?this.a[$]:null}static o($,w){return new E(w.oldPosition-$,w.oldText,w.newPosition,w.newText)}static p($,w){return new E(w.oldPosition,w.oldText,w.newPosition+$,w.newText)}static q($,w){const D=$.newText.substr(0,w),a=$.newText.substr(w);return[new E($.oldPosition,$.oldText,$.newPosition,D),new E($.oldEnd,"",$.newPosition+w,a)]}static r($,w){const D=$.oldText.substr(0,w),a=$.oldText.substr(w);return[new E($.oldPosition,D,$.newPosition,$.newText),new E($.oldPosition+w,a,$.newEnd,"")]}static s($){if($.length===0)return $;const w=[];let D=0,a=$[0];for(let p=1;p<$.length;p++){const g=$[p];a.oldEnd===g.oldPosition?a=new E(a.oldPosition,a.oldText+g.oldText,a.newPosition,a.newText+g.newText):(w[D++]=a,a=g)}return w[D++]=a,w}static t($){if($.length===0)return $;const w=[];let D=0;for(let a=0;a<$.length;a++){const p=$[a];p.oldText!==p.newText&&(w[D++]=p)}return w}}}),define(ce[29],oe([0,1,24,3,10,19,9,17,28,8]),function(he,e,T,F,z,E,U,J,I,$){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$cC=void 0;class w extends $.$Tc{constructor(a,p,g,o,l,u,t){super(),this.m=this.B(new T.$Wd),this.onDidChangeContent=this.m.event,this.f=p,this.j=!u,this.g=o,this.h=l,this.c=new U.$bC(a,g,t)}equals(a){return!(a instanceof w)||this.f!==a.f||this.getEOL()!==a.getEOL()?!1:this.c.equal(a.c)}mightContainRTL(){return this.g}mightContainUnusualLineTerminators(){return this.h}resetMightContainUnusualLineTerminators(){this.h=!1}mightContainNonBasicASCII(){return this.j}getBOM(){return this.f}getEOL(){return this.c.getEOL()}createSnapshot(a){return this.c.createSnapshot(a?this.f:"")}getOffsetAt(a,p){return this.c.getOffsetAt(a,p)}getPositionAt(a){return this.c.getPositionAt(a)}getRangeAt(a,p){const g=a+p,o=this.getPositionAt(a),l=this.getPositionAt(g);return new z.$Vs(o.lineNumber,o.column,l.lineNumber,l.column)}getValueInRange(a,p=0){if(a.isEmpty())return"";const g=this.n(p);return this.c.getValueInRange(a,g)}getValueLengthInRange(a,p=0){if(a.isEmpty())return 0;if(a.startLineNumber===a.endLineNumber)return a.endColumn-a.startColumn;const g=this.getOffsetAt(a.startLineNumber,a.startColumn),o=this.getOffsetAt(a.endLineNumber,a.endColumn);let l=0;const u=this.n(p),t=this.getEOL();if(u.length!==t.length){const s=u.length-t.length,n=a.endLineNumber-a.startLineNumber;l=s*n}return o-g+l}getCharacterCountInRange(a,p=0){if(this.j){let g=0;const o=a.startLineNumber,l=a.endLineNumber;for(let u=o;u<=l;u++){const t=this.getLineContent(u),s=u===o?a.startColumn-1:0,n=u===l?a.endColumn-1:t.length;for(let r=s;r<n;r++)F.$ef(t.charCodeAt(r))?(g=g+1,r=r+1):g=g+1}return g+=this.n(p).length*(l-o),g}return this.getValueLengthInRange(a,p)}getLength(){return this.c.getLength()}getLineCount(){return this.c.getLineCount()}getLinesContent(){return this.c.getLinesContent()}getLineContent(a){return this.c.getLineContent(a)}getLineCharCode(a,p){return this.c.getLineCharCode(a,p)}getCharCode(a){return this.c.getCharCode(a)}getLineLength(a){return this.c.getLineLength(a)}getLineMinColumn(a){return 1}getLineMaxColumn(a){return this.getLineLength(a)+1}getLineFirstNonWhitespaceColumn(a){const p=F.$2e(this.getLineContent(a));return p===-1?0:p+1}getLineLastNonWhitespaceColumn(a){const p=F.$4e(this.getLineContent(a));return p===-1?0:p+2}n(a){switch(a){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(a){this.c.setEOL(a)}applyEdits(a,p,g){let o=this.g,l=this.h,u=this.j,t=!0,s=[];for(let O=0;O<a.length;O++){const d=a[O];t&&d._isTracked&&(t=!1);const C=d.range;if(d.text){let V=!0;u||(V=!F.$pf(d.text),u=V),!o&&V&&(o=F.$of(d.text)),!l&&V&&(l=F.$rf(d.text))}let R="",G=0,B=0,b=0;if(d.text){let V;[G,B,b,V]=(0,J.$vt)(d.text);const _=this.getEOL();V===0||V===(_===`\r
`?2:1)?R=d.text:R=d.text.replace(/\r\n|\r|\n/g,_)}s[O]={sortIndex:O,identifier:d.identifier||null,range:C,rangeOffset:this.getOffsetAt(C.startLineNumber,C.startColumn),rangeLength:this.getValueLengthInRange(C),text:R,eolCount:G,firstLineLength:B,lastLineLength:b,forceMoveMarkers:!!d.forceMoveMarkers,isAutoWhitespaceEdit:d.isAutoWhitespaceEdit||!1}}s.sort(w.u);let n=!1;for(let O=0,d=s.length-1;O<d;O++){const C=s[O].range.getEndPosition(),R=s[O+1].range.getStartPosition();if(R.isBeforeOrEqual(C)){if(R.isBefore(C))throw new Error("Overlapping ranges are not allowed!");n=!0}}t&&(s=this.s(s));const r=g||p?w._getInverseEditRanges(s):[],h=[];if(p)for(let O=0;O<s.length;O++){const d=s[O],C=r[O];if(d.isAutoWhitespaceEdit&&d.range.isEmpty())for(let R=C.startLineNumber;R<=C.endLineNumber;R++){let G="";R===C.startLineNumber&&(G=this.getLineContent(d.range.startLineNumber),F.$2e(G)!==-1)||h.push({lineNumber:R,oldContent:G})}}let m=null;if(g){let O=0;m=[];for(let d=0;d<s.length;d++){const C=s[d],R=r[d],G=this.getValueInRange(C.range),B=C.rangeOffset+O;O+=C.text.length-G.length,m[d]={sortIndex:C.sortIndex,identifier:C.identifier,range:R,text:G,textChange:new I.$et(C.rangeOffset,G,B,C.text)}}n||m.sort((d,C)=>d.sortIndex-C.sortIndex)}this.g=o,this.h=l,this.j=u;const S=this.t(s);let P=null;if(p&&h.length>0){h.sort((O,d)=>d.lineNumber-O.lineNumber),P=[];for(let O=0,d=h.length;O<d;O++){const C=h[O].lineNumber;if(O>0&&h[O-1].lineNumber===C)continue;const R=h[O].oldContent,G=this.getLineContent(C);G.length===0||G===R||F.$2e(G)!==-1||P.push(C)}}return this.m.fire(),new E.$fv(m,S,P)}s(a){return a.length<1e3?a:[this._toSingleEditOperation(a)]}_toSingleEditOperation(a){let p=!1;const g=a[0].range,o=a[a.length-1].range,l=new z.$Vs(g.startLineNumber,g.startColumn,o.endLineNumber,o.endColumn);let u=g.startLineNumber,t=g.startColumn;const s=[];for(let S=0,P=a.length;S<P;S++){const O=a[S],d=O.range;p=p||O.forceMoveMarkers,s.push(this.getValueInRange(new z.$Vs(u,t,d.startLineNumber,d.startColumn))),O.text.length>0&&s.push(O.text),u=d.endLineNumber,t=d.endColumn}const n=s.join(""),[r,h,m]=(0,J.$vt)(n);return{sortIndex:0,identifier:a[0].identifier,range:l,rangeOffset:this.getOffsetAt(l.startLineNumber,l.startColumn),rangeLength:this.getValueLengthInRange(l,0),text:n,eolCount:r,firstLineLength:h,lastLineLength:m,forceMoveMarkers:p,isAutoWhitespaceEdit:!1}}t(a){a.sort(w.w);const p=[];for(let g=0;g<a.length;g++){const o=a[g],l=o.range.startLineNumber,u=o.range.startColumn,t=o.range.endLineNumber,s=o.range.endColumn;if(l===t&&u===s&&o.text.length===0)continue;o.text?(this.c.delete(o.rangeOffset,o.rangeLength),this.c.insert(o.rangeOffset,o.text,!0)):this.c.delete(o.rangeOffset,o.rangeLength);const n=new z.$Vs(l,u,t,s);p.push({range:n,rangeLength:o.rangeLength,text:o.text,rangeOffset:o.rangeOffset,forceMoveMarkers:o.forceMoveMarkers})}return p}findMatchesLineByLine(a,p,g,o){return this.c.findMatchesLineByLine(a,p,g,o)}getPieceTree(){return this.c}static _getInverseEditRange(a,p){const g=a.startLineNumber,o=a.startColumn,[l,u,t]=(0,J.$vt)(p);let s;if(p.length>0){const n=l+1;n===1?s=new z.$Vs(g,o,g,o+u):s=new z.$Vs(g,o,g+n-1,t+1)}else s=new z.$Vs(g,o,g,o);return s}static _getInverseEditRanges(a){const p=[];let g=0,o=0,l=null;for(let u=0,t=a.length;u<t;u++){const s=a[u];let n,r;l?l.range.endLineNumber===s.range.startLineNumber?(n=g,r=o+(s.range.startColumn-l.range.endColumn)):(n=g+(s.range.startLineNumber-l.range.endLineNumber),r=s.range.startColumn):(n=s.range.startLineNumber,r=s.range.startColumn);let h;if(s.text.length>0){const m=s.eolCount+1;m===1?h=new z.$Vs(n,r,n,r+s.firstLineLength):h=new z.$Vs(n,r,n+m-1,s.lastLineLength+1)}else h=new z.$Vs(n,r,n,r);g=h.endLineNumber,o=h.endColumn,p.push(h),l=s}return p}static u(a,p){const g=z.$Vs.compareRangesUsingEnds(a.range,p.range);return g===0?a.sortIndex-p.sortIndex:g}static w(a,p){const g=z.$Vs.compareRangesUsingEnds(a.range,p.range);return g===0?p.sortIndex-a.sortIndex:-g}}e.$cC=w}),define(ce[30],oe([0,1,3,9,29]),function(he,e,T,F,z){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$dC=void 0;class E{constructor(I,$,w,D,a,p,g,o,l){this.a=I,this.b=$,this.c=w,this.d=D,this.e=a,this.f=p,this.g=g,this.h=o,this.j=l}k(I){const $=this.c+this.d+this.e,w=this.c+this.e;return $===0?I===1?`
`:`\r
`:w>$/2?`\r
`:`
`}create(I){const $=this.k(I),w=this.a;if(this.j&&($===`\r
`&&(this.c>0||this.d>0)||$===`
`&&(this.c>0||this.e>0)))for(let a=0,p=w.length;a<p;a++){const g=w[a].buffer.replace(/\r\n|\r|\n/g,$),o=(0,F.$0B)(g);w[a]=new F.$aC(g,o)}const D=new z.$cC(w,this.b,$,this.f,this.g,this.h,this.j);return{textBuffer:D,disposable:D}}getFirstLineText(I){return this.a[0].buffer.substr(0,I).split(/\r\n|\r|\n/)[0]}}class U{constructor(){this.a=[],this.b="",this.c=!1,this.d=0,this.e=[],this.f=0,this.g=0,this.h=0,this.j=!1,this.k=!1,this.l=!0}acceptChunk(I){if(I.length===0)return;this.a.length===0&&T.$xf(I)&&(this.b=T.$wf,I=I.substr(1));const $=I.charCodeAt(I.length-1);$===13||$>=55296&&$<=56319?(this.m(I.substr(0,I.length-1),!1),this.c=!0,this.d=$):(this.m(I,!1),this.c=!1,this.d=$)}m(I,$){!$&&I.length===0||(this.c?this.n(String.fromCharCode(this.d)+I):this.n(I))}n(I){const $=(0,F.$$B)(this.e,I);this.a.push(new F.$aC(I,$.lineStarts)),this.f+=$.cr,this.g+=$.lf,this.h+=$.crlf,$.isBasicASCII||(this.l=!1,this.j||(this.j=T.$of(I)),this.k||(this.k=T.$rf(I)))}finish(I=!0){return this.o(),new E(this.a,this.b,this.f,this.g,this.h,this.j,this.k,this.l,I)}o(){if(this.a.length===0&&this.m("",!0),this.c){this.c=!1;const I=this.a[this.a.length-1];I.buffer+=String.fromCharCode(this.d);const $=(0,F.$0B)(I.buffer);I.lineStarts=$,this.d===13&&this.f++}}}e.$dC=U}),define(ce[31],oe([32,33]),function(he,e){return he.create("vs/platform/contextkey/common/contextkey",e)}),define(ce[34],oe([32,33]),function(he,e){return he.create("vs/platform/contextkey/common/scanner",e)}),define(ce[35],oe([0,1,4,34]),function(he,e,T,F){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$2i=e.TokenType=void 0;var z;(function($){$[$.LParen=0]="LParen",$[$.RParen=1]="RParen",$[$.Neg=2]="Neg",$[$.Eq=3]="Eq",$[$.NotEq=4]="NotEq",$[$.Lt=5]="Lt",$[$.LtEq=6]="LtEq",$[$.Gt=7]="Gt",$[$.GtEq=8]="GtEq",$[$.RegexOp=9]="RegexOp",$[$.RegexStr=10]="RegexStr",$[$.True=11]="True",$[$.False=12]="False",$[$.In=13]="In",$[$.Not=14]="Not",$[$.And=15]="And",$[$.Or=16]="Or",$[$.Str=17]="Str",$[$.QuotedStr=18]="QuotedStr",$[$.Error=19]="Error",$[$.EOF=20]="EOF"})(z||(e.TokenType=z={}));function E(...$){switch($.length){case 1:return(0,F.localize)(0,null,$[0]);case 2:return(0,F.localize)(1,null,$[0],$[1]);case 3:return(0,F.localize)(2,null,$[0],$[1],$[2]);default:return}}const U=(0,F.localize)(3,null),J=(0,F.localize)(4,null);class I{constructor(){this.c="",this.d=0,this.e=0,this.f=[],this.g=[],this.m=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(w){switch(w.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return w.isTripleEq?"===":"==";case 4:return w.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return w.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return w.lexeme;case 18:return w.lexeme;case 19:return w.lexeme;case 20:return"EOF";default:throw(0,T.$8)(`unhandled token type: ${JSON.stringify(w)}; have you forgotten to add a case?`)}}static{this.a=new Set(["i","g","s","m","y","u"].map(w=>w.charCodeAt(0)))}static{this.b=new Map([["not",14],["in",13],["false",12],["true",11]])}get errors(){return this.g}reset(w){return this.c=w,this.d=0,this.e=0,this.f=[],this.g=[],this}scan(){for(;!this.r();)switch(this.d=this.e,this.i()){case 40:this.k(0);break;case 41:this.k(1);break;case 33:if(this.h(61)){const D=this.h(61);this.f.push({type:4,offset:this.d,isTripleEq:D})}else this.k(2);break;case 39:this.o();break;case 47:this.q();break;case 61:if(this.h(61)){const D=this.h(61);this.f.push({type:3,offset:this.d,isTripleEq:D})}else this.h(126)?this.k(9):this.l(E("==","=~"));break;case 60:this.k(this.h(61)?6:5);break;case 62:this.k(this.h(61)?8:7);break;case 38:this.h(38)?this.k(15):this.l(E("&&"));break;case 124:this.h(124)?this.k(16):this.l(E("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this.n()}return this.d=this.e,this.k(20),Array.from(this.f)}h(w){return this.r()||this.c.charCodeAt(this.e)!==w?!1:(this.e++,!0)}i(){return this.c.charCodeAt(this.e++)}j(){return this.r()?0:this.c.charCodeAt(this.e)}k(w){this.f.push({type:w,offset:this.d})}l(w){const D=this.d,a=this.c.substring(this.d,this.e),p={type:19,offset:this.d,lexeme:a};this.g.push({offset:D,lexeme:a,additionalInfo:w}),this.f.push(p)}n(){this.m.lastIndex=this.d;const w=this.m.exec(this.c);if(w){this.e=this.d+w[0].length;const D=this.c.substring(this.d,this.e),a=I.b.get(D);a?this.k(a):this.f.push({type:17,lexeme:D,offset:this.d})}}o(){for(;this.j()!==39&&!this.r();)this.i();if(this.r()){this.l(U);return}this.i(),this.f.push({type:18,lexeme:this.c.substring(this.d+1,this.e-1),offset:this.d+1})}q(){let w=this.e,D=!1,a=!1;for(;;){if(w>=this.c.length){this.e=w,this.l(J);return}const g=this.c.charCodeAt(w);if(D)D=!1;else if(g===47&&!a){w++;break}else g===91?a=!0:g===92?D=!0:g===93&&(a=!1);w++}for(;w<this.c.length&&I.a.has(this.c.charCodeAt(w));)w++;this.e=w;const p=this.c.substring(this.d,this.e);this.f.push({type:10,lexeme:p,offset:this.d})}r(){return this.e>=this.c.length}}e.$2i=I}),define(ce[36],oe([0,1]),function(he,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$4h=void 0;class T{constructor(z,E=[],U=!1){this.ctor=z,this.staticArguments=E,this.supportsDelayedInstantiation=U}}e.$4h=T}),define(ce[37],oe([0,1,36]),function(he,e,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$1r=e.$Zr=e.InstantiationType=void 0;const F=[];var z;(function(J){J[J.Eager=0]="Eager",J[J.Delayed=1]="Delayed"})(z||(e.InstantiationType=z={}));function E(J,I,$){I instanceof T.$4h||(I=new T.$4h(I,[],!!$)),F.push([J,I])}e.$Zr=E;function U(){return F}e.$1r=U}),define(ce[13],oe([0,1]),function(he,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$8h=e.$7h=e.$6h=e._util=void 0;var T;(function(U){U.serviceIds=new Map,U.DI_TARGET="$di$target",U.DI_DEPENDENCIES="$di$dependencies";function J(I){return I[U.DI_DEPENDENCIES]||[]}U.getServiceDependencies=J})(T||(e._util=T={})),e.$6h=z("instantiationService");function F(U,J,I){J[T.DI_TARGET]===J?J[T.DI_DEPENDENCIES].push({id:U,index:I}):(J[T.DI_DEPENDENCIES]=[{id:U,index:I}],J[T.DI_TARGET]=J)}function z(U){if(T.serviceIds.has(U))return T.serviceIds.get(U);const J=function(I,$,w){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");F(J,I,w)};return J.toString=()=>U,T.serviceIds.set(U,J),J}e.$7h=z;function E(U){return U}e.$8h=E}),define(ce[38],oe([0,1,2,3,35,13,31,4]),function(he,e,T,F,z,E,U,J){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$nj=e.$mj=e.$lj=e.$kj=e.$jj=e.$ij=e.$hj=e.$gj=e.$fj=e.$ej=e.$dj=e.$cj=e.$bj=e.$aj=e.$_i=e.$$i=e.$0i=e.$9i=e.$8i=e.$7i=e.$6i=e.$5i=e.$4i=e.ContextKeyExprType=e.$3i=void 0;const I=new Map;I.set("false",!1),I.set("true",!0),I.set("isMac",T.$j),I.set("isLinux",T.$k),I.set("isWindows",T.$i),I.set("isWeb",T.$o),I.set("isMacNative",T.$j&&!T.$o),I.set("isEdge",T.$H),I.set("isFirefox",T.$F),I.set("isChrome",T.$E),I.set("isSafari",T.$G);function $(k,i){if(I.get(k)!==void 0)throw(0,J.$7)("contextkey.setConstant(k, v) invoked with already set constant `k`");I.set(k,i)}e.$3i=$;const w=Object.prototype.hasOwnProperty;var D;(function(k){k[k.False=0]="False",k[k.True=1]="True",k[k.Defined=2]="Defined",k[k.Not=3]="Not",k[k.Equals=4]="Equals",k[k.NotEquals=5]="NotEquals",k[k.And=6]="And",k[k.Regex=7]="Regex",k[k.NotRegex=8]="NotRegex",k[k.Or=9]="Or",k[k.In=10]="In",k[k.NotIn=11]="NotIn",k[k.Greater=12]="Greater",k[k.GreaterEquals=13]="GreaterEquals",k[k.Smaller=14]="Smaller",k[k.SmallerEquals=15]="SmallerEquals"})(D||(e.ContextKeyExprType=D={}));const a={regexParsingWithErrorRecovery:!0},p=(0,U.localize)(0,null),g=(0,U.localize)(1,null),o=(0,U.localize)(2,null),l=(0,U.localize)(3,null),u=(0,U.localize)(4,null),t=(0,U.localize)(5,null),s=(0,U.localize)(6,null),n=(0,U.localize)(7,null);class r{static{this.c=new Error}get lexingErrors(){return this.d.errors}get parsingErrors(){return this.h}constructor(i=a){this.k=i,this.d=new z.$2i,this.f=[],this.g=0,this.h=[],this.v=/g|y/g}parse(i){if(i===""){this.h.push({message:p,offset:0,lexeme:"",additionalInfo:g});return}this.f=this.d.reset(i).scan(),this.g=0,this.h=[];try{const c=this.l();if(!this.E()){const A=this.D(),N=A.type===17?t:void 0;throw this.h.push({message:u,offset:A.offset,lexeme:z.$2i.getLexeme(A),additionalInfo:N}),r.c}return c}catch(c){if(c!==r.c)throw c;return}}l(){return this.m()}m(){const i=[this.o()];for(;this.y(16);){const c=this.o();i.push(c)}return i.length===1?i[0]:h.or(...i)}o(){const i=[this.s()];for(;this.y(15);){const c=this.s();i.push(c)}return i.length===1?i[0]:h.and(...i)}s(){if(this.y(2)){const i=this.D();switch(i.type){case 11:return this.z(),O.INSTANCE;case 12:return this.z(),d.INSTANCE;case 0:{this.z();const c=this.l();return this.A(1,l),c?.negate()}case 17:return this.z(),V.create(i.lexeme);default:throw this.B("KEY | true | false | '(' expression ')'",i)}}return this.t()}t(){const i=this.D();switch(i.type){case 11:return this.z(),h.true();case 12:return this.z(),h.false();case 0:{this.z();const c=this.l();return this.A(1,l),c}case 17:{const c=i.lexeme;if(this.z(),this.y(9)){const N=this.D();if(!this.k.regexParsingWithErrorRecovery){if(this.z(),N.type!==10)throw this.B("REGEX",N);const se=N.lexeme,L=se.lastIndexOf("/"),f=L===se.length-1?void 0:this.w(se.substring(L+1));let v;try{v=new RegExp(se.substring(1,L),f)}catch{throw this.B("REGEX",N)}return le.create(c,v)}switch(N.type){case 10:case 19:{const se=[N.lexeme];this.z();let L=this.D(),f=0;for(let ue=0;ue<N.lexeme.length;ue++)N.lexeme.charCodeAt(ue)===40?f++:N.lexeme.charCodeAt(ue)===41&&f--;for(;!this.E()&&L.type!==15&&L.type!==16;){switch(L.type){case 0:f++;break;case 1:f--;break;case 10:case 18:for(let ue=0;ue<L.lexeme.length;ue++)L.lexeme.charCodeAt(ue)===40?f++:N.lexeme.charCodeAt(ue)===41&&f--}if(f<0)break;se.push(z.$2i.getLexeme(L)),this.z(),L=this.D()}const v=se.join(""),M=v.lastIndexOf("/"),Z=M===v.length-1?void 0:this.w(v.substring(M+1));let x;try{x=new RegExp(v.substring(1,M),Z)}catch{throw this.B("REGEX",N)}return h.regex(c,x)}case 18:{const se=N.lexeme;this.z();let L=null;if(!(0,F.$Ke)(se)){const f=se.indexOf("/"),v=se.lastIndexOf("/");if(f!==v&&f>=0){const M=se.slice(f+1,v),Z=se[v+1]==="i"?"i":"";try{L=new RegExp(M,Z)}catch{throw this.B("REGEX",N)}}}if(L===null)throw this.B("REGEX",N);return le.create(c,L)}default:throw this.B("REGEX",this.D())}}if(this.y(14)){this.A(13,o);const N=this.u();return h.notIn(c,N)}switch(this.D().type){case 3:{this.z();const N=this.u();if(this.x().type===18)return h.equals(c,N);switch(N){case"true":return h.has(c);case"false":return h.not(c);default:return h.equals(c,N)}}case 4:{this.z();const N=this.u();if(this.x().type===18)return h.notEquals(c,N);switch(N){case"true":return h.not(c);case"false":return h.has(c);default:return h.notEquals(c,N)}}case 5:return this.z(),ne.create(c,this.u());case 6:return this.z(),ie.create(c,this.u());case 7:return this.z(),te.create(c,this.u());case 8:return this.z(),re.create(c,this.u());case 13:return this.z(),h.in(c,this.u());default:return h.has(c)}}case 20:throw this.h.push({message:s,offset:i.offset,lexeme:"",additionalInfo:n}),r.c;default:throw this.B(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this.D())}}u(){const i=this.D();switch(i.type){case 17:case 18:return this.z(),i.lexeme;case 11:return this.z(),"true";case 12:return this.z(),"false";case 13:return this.z(),"in";default:return""}}w(i){return i.replaceAll(this.v,"")}x(){return this.f[this.g-1]}y(i){return this.C(i)?(this.z(),!0):!1}z(){return this.E()||this.g++,this.x()}A(i,c){if(this.C(i))return this.z();throw this.B(c,this.D())}B(i,c,A){const N=(0,U.localize)(8,null,i,z.$2i.getLexeme(c)),se=c.offset,L=z.$2i.getLexeme(c);return this.h.push({message:N,offset:se,lexeme:L,additionalInfo:A}),r.c}C(i){return this.D().type===i}D(){return this.f[this.g]}E(){return this.D().type===20}}e.$4i=r;class h{static false(){return O.INSTANCE}static true(){return d.INSTANCE}static has(i){return C.create(i)}static equals(i,c){return R.create(i,c)}static notEquals(i,c){return b.create(i,c)}static regex(i,c){return le.create(i,c)}static in(i,c){return G.create(i,c)}static notIn(i,c){return B.create(i,c)}static not(i){return V.create(i)}static and(...i){return q.create(i,null,!0)}static or(...i){return W.create(i,null,!0)}static greater(i,c){return te.create(i,c)}static greaterEquals(i,c){return re.create(i,c)}static smaller(i,c){return ne.create(i,c)}static smallerEquals(i,c){return ie.create(i,c)}static{this.c=new r({regexParsingWithErrorRecovery:!1})}static deserialize(i){return i==null?void 0:this.c.parse(i)}}e.$5i=h;function m(k){const i=new r({regexParsingWithErrorRecovery:!1});return k.map(c=>(i.parse(c),i.lexingErrors.length>0?i.lexingErrors.map(A=>({errorMessage:A.additionalInfo?(0,U.localize)(9,null,A.additionalInfo):(0,U.localize)(10,null),offset:A.offset,length:A.lexeme.length})):i.parsingErrors.length>0?i.parsingErrors.map(A=>({errorMessage:A.additionalInfo?`${A.message}. ${A.additionalInfo}`:A.message,offset:A.offset,length:A.lexeme.length})):[]))}e.$6i=m;function S(k,i){const c=k?k.substituteConstants():void 0,A=i?i.substituteConstants():void 0;return!c&&!A?!0:!c||!A?!1:c.equals(A)}e.$7i=S;function P(k,i){return k.cmp(i)}class O{static{this.INSTANCE=new O}constructor(){this.type=0}cmp(i){return this.type-i.type}equals(i){return i.type===this.type}substituteConstants(){return this}evaluate(i){return!1}serialize(){return"false"}keys(){return[]}map(i){return this}negate(){return d.INSTANCE}}e.$8i=O;class d{static{this.INSTANCE=new d}constructor(){this.type=1}cmp(i){return this.type-i.type}equals(i){return i.type===this.type}substituteConstants(){return this}evaluate(i){return!0}serialize(){return"true"}keys(){return[]}map(i){return this}negate(){return O.INSTANCE}}e.$9i=d;class C{static create(i,c=null){const A=I.get(i);return typeof A=="boolean"?A?d.INSTANCE:O.INSTANCE:new C(i,c)}constructor(i,c){this.key=i,this.c=c,this.type=2}cmp(i){return i.type!==this.type?this.type-i.type:K(this.key,i.key)}equals(i){return i.type===this.type?this.key===i.key:!1}substituteConstants(){const i=I.get(this.key);return typeof i=="boolean"?i?d.INSTANCE:O.INSTANCE:this}evaluate(i){return!!i.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}map(i){return i.mapDefined(this.key)}negate(){return this.c||(this.c=V.create(this.key,this)),this.c}}e.$0i=C;class R{static create(i,c,A=null){if(typeof c=="boolean")return c?C.create(i,A):V.create(i,A);const N=I.get(i);return typeof N=="boolean"?c===(N?"true":"false")?d.INSTANCE:O.INSTANCE:new R(i,c,A)}constructor(i,c,A){this.c=i,this.d=c,this.f=A,this.type=4}cmp(i){return i.type!==this.type?this.type-i.type:H(this.c,this.d,i.c,i.d)}equals(i){return i.type===this.type?this.c===i.c&&this.d===i.d:!1}substituteConstants(){const i=I.get(this.c);if(typeof i=="boolean"){const c=i?"true":"false";return this.d===c?d.INSTANCE:O.INSTANCE}return this}evaluate(i){return i.getValue(this.c)==this.d}serialize(){return`${this.c} == '${this.d}'`}keys(){return[this.c]}map(i){return i.mapEquals(this.c,this.d)}negate(){return this.f||(this.f=b.create(this.c,this.d,this)),this.f}}e.$$i=R;class G{static create(i,c){return new G(i,c)}constructor(i,c){this.d=i,this.f=c,this.type=10,this.c=null}cmp(i){return i.type!==this.type?this.type-i.type:H(this.d,this.f,i.d,i.f)}equals(i){return i.type===this.type?this.d===i.d&&this.f===i.f:!1}substituteConstants(){return this}evaluate(i){const c=i.getValue(this.f),A=i.getValue(this.d);return Array.isArray(c)?c.includes(A):typeof A=="string"&&typeof c=="object"&&c!==null?w.call(c,A):!1}serialize(){return`${this.d} in '${this.f}'`}keys(){return[this.d,this.f]}map(i){return i.mapIn(this.d,this.f)}negate(){return this.c||(this.c=B.create(this.d,this.f)),this.c}}e.$_i=G;class B{static create(i,c){return new B(i,c)}constructor(i,c){this.d=i,this.f=c,this.type=11,this.c=G.create(i,c)}cmp(i){return i.type!==this.type?this.type-i.type:this.c.cmp(i.c)}equals(i){return i.type===this.type?this.c.equals(i.c):!1}substituteConstants(){return this}evaluate(i){return!this.c.evaluate(i)}serialize(){return`${this.d} not in '${this.f}'`}keys(){return this.c.keys()}map(i){return i.mapNotIn(this.d,this.f)}negate(){return this.c}}e.$aj=B;class b{static create(i,c,A=null){if(typeof c=="boolean")return c?V.create(i,A):C.create(i,A);const N=I.get(i);return typeof N=="boolean"?c===(N?"true":"false")?O.INSTANCE:d.INSTANCE:new b(i,c,A)}constructor(i,c,A){this.c=i,this.d=c,this.f=A,this.type=5}cmp(i){return i.type!==this.type?this.type-i.type:H(this.c,this.d,i.c,i.d)}equals(i){return i.type===this.type?this.c===i.c&&this.d===i.d:!1}substituteConstants(){const i=I.get(this.c);if(typeof i=="boolean"){const c=i?"true":"false";return this.d===c?O.INSTANCE:d.INSTANCE}return this}evaluate(i){return i.getValue(this.c)!=this.d}serialize(){return`${this.c} != '${this.d}'`}keys(){return[this.c]}map(i){return i.mapNotEquals(this.c,this.d)}negate(){return this.f||(this.f=R.create(this.c,this.d,this)),this.f}}e.$bj=b;class V{static create(i,c=null){const A=I.get(i);return typeof A=="boolean"?A?O.INSTANCE:d.INSTANCE:new V(i,c)}constructor(i,c){this.c=i,this.d=c,this.type=3}cmp(i){return i.type!==this.type?this.type-i.type:K(this.c,i.c)}equals(i){return i.type===this.type?this.c===i.c:!1}substituteConstants(){const i=I.get(this.c);return typeof i=="boolean"?i?O.INSTANCE:d.INSTANCE:this}evaluate(i){return!i.getValue(this.c)}serialize(){return`!${this.c}`}keys(){return[this.c]}map(i){return i.mapNot(this.c)}negate(){return this.d||(this.d=C.create(this.c,this)),this.d}}e.$cj=V;function _(k,i){if(typeof k=="string"){const c=parseFloat(k);isNaN(c)||(k=c)}return typeof k=="string"||typeof k=="number"?i(k):O.INSTANCE}class te{static create(i,c,A=null){return _(c,N=>new te(i,N,A))}constructor(i,c,A){this.c=i,this.d=c,this.f=A,this.type=12}cmp(i){return i.type!==this.type?this.type-i.type:H(this.c,this.d,i.c,i.d)}equals(i){return i.type===this.type?this.c===i.c&&this.d===i.d:!1}substituteConstants(){return this}evaluate(i){return typeof this.d=="string"?!1:parseFloat(i.getValue(this.c))>this.d}serialize(){return`${this.c} > ${this.d}`}keys(){return[this.c]}map(i){return i.mapGreater(this.c,this.d)}negate(){return this.f||(this.f=ie.create(this.c,this.d,this)),this.f}}e.$dj=te;class re{static create(i,c,A=null){return _(c,N=>new re(i,N,A))}constructor(i,c,A){this.c=i,this.d=c,this.f=A,this.type=13}cmp(i){return i.type!==this.type?this.type-i.type:H(this.c,this.d,i.c,i.d)}equals(i){return i.type===this.type?this.c===i.c&&this.d===i.d:!1}substituteConstants(){return this}evaluate(i){return typeof this.d=="string"?!1:parseFloat(i.getValue(this.c))>=this.d}serialize(){return`${this.c} >= ${this.d}`}keys(){return[this.c]}map(i){return i.mapGreaterEquals(this.c,this.d)}negate(){return this.f||(this.f=ne.create(this.c,this.d,this)),this.f}}e.$ej=re;class ne{static create(i,c,A=null){return _(c,N=>new ne(i,N,A))}constructor(i,c,A){this.c=i,this.d=c,this.f=A,this.type=14}cmp(i){return i.type!==this.type?this.type-i.type:H(this.c,this.d,i.c,i.d)}equals(i){return i.type===this.type?this.c===i.c&&this.d===i.d:!1}substituteConstants(){return this}evaluate(i){return typeof this.d=="string"?!1:parseFloat(i.getValue(this.c))<this.d}serialize(){return`${this.c} < ${this.d}`}keys(){return[this.c]}map(i){return i.mapSmaller(this.c,this.d)}negate(){return this.f||(this.f=re.create(this.c,this.d,this)),this.f}}e.$fj=ne;class ie{static create(i,c,A=null){return _(c,N=>new ie(i,N,A))}constructor(i,c,A){this.c=i,this.d=c,this.f=A,this.type=15}cmp(i){return i.type!==this.type?this.type-i.type:H(this.c,this.d,i.c,i.d)}equals(i){return i.type===this.type?this.c===i.c&&this.d===i.d:!1}substituteConstants(){return this}evaluate(i){return typeof this.d=="string"?!1:parseFloat(i.getValue(this.c))<=this.d}serialize(){return`${this.c} <= ${this.d}`}keys(){return[this.c]}map(i){return i.mapSmallerEquals(this.c,this.d)}negate(){return this.f||(this.f=te.create(this.c,this.d,this)),this.f}}e.$gj=ie;class le{static create(i,c){return new le(i,c)}constructor(i,c){this.d=i,this.f=c,this.type=7,this.c=null}cmp(i){if(i.type!==this.type)return this.type-i.type;if(this.d<i.d)return-1;if(this.d>i.d)return 1;const c=this.f?this.f.source:"",A=i.f?i.f.source:"";return c<A?-1:c>A?1:0}equals(i){if(i.type===this.type){const c=this.f?this.f.source:"",A=i.f?i.f.source:"";return this.d===i.d&&c===A}return!1}substituteConstants(){return this}evaluate(i){const c=i.getValue(this.d);return this.f?this.f.test(c):!1}serialize(){const i=this.f?`/${this.f.source}/${this.f.flags}`:"/invalid/";return`${this.d} =~ ${i}`}keys(){return[this.d]}map(i){return i.mapRegex(this.d,this.f)}negate(){return this.c||(this.c=y.create(this)),this.c}}e.$hj=le;class y{static create(i){return new y(i)}constructor(i){this.c=i,this.type=8}cmp(i){return i.type!==this.type?this.type-i.type:this.c.cmp(i.c)}equals(i){return i.type===this.type?this.c.equals(i.c):!1}substituteConstants(){return this}evaluate(i){return!this.c.evaluate(i)}serialize(){return`!(${this.c.serialize()})`}keys(){return this.c.keys()}map(i){return new y(this.c.map(i))}negate(){return this.c}}e.$ij=y;function Q(k){let i=null;for(let c=0,A=k.length;c<A;c++){const N=k[c].substituteConstants();if(k[c]!==N&&i===null){i=[];for(let se=0;se<c;se++)i[se]=k[se]}i!==null&&(i[c]=N)}return i===null?k:i}class q{static create(i,c,A){return q.d(i,c,A)}constructor(i,c){this.expr=i,this.c=c,this.type=6}cmp(i){if(i.type!==this.type)return this.type-i.type;if(this.expr.length<i.expr.length)return-1;if(this.expr.length>i.expr.length)return 1;for(let c=0,A=this.expr.length;c<A;c++){const N=P(this.expr[c],i.expr[c]);if(N!==0)return N}return 0}equals(i){if(i.type===this.type){if(this.expr.length!==i.expr.length)return!1;for(let c=0,A=this.expr.length;c<A;c++)if(!this.expr[c].equals(i.expr[c]))return!1;return!0}return!1}substituteConstants(){const i=Q(this.expr);return i===this.expr?this:q.create(i,this.c,!1)}evaluate(i){for(let c=0,A=this.expr.length;c<A;c++)if(!this.expr[c].evaluate(i))return!1;return!0}static d(i,c,A){const N=[];let se=!1;for(const L of i)if(L){if(L.type===1){se=!0;continue}if(L.type===0)return O.INSTANCE;if(L.type===6){N.push(...L.expr);continue}N.push(L)}if(N.length===0&&se)return d.INSTANCE;if(N.length!==0){if(N.length===1)return N[0];N.sort(P);for(let L=1;L<N.length;L++)N[L-1].equals(N[L])&&(N.splice(L,1),L--);if(N.length===1)return N[0];for(;N.length>1;){const L=N[N.length-1];if(L.type!==9)break;N.pop();const f=N.pop(),v=N.length===0,M=W.create(L.expr.map(Z=>q.create([Z,f],null,A)),null,v);M&&(N.push(M),N.sort(P))}if(N.length===1)return N[0];if(A){for(let L=0;L<N.length;L++)for(let f=L+1;f<N.length;f++)if(N[L].negate().equals(N[f]))return O.INSTANCE;if(N.length===1)return N[0]}return new q(N,c)}}serialize(){return this.expr.map(i=>i.serialize()).join(" && ")}keys(){const i=[];for(const c of this.expr)i.push(...c.keys());return i}map(i){return new q(this.expr.map(c=>c.map(i)),null)}negate(){if(!this.c){const i=[];for(const c of this.expr)i.push(c.negate());this.c=W.create(i,this,!0)}return this.c}}e.$jj=q;class W{static create(i,c,A){return W.d(i,c,A)}constructor(i,c){this.expr=i,this.c=c,this.type=9}cmp(i){if(i.type!==this.type)return this.type-i.type;if(this.expr.length<i.expr.length)return-1;if(this.expr.length>i.expr.length)return 1;for(let c=0,A=this.expr.length;c<A;c++){const N=P(this.expr[c],i.expr[c]);if(N!==0)return N}return 0}equals(i){if(i.type===this.type){if(this.expr.length!==i.expr.length)return!1;for(let c=0,A=this.expr.length;c<A;c++)if(!this.expr[c].equals(i.expr[c]))return!1;return!0}return!1}substituteConstants(){const i=Q(this.expr);return i===this.expr?this:W.create(i,this.c,!1)}evaluate(i){for(let c=0,A=this.expr.length;c<A;c++)if(this.expr[c].evaluate(i))return!0;return!1}static d(i,c,A){let N=[],se=!1;if(i){for(let L=0,f=i.length;L<f;L++){const v=i[L];if(v){if(v.type===0){se=!0;continue}if(v.type===1)return d.INSTANCE;if(v.type===9){N=N.concat(v.expr);continue}N.push(v)}}if(N.length===0&&se)return O.INSTANCE;N.sort(P)}if(N.length!==0){if(N.length===1)return N[0];for(let L=1;L<N.length;L++)N[L-1].equals(N[L])&&(N.splice(L,1),L--);if(N.length===1)return N[0];if(A){for(let L=0;L<N.length;L++)for(let f=L+1;f<N.length;f++)if(N[L].negate().equals(N[f]))return d.INSTANCE;if(N.length===1)return N[0]}return new W(N,c)}}serialize(){return this.expr.map(i=>i.serialize()).join(" || ")}keys(){const i=[];for(const c of this.expr)i.push(...c.keys());return i}map(i){return new W(this.expr.map(c=>c.map(i)),null)}negate(){if(!this.c){const i=[];for(const c of this.expr)i.push(c.negate());for(;i.length>1;){const c=i.shift(),A=i.shift(),N=[];for(const se of X(c))for(const L of X(A))N.push(q.create([se,L],null,!1));i.unshift(W.create(N,null,!1))}this.c=W.create(i,this,!0)}return this.c}}e.$kj=W;class j extends C{static{this.d=[]}static all(){return j.d.values()}constructor(i,c,A){super(i,null),this.f=c,typeof A=="object"?j.d.push({...A,key:i}):A!==!0&&j.d.push({key:i,description:A,type:c!=null?typeof c:void 0})}bindTo(i){return i.createKey(this.key,this.f)}getValue(i){return i.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(i){return R.create(this.key,i)}notEqualsTo(i){return b.create(this.key,i)}}e.$lj=j,e.$mj=(0,E.$7h)("contextKeyService");function K(k,i){return k<i?-1:k>i?1:0}function H(k,i,c,A){return k<c?-1:k>c?1:i<A?-1:i>A?1:0}function Y(k,i){if(k.type===0||i.type===1)return!0;if(k.type===9)return i.type===9?ee(k.expr,i.expr):!1;if(i.type===9){for(const c of i.expr)if(Y(k,c))return!0;return!1}if(k.type===6){if(i.type===6)return ee(i.expr,k.expr);for(const c of k.expr)if(Y(c,i))return!0;return!1}return k.equals(i)}e.$nj=Y;function ee(k,i){let c=0,A=0;for(;c<k.length&&A<i.length;){const N=k[c].cmp(i[A]);if(N<0)return!1;N===0&&c++,A++}return c===k.length}function X(k){return k.type===9?k.expr:[k]}}),define(ce[39],oe([0,1,5,26,7,37,13]),function(he,e,T,F,z,E,U){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$5I=e.$4I=e.$3I=e.$2I=void 0,e.$2I=(0,U.$7h)("notebookDocumentService");const J=["W","X","Y","Z","a","b","c","d","e","f"],I=new RegExp(`^[${J.join("")}]+`),$=7;function w(p){if(p.scheme!==z.Schemas.vscodeNotebookCell)return;const g=p.fragment.indexOf("s");if(g<0)return;const o=parseInt(p.fragment.substring(0,g).replace(I,""),$),l=(0,T.$De)(p.fragment.substring(g+1)).toString();if(!isNaN(o))return{handle:o,notebook:p.with({scheme:l,fragment:null})}}e.$3I=w;function D(p,g){const o=g.toString($),u=`${o.length<J.length?J[o.length-1]:"z"}${o}s${(0,T.$Ee)(T.$ke.fromString(p.scheme),!0,!0)}`;return p.with({scheme:z.Schemas.vscodeNotebookCell,fragment:u})}e.$4I=D;class a{constructor(){this.a=new F.$Ac}getNotebook(g){if(g.scheme===z.Schemas.vscodeNotebookCell){const o=w(g);if(o){const l=this.a.get(o.notebook);if(l)return l}}return this.a.get(g)}addNotebookDocument(g){this.a.set(g.uri,g)}removeNotebookDocument(g){this.a.delete(g.uri)}}e.$5I=a,(0,E.$Zr)(e.$2I,a,1)}),define(ce[40],oe([0,1,5,25,45,21,7,6,2,38,39]),function(he,e,T,F,z,E,U,J,I,$,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$kJ=e.$jJ=e.$iJ=e.$hJ=e.CellStatusbarAlignment=e.$gJ=e.$fJ=e.$eJ=e.NotebookEditorPriority=e.$dJ=e.$cJ=e.$bJ=e.$aJ=e.CellUri=e.CellEditType=e.SelectionStateType=e.NotebookCellsChangeType=e.RendererMessagingSpec=e.NotebookRendererMatch=e.NotebookExecutionState=e.NotebookCellExecutionState=e.NotebookRunState=e.$_I=e.$$I=e.$0I=e.$9I=e.CellKind=e.$8I=e.$7I=e.$6I=void 0,e.$6I="workbench.editor.notebook",e.$7I="workbench.editor.notebookTextDiffEditor",e.$8I="workbench.editor.interactive";var D;(function(y){y[y.Markup=1]="Markup",y[y.Code=2]="Code"})(D||(e.CellKind=D={})),e.$9I=["application/json","application/javascript","text/html","image/svg+xml",E.$gs.latex,E.$gs.markdown,"image/png","image/jpeg",E.$gs.text],e.$0I=[E.$gs.latex,E.$gs.markdown,"application/json","text/html","image/svg+xml","image/png","image/jpeg",E.$gs.text],e.$$I=new Map([["ms-toolsai.jupyter",new Set(["jupyter-notebook","interactive"])],["ms-toolsai.jupyter-renderers",new Set(["jupyter-notebook","interactive"])]]),e.$_I="_notAvailable";var a;(function(y){y[y.Running=1]="Running",y[y.Idle=2]="Idle"})(a||(e.NotebookRunState=a={}));var p;(function(y){y[y.Unconfirmed=1]="Unconfirmed",y[y.Pending=2]="Pending",y[y.Executing=3]="Executing"})(p||(e.NotebookCellExecutionState=p={}));var g;(function(y){y[y.Unconfirmed=1]="Unconfirmed",y[y.Pending=2]="Pending",y[y.Executing=3]="Executing"})(g||(e.NotebookExecutionState=g={}));var o;(function(y){y[y.WithHardKernelDependency=0]="WithHardKernelDependency",y[y.WithOptionalKernelDependency=1]="WithOptionalKernelDependency",y[y.Pure=2]="Pure",y[y.Never=3]="Never"})(o||(e.NotebookRendererMatch=o={}));var l;(function(y){y.Always="always",y.Never="never",y.Optional="optional"})(l||(e.RendererMessagingSpec=l={}));var u;(function(y){y[y.ModelChange=1]="ModelChange",y[y.Move=2]="Move",y[y.ChangeCellLanguage=5]="ChangeCellLanguage",y[y.Initialize=6]="Initialize",y[y.ChangeCellMetadata=7]="ChangeCellMetadata",y[y.Output=8]="Output",y[y.OutputItem=9]="OutputItem",y[y.ChangeCellContent=10]="ChangeCellContent",y[y.ChangeDocumentMetadata=11]="ChangeDocumentMetadata",y[y.ChangeCellInternalMetadata=12]="ChangeCellInternalMetadata",y[y.ChangeCellMime=13]="ChangeCellMime",y[y.Unknown=100]="Unknown"})(u||(e.NotebookCellsChangeType=u={}));var t;(function(y){y[y.Handle=0]="Handle",y[y.Index=1]="Index"})(t||(e.SelectionStateType=t={}));var s;(function(y){y[y.Replace=1]="Replace",y[y.Output=2]="Output",y[y.Metadata=3]="Metadata",y[y.CellLanguage=4]="CellLanguage",y[y.DocumentMetadata=5]="DocumentMetadata",y[y.Move=6]="Move",y[y.OutputItems=7]="OutputItems",y[y.PartialMetadata=8]="PartialMetadata",y[y.PartialInternalMetadata=9]="PartialInternalMetadata"})(s||(e.CellEditType=s={}));var n;(function(y){y.scheme=U.Schemas.vscodeNotebookCell;function Q(Y,ee){return(0,w.$4I)(Y,ee)}y.generate=Q;function q(Y){return(0,w.$3I)(Y)}y.parse=q;function W(Y,ee){return Y.with({scheme:U.Schemas.vscodeNotebookCellOutput,fragment:`op${ee??""},${Y.scheme!==U.Schemas.file?Y.scheme:""}`})}y.generateCellOutputUri=W;function j(Y){if(Y.scheme!==U.Schemas.vscodeNotebookCellOutput)return;const ee=/^op([0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12})?\,(.*)$/i.exec(Y.fragment);if(!ee)return;const X=ee[1]&&ee[1]!==""?ee[1]:void 0,k=ee[2];return{outputId:X,notebook:Y.with({scheme:k||U.Schemas.file,fragment:null})}}y.parseCellOutputUri=j;function K(Y,ee,X){return y.generate(Y,ee).with({scheme:X})}y.generateCellPropertyUri=K;function H(Y,ee){if(Y.scheme===ee)return y.parse(Y.with({scheme:y.scheme}))}y.parseCellPropertyUri=H})(n||(e.CellUri=n={}));const r=y=>I.$i?y.replace(/\//g,"\\"):y;class h{constructor(Q=[],q=e.$9I){this.e=q,this.d=[...new Set(Q)].map(W=>({pattern:W,matches:F.$Nj(r(W))}))}sort(Q){const q=new Map(z.Iterable.map(Q,j=>[j,r(j)]));let W=[];for(const{matches:j}of this.d)for(const[K,H]of q)if(j(H)){W.push(K),q.delete(K);break}return q.size&&(W=W.concat([...q.keys()].sort((j,K)=>this.e.indexOf(j)-this.e.indexOf(K)))),W}prioritize(Q,q){const W=this.f(Q);if(W===-1){this.d.unshift({pattern:Q,matches:F.$Nj(r(Q))});return}const j=new Set(q.map(H=>this.f(H,W)));j.delete(-1);const K=Array.from(j).sort();this.d.splice(W+1,0,...K.map(H=>this.d[H]));for(let H=K.length-1;H>=0;H--)this.d.splice(K[H],1)}toArray(){return this.d.map(Q=>Q.pattern)}f(Q,q=this.d.length){const W=r(Q);for(let j=0;j<q;j++)if(this.d[j].matches(W))return j;return-1}}e.$aJ=h;function m(y,Q,q,W=(j,K)=>j===K){const j=[];function K(ee,X,k){if(X===0&&k.length===0)return;const i=j[j.length-1];i&&i.start+i.deleteCount===ee?(i.deleteCount+=X,i.toInsert.push(...k)):j.push({start:ee,deleteCount:X,toInsert:k})}let H=0,Y=0;for(;;){if(H===y.length){K(H,0,Q.slice(Y));break}if(Y===Q.length){K(H,y.length-H,[]);break}const ee=y[H],X=Q[Y];if(W(ee,X)){H+=1,Y+=1;continue}q(X)?(K(H,1,[]),H+=1):(K(H,0,[X]),Y+=1)}return j}e.$bJ=m,e.$cJ=new $.$lj("notebookEditorCursorAtBoundary","none"),e.$dJ=new $.$lj("notebookEditorCursorAtLineBoundary","none");var S;(function(y){y.default="default",y.option="option"})(S||(e.NotebookEditorPriority=S={}));function P(y){const Q=y;return!!((typeof Q.include=="string"||F.$Oj(Q.include))&&(typeof Q.exclude=="string"||F.$Oj(Q.exclude)))}e.$eJ=P;function O(y,Q,q){if(Array.isArray(y.viewType)&&y.viewType.indexOf(Q)>=0||y.viewType===Q)return!0;if(y.filenamePattern){const W=P(y.filenamePattern)?y.filenamePattern.include:y.filenamePattern,j=P(y.filenamePattern)?y.filenamePattern.exclude:void 0;if(F.$Mj(W,(0,J.$nc)(q.fsPath).toLowerCase()))return!(j&&F.$Mj(j,(0,J.$nc)(q.fsPath).toLowerCase()))}return!1}e.$fJ=O,e.$gJ={displayOrder:"notebook.displayOrder",cellToolbarLocation:"notebook.cellToolbarLocation",cellToolbarVisibility:"notebook.cellToolbarVisibility",showCellStatusBar:"notebook.showCellStatusBar",textDiffEditorPreview:"notebook.diff.enablePreview",diffOverviewRuler:"notebook.diff.overviewRuler",experimentalInsertToolbarAlignment:"notebook.experimental.insertToolbarAlignment",compactView:"notebook.compactView",focusIndicator:"notebook.cellFocusIndicator",insertToolbarLocation:"notebook.insertToolbarLocation",globalToolbar:"notebook.globalToolbar",stickyScrollEnabled:"notebook.stickyScroll.enabled",stickyScrollMode:"notebook.stickyScroll.mode",undoRedoPerCell:"notebook.undoRedoPerCell",consolidatedOutputButton:"notebook.consolidatedOutputButton",showFoldingControls:"notebook.showFoldingControls",dragAndDropEnabled:"notebook.dragAndDropEnabled",cellEditorOptionsCustomizations:"notebook.editorOptionsCustomizations",consolidatedRunButton:"notebook.consolidatedRunButton",openGettingStarted:"notebook.experimental.openGettingStarted",globalToolbarShowLabel:"notebook.globalToolbarShowLabel",markupFontSize:"notebook.markup.fontSize",interactiveWindowCollapseCodeCells:"interactiveWindow.collapseCellInputCode",outputScrollingDeprecated:"notebook.experimental.outputScrolling",outputScrolling:"notebook.output.scrolling",textOutputLineLimit:"notebook.output.textLineLimit",LinkifyOutputFilePaths:"notebook.output.linkifyFilePaths",formatOnSave:"notebook.formatOnSave.enabled",insertFinalNewline:"notebook.insertFinalNewline",formatOnCellExecution:"notebook.formatOnCellExecution",codeActionsOnSave:"notebook.codeActionsOnSave",outputWordWrap:"notebook.output.wordWrap",outputLineHeightDeprecated:"notebook.outputLineHeight",outputLineHeight:"notebook.output.lineHeight",outputFontSizeDeprecated:"notebook.outputFontSize",outputFontSize:"notebook.output.fontSize",outputFontFamilyDeprecated:"notebook.outputFontFamily",outputFontFamily:"notebook.output.fontFamily",findScope:"notebook.find.scope",logging:"notebook.logging",confirmDeleteRunningCell:"notebook.confirmDeleteRunningCell",remoteSaving:"notebook.experimental.remoteSave",gotoSymbolsAllSymbols:"notebook.gotoSymbols.showAllSymbols",scrollToRevealCell:"notebook.scrolling.revealNextCellOnExecute",anchorToFocusedCell:"notebook.scrolling.experimental.anchorToFocusedCell",cellChat:"notebook.experimental.cellChat",notebookVariablesView:"notebook.experimental.variablesView"};var d;(function(y){y[y.Left=1]="Left",y[y.Right=2]="Right"})(d||(e.CellStatusbarAlignment=d={}));class C{static{this.d="notebook/"}static create(Q){return`${C.d}${Q}`}static parse(Q){if(Q.startsWith(C.d))return Q.substring(C.d.length)}}e.$hJ=C;function R(y){return["application/vnd.code.notebook.stdout","application/vnd.code.notebook.stderr"].includes(y)}e.$iJ=R;const G=new TextDecoder;function B(y){const Q=[];let q=!1;for(const H of y)(Q.length===0||q)&&(Q.push(H),q=!0);let W=_(Q);const j=T.$ke.concat(Q.map(H=>T.$ke.wrap(H))),K=le(j);return W=W||K.byteLength!==j.byteLength,{data:K,didCompression:W}}e.$jJ=B,e.$kJ=`${String.fromCharCode(27)}[A`;const b=e.$kJ.split("").map(y=>y.charCodeAt(0)),V=10;function _(y){let Q=!1;return y.forEach((q,W)=>{if(W===0||q.length<e.$kJ.length)return;const j=y[W-1],K=q.subarray(0,e.$kJ.length);if(K[0]===b[0]&&K[1]===b[1]&&K[2]===b[2]){const H=j.lastIndexOf(V);if(H===-1)return;Q=!0,y[W-1]=j.subarray(0,H),y[W]=q.subarray(e.$kJ.length)}}),Q}function te(y){let Q=y;do y=Q,Q=y.replace(/[^\n]\x08/gm,"");while(Q.length<y.length);return y}function re(y){for(y=y.replace(/\r+\n/gm,`
`);y.search(/\r[^$]/g)>-1;){const Q=y.match(/^(.*)\r+/m)[1];let q=y.match(/\r+(.*)$/m)[1];q=q+Q.slice(q.length,Q.length),y=y.replace(/\r+.*$/m,"\r").replace(/^.*\r/m,q)}return y}const ne="\b".charCodeAt(0),ie="\r".charCodeAt(0);function le(y){return!y.buffer.includes(ne)&&!y.buffer.includes(ie)?y:T.$ke.fromString(re(te(G.decode(y.buffer))))}}),define(ce[46],oe([0,1,47,48,12,30,40,10,20]),function(he,e,T,F,z,E,U,J,I){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=e.NotebookEditorSimpleWorker=void 0;function $(o){let l=(0,F.$Wi)(104579,0);for(let u=0;u<o.buffer.length;u++)l=(0,F.$Vi)(o.buffer[u],l);return l}class w{get textBuffer(){if(this.a)return this.a;const l=new E.$dC;l.acceptChunk(Array.isArray(this.d)?this.d.join(`
`):this.d);const u=l.finish(!0);return this.a=u.create(1).textBuffer,this.a}primaryKey(){return this.b===void 0&&(this.b=(0,F.$Ui)(this.getValue())),this.b}constructor(l,u,t,s,n,r,h){this.handle=l,this.d=u,this.language=t,this.cellKind=s,this.outputs=n,this.metadata=r,this.internalMetadata=h,this.b=null,this.c=null}getFullModelRange(){const l=this.textBuffer.getLineCount();return new J.$Vs(1,1,l,this.textBuffer.getLineLength(l)+1)}getValue(){const l=this.getFullModelRange();return this.textBuffer.getValueInRange(l,1)}getComparisonValue(){return this.b!==null?this.b:(this.c=(0,F.$Ui)([(0,F.$Ui)(this.language),(0,F.$Ui)(this.getValue()),this.metadata,this.internalMetadata,this.outputs.map(l=>({outputs:l.outputs.map(u=>({mime:u.mime,data:$(u.data)})),metadata:l.metadata}))]),this.c)}getHashValue(){return this.c!==null?this.c:(this.c=(0,F.$Ui)([(0,F.$Ui)(this.getValue()),this.language,this.metadata,this.internalMetadata]),this.c)}}class D{constructor(l,u,t){this.uri=l,this.cells=u,this.metadata=t}acceptModelChanged(l){l.rawEvents.forEach(u=>{if(u.kind===U.NotebookCellsChangeType.ModelChange)this._spliceNotebookCells(u.changes);else if(u.kind===U.NotebookCellsChangeType.Move){const t=this.cells.splice(u.index,1);this.cells.splice(u.newIdx,0,...t)}else if(u.kind===U.NotebookCellsChangeType.Output){const t=this.cells[u.index];t.outputs=u.outputs}else if(u.kind===U.NotebookCellsChangeType.ChangeCellLanguage){this.a(u.index);const t=this.cells[u.index];t.language=u.language}else if(u.kind===U.NotebookCellsChangeType.ChangeCellMetadata){this.a(u.index);const t=this.cells[u.index];t.metadata=u.metadata}else if(u.kind===U.NotebookCellsChangeType.ChangeCellInternalMetadata){this.a(u.index);const t=this.cells[u.index];t.internalMetadata=u.internalMetadata}})}a(l){if(l<0||l>=this.cells.length)throw new Error(`Illegal index ${l}. Cells length: ${this.cells.length}`)}_spliceNotebookCells(l){l.reverse().forEach(u=>{const s=u[2].map(n=>new w(n.handle,n.source,n.language,n.cellKind,n.outputs,n.metadata));this.cells.splice(u[0],u[1],...s)})}}class a{constructor(l){this.textModel=l}getElements(){const l=new Int32Array(this.textModel.cells.length);for(let u=0;u<this.textModel.cells.length;u++)l[u]=this.textModel.cells[u].getComparisonValue();return l}getCellHash(l){const u=Array.isArray(l.source)?l.source.join(`
`):l.source;return(0,F.$Ui)([(0,F.$Ui)(u),l.metadata])}}class p{constructor(){this.a=Object.create(null)}dispose(){}acceptNewModel(l,u){this.a[l]=new D(z.URI.parse(l),u.cells.map(t=>new w(t.handle,t.source,t.language,t.cellKind,t.outputs,t.metadata)),u.metadata)}acceptModelChanged(l,u){this.a[l]?.acceptModelChanged(u)}acceptRemovedModel(l){this.a[l]&&delete this.a[l]}computeDiff(l,u){const t=this.b(l),s=this.b(u);return{cellsDiff:new T.$2s(new a(t),new a(s)).ComputeDiff(!1)}}canPromptRecommendation(l){const t=this.b(l).cells;for(let s=0;s<t.length;s++){const n=t[s];if(n.cellKind===U.CellKind.Markup||n.language!=="python")continue;const r=n.textBuffer.getLineCount(),h=Math.min(r,20),m=new J.$Vs(1,1,h,n.textBuffer.getLineLength(h)+1),P=new I.$4B("import\\s*pandas|from\\s*pandas",!0,!1,null).parseSearchRequest();if(!P)continue;if(n.textBuffer.findMatchesLineByLine(m,P,!0,1).length>0)return!0}return!1}b(l){return this.a[l]}}e.NotebookEditorSimpleWorker=p;function g(o){return new p}e.create=g})}).call(this);

//# sourceMappingURL=https://ticino.blob.core.windows.net/sourcemaps/903b1e9d8990623e3d7da1df3d33db3e42d80eda/core/vs/workbench/contrib/notebook/common/services/notebookSimpleWorker.js.map
